import{_ as F}from"./input-number-range.vue_vue_type_script_setup_true_lang-DV-4wEeZ.js";import{c as t,I as R,aA as z,G as f,aB as G,d as I,r as m,b,w as M,n as N,q as Y,E as d,y as T,F as p,N as H,k as E}from"./index-B8Pm80oX.js";import{w as D}from"./common-I8s7oTzl.js";import{R as L,_ as W,a as J,S as w,b as k}from"./ApiSelect.vue_vue_type_script_setup_true_lang-CofY2-NC.js";import"./dayjs.min-TeQhONF1.js";import{u as Z}from"./useForm-B8QMz6uM.js";import{C as Q}from"./index-INlSDQaG.js";import{c as O}from"./cloneDeep-lQkziu_-.js";import{_ as X}from"./index-7FjZkepP.js";import"./index-BT78Vb1q.js";import"./useFlexGapSupport-DLL49fC4.js";import"./hasIn-D18GTBYl.js";import"./_arrayIncludesWith-DbV0gfeD.js";import"./debounce-TsE9rPWj.js";import"./QuestionCircleOutlined-DwMKnzgY.js";import"./collapseMotion-Dg6yIgr5.js";import"./_castArrayLikeObject-DUjGHYOU.js";import"./index-g76Nm4Kx.js";import"./DownOutlined-BRycSuUV.js";import"./isMobile-BbN7I0i_.js";import"./index-iNKLbYy_.js";import"./useMergedState-Cz6_zboM.js";import"./RightOutlined-BsZy0Phy.js";import"./LeftOutlined-BKTs5glU.js";import"./useRefs-QkKGnXKa.js";import"./index-Qnpm0yEw.js";import"./index-CND5kIK4.js";import"./_baseUniq-kMXtQ-ld.js";import"./move-B3QdINpa.js";import"./index-DhL-eOiI.js";import"./index-BRG9fhiq.js";import"./CheckOutlined-D9pyqrzu.js";import"./index-B4w1aCCw.js";import"./index-7VmM7i5b.js";import"./is-BPG7p_4t.js";import"./schema-form.vue_vue_type_script_setup_true_lang-CqVOkWCm.js";import"./isNumber-BQFvOqOr.js";import"./index-CIQauGJF.js";import"./dateUtil-E1W9AnjJ.js";import"./pick-yPjmipd3.js";import"./index-kU5KwxBj.js";import"./PlusOutlined-6eP1e5F5.js";var K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function C(e){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?Object(arguments[o]):{},s=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(l).filter(function(r){return Object.getOwnPropertyDescriptor(l,r).enumerable}))),s.forEach(function(r){ee(e,r,l[r])})}return e}function ee(e,o,l){return o in e?Object.defineProperty(e,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[o]=l,e}var P=function(o,l){var s=C({},o,l.attrs);return t(R,C({},s,{icon:K}),null)};P.displayName="UploadOutlined";P.inheritAttrs=!1;async function g(e){return z({url:"/select/getDemoOptions",method:"GET",params:e})}const oe=[{id:"guangdong",label:"广东省",value:"1",key:"1"},{id:"jiangsu",label:"江苏省",value:"2",key:"2"}],x={guangdong:[{label:"珠海市",value:"1",key:"1"},{label:"深圳市",value:"2",key:"2"},{label:"广州市",value:"3",key:"3"}],jiangsu:[{label:"南京市",value:"1",key:"1"},{label:"无锡市",value:"2",key:"2"},{label:"苏州市",value:"3",key:"3"}]},h=async()=>(await D(3e3),(await g()).map(o=>({label:o.name,value:o.id}))),le=[{field:"divider-basic",component:"Divider",label:"基础字段"},{field:"field1",component:"Input",label:"字段1",colProps:{span:8},componentProps:()=>({placeholder:"自定义placeholder",onChange:e=>{console.log(e)}}),componentSlots:()=>({prefix:()=>"pSlot",suffix:()=>"sSlot"})},{field:"field2",component:"Input",label:"带后缀",defaultValue:"111",colProps:{span:8},componentProps:{onChange:e=>{console.log(e)}},afterSlot:"天"},{field:"field3",component:"DatePicker",label:"字段3",colProps:{span:8}},{field:"field4",component:"Select",label:"字段4",colProps:{span:8},componentProps:{options:[{label:"选项1",value:"1",key:"1"},{label:"选项2",value:"2",key:"2"}]}},{field:"field5",component:"CheckboxGroup",label:"字段5",colProps:{span:8},componentProps:{options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]}},{field:"field7",component:"RadioGroup",label:"字段7",colProps:{span:8},componentProps:{options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]}},{field:"field8",component:"Checkbox",label:"字段8",colProps:{span:8},componentSlots:"Check"},{field:"field9",component:"Switch",label:"字段9",colProps:{span:8}},{field:"field10",component:"RadioGroup",label:"字段10",colProps:{span:8},componentProps:{options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]}},{field:"field11",component:"Cascader",label:"字段11",colProps:{span:8},componentProps:{options:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[{value:"xihu",label:"West Lake"}]}]},{value:"jiangsu",label:"Jiangsu",children:[{value:"nanjing",label:"Nanjing",children:[{value:"zhonghuamen",label:"Zhong Hua Men"}]}]}]}},{field:"divider-api-select",component:"Divider",label:"远程下拉演示"},{field:"field30",component:"Select",label:"懒加载远程下拉",required:!0,componentProps:{request:async e=>(console.log("field30 fetch",e),await h()),onChange:e=>{console.log("selected:",e)}},colProps:{span:8},defaultValue:"1"},{field:"field31",component:"Input",label:"下拉本地搜索",helpMessage:["Select组件","远程数据源本地搜索","只发起一次请求获取所有选项"],required:!0,slot:"localSearch",colProps:{span:8},defaultValue:"0"},{field:"field32",component:"Input",label:"下拉远程搜索",helpMessage:["Select组件","将关键词发送到接口进行远程搜索"],required:!0,slot:"remoteSearch",colProps:{span:8},defaultValue:"0"},{field:"field33",component:"TreeSelect",label:"远程下拉树",helpMessage:["TreeSelect组件","使用接口提供的数据生成选项"],required:!0,componentProps:{request:()=>{const e=Array.from({length:5}).map((o,l)=>({title:`选项 ${l}`,value:`选项 ${l}`,children:Array.from({length:3}).map((s,r)=>({title:`选项 ${l}-${r}`,value:`选项 ${l}-${r}`}))}));return D(2e3,e)}},colProps:{span:8}},{field:"field34",component:({schema:e})=>{var l;const o=((l=e.value.componentProps)==null?void 0:l.requestResult)||[];return t(L.Group,{options:o.slice(0,2)},null)},label:"远程Radio",helpMessage:["RadioGroup组件","使用接口提供的数据生成选项"],required:!0,componentProps:{optionType:"button",request:async()=>await h()},defaultValue:"0",colProps:{span:8}},{field:"field35",component:"RadioGroup",label:"远程Radio",helpMessage:["RadioGroup组件","使用接口提供的数据生成选项"],required:!0,componentProps:{optionType:"button",request:async()=>(await h()).slice(0,2)},defaultValue:"1",colProps:{span:8}},{field:"divider-linked",component:"Divider",label:"字段联动"},{field:"province",component:"Select",label:"省份",colProps:{span:8},componentProps:({formModel:e,formInstance:o})=>({options:oe,placeholder:"省份与城市联动",onChange:l=>{const s={1:x.guangdong,2:x.jiangsu}[l]||[];e.city=void 0;const{updateSchema:r}=o;r({field:"city",componentProps:{options:s}})}})},{field:"city",component:"Select",label:"城市",colProps:{span:8},componentProps:{options:[],placeholder:"省份与城市联动"}},{field:"divider-map",component:"Divider",label:"字段映射",helpMessage:["当组件的值为 array 或者 object 时","你可以根据需要将多个的值映射到不同的字段"]},{field:"[startDate, endDate]",label:"日期范围",colProps:{span:8},component:"RangePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD",placeholder:["开始日期","结束日期"]},transform([e,o]=[]){return{startDate:e,endDate:o}}},{field:"number-range",label:"数字范围",colProps:{span:8},rules:[{required:!0,type:"array",trigger:"change",validator(e,o){return Array.isArray(o)&&o.length===2&&o.every(Boolean)?Promise.resolve():Promise.reject("请输入数字范围")}}],component:()=>F,transform([e,o]=[]){return{minNum:e,maxNum:o}}},{field:"divider-selects",component:"Divider",label:"互斥多选",helpMessage:["两个Select共用数据源","但不可选择对方已选中的项目"]},{field:"selectA",component:"Select",label:"互斥SelectA",slot:"selectA",defaultValue:[],colProps:{span:8}},{field:"selectB",component:"Select",label:"互斥SelectB",slot:"selectB",defaultValue:[],colProps:{span:8}},{field:"divider-others",component:"Divider",label:"其它"},{field:"field20",component:"InputNumber",label:"字段20",required:!0,colProps:{span:8}},{field:"field21",component:"Slider",label:"字段21",componentProps:{min:0,max:100,range:!0,marks:{20:"20°C",60:"60°C"}},colProps:{span:8}},{field:"field22",component:"Rate",label:"字段22",defaultValue:3,colProps:{span:8},componentProps:{disabled:!1,allowHalf:!0}},{field:"field23",component:"Upload",label:"字段23",colProps:{span:8},componentProps:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76"},componentSlots:{default:()=>t(G,null,{default:()=>[t(P,null,null),f(" Click to Upload")]})}}],ae=I({name:"DemosFormBasicForm",__name:"index",setup(e){const[o,l]=Z({labelWidth:160,schemas:le,actionColOptions:{span:24}}),s=m(""),r=m("horizontal"),_=m([]),y=m([]),v=m([]);v.value=Array.from({length:10}).map((a,c)=>({label:`选项${c}`,value:`${c}`}));const V=b(()=>O(p(v)).map(a=>(a.disabled=p(y).indexOf(a.value)!==-1,a))),q=b(()=>O(p(v)).map(a=>(a.disabled=p(_).indexOf(a.value)!==-1,a))),A=b(()=>({keyword:p(s)}));M(r,a=>{a==="vertical"?l.setSchemaFormProps({layout:a,rowProps:{gutter:20}}):l.setSchemaFormProps({layout:a,labelWidth:160})});function B(a){s.value=a}function U(a){H.success(t("div",null,[f("验证通过！"),t("pre",{class:"text-left"},[JSON.stringify(a,null,2)])]),3),console.log("values",a)}return(a,c)=>{const S=W,$=J,j=Q;return N(),Y("div",null,[t(p(X),{message:"基础表单示例",type:"info","show-icon":"",style:{"margin-bottom":"12px"}},{description:d(()=>c[1]||(c[1]=[T("a",{class:"text-blue-500",target:"_blank",href:"https://github.com/buqiyuan/vue3-antdv-admin/blob/main/src/views/demos/form/basic-form/index.vue"}," 查看源码 ",-1)])),_:1}),t(j,null,{default:d(()=>[t($,{value:r.value,"onUpdate:value":c[0]||(c[0]=n=>r.value=n)},{default:d(()=>[t(S,{value:"horizontal"},{default:d(()=>c[2]||(c[2]=[f("Horizontal")])),_:1}),t(S,{value:"vertical"},{default:d(()=>c[3]||(c[3]=[f("Vertical")])),_:1})]),_:1},8,["value"]),t(p(o),{onSubmit:U},{selectA:d(({formModel:n,field:i})=>[t(p(w),{value:n[i],"onUpdate:value":u=>n[i]=u,options:V.value,mode:"multiple","allow-clear":"",onChange:u=>_.value=n[i]},null,8,["value","onUpdate:value","options","onChange"])]),selectB:d(({formModel:n,field:i})=>[t(p(w),{value:n[i],"onUpdate:value":u=>n[i]=u,options:q.value,mode:"multiple","allow-clear":"",onChange:u=>y.value=n[i]},null,8,["value","onUpdate:value","options","onChange"])]),localSearch:d(({formModel:n,field:i})=>[t(p(k),{value:n[i],"onUpdate:value":u=>n[i]=u,api:p(g),"show-search":"","option-filter-prop":"label","label-field":"name","value-field":"id"},null,8,["value","onUpdate:value","api"])]),remoteSearch:d(({formModel:n,field:i})=>[t(p(k),{value:n[i],"onUpdate:value":u=>n[i]=u,api:p(g),"show-search":"","filter-option":!1,"label-field":"name","value-field":"id",params:A.value,onSearch:B},null,8,["value","onUpdate:value","api","params"])]),_:1})]),_:1})])}}}),Ee=E(ae,[["__scopeId","data-v-7ad41fb2"]]);export{Ee as default};
