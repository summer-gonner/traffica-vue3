import{w as s6,d as c6,cO as R7,r as CN,a3 as vN,o as B7,f as F7,dc as L7,eq as I7,dB as xN,bE as P7,aC as H7,$ as j7,b as r6,al as V7,n as i6,B as SN,Y as $7,F as l6,c as l3,aY as EN,E as XA,q as U7,Q as Z7,K as q7,aX as W7}from"./index-B8Pm80oX.js";import"./ApiSelect.vue_vue_type_script_setup_true_lang-CofY2-NC.js";import"./dayjs.min-TeQhONF1.js";import{u as G7}from"./useForm-B8QMz6uM.js";import{T as K7,_ as Y7}from"./index-kU5KwxBj.js";import{C as X7}from"./index-INlSDQaG.js";import"./index-g76Nm4Kx.js";import"./DownOutlined-BRycSuUV.js";import"./isMobile-BbN7I0i_.js";import"./index-iNKLbYy_.js";import"./collapseMotion-Dg6yIgr5.js";import"./debounce-TsE9rPWj.js";import"./useMergedState-Cz6_zboM.js";import"./RightOutlined-BsZy0Phy.js";import"./LeftOutlined-BKTs5glU.js";import"./index-BT78Vb1q.js";import"./cloneDeep-lQkziu_-.js";import"./useFlexGapSupport-DLL49fC4.js";import"./hasIn-D18GTBYl.js";import"./_arrayIncludesWith-DbV0gfeD.js";import"./QuestionCircleOutlined-DwMKnzgY.js";import"./_castArrayLikeObject-DUjGHYOU.js";import"./useRefs-QkKGnXKa.js";import"./index-Qnpm0yEw.js";import"./index-CND5kIK4.js";import"./_baseUniq-kMXtQ-ld.js";import"./move-B3QdINpa.js";import"./index-DhL-eOiI.js";import"./index-BRG9fhiq.js";import"./CheckOutlined-D9pyqrzu.js";import"./index-B4w1aCCw.js";import"./index-7VmM7i5b.js";import"./is-BPG7p_4t.js";import"./schema-form.vue_vue_type_script_setup_true_lang-CqVOkWCm.js";import"./isNumber-BQFvOqOr.js";import"./index-CIQauGJF.js";import"./dateUtil-E1W9AnjJ.js";import"./pick-yPjmipd3.js";import"./PlusOutlined-6eP1e5F5.js";var J7=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Q7=function(wo){return J7.map(function(Jo){return Jo.toLowerCase()}).indexOf(wo.toLowerCase())!==-1},eM=function(wo,Jo,$o){Object.keys(Jo).filter(Q7).forEach(function(sn){var Qo=Jo[sn];typeof Qo=="function"&&(sn==="onInit"?Qo(wo,$o):$o.on(sn.substring(2),function(mo){return Qo(mo,$o)}))})},tM=function(wo,Jo,$o,sn){var Qo=wo.modelEvents?wo.modelEvents:null,mo=Array.isArray(Qo)?Qo.join(" "):Qo;s6(sn,function(Wo,jt){$o&&typeof Wo=="string"&&Wo!==jt&&Wo!==$o.getContent({format:wo.outputFormat})&&$o.setContent(Wo)}),$o.on(mo||"change input undo redo",function(){Jo.emit("update:modelValue",$o.getContent({format:wo.outputFormat}))})},oM=function(wo,Jo,$o,sn,Qo,mo){sn.setContent(mo()),$o.attrs["onUpdate:modelValue"]&&tM(Jo,$o,sn,Qo),eM(wo,$o.attrs,sn)},wN=0,zN=function(wo){var Jo=Date.now(),$o=Math.floor(Math.random()*1e9);return wN++,wo+"_"+$o+wN+String(Jo)},nM=function(wo){return wo!==null&&wo.tagName.toLowerCase()==="textarea"},kN=function(wo){return typeof wo>"u"||wo===""?[]:Array.isArray(wo)?wo:wo.split(" ")},rM=function(wo,Jo){return kN(wo).concat(kN(Jo))},aM=function(wo){return wo==null},_N=function(){return{listeners:[],scriptId:zN("tiny-script"),scriptLoaded:!1}},sM=function(){var wo=_N(),Jo=function(Qo,mo,Wo,jt){var Co=mo.createElement("script");Co.referrerPolicy="origin",Co.type="application/javascript",Co.id=Qo,Co.src=Wo;var Io=function(){Co.removeEventListener("load",Io),jt()};Co.addEventListener("load",Io),mo.head&&mo.head.appendChild(Co)},$o=function(Qo,mo,Wo){wo.scriptLoaded?Wo():(wo.listeners.push(Wo),Qo.getElementById(wo.scriptId)||Jo(wo.scriptId,Qo,mo,function(){wo.listeners.forEach(function(jt){return jt()}),wo.scriptLoaded=!0}))},sn=function(){wo=_N()};return{load:$o,reinitialize:sn}},iM=sM(),lM=function(){return typeof window<"u"?window:global},Zv=function(){var wo=lM();return wo&&wo.tinymce?wo.tinymce:null},TN={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(wo){return wo==="html"||wo==="text"}}},jf=function(){return jf=Object.assign||function(wo){for(var Jo,$o=1,sn=arguments.length;$o<sn;$o++){Jo=arguments[$o];for(var Qo in Jo)Object.prototype.hasOwnProperty.call(Jo,Qo)&&(wo[Qo]=Jo[Qo])}return wo},jf.apply(this,arguments)},cM=function(wo,Jo,$o,sn){return wo(sn||"div",{id:Jo,ref:$o})},dM=function(wo,Jo,$o){return wo("textarea",{id:Jo,visibility:"hidden",ref:$o})},a6={selector:void 0,target:void 0},uM=c6({props:TN,setup:function(wo,Jo){var $o=wo.init?jf(jf({},wo.init),a6):jf({},a6),sn=R7(wo),Qo=sn.disabled,mo=sn.modelValue,Wo=sn.tagName,jt=CN(null),Co=null,Io=wo.id||zN("tiny-vue"),Go=wo.init&&wo.init.inline||wo.inline,gn=!!Jo.attrs["onUpdate:modelValue"],Mo=!0,Ve=wo.initialValue?wo.initialValue:"",ut="",ho=function(ht){return gn?function(){return mo!=null&&mo.value?mo.value:""}:function(){return ht?Ve:ut}},uo=function(){var ht=ho(Mo),bo=jf(jf({},$o),{readonly:wo.disabled,target:jt.value,plugins:rM($o.plugins,wo.plugins),toolbar:wo.toolbar||$o.toolbar,inline:Go,license_key:wo.licenseKey,setup:function(ue){Co=ue,ue.on("init",function($e){return oM($e,wo,Jo,ue,mo,ht)}),typeof $o.setup=="function"&&$o.setup(ue)}});nM(jt.value)&&(jt.value.style.visibility=""),Zv().init(bo),Mo=!1};s6(Qo,function(ht){var bo;Co!==null&&(typeof((bo=Co.mode)===null||bo===void 0?void 0:bo.set)=="function"?Co.mode.set(ht?"readonly":"design"):Co.setMode(ht?"readonly":"design"))}),s6(Wo,function(ht){var bo;gn||(ut=Co.getContent()),(bo=Zv())===null||bo===void 0||bo.remove(Co),vN(function(){return uo()})}),B7(function(){if(Zv()!==null)uo();else if(jt.value&&jt.value.ownerDocument){var ht=wo.cloudChannel?wo.cloudChannel:"7",bo=wo.apiKey?wo.apiKey:"no-api-key",ue=aM(wo.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(bo,"/tinymce/").concat(ht,"/tinymce.min.js"):wo.tinymceScriptSrc;iM.load(jt.value.ownerDocument,ue,uo)}}),F7(function(){Zv()!==null&&Zv().remove(Co)}),Go||(L7(function(){Mo||uo()}),I7(function(){var ht;gn||(ut=Co.getContent()),(ht=Zv())===null||ht===void 0||ht.remove(Co)}));var Ae=function(ht){var bo;ut=Co.getContent(),(bo=Zv())===null||bo===void 0||bo.remove(Co),$o=jf(jf(jf({},$o),ht),a6),vN(function(){return uo()})};return Jo.expose({rerender:Ae,getEditor:function(){return Co}}),function(){return Go?cM(xN,Io,jt,wo.tagName):dM(xN,Io,jt)}}});const mM="/traffica-vue3/assets/tinymce.min-Co4h-k9W.js";var gM={exports:{}};(function(wo){(function(){var Jo=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var o=typeof t;return o==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":o==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":o},$o=function(t){return{eq:t}},sn=$o(function(t,o){return t===o}),Qo=function(t){return $o(function(o,n){if(o.length!==n.length)return!1;for(var a=o.length,i=0;i<a;i++)if(!t.eq(o[i],n[i]))return!1;return!0})},mo=function(t){return $o(function(o,n){var a=Object.keys(o),i=Object.keys(n);if(!function(f,y){return function(v,k){return $o(function(E,B){return v.eq(k(E),k(B))})}(Qo(f),function(v){return function(k,E){return Array.prototype.slice.call(k).sort(E)}(v,y)})}(sn).eq(a,i))return!1;for(var c=a.length,d=0;d<c;d++){var u=a[d];if(!t.eq(o[u],n[u]))return!1}return!0})},Wo=$o(function(t,o){if(t===o)return!0;var n=Jo(t);return n===Jo(o)&&(function(a){return["undefined","boolean","number","string","function","xml","null"].indexOf(a)!==-1}(n)?t===o:n==="array"?Qo(Wo).eq(t,o):n==="object"&&mo(Wo).eq(t,o))});const jt=Object.getPrototypeOf,Co=(t,o,n)=>{var a;return!!n(t,o.prototype)||((a=t.constructor)===null||a===void 0?void 0:a.name)===o.name},Io=t=>o=>(n=>{const a=typeof n;return n===null?"null":a==="object"&&Array.isArray(n)?"array":a==="object"&&Co(n,String,(i,c)=>c.isPrototypeOf(i))?"string":a})(o)===t,Go=t=>o=>typeof o===t,gn=t=>o=>t===o,Mo=(t,o)=>ut(t)&&Co(t,o,(n,a)=>jt(n)===a),Ve=Io("string"),ut=Io("object"),ho=t=>Mo(t,Object),uo=Io("array"),Ae=gn(null),ht=Go("boolean"),bo=gn(void 0),ue=t=>t==null,$e=t=>!ue(t),ge=Go("function"),mt=Go("number"),Ro=(t,o)=>{if(uo(t)){for(let n=0,a=t.length;n<a;++n)if(!o(t[n]))return!1;return!0}return!1},go=()=>{},Ho=(t,o)=>(...n)=>t(o.apply(null,n)),Uo=(t,o)=>n=>t(o(n)),Rt=t=>()=>t,D=t=>t,qe=(t,o)=>t===o;function Je(t,...o){return(...n)=>{const a=o.concat(n);return t.apply(null,a)}}const gt=t=>o=>!t(o),Bt=t=>()=>{throw new Error(t)},ct=t=>t(),$t=t=>{t()},So=Rt(!1),Dt=Rt(!0);class F{constructor(o,n){this.tag=o,this.value=n}static some(o){return new F(!0,o)}static none(){return F.singletonNone}fold(o,n){return this.tag?n(this.value):o()}isSome(){return this.tag}isNone(){return!this.tag}map(o){return this.tag?F.some(o(this.value)):F.none()}bind(o){return this.tag?o(this.value):F.none()}exists(o){return this.tag&&o(this.value)}forall(o){return!this.tag||o(this.value)}filter(o){return!this.tag||o(this.value)?this:F.none()}getOr(o){return this.tag?this.value:o}or(o){return this.tag?this:o}getOrThunk(o){return this.tag?this.value:o()}orThunk(o){return this.tag?this:o()}getOrDie(o){if(this.tag)return this.value;throw new Error(o??"Called getOrDie on None")}static from(o){return $e(o)?F.some(o):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(o){this.tag&&o(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const Ot=Array.prototype.slice,kt=Array.prototype.indexOf,ro=Array.prototype.push,co=(t,o)=>kt.call(t,o),ao=(t,o)=>co(t,o)>-1,yo=(t,o)=>{for(let n=0,a=t.length;n<a;n++)if(o(t[n],n))return!0;return!1},No=(t,o)=>{const n=t.length,a=new Array(n);for(let i=0;i<n;i++){const c=t[i];a[i]=o(c,i)}return a},_e=(t,o)=>{for(let n=0,a=t.length;n<a;n++)o(t[n],n)},Vt=(t,o)=>{for(let n=t.length-1;n>=0;n--)o(t[n],n)},Ct=(t,o)=>{const n=[],a=[];for(let i=0,c=t.length;i<c;i++){const d=t[i];(o(d,i)?n:a).push(d)}return{pass:n,fail:a}},et=(t,o)=>{const n=[];for(let a=0,i=t.length;a<i;a++){const c=t[a];o(c,a)&&n.push(c)}return n},ye=(t,o,n)=>(Vt(t,(a,i)=>{n=o(n,a,i)}),n),fe=(t,o,n)=>(_e(t,(a,i)=>{n=o(n,a,i)}),n),it=(t,o,n)=>{for(let a=0,i=t.length;a<i;a++){const c=t[a];if(o(c,a))return F.some(c);if(n(c,a))break}return F.none()},ke=(t,o)=>it(t,o,So),he=(t,o)=>{for(let n=0,a=t.length;n<a;n++)if(o(t[n],n))return F.some(n);return F.none()},De=t=>{const o=[];for(let n=0,a=t.length;n<a;++n){if(!uo(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);ro.apply(o,t[n])}return o},at=(t,o)=>De(No(t,o)),_t=(t,o)=>{for(let n=0,a=t.length;n<a;++n)if(o(t[n],n)!==!0)return!1;return!0},We=t=>{const o=Ot.call(t,0);return o.reverse(),o},dt=(t,o)=>et(t,n=>!ao(o,n)),io=(t,o)=>{const n={};for(let a=0,i=t.length;a<i;a++){const c=t[a];n[String(c)]=o(c,a)}return n},Oo=(t,o)=>{const n=Ot.call(t,0);return n.sort(o),n},tt=(t,o)=>o>=0&&o<t.length?F.some(t[o]):F.none(),vt=t=>tt(t,0),_o=t=>tt(t,t.length-1),Fo=ge(Array.from)?Array.from:t=>Ot.call(t),on=(t,o)=>{for(let n=0;n<t.length;n++){const a=o(t[n],n);if(a.isSome())return a}return F.none()},_n=(t,o)=>{const n=[],a=ge(o)?i=>yo(n,c=>o(c,i)):i=>ao(n,i);for(let i=0,c=t.length;i<c;i++){const d=t[i];a(d)||n.push(d)}return n},Zo=Object.keys,Yn=Object.hasOwnProperty,zt=(t,o)=>{const n=Zo(t);for(let a=0,i=n.length;a<i;a++){const c=n[a];o(t[c],c)}},Xo=(t,o)=>Kn(t,(n,a)=>({k:a,v:o(n,a)})),Kn=(t,o)=>{const n={};return zt(t,(a,i)=>{const c=o(a,i);n[c.k]=c.v}),n},ar=t=>(o,n)=>{t[n]=o},Vr=(t,o,n,a)=>{zt(t,(i,c)=>{(o(i,c)?n:a)(i,c)})},Ft=(t,o)=>{const n={};return Vr(t,o,ar(n),go),n},Gr=(t,o)=>{const n=[];return zt(t,(a,i)=>{n.push(o(a,i))}),n},Nr=t=>Gr(t,D),yr=(t,o)=>jo(t,o)?F.from(t[o]):F.none(),jo=(t,o)=>Yn.call(t,o),$r=(t,o)=>jo(t,o)&&t[o]!==void 0&&t[o]!==null,ls=t=>{const o={};return _e(t,n=>{o[n]={}}),Zo(o)},Fa=t=>t.length!==void 0,cs=Array.isArray,La=(t,o,n)=>{if(!t)return!1;if(n=n||t,Fa(t)){for(let a=0,i=t.length;a<i;a++)if(o.call(n,t[a],a,t)===!1)return!1}else for(const a in t)if(jo(t,a)&&o.call(n,t[a],a,t)===!1)return!1;return!0},es=(t,o)=>{const n=[];return La(t,(a,i)=>{n.push(o(a,i,t))}),n},ts=(t,o)=>{const n=[];return La(t,(a,i)=>{o&&!o(a,i,t)||n.push(a)}),n},Fs=(t,o,n,a)=>{let i=bo(n)?t[0]:n;for(let c=0;c<t.length;c++)i=o.call(a,i,t[c],c);return i},za=(t,o,n)=>{for(let a=0,i=t.length;a<i;a++)if(o.call(n,t[a],a,t))return a;return-1},nt=t=>t[t.length-1],At=t=>{let o,n=!1;return(...a)=>(n||(n=!0,o=t.apply(null,a)),o)},pt=()=>nn(0,0),nn=(t,o)=>({major:t,minor:o}),vr={nu:nn,detect:(t,o)=>{const n=String(o).toLowerCase();return t.length===0?pt():((a,i)=>{const c=((u,f)=>{for(let y=0;y<u.length;y++){const v=u[y];if(v.test(f))return v}})(a,i);if(!c)return{major:0,minor:0};const d=u=>Number(i.replace(c,"$"+u));return nn(d(1),d(2))})(t,n)},unknown:pt},hr=(t,o)=>{const n=String(o).toLowerCase();return ke(t,a=>a.search(n))},Os=(t,o,n)=>o===""||t.length>=o.length&&t.substr(n,n+o.length)===o,ga=(t,o)=>Te(t,o)?((n,a)=>n.substring(a))(t,o.length):t,xr=(t,o,n=0,a)=>{const i=t.indexOf(o,n);return i!==-1&&(!!bo(a)||i+o.length<=a)},Te=(t,o)=>Os(t,o,0),Se=(t,o)=>Os(t,o,t.length-o.length),Nt=t=>o=>o.replace(t,""),Pt=Nt(/^\s+|\s+$/g),xn=Nt(/^\s+/g),Sn=Nt(/\s+$/g),Ln=t=>t.length>0,Qr=t=>!Ln(t),wr=(t,o=10)=>{const n=parseInt(t,o);return isNaN(n)?F.none():F.some(n)},dn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ee=t=>o=>xr(o,t),Be=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>xr(t,"edge/")&&xr(t,"chrome")&&xr(t,"safari")&&xr(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dn],search:t=>xr(t,"chrome")&&!xr(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>xr(t,"msie")||xr(t,"trident")},{name:"Opera",versionRegexes:[dn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ee("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ee("firefox")},{name:"Safari",versionRegexes:[dn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(xr(t,"safari")||xr(t,"mobile/"))&&xr(t,"applewebkit")}],so=[{name:"Windows",search:Ee("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>xr(t,"iphone")||xr(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ee("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ee("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ee("linux"),versionRegexes:[]},{name:"Solaris",search:Ee("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ee("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ee("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Lo={browsers:Rt(Be),oses:Rt(so)},Vo="Edge",qo="Chromium",rn="Opera",un="Firefox",Nn="Safari",or=t=>{const o=t.current,n=t.version,a=i=>()=>o===i;return{current:o,version:n,isEdge:a(Vo),isChromium:a(qo),isIE:a("IE"),isOpera:a(rn),isFirefox:a(un),isSafari:a(Nn)}},_r=()=>or({current:void 0,version:vr.unknown()}),wa=or,sa="Windows",Us="Android",ea="Linux",Cr="macOS",Pr="Solaris",Un="FreeBSD",Ma="ChromeOS",os=t=>{const o=t.current,n=t.version,a=i=>()=>o===i;return{current:o,version:n,isWindows:a(sa),isiOS:a("iOS"),isAndroid:a(Us),isMacOS:a(Cr),isLinux:a(ea),isSolaris:a(Pr),isFreeBSD:a(Un),isChromeOS:a(Ma)}},zi=()=>os({current:void 0,version:vr.unknown()}),jl=os,wn=t=>window.matchMedia(t).matches;let ni=At(()=>((t,o,n)=>{const a=Lo.browsers(),i=Lo.oses(),c=o.bind(f=>((y,v)=>on(v.brands,k=>{const E=k.brand.toLowerCase();return ke(y,B=>{var N;return E===((N=B.brand)===null||N===void 0?void 0:N.toLowerCase())}).map(B=>({current:B.name,version:vr.nu(parseInt(k.version,10),0)}))}))(a,f)).orThunk(()=>((f,y)=>hr(f,y).map(v=>{const k=vr.detect(v.versionRegexes,y);return{current:v.name,version:k}}))(a,t)).fold(_r,wa),d=((f,y)=>hr(f,y).map(v=>{const k=vr.detect(v.versionRegexes,y);return{current:v.name,version:k}}))(i,t).fold(zi,jl),u=((f,y,v,k)=>{const E=f.isiOS()&&/ipad/i.test(v)===!0,B=f.isiOS()&&!E,N=f.isiOS()||f.isAndroid(),P=N||k("(pointer:coarse)"),O=E||!B&&N&&k("(min-device-width:768px)"),V=B||N&&!O,G=y.isSafari()&&f.isiOS()&&/safari/i.test(v)===!1,Y=!V&&!O&&!G;return{isiPad:Rt(E),isiPhone:Rt(B),isTablet:Rt(O),isPhone:Rt(V),isTouch:Rt(P),isAndroid:f.isAndroid,isiOS:f.isiOS,isWebView:Rt(G),isDesktop:Rt(Y)}})(d,c,t,n);return{browser:c,os:d,deviceType:u}})(window.navigator.userAgent,F.from(window.navigator.userAgentData),wn));const ia=()=>ni(),Ga=window.navigator.userAgent,yl=ia(),Mr=yl.browser,Xs=yl.os,da=yl.deviceType,Dn=Ga.indexOf("Windows Phone")!==-1,Xn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Mr.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Mr.isIE(),windowsPhone:Dn,browser:{current:Mr.current,version:Mr.version,isChromium:Mr.isChromium,isEdge:Mr.isEdge,isFirefox:Mr.isFirefox,isIE:Mr.isIE,isOpera:Mr.isOpera,isSafari:Mr.isSafari},os:{current:Xs.current,version:Xs.version,isAndroid:Xs.isAndroid,isChromeOS:Xs.isChromeOS,isFreeBSD:Xs.isFreeBSD,isiOS:Xs.isiOS,isLinux:Xs.isLinux,isMacOS:Xs.isMacOS,isSolaris:Xs.isSolaris,isWindows:Xs.isWindows},deviceType:{isDesktop:da.isDesktop,isiPad:da.isiPad,isiPhone:da.isiPhone,isPhone:da.isPhone,isTablet:da.isTablet,isTouch:da.isTouch,isWebView:da.isWebView}},Ml=/^\s*|\s*$/g,Ua=t=>ue(t)?"":(""+t).replace(Ml,""),ri=function(t,o,n,a){a=a||this,t&&(n&&(t=t[n]),La(t,(i,c)=>o.call(a,i,c,n)!==!1&&(ri(i,o,n,a),!0)))},to={trim:Ua,isArray:cs,is:(t,o)=>o?!(o!=="array"||!cs(t))||typeof t===o:t!==void 0,toArray:t=>{if(cs(t))return t;{const o=[];for(let n=0,a=t.length;n<a;n++)o[n]=t[n];return o}},makeMap:(t,o,n={})=>{const a=Ve(t)?t.split(o||","):t||[];let i=a.length;for(;i--;)n[a[i]]={};return n},each:La,map:es,grep:ts,inArray:(t,o)=>{if(t){for(let n=0,a=t.length;n<a;n++)if(t[n]===o)return n}return-1},hasOwn:jo,extend:(t,...o)=>{for(let n=0;n<o.length;n++){const a=o[n];for(const i in a)if(jo(a,i)){const c=a[i];c!==void 0&&(t[i]=c)}}return t},walk:ri,resolve:(t,o=window)=>{const n=t.split(".");for(let a=0,i=n.length;a<i&&(o=o[n[a]]);a++);return o},explode:(t,o)=>uo(t)?t:t===""?[]:es(t.split(o||","),Ua),_addCacheSuffix:t=>{const o=Xn.cacheSuffix;return o&&(t+=(t.indexOf("?")===-1?"?":"&")+o),t}},bi=(t,o,n=qe)=>t.exists(a=>n(a,o)),Ns=(t,o,n=qe)=>qn(t,o,n).getOr(t.isNone()&&o.isNone()),qn=(t,o,n)=>t.isSome()&&o.isSome()?F.some(n(t.getOrDie(),o.getOrDie())):F.none(),Zs=(t,o)=>t?F.some(o):F.none(),Vl=typeof window<"u"?window:Function("return this;")(),yi=(t,o)=>((n,a)=>{let i=a??Vl;for(let c=0;c<n.length&&i!=null;++c)i=i[n[c]];return i})(t.split("."),o),Da=Object.getPrototypeOf,Js=t=>{const o=yi("ownerDocument.defaultView",t);return ut(t)&&((n=>((a,i)=>{const c=((d,u)=>yi(d,u))(a,i);if(c==null)throw new Error(a+" not available on this browser");return c})("HTMLElement",n))(o).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Da(t).constructor.name))},ur=t=>t.dom.nodeName.toLowerCase(),Ur=t=>t.dom.nodeType,ns=t=>o=>Ur(o)===t,ks=t=>Q(t)&&Js(t.dom),Q=ns(1),Ce=ns(3),Xe=ns(9),Wt=ns(11),xo=t=>o=>Q(o)&&ur(o)===t,X=(t,o,n)=>{if(!(Ve(n)||ht(n)||mt(n)))throw console.error("Invalid call to Attribute.set. Key ",o,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(o,n+"")},be=(t,o,n)=>{X(t.dom,o,n)},lt=(t,o)=>{const n=t.dom;zt(o,(a,i)=>{X(n,i,a)})},Lt=(t,o)=>{const n=t.dom.getAttribute(o);return n===null?void 0:n},pn=(t,o)=>F.from(Lt(t,o)),$=(t,o)=>{const n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(o)},ne=(t,o)=>{t.dom.removeAttribute(o)},Re=t=>fe(t.dom.attributes,(o,n)=>(o[n.name]=n.value,o),{}),bt=(t,o)=>{const n=Lt(t,o);return n===void 0||n===""?[]:n.split(" ")},Eo=t=>t.dom.classList!==void 0,nr=t=>bt(t,"class"),la=(t,o)=>((n,a,i)=>{const c=bt(n,a).concat([i]);return be(n,a,c.join(" ")),!0})(t,"class",o),_s=(t,o)=>((n,a,i)=>{const c=et(bt(n,a),d=>d!==i);return c.length>0?be(n,a,c.join(" ")):ne(n,a),!1})(t,"class",o),Ls=(t,o)=>{Eo(t)?t.dom.classList.add(o):la(t,o)},ai=t=>{(Eo(t)?t.dom.classList:nr(t)).length===0&&ne(t,"class")},Cs=(t,o)=>{Eo(t)?t.dom.classList.remove(o):_s(t,o),ai(t)},Dl=(t,o)=>Eo(t)&&t.dom.classList.contains(o),Ac=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Rl=(t,o)=>{const n=(o||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,t),new Error(a)}return Ac(n.childNodes[0])},Is=(t,o)=>{const n=(o||document).createElement(t);return Ac(n)},Oc=(t,o)=>{const n=(o||document).createTextNode(t);return Ac(n)},Ze=Ac,Fm=(t,o,n)=>F.from(t.dom.elementFromPoint(o,n)).map(Ac),lm=(t,o)=>{const n=[],a=c=>(n.push(c),o(c));let i=o(t);do i=i.bind(a);while(i.isSome());return n},vl=(t,o)=>{const n=t.dom;if(n.nodeType!==1)return!1;{const a=n;if(a.matches!==void 0)return a.matches(o);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(o);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(o);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(o);throw new Error("Browser lacks native selectors")}},Lm=t=>t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11||t.childElementCount===0,Wr=(t,o)=>t.dom===o.dom,ci=(t,o)=>{const n=t.dom,a=o.dom;return n!==a&&n.contains(a)},Yd=t=>Ze(t.dom.ownerDocument),xl=t=>Xe(t)?t:Yd(t),Ms=t=>Ze(xl(t).dom.defaultView),vi=t=>F.from(t.dom.parentNode).map(Ze),le=t=>F.from(t.dom.parentElement).map(Ze),ze=(t,o)=>{const n=ge(o)?o:So;let a=t.dom;const i=[];for(;a.parentNode!==null&&a.parentNode!==void 0;){const c=a.parentNode,d=Ze(c);if(i.push(d),n(d)===!0)break;a=c}return i},yt=t=>F.from(t.dom.previousSibling).map(Ze),no=t=>F.from(t.dom.nextSibling).map(Ze),zn=t=>We(lm(t,yt)),mr=t=>lm(t,no),Fr=t=>No(t.dom.childNodes,Ze),Ps=(t,o)=>{const n=t.dom.childNodes;return F.from(n[o]).map(Ze)},ua=t=>Ps(t,0),ta=t=>Ps(t,t.dom.childNodes.length-1),Ds=t=>t.dom.childNodes.length,pa=t=>Wt(t)&&$e(t.dom.host),_i=t=>Ze(t.dom.getRootNode()),wl=t=>pa(t)?t:(o=>{const n=o.dom.head;if(n==null)throw new Error("Head is not available yet");return Ze(n)})(xl(t)),Au=t=>Ze(t.dom.host),Rs=t=>{if($e(t.target)){const o=Ze(t.target);if(Q(o)&&xi(o)&&t.composed&&t.composedPath){const n=t.composedPath();if(n)return vt(n)}}return F.from(t.target)},xi=t=>$e(t.dom.shadowRoot),ka=t=>{const o=Ce(t)?t.dom.parentNode:t.dom;if(o==null||o.ownerDocument===null)return!1;const n=o.ownerDocument;return(a=>{const i=_i(a);return pa(i)?F.some(i):F.none()})(Ze(o)).fold(()=>n.body.contains(o),Uo(ka,Au))};var ds=(t,o,n,a,i)=>t(n,a)?F.some(n):ge(i)&&i(n)?F.none():o(n,a,i);const Ia=(t,o,n)=>{let a=t.dom;const i=ge(n)?n:So;for(;a.parentNode;){a=a.parentNode;const c=Ze(a);if(o(c))return F.some(c);if(i(c))break}return F.none()},Bl=(t,o,n)=>ds((a,i)=>i(a),Ia,t,o,n),rs=(t,o)=>{const n=a=>{for(let i=0;i<a.childNodes.length;i++){const c=Ze(a.childNodes[i]);if(o(c))return F.some(c);const d=n(a.childNodes[i]);if(d.isSome())return d}return F.none()};return n(t.dom)},yn=(t,o,n)=>Ia(t,a=>vl(a,o),n),vd=(t,o)=>((n,a)=>{const i=a===void 0?document:a.dom;return Lm(i)?F.none():F.from(i.querySelector(n)).map(Ze)})(o,t),$l=(t,o,n)=>ds((a,i)=>vl(a,i),yn,t,o,n),Tr=(t,o=!1)=>{return ka(t)?t.dom.isContentEditable:(n=t,$l(n,"[contenteditable]")).fold(Rt(o),a=>Xd(a)==="true");var n},Xd=t=>t.dom.contentEditable,Jd=t=>t.style!==void 0&&ge(t.style.getPropertyValue),Qd=(t,o,n)=>{if(!Ve(n))throw console.error("Invalid call to CSS.set. Property ",o,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);Jd(t)&&t.style.setProperty(o,n)},Dr=(t,o,n)=>{const a=t.dom;Qd(a,o,n)},Ti=(t,o)=>{const n=t.dom;zt(o,(a,i)=>{Qd(n,i,a)})},Fl=(t,o)=>{const n=t.dom,a=window.getComputedStyle(n).getPropertyValue(o);return a!==""||ka(t)?a:Im(n,o)},Im=(t,o)=>Jd(t)?t.style.getPropertyValue(o):"",eu=(t,o)=>{const n=t.dom,a=Im(n,o);return F.from(a).filter(i=>i.length>0)},al=t=>{const o={},n=t.dom;if(Jd(n))for(let a=0;a<n.style.length;a++){const i=n.style.item(a);o[i]=n.style[i]}return o},mc=(t,o)=>{((n,a)=>{Jd(n)&&n.style.removeProperty(a)})(t.dom,o),bi(pn(t,"style").map(Pt),"")&&ne(t,"style")},Ai=(t,o)=>{vi(t).each(n=>{n.dom.insertBefore(o.dom,t.dom)})},di=(t,o)=>{no(t).fold(()=>{vi(t).each(n=>{us(n,o)})},n=>{Ai(n,o)})},xd=(t,o)=>{ua(t).fold(()=>{us(t,o)},n=>{t.dom.insertBefore(o.dom,n.dom)})},us=(t,o)=>{t.dom.appendChild(o.dom)},vs=(t,o)=>{Ai(t,o),us(o,t)},wd=(t,o)=>{_e(o,n=>{us(t,n)})},Nc=t=>{t.dom.textContent="",_e(Fr(t),o=>{ca(o)})},ca=t=>{const o=t.dom;o.parentNode!==null&&o.parentNode.removeChild(o)},Wi=t=>{const o=Fr(t);var n,a;o.length>0&&(n=t,_e(a=o,(i,c)=>{const d=c===0?n:a[c-1];di(d,i)})),ca(t)},Mc=t=>No(t,Ze),Ll=t=>t.dom.innerHTML,Dc=(t,o)=>{const n=Yd(t).dom,a=Ze(n.createDocumentFragment()),i=((c,d)=>{const u=(d||document).createElement("div");return u.innerHTML=c,Fr(Ze(u))})(o,n);wd(a,i),Nc(t),us(t,a)},kd=(t,o,n,a)=>((i,c,d,u,f)=>{const y=((v,k)=>E=>{v(E)&&k((B=>{const N=Ze(Rs(B).getOr(B.target)),P=()=>B.stopPropagation(),O=()=>B.preventDefault(),V=Ho(O,P);return((G,Y,ae,ee,we,je,Pe)=>({target:G,x:Y,y:ae,stop:ee,prevent:we,kill:je,raw:Pe}))(N,B.clientX,B.clientY,P,O,V,B)})(E))})(d,u);return i.dom.addEventListener(c,y,!1),{unbind:Je(_p,i,c,y,!1)}})(t,o,n,a),_p=(t,o,n,a)=>{t.dom.removeEventListener(o,n,a)},gc=(t,o)=>({left:t,top:o,translate:(n,a)=>gc(t+n,o+a)}),Yc=gc,Xc=(t,o)=>t!==void 0?t:o!==void 0?o:0,Jc=t=>{const o=t.dom,n=o.ownerDocument.body;return n===o?Yc(n.offsetLeft,n.offsetTop):ka(t)?(a=>{const i=a.getBoundingClientRect();return Yc(i.left,i.top)})(o):Yc(0,0)},sl=t=>{const o=t!==void 0?t.dom:document,n=o.body.scrollLeft||o.documentElement.scrollLeft,a=o.body.scrollTop||o.documentElement.scrollTop;return Yc(n,a)},Hn=(t,o,n)=>{const a=(n!==void 0?n.dom:document).defaultView;a&&a.scrollTo(t,o)},Rc=(t,o)=>{ia().browser.isSafari()&&ge(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(o)},Ou=(t,o,n,a)=>({x:t,y:o,width:n,height:a,right:t+n,bottom:o+a}),Cp=t=>{const o=t===void 0?window:t,n=o.document,a=sl(Ze(n));return(i=>{const c=i===void 0?window:i;return ia().browser.isFirefox()?F.none():F.from(c.visualViewport)})(o).fold(()=>{const i=o.document.documentElement,c=i.clientWidth,d=i.clientHeight;return Ou(a.left,a.top,c,d)},i=>Ou(Math.max(i.pageLeft,a.left),Math.max(i.pageTop,a.top),i.width,i.height))},Pm=(t,o)=>{let n=[];return _e(Fr(t),a=>{o(a)&&(n=n.concat([a])),n=n.concat(Pm(a,o))}),n},Ss=(t,o)=>((n,a)=>{const i=a===void 0?document:a.dom;return Lm(i)?[]:No(i.querySelectorAll(n),Ze)})(o,t),tu=(t,o,n)=>Ia(t,o,n).isSome(),ou=(t,o)=>((n,a)=>{const i=n.dom;return i.parentNode?((c,d)=>ke(c.dom.childNodes,u=>d(Ze(u))).map(Ze))(Ze(i.parentNode),c=>!Wr(n,c)&&a(c)):F.none()})(t,o).isSome(),qs=(t,o)=>rs(t,o).isSome();class Ws{constructor(o,n){this.node=o,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(o){return this.node=this.findSibling(this.node,"firstChild","nextSibling",o),this.node}prev(o){return this.node=this.findSibling(this.node,"lastChild","previousSibling",o),this.node}prev2(o){return this.node=this.findPreviousNode(this.node,o),this.node}findSibling(o,n,a,i){if(o){if(!i&&o[n])return o[n];if(o!==this.rootNode){let c=o[a];if(c)return c;for(let d=o.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(c=d[a],c)return c}}}findPreviousNode(o,n){if(o){const a=o.previousSibling;if(this.rootNode&&a===this.rootNode)return;if(a){if(!n){for(let c=a.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return a}const i=o.parentNode;if(i&&i!==this.rootNode)return i}}}const _d="\uFEFF",ms=" ",Ng=t=>t===_d,Qc=/^[ \t\r\n]*$/,tc=t=>Qc.test(t),Nu=t=>t===`
`||t==="\r",Pa=(t,o=4,n=!0,a=!0)=>{const i=((u,f)=>f<=0?"":new Array(f+1).join(" "))(0,o),c=t.replace(/\t/g,i);return fe(c,(u,f)=>(y=>" \f	\v".indexOf(y)!==-1)(f)||f===ms?u.pcIsSpace||u.str===""&&n||u.str.length===c.length-1&&a||((y,v)=>v<y.length&&v>=0&&Nu(y[v]))(c,u.str.length+1)?{pcIsSpace:!1,str:u.str+ms}:{pcIsSpace:!0,str:u.str+" "}:{pcIsSpace:Nu(f),str:u.str+f},{pcIsSpace:!1,str:""}).str},Oi=t=>o=>!!o&&o.nodeType===t,si=t=>!!t&&!Object.getPrototypeOf(t),bn=Oi(1),Hs=t=>bn(t)&&ks(Ze(t)),ed=t=>{const o=t.toLowerCase();return n=>$e(n)&&n.nodeName.toLowerCase()===o},Sa=t=>{const o=t.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const a=n.nodeName.toLowerCase();return ao(o,a)}return!1}},ui=(t,o)=>{const n=o.toLowerCase().split(" ");return a=>{if(bn(a)){const i=a.ownerDocument.defaultView;if(i)for(let c=0;c<n.length;c++){const d=i.getComputedStyle(a,null);if((d?d.getPropertyValue(t):null)===n[c])return!0}}return!1}},oc=t=>bn(t)&&t.hasAttribute("data-mce-bogus"),oo=t=>bn(t)&&t.tagName==="TABLE",Ni=t=>o=>!!(Hs(o)&&(o.contentEditable===t||o.getAttribute("data-mce-contenteditable")===t)),xs=Sa(["textarea","input"]),vo=Oi(3),Gi=Oi(4),td=Oi(7),od=Oi(8),wi=Oi(9),Lr=Oi(11),fa=ed("br"),nu=ed("img"),_a=Ni("true"),Kr=Ni("false"),pc=Sa(["td","th"]),Mg=Sa(["td","th","caption"]),js=Sa(["video","audio","object","embed"]),St=ed("li"),il=ed("details"),Dg=ed("summary"),gs={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},ll=t=>bn(t)&&t.hasAttribute("data-mce-bookmark"),mi=(t,o,n,a)=>vo(t)&&!((i,c,d)=>tc(i.data)&&!((u,f,y)=>{const v=Ze(f),k=Ze(u),E=y.getWhitespaceElements();return tu(k,B=>jo(E,ur(B)),Je(Wr,v))})(i,c,d))(t,o,n)&&(!a.includeZwsp||!(i=>{for(const c of i)if(!Ng(c))return!1;return!0})(t.data)),ps=(t,o,n,a)=>ge(a.isContent)&&a.isContent(o)||((i,c)=>bn(i)&&jo(c.getNonEmptyElements(),i.nodeName))(o,t)||ll(o)||(i=>bn(i)&&i.nodeName==="A"&&!i.hasAttribute("href")&&(i.hasAttribute("name")||i.hasAttribute("id")))(o)||mi(o,n,t,a)||Kr(o)||_a(o)&&(i=>le(Ze(i)).exists(c=>!Tr(c)))(o),kl=(t,o,n)=>{const a={...gs,...n};if(a.checkRootAsContent&&ps(t,o,o,a))return!1;let i=o.firstChild,c=0;if(!i)return!0;const d=new Ws(i,o);do{if(a.skipBogus&&bn(i)){const u=i.getAttribute("data-mce-bogus");if(u){i=d.next(u==="all");continue}}if(od(i))i=d.next(!0);else if(fa(i))c++,i=d.next();else{if(ps(t,i,o,a))return!1;i=d.next()}}while(i);return c<=1},Qs=(t,o,n)=>kl(t,o.dom,{checkRootAsContent:!0,...n}),Mi=(t,o,n)=>ps(t,o,o,{includeZwsp:gs.includeZwsp,...n}),as=t=>{let o=t;return{get:()=>o,set:n=>{o=n}}},Di=t=>{const o=as(F.none()),n=()=>o.get().each(a=>clearInterval(a));return{clear:()=>{n(),o.set(F.none())},isSet:()=>o.get().isSome(),get:()=>o.get(),set:a=>{n(),o.set(F.some(setInterval(a,t)))}}},cl=()=>{const t=(o=>{const n=as(F.none()),a=()=>n.get().each(o);return{clear:()=>{a(),n.set(F.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:i=>{a(),n.set(F.some(i))}}})(go);return{...t,on:o=>t.get().each(o)}},Cd=t=>{const o=t.toLowerCase();return o==="svg"?"svg":o==="math"?"math":"html"},dl=t=>Cd(t)!=="html",Sd=t=>dl(t.nodeName),cm=t=>Cd(t.nodeName),Ed=["svg","math"],Gs="data-mce-block",T=t=>No((o=>et(Zo(o),n=>!/[A-Z]/.test(n)))(t),o=>{const n=CSS.escape(o);return`${n}:`+No(Ed,a=>`not(${a} ${n})`).join(":")}).join(","),j=(t,o)=>$e(o.querySelector(t))?(o.setAttribute(Gs,"true"),o.getAttribute("data-mce-selected")==="inline-boundary"&&o.removeAttribute("data-mce-selected"),!0):(o.removeAttribute(Gs),!1),K=(t,o)=>{const n=T(t.getTransparentElements()),a=T(t.getBlockElements());return et(o.querySelectorAll(n),i=>j(a,i))},Me=(t,o,n)=>{var a;const i=n?"lastChild":"firstChild";for(let c=o[i];c;c=c[i])if(kl(t,c,{checkRootAsContent:!0}))return void((a=c.parentNode)===null||a===void 0||a.removeChild(c))},Le=(t,o,n)=>{const a=t.getBlockElements(),i=Ze(o),c=u=>ur(u)in a,d=u=>Wr(u,i);_e(Mc(n),u=>{Ia(u,c,d).each(f=>{const y=((v,k)=>et(Fr(v),E=>c(E)&&!t.isValidChild(ur(f),ur(E))))(u);if(y.length>0){const v=le(f);_e(y,k=>{Ia(k,c,d).each(E=>{((B,N,P)=>{const O=document.createRange(),V=N.parentNode;if(V){O.setStartBefore(N),O.setEndBefore(P);const G=O.extractContents();Me(B,G,!0),O.setStartAfter(P),O.setEndAfter(N);const Y=O.extractContents();Me(B,Y,!1),kl(B,G,{checkRootAsContent:!0})||V.insertBefore(G,N),kl(B,P,{checkRootAsContent:!0})||V.insertBefore(P,N),kl(B,Y,{checkRootAsContent:!0})||V.insertBefore(Y,N),V.removeChild(N)}})(t,E.dom,k.dom)})}),v.each(k=>K(t,k.dom))}})})},po=(t,o)=>{const n=K(t,o);Le(t,o,n),((a,i,c)=>{_e([...c,...ha(a,i)?[i]:[]],d=>_e(Ss(Ze(d),d.nodeName.toLowerCase()),u=>{Za(a,u.dom)&&Wi(u)}))})(t,o,n)},In=(t,o)=>{if(kn(t,o)){const n=T(t.getBlockElements());j(n,o)}},cr=t=>t.hasAttribute(Gs),Zn=(t,o)=>jo(t.getTransparentElements(),o),kn=(t,o)=>bn(o)&&Zn(t,o.nodeName),ha=(t,o)=>kn(t,o)&&cr(o),Za=(t,o)=>kn(t,o)&&!cr(o),Ki=(t,o)=>o.type===1&&Zn(t,o.name)&&Ve(o.attr(Gs)),Ri=ia().browser,fc=t=>ke(t,Q),Bc=(t,o)=>t.children&&ao(t.children,o),Vf=(t,o={})=>{let n=0;const a={},i=Ze(t),c=xl(i),d=k=>{us(wl(i),k)},u=k=>{const E=wl(i);vd(E,"#"+k).each(ca)},f=k=>yr(a,k).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),y=k=>new Promise((E,B)=>{let N;const P=to._addCacheSuffix(k),O=f(P);a[P]=O,O.count++;const V=(ee,we)=>{_e(ee,$t),O.status=we,O.passed=[],O.failed=[],N&&(N.onload=null,N.onerror=null,N=null)},G=()=>V(O.passed,2),Y=()=>V(O.failed,3);if(E&&O.passed.push(E),B&&O.failed.push(B),O.status===1)return;if(O.status===2)return void G();if(O.status===3)return void Y();O.status=1;const ae=Is("link",c.dom);lt(ae,{rel:"stylesheet",type:"text/css",id:O.id}),o.contentCssCors&&be(ae,"crossOrigin","anonymous"),o.referrerPolicy&&be(ae,"referrerpolicy",o.referrerPolicy),N=ae.dom,N.onload=G,N.onerror=Y,d(ae),be(ae,"href",P)}),v=k=>{const E=to._addCacheSuffix(k);yr(a,E).each(B=>{--B.count==0&&(delete a[E],u(B.id))})};return{load:y,loadRawCss:(k,E)=>{const B=f(k);a[k]=B,B.count++;const N=Is("style",c.dom);lt(N,{rel:"stylesheet",type:"text/css",id:B.id}),N.dom.innerHTML=E,d(N)},loadAll:k=>Promise.allSettled(No(k,E=>y(E).then(Rt(E)))).then(E=>{const B=Ct(E,N=>N.status==="fulfilled");return B.fail.length>0?Promise.reject(No(B.fail,N=>N.reason)):No(B.pass,N=>N.value)}),unload:v,unloadRawCss:k=>{yr(a,k).each(E=>{--E.count==0&&(delete a[k],u(E.id))})},unloadAll:k=>{_e(k,E=>{v(E)})},_setReferrerPolicy:k=>{o.referrerPolicy=k},_setContentCssCors:k=>{o.contentCssCors=k}}},Mu=(()=>{const t=new WeakMap;return{forElement:(o,n)=>{const a=_i(o).dom;return F.from(t.get(a)).getOrThunk(()=>{const i=Vf(a,n);return t.set(a,i),i})}}})(),$f=(t,o)=>$e(t)&&(Mi(o,t)||o.isInline(t.nodeName.toLowerCase())),vb=t=>(o=>o.nodeName.toLowerCase()==="span")(t)&&t.getAttribute("data-mce-type")==="bookmark",Vs=(t,o,n,a)=>{var i;const c=a||o;if(bn(o)&&vb(o))return o;const d=o.childNodes;for(let u=d.length-1;u>=0;u--)Vs(t,d[u],n,c);if(bn(o)){const u=o.childNodes;u.length===1&&vb(u[0])&&((i=o.parentNode)===null||i===void 0||i.insertBefore(u[0],o))}return(u=>Lr(u)||wi(u))(o)||Mi(n,o)||(u=>!!bn(u)&&u.childNodes.length>0)(o)||((u,f,y)=>vo(u)&&u.data.length>0&&((v,k,E)=>{const B=new Ws(v,k).prev(!1),N=new Ws(v,k).next(!1),P=bo(B)||$f(B,E),O=bo(N)||$f(N,E);return P&&O})(u,f,y))(o,c,n)||t.remove(o),o},xb=to.makeMap,zd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dm=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sp=/[<>&\"\']/g,nd=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,_l={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Fc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Du={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},um=(t,o)=>{const n={};if(t){const a=t.split(",");o=o||10;for(let i=0;i<a.length;i+=2){const c=String.fromCharCode(parseInt(a[i],o));if(!Fc[c]){const d="&"+a[i+1]+";";n[c]=d,n[d]=c}}return n}},Hm=um("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),mm=(t,o)=>t.replace(o?zd:dm,n=>Fc[n]||n),Rg=(t,o)=>t.replace(o?zd:dm,n=>n.length>1?"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";":Fc[n]||"&#"+n.charCodeAt(0)+";"),Uf=(t,o,n)=>{const a=n||Hm;return t.replace(o?zd:dm,i=>Fc[i]||a[i]||i)},Ru={encodeRaw:mm,encodeAllRaw:t=>(""+t).replace(Sp,o=>Fc[o]||o),encodeNumeric:Rg,encodeNamed:Uf,getEncodeFunc:(t,o)=>{const n=um(o)||Hm,a=xb(t.replace(/\+/g,","));return a.named&&a.numeric?(i,c)=>i.replace(c?zd:dm,d=>Fc[d]!==void 0?Fc[d]:n[d]!==void 0?n[d]:d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":"&#"+d.charCodeAt(0)+";"):a.named?o?(i,c)=>Uf(i,c,n):Uf:a.numeric?Rg:mm},decode:t=>t.replace(nd,(o,n)=>n?(n=n.charAt(0).toLowerCase()==="x"?parseInt(n.substr(1),16):parseInt(n,10))>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):_l[n]||String.fromCharCode(n):Du[o]||Hm[o]||(a=>{const i=Is("div").dom;return i.innerHTML=a,i.textContent||i.innerText||a})(o))},gi=(t,o)=>(t=to.trim(t))?t.split(o||" "):[],ru=t=>new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$"),Ul=t=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...t!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...t!=="html5-strict"?["xml:lang"]:[]]),Lc=t=>{let o,n;o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(o+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),t!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "));const a=[o,n].join(" ");return{blockContent:o,phrasingContent:n,flowContent:a}},Td=t=>{const{blockContent:o,phrasingContent:n,flowContent:a}=Lc(t),i=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:i(o),phrasingContent:i(n),flowContent:i(a)})},wb={html4:At(()=>Td("html4")),html5:At(()=>Td("html5")),"html5-strict":At(()=>Td("html5-strict"))},jm=(t,o)=>{const{blockContent:n,phrasingContent:a,flowContent:i}=wb[t]();return o==="blocks"?F.some(n):o==="phrasing"?F.some(a):o==="flow"?F.some(i):F.none()},Bg=t=>F.from(/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/.exec(t)).map(o=>({preset:o[1]==="@",name:o[2]})),Vm={},$m=to.makeMap,Ic=to.each,gm=to.extend,pm=to.explode,Rr=(t,o={})=>{const n=$m(t," ",$m(t.toUpperCase()," "));return gm(n,o)},An=t=>Rr("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),Zl=(t,o)=>{if(t){const n={};return Ve(t)&&(t={"*":t}),Ic(t,(a,i)=>{n[i]=n[i.toUpperCase()]=o==="map"?$m(a,/[, ]/):pm(a,/[, ]/)}),n}},hc=(t={})=>{var o;const n={},a={};let i=[];const c={},d={},u=(fn,kr,Ir)=>{const fr=t[fn];if(fr)return $m(fr,/[, ]/,$m(fr.toUpperCase(),/[, ]/));{let ma=Vm[fn];return ma||(ma=Rr(kr,Ir),Vm[fn]=ma),ma}},f=(o=t.schema)!==null&&o!==void 0?o:"html5",y=(fn=>{const kr=Ul(fn),{phrasingContent:Ir,flowContent:fr}=Lc(fn),ma={},ys=(Ka,Ya,hi)=>{ma[Ka]={attributes:io(Ya,Rt({})),attributesOrder:Ya,children:io(hi,Rt({}))}},an=(Ka,Ya="",hi="")=>{const Ol=gi(hi),bd=gi(Ka);let Ql=bd.length;const Eu=[...kr,...gi(Ya)];for(;Ql--;)ys(bd[Ql],Eu.slice(),Ol)},tr=(Ka,Ya)=>{const hi=gi(Ka),Ol=gi(Ya);let bd=hi.length;for(;bd--;){const Ql=ma[hi[bd]];for(let Eu=0,nl=Ol.length;Eu<nl;Eu++)Ql.attributes[Ol[Eu]]={},Ql.attributesOrder.push(Ol[Eu])}};return fn!=="html5-strict"&&(_e(gi("acronym applet basefont big font strike tt"),Ka=>{an(Ka,"",Ir)}),_e(gi("center dir isindex noframes"),Ka=>{an(Ka,"",fr)})),an("html","manifest","head body"),an("head","","base command link meta noscript script style title"),an("title hr noscript br"),an("base","href target"),an("link","href rel media hreflang type sizes hreflang"),an("meta","name http-equiv content charset"),an("style","media type scoped"),an("script","src async defer type charset"),an("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",fr),an("dd div","",fr),an("address dt caption","",fn==="html4"?Ir:fr),an("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",Ir),an("blockquote","cite",fr),an("ol","reversed start type","li"),an("ul","","li"),an("li","value",fr),an("dl","","dt dd"),an("a","href target rel media hreflang type",fn==="html4"?Ir:fr),an("q","cite",Ir),an("ins del","cite datetime",fr),an("img","src sizes srcset alt usemap ismap width height"),an("iframe","src name width height",fr),an("embed","src type width height"),an("object","data type typemustmatch name usemap form width height",[fr,"param"].join(" ")),an("param","name value"),an("map","name",[fr,"area"].join(" ")),an("area","alt coords shape href target rel media hreflang type"),an("table","border","caption colgroup thead tfoot tbody tr"+(fn==="html4"?" col":"")),an("colgroup","span","col"),an("col","span"),an("tbody thead tfoot","","tr"),an("tr","","td th"),an("td","colspan rowspan headers",fr),an("th","colspan rowspan headers scope abbr",fr),an("form","accept-charset action autocomplete enctype method name novalidate target",fr),an("fieldset","disabled form name",[fr,"legend"].join(" ")),an("label","form for",Ir),an("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),an("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",fn==="html4"?fr:Ir),an("select","disabled form multiple name required size","option optgroup"),an("optgroup","disabled label","option"),an("option","disabled label selected value"),an("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),an("menu","type label",[fr,"li"].join(" ")),an("noscript","",fr),fn!=="html4"&&(an("wbr"),an("ruby","",[Ir,"rt rp"].join(" ")),an("figcaption","",fr),an("mark rt rp bdi","",Ir),an("summary","",[Ir,"h1 h2 h3 h4 h5 h6"].join(" ")),an("canvas","width height",fr),an("data","value",Ir),an("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[fr,"track source"].join(" ")),an("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[fr,"track source"].join(" ")),an("picture","","img source"),an("source","src srcset type media sizes"),an("track","kind src srclang label default"),an("datalist","",[Ir,"option"].join(" ")),an("article section nav aside main header footer","",fr),an("hgroup","","h1 h2 h3 h4 h5 h6"),an("figure","",[fr,"figcaption"].join(" ")),an("time","datetime",Ir),an("dialog","open",fr),an("command","type label icon disabled checked radiogroup command"),an("output","for form name",Ir),an("progress","value max",Ir),an("meter","value min max low high optimum",Ir),an("details","open",[fr,"summary"].join(" ")),an("keygen","autofocus challenge disabled form keytype name"),ys("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),fn!=="html5-strict"&&(tr("script","language xml:space"),tr("style","xml:space"),tr("object","declare classid code codebase codetype archive standby align border hspace vspace"),tr("embed","align name hspace vspace"),tr("param","valuetype type"),tr("a","charset name rev shape coords"),tr("br","clear"),tr("applet","codebase archive code object alt name width height align hspace vspace"),tr("img","name longdesc align border hspace vspace"),tr("iframe","longdesc frameborder marginwidth marginheight scrolling align"),tr("font basefont","size color face"),tr("input","usemap align"),tr("select"),tr("textarea"),tr("h1 h2 h3 h4 h5 h6 div p legend caption","align"),tr("ul","type compact"),tr("li","type"),tr("ol dl menu dir","compact"),tr("pre","width xml:space"),tr("hr","align noshade size width"),tr("isindex","prompt"),tr("table","summary width frame rules cellspacing cellpadding align bgcolor"),tr("col","width align char charoff valign"),tr("colgroup","width align char charoff valign"),tr("thead","align char charoff valign"),tr("tr","align char charoff valign bgcolor"),tr("th","axis align char charoff valign nowrap bgcolor width height"),tr("form","accept"),tr("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),tr("tfoot","align char charoff valign"),tr("tbody","align char charoff valign"),tr("area","nohref"),tr("body","background bgcolor text link vlink alink")),fn!=="html4"&&(tr("input button select textarea","autofocus"),tr("input textarea","placeholder"),tr("a","download"),tr("link script img","crossorigin"),tr("img","loading"),tr("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),fn!=="html4"&&_e([ma.video,ma.audio],Ka=>{delete Ka.children.audio,delete Ka.children.video}),_e(gi("a form meter progress dfn"),Ka=>{ma[Ka]&&delete ma[Ka].children[Ka]}),delete ma.caption.children.table,delete ma.script,ma})(f);t.verify_html===!1&&(t.valid_elements="*[*]");const v=Zl(t.valid_styles),k=Zl(t.invalid_styles,"map"),E=Zl(t.valid_classes,"map"),B=u("whitespace_elements","pre script noscript style textarea video audio iframe object code"),N=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),P=u("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),O=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),V="td th iframe video audio object script code",G=u("non_empty_elements",V+" pre svg textarea summary",P),Y=u("move_caret_before_on_enter_elements",V+" table",P),ae="h1 h2 h3 h4 h5 h6",ee=u("text_block_elements",ae+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),we=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",ee),je=u("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Pe=u("transparent_elements","a ins del canvas map"),rt=u("wrap_block_elements","pre "+ae);Ic("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),fn=>{d[fn]=new RegExp("</"+fn+"[^>]*>","gi")});const Mt=fn=>{const kr=F.from(n["@"]),Ir=/[*?+]/;_e(((fr,ma)=>{const ys=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return at(gi(ma,","),an=>{const tr=ys.exec(an);if(tr){const Ka=tr[1],Ya=tr[2],hi=tr[3],Ol=tr[4],bd=tr[5],Ql={attributes:{},attributesOrder:[]};if(fr.each(Eu=>((nl,Df)=>{zt(nl.attributes,(Rf,Eg)=>{Df.attributes[Eg]=Rf}),Df.attributesOrder.push(...nl.attributesOrder)})(Eu,Ql)),Ka==="#"?Ql.paddEmpty=!0:Ka==="-"&&(Ql.removeEmpty=!0),Ol==="!"&&(Ql.removeEmptyAttrs=!0),bd&&((Eu,nl)=>{const Df=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Rf=/[*?+]/,{attributes:Eg,attributesOrder:zu}=nl;_e(gi(Eu,"|"),Bf=>{const zg=Df.exec(Bf);if(zg){const am={},Pv=zg[1],Ec=zg[2].replace(/[\\:]:/g,":"),gb=zg[3],Ei=zg[4];if(Pv==="!"&&(nl.attributesRequired=nl.attributesRequired||[],nl.attributesRequired.push(Ec),am.required=!0),Pv==="-")return delete Eg[Ec],void zu.splice(to.inArray(zu,Ec),1);if(gb&&(gb==="="?(nl.attributesDefault=nl.attributesDefault||[],nl.attributesDefault.push({name:Ec,value:Ei}),am.defaultValue=Ei):gb==="~"?(nl.attributesForced=nl.attributesForced||[],nl.attributesForced.push({name:Ec,value:Ei}),am.forcedValue=Ei):gb==="<"&&(am.validValues=to.makeMap(Ei,"?"))),Rf.test(Ec)){const vp=am;nl.attributePatterns=nl.attributePatterns||[],vp.pattern=ru(Ec),nl.attributePatterns.push(vp)}else Eg[Ec]||zu.push(Ec),Eg[Ec]=am}})})(bd,Ql),hi&&(Ql.outputName=Ya),Ya==="@"){if(!fr.isNone())return[];fr=F.some(Ql)}return[hi?{name:Ya,element:Ql,aliasName:hi}:{name:Ya,element:Ql}]}return[]})})(kr,fn??""),({name:fr,element:ma,aliasName:ys})=>{if(ys&&(n[ys]=ma),Ir.test(fr)){const an=ma;an.pattern=ru(fr),i.push(an)}else n[fr]=ma})},Fe=fn=>{i=[],_e(Zo(n),kr=>{delete n[kr]}),Mt(fn)},Ue=(fn,kr)=>{var Ir,fr;delete Vm.text_block_elements,delete Vm.block_elements;const ma=!!kr.extends&&!bs(kr.extends),ys=kr.extends;if(a[fn]=ys?a[ys]:{},c[fn]=ys??fn,G[fn.toUpperCase()]={},G[fn]={},ma||(we[fn.toUpperCase()]={},we[fn]={}),ys&&!n[fn]&&n[ys]){const an=(tr=>{const Ka=Ya=>uo(Ya)?No(Ya,Ka):(hi=>ut(hi)&&hi.source&&Object.prototype.toString.call(hi)==="[object RegExp]")(Ya)?new RegExp(Ya.source,Ya.flags):ut(Ya)?Xo(Ya,Ka):Ya;return Ka(tr)})(n[ys]);delete an.removeEmptyAttrs,delete an.removeEmpty,n[fn]=an}else n[fn]={attributesOrder:[],attributes:{}};if(uo(kr.attributes)){const an=Ka=>{tr.attributesOrder.push(Ka),tr.attributes[Ka]={}},tr=(Ir=n[fn])!==null&&Ir!==void 0?Ir:{};delete tr.attributesDefault,delete tr.attributesForced,delete tr.attributePatterns,delete tr.attributesRequired,tr.attributesOrder=[],tr.attributes={},_e(kr.attributes,Ka=>{const Ya=Ul(f);Bg(Ka).each(({preset:hi,name:Ol})=>{hi?Ol==="global"&&_e(Ya,an):an(Ol)})}),n[fn]=tr}if(ht(kr.padEmpty)){const an=(fr=n[fn])!==null&&fr!==void 0?fr:{};an.paddEmpty=kr.padEmpty,n[fn]=an}if(uo(kr.children)){const an={},tr=Ya=>{an[Ya]={}},Ka=Ya=>{jm(f,Ya).each(hi=>{_e(hi,tr)})};_e(kr.children,Ya=>{Bg(Ya).each(({preset:hi,name:Ol})=>{hi?Ka(Ol):tr(Ol)})}),a[fn]=an}ys&&zt(a,(an,tr)=>{an[ys]&&(a[tr]=an=gm({},a[tr]),an[fn]=an[ys])})},ot=fn=>{ut(fn)?zt(fn,(kr,Ir)=>Ue(Ir,kr)):Ve(fn)&&(kr=>{_e((Ir=>{const fr=/^(~)?(.+)$/;return at(gi(Ir,","),ma=>{const ys=fr.exec(ma);return ys?[{cloneName:ys[1]==="~"?"span":"div",name:ys[2]}]:[]})})(kr??""),({name:Ir,cloneName:fr})=>{Ue(Ir,{extends:fr})})})(fn)},Qt=fn=>{_e((kr=>{const Ir=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return at(gi(kr,","),fr=>{const ma=Ir.exec(fr);if(ma){const ys=ma[1];return[{operation:ys?(tr=>tr==="-"?"remove":"add")(ys):"replace",name:ma[2],validChildren:at(gi(ma[3],"|"),tr=>Bg(tr).toArray())}]}return[]})})(fn??""),({operation:kr,name:Ir,validChildren:fr})=>{const ma=kr==="replace"?{"#comment":{}}:a[Ir],ys=an=>{kr==="remove"?delete ma[an]:ma[an]={}};_e(fr,({preset:an,name:tr})=>{an?(Ka=>{jm(f,Ka).each(Ya=>{_e(Ya,ys)})})(tr):ys(tr)}),a[Ir]=ma})},Do=fn=>{const kr=n[fn];if(kr)return kr;let Ir=i.length;for(;Ir--;){const fr=i[Ir];if(fr.pattern.test(fn))return fr}},Ao=Rt(v),vn=Rt(k),Tn=Rt(E),Bn=Rt(O),$n=Rt(we),Yo=Rt(ee),Cn=Rt(je),Qe=Rt(Object.seal(P)),st=Rt(N),Ht=Rt(G),It=Rt(Y),Ko=Rt(B),Po=Rt(Pe),Pn=Rt(rt),Gn=Rt(Object.seal(d)),br=(fn,kr)=>{const Ir=Do(fn);if(Ir){if(!kr)return!0;{if(Ir.attributes[kr])return!0;const fr=Ir.attributePatterns;if(fr){let ma=fr.length;for(;ma--;)if(fr[ma].pattern.test(kr))return!0}}}return!1},bs=fn=>jo($n(),fn),Es=fn=>!Te(fn,"#")&&br(fn)&&!bs(fn),Sg=Rt(c);return t.valid_elements?(Fe(t.valid_elements),Ic(y,(fn,kr)=>{a[kr]=fn.children})):(Ic(y,(fn,kr)=>{n[kr]={attributes:fn.attributes,attributesOrder:fn.attributesOrder},a[kr]=fn.children}),Ic(gi("strong/b em/i"),fn=>{const kr=gi(fn,"/");n[kr[1]].outputName=kr[0]}),Ic(je,(fn,kr)=>{n[kr]&&(t.padd_empty_block_inline_children&&(n[kr].paddInEmptyBlock=!0),n[kr].removeEmpty=!0)}),Ic(gi("ol ul blockquote a table tbody"),fn=>{n[fn]&&(n[fn].removeEmpty=!0)}),Ic(gi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),fn=>{n[fn]&&(n[fn].paddEmpty=!0)}),Ic(gi("span"),fn=>{n[fn].removeEmptyAttrs=!0})),delete n.svg,ot(t.custom_elements),Qt(t.valid_children),Mt(t.extended_valid_elements),Qt("+ol[ul|ol],+ul[ul|ol]"),Ic({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(fn,kr)=>{n[kr]&&(n[kr].parentsRequired=gi(fn))}),t.invalid_elements&&Ic(pm(t.invalid_elements),fn=>{n[fn]&&delete n[fn]}),Do("span")||Mt("span[!data-mce-type|*]"),{type:f,children:a,elements:n,getValidStyles:Ao,getValidClasses:Tn,getBlockElements:$n,getInvalidStyles:vn,getVoidElements:Qe,getTextBlockElements:Yo,getTextInlineElements:Cn,getBoolAttrs:Bn,getElementRule:Do,getSelfClosingElements:st,getNonEmptyElements:Ht,getMoveCaretBeforeOnEnterElements:It,getWhitespaceElements:Ko,getTransparentElements:Po,getSpecialElements:Gn,isValidChild:(fn,kr)=>{const Ir=a[fn.toLowerCase()];return!(!Ir||!Ir[kr.toLowerCase()])},isValid:br,isBlock:bs,isInline:Es,isWrapper:fn=>jo(Pn(),fn)||Es(fn),getCustomElements:Sg,addValidElements:Mt,setValidElements:Fe,addCustomElements:ot,addValidChildren:Qt}},Um=t=>{const o=t.toString(16);return(o.length===1?"0"+o:o).toUpperCase()},kb=t=>(o=>{return{value:(n=o,ga(n,"#").toUpperCase())};var n})(Um(t.red)+Um(t.green)+Um(t.blue)),Ta=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Pc=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Zf=(t,o,n,a)=>((i,c,d,u)=>({red:i,green:c,blue:d,alpha:u}))(parseInt(t,10),parseInt(o,10),parseInt(n,10),parseFloat(a)),Kt=t=>{const o=Ta.exec(t);if(o!==null)return F.some(Zf(o[1],o[2],o[3],"1"));const n=Pc.exec(t);return n!==null?F.some(Zf(n[1],n[2],n[3],n[4])):F.none()},Ep=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,Ad=t=>Kt(t).map(kb).map(o=>"#"+o.value).getOr(t),au=(t={},o)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,c={};let d,u;const f=_d;o&&(d=o.getValidStyles(),u=o.getInvalidStyles());const y=`\\" \\' \\; \\: ; : \uFEFF`.split(" ");for(let k=0;k<y.length;k++)c[y[k]]=f+k,c[f+k]=y[k];const v={parse:k=>{const E={};let B=!1;const N=t.url_converter,P=t.url_converter_scope||v,O=(Fe,Ue,ot)=>{const Qt=E[Fe+"-top"+Ue];if(!Qt)return;const Do=E[Fe+"-right"+Ue];if(!Do)return;const Ao=E[Fe+"-bottom"+Ue];if(!Ao)return;const vn=E[Fe+"-left"+Ue];if(!vn)return;const Tn=[Qt,Do,Ao,vn];let Bn=Tn.length-1;for(;Bn--&&Tn[Bn]===Tn[Bn+1];);Bn>-1&&ot||(E[Fe+Ue]=Bn===-1?Tn[0]:Tn.join(" "),delete E[Fe+"-top"+Ue],delete E[Fe+"-right"+Ue],delete E[Fe+"-bottom"+Ue],delete E[Fe+"-left"+Ue])},V=Fe=>{const Ue=E[Fe];if(!Ue)return;const ot=Ue.indexOf(",")>-1?[Ue]:Ue.split(" ");let Qt=ot.length;for(;Qt--;)if(ot[Qt]!==ot[0])return!1;return E[Fe]=ot[0],!0},G=Fe=>(B=!0,c[Fe]),Y=(Fe,Ue)=>(B&&(Fe=Fe.replace(/\uFEFF[0-9]/g,ot=>c[ot])),Ue||(Fe=Fe.replace(/\\([\'\";:])/g,"$1")),Fe),ae=Fe=>String.fromCharCode(parseInt(Fe.slice(1),16)),ee=Fe=>Fe.replace(/\\[0-9a-f]+/gi,ae),we=(Fe,Ue,ot,Qt,Do,Ao)=>{if(Do=Do||Ao)return"'"+(Do=Y(Do)).replace(/\'/g,"\\'")+"'";if(Ue=Y(Ue||ot||Qt||""),!t.allow_script_urls){const vn=Ue.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(vn)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(vn))return""}return N&&(Ue=N.call(P,Ue,"style")),"url('"+Ue.replace(/\'/g,"\\'")+"')"};if(k){let Fe;for(k=(k=k.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,G).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ue=>Ue.replace(/[;:]/g,G));Fe=a.exec(k);){a.lastIndex=Fe.index+Fe[0].length;let Ue=Fe[1].replace(i,"").toLowerCase(),ot=Fe[2].replace(i,"");if(Ue&&ot){if(Ue=ee(Ue),ot=ee(ot),Ue.indexOf(f)!==-1||Ue.indexOf('"')!==-1||!t.allow_script_urls&&(Ue==="behavior"||/expression\s*\(|\/\*|\*\//.test(ot)))continue;Ue==="font-weight"&&ot==="700"?ot="bold":Ue!=="color"&&Ue!=="background-color"||(ot=ot.toLowerCase()),Mt=ot,(Ta.test(Mt)?"rgb":Pc.test(Mt)?"rgba":"other")=="rgb"&&Kt(ot).each(Qt=>{ot=Ad(Ep(Qt)).toLowerCase()}),ot=ot.replace(n,we),E[Ue]=B?Y(ot,!0):ot}}O("border","",!0),O("border","-width"),O("border","-color"),O("border","-style"),O("padding",""),O("margin",""),Pe="border-style",rt="border-color",V(je="border-width")&&V(Pe)&&V(rt)&&(E.border=E[je]+" "+E[Pe]+" "+E[rt],delete E[je],delete E[Pe],delete E[rt]),E.border==="medium none"&&delete E.border,E["border-image"]==="none"&&delete E["border-image"]}var je,Pe,rt,Mt;return E},serialize:(k,E)=>{let B="";const N=(P,O)=>{const V=O[P];if(V)for(let G=0,Y=V.length;G<Y;G++){const ae=V[G],ee=k[ae];ee&&(B+=(B.length>0?" ":"")+ae+": "+ee+";")}};return E&&d?(N("*",d),N(E,d)):zt(k,(P,O)=>{P&&((V,G)=>{if(!u||!G)return!0;let Y=u["*"];return!(Y&&Y[V]||(Y=u[G],Y&&Y[V]))})(O,E)&&(B+=(B.length>0?" ":"")+O+": "+P+";")}),B}};return v},qf={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Bu=(t,o)=>{const n=o??{};for(const a in t)jo(qf,a)||(n[a]=t[a]);return $e(t.composedPath)&&(n.composedPath=()=>t.composedPath()),$e(t.getModifierState)&&(n.getModifierState=a=>t.getModifierState(a)),$e(t.getTargetRanges)&&(n.getTargetRanges=()=>t.getTargetRanges()),n},Wf=(t,o,n,a)=>{var i;const c=Bu(o,a);return c.type=t,ue(c.target)&&(c.target=(i=c.srcElement)!==null&&i!==void 0?i:n),(d=>ue(d.preventDefault)||(u=>u instanceof Event||ge(u.initEvent))(d))(o)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=Dt,ge(o.preventDefault)&&o.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=Dt,ge(o.stopPropagation)&&o.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=Dt,c.stopPropagation()},(d=>d.isDefaultPrevented===Dt||d.isDefaultPrevented===So)(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?Dt:So,c.isPropagationStopped=c.cancelBubble===!0?Dt:So,c.isImmediatePropagationStopped=So)),c},su=/^(?:mouse|contextmenu)|click/,Aa=(t,o,n,a)=>{t.addEventListener(o,n,a||!1)},nc=(t,o,n,a)=>{t.removeEventListener(o,n,a||!1)},iu=(t,o)=>{const n=Wf(t.type,t,document,o);if((a=>$e(a)&&su.test(a.type))(t)&&bo(t.pageX)&&!bo(t.clientX)){const a=n.target.ownerDocument||document,i=a.documentElement,c=a.body,d=n;d.pageX=t.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),d.pageY=t.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0)}return n},lu=(t,o,n)=>{const a=t.document,i={type:"ready"};if(n.domLoaded)return void o(i);const c=()=>{nc(t,"DOMContentLoaded",c),nc(t,"load",c),n.domLoaded||(n.domLoaded=!0,o(i)),t=null};a.readyState==="complete"||a.readyState==="interactive"&&a.body?c():Aa(t,"DOMContentLoaded",c),n.domLoaded||Aa(t,"load",c)};class rd{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(o,n,a,i){const c=this;let d;const u=window,f=E=>{c.executeHandlers(iu(E||u.event),y)};if(!o||vo(o)||od(o))return a;let y;o[c.expando]?y=o[c.expando]:(y=c.count++,o[c.expando]=y,c.events[y]={}),i=i||o;const v=n.split(" ");let k=v.length;for(;k--;){let E=v[k],B=f,N=!1,P=!1;E==="DOMContentLoaded"&&(E="ready"),c.domLoaded&&E==="ready"&&o.readyState==="complete"?a.call(i,iu({type:E})):(c.hasFocusIn||E!=="focusin"&&E!=="focusout"||(N=!0,P=E==="focusin"?"focus":"blur",B=O=>{const V=iu(O||u.event);V.type=V.type==="focus"?"focusin":"focusout",c.executeHandlers(V,y)}),d=c.events[y][E],d?E==="ready"&&c.domLoaded?a(iu({type:E})):d.push({func:a,scope:i}):(c.events[y][E]=d=[{func:a,scope:i}],d.fakeName=P,d.capture=N,d.nativeHandler=B,E==="ready"?lu(o,B,c):Aa(o,P||E,B,N)))}return o=d=null,a}unbind(o,n,a){if(!o||vo(o)||od(o))return this;const i=o[this.expando];if(i){let c=this.events[i];if(n){const d=n.split(" ");let u=d.length;for(;u--;){const f=d[u],y=c[f];if(y){if(a){let v=y.length;for(;v--;)if(y[v].func===a){const k=y.nativeHandler,E=y.fakeName,B=y.capture,N=y.slice(0,v).concat(y.slice(v+1));N.nativeHandler=k,N.fakeName=E,N.capture=B,c[f]=N}}a&&y.length!==0||(delete c[f],nc(o,y.fakeName||f,y.nativeHandler,y.capture))}}}else zt(c,(d,u)=>{nc(o,d.fakeName||u,d.nativeHandler,d.capture)}),c={};for(const d in c)if(jo(c,d))return this;delete this.events[i];try{delete o[this.expando]}catch{o[this.expando]=null}}return this}fire(o,n,a){return this.dispatch(o,n,a)}dispatch(o,n,a){if(!o||vo(o)||od(o))return this;const i=iu({type:n,target:o},a);do{const c=o[this.expando];c&&this.executeHandlers(i,c),o=o.parentNode||o.ownerDocument||o.defaultView||o.parentWindow}while(o&&!i.isPropagationStopped());return this}clean(o){if(!o||vo(o)||od(o))return this;if(o[this.expando]&&this.unbind(o),o.getElementsByTagName||(o=o.document),o&&o.getElementsByTagName){this.unbind(o);const n=o.getElementsByTagName("*");let a=n.length;for(;a--;)(o=n[a])[this.expando]&&this.unbind(o)}return this}destroy(){this.events={}}cancel(o){return o&&(o.preventDefault(),o.stopImmediatePropagation()),!1}executeHandlers(o,n){const a=this.events[n],i=a&&a[o.type];if(i)for(let c=0,d=i.length;c<d;c++){const u=i[c];if(u&&u.func.call(u.scope,o)===!1&&o.preventDefault(),o.isImmediatePropagationStopped())return}}}rd.Event=new rd;const fm=to.each,rc=to.grep,cu="data-mce-style",hm=to.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),du=(t,o,n)=>{ue(n)||n===""?ne(t,o):be(t,o,n)},ac=t=>t.replace(/[A-Z]/g,o=>"-"+o.toLowerCase()),Ci=(t,o)=>{let n=0;if(t)for(let a=t.nodeType,i=t.previousSibling;i;i=i.previousSibling){const c=i.nodeType;(!o||!vo(i)||c!==a&&i.data.length)&&(n++,a=c)}return n},zo=(t,o)=>{const n=Lt(o,"style"),a=t.serialize(t.parse(n),ur(o));du(o,cu,a)},Zm=(t,o,n)=>{const a=ac(o);ue(n)||n===""?mc(t,a):Dr(t,a,((i,c)=>mt(i)?jo(hm,c)?i+"":i+"px":i)(n,a))},Ar=(t,o={})=>{const n={},a=window,i={};let c=0;const d=Mu.forElement(Ze(t),{contentCssCors:o.contentCssCors,referrerPolicy:o.referrerPolicy}),u=[],f=o.schema?o.schema:hc({}),y=au({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope},o.schema),v=o.ownEvents?new rd:rd.Event,k=f.getBlockElements(),E=Qe=>Qe&&t&&Ve(Qe)?t.getElementById(Qe):Qe,B=Qe=>{const st=E(Qe);return $e(st)?Ze(st):null},N=(Qe,st,Ht="")=>{let It;const Ko=B(Qe);if($e(Ko)&&Q(Ko)){const Po=Cn[st];It=Po&&Po.get?Po.get(Ko.dom,st):Lt(Ko,st)}return $e(It)?It:Ht},P=Qe=>{const st=E(Qe);return ue(st)?[]:st.attributes},O=(Qe,st,Ht)=>{Pe(Qe,It=>{if(bn(It)){const Ko=Ze(It),Po=Ht===""?null:Ht,Pn=Lt(Ko,st),Gn=Cn[st];Gn&&Gn.set?Gn.set(Ko.dom,Po,st):du(Ko,st,Po),Pn!==Po&&o.onSetAttrib&&o.onSetAttrib({attrElm:Ko.dom,attrName:st,attrValue:Po})}})},V=()=>o.root_element||t.body,G=(Qe,st)=>((Ht,It,Ko)=>{let Po=0,Pn=0;const Gn=Ht.ownerDocument;if(Ko=Ko||Ht,It){if(Ko===Ht&&It.getBoundingClientRect&&Fl(Ze(Ht),"position")==="static"){const bs=It.getBoundingClientRect();return Po=bs.left+(Gn.documentElement.scrollLeft||Ht.scrollLeft)-Gn.documentElement.clientLeft,Pn=bs.top+(Gn.documentElement.scrollTop||Ht.scrollTop)-Gn.documentElement.clientTop,{x:Po,y:Pn}}let br=It;for(;br&&br!==Ko&&br.nodeType&&!Bc(br,Ko);){const bs=br;Po+=bs.offsetLeft||0,Pn+=bs.offsetTop||0,br=bs.offsetParent}for(br=It.parentNode;br&&br!==Ko&&br.nodeType&&!Bc(br,Ko);)Po-=br.scrollLeft||0,Pn-=br.scrollTop||0,br=br.parentNode;Pn+=(bs=>Ri.isFirefox()&&ur(bs)==="table"?fc(Fr(bs)).filter(Es=>ur(Es)==="caption").bind(Es=>fc(mr(Es)).map(Sg=>{const fn=Sg.dom.offsetTop,kr=Es.dom.offsetTop,Ir=Es.dom.offsetHeight;return fn<=kr?-Ir:0})).getOr(0):0)(Ze(It))}return{x:Po,y:Pn}})(t.body,E(Qe),st),Y=(Qe,st,Ht)=>{const It=E(Qe);var Ko;if(!ue(It)&&(Hs(It)||bn(Ko=It)&&Ko.namespaceURI==="http://www.w3.org/2000/svg"))return Ht?Fl(Ze(It),ac(st)):((st=st.replace(/-(\D)/g,(Po,Pn)=>Pn.toUpperCase()))==="float"&&(st="cssFloat"),It.style?It.style[st]:void 0)},ae=Qe=>{const st=E(Qe);if(!st)return{w:0,h:0};let Ht=Y(st,"width"),It=Y(st,"height");return Ht&&Ht.indexOf("px")!==-1||(Ht="0"),It&&It.indexOf("px")!==-1||(It="0"),{w:parseInt(Ht,10)||st.offsetWidth||st.clientWidth,h:parseInt(It,10)||st.offsetHeight||st.clientHeight}},ee=(Qe,st)=>{if(!Qe)return!1;const Ht=uo(Qe)?Qe:[Qe];return yo(Ht,It=>vl(Ze(It),st))},we=(Qe,st,Ht,It)=>{const Ko=[];let Po=E(Qe);It=It===void 0;const Pn=Ht||(V().nodeName!=="BODY"?V().parentNode:null);if(Ve(st))if(st==="*")st=bn;else{const Gn=st;st=br=>ee(br,Gn)}for(;Po&&!(Po===Pn||ue(Po.nodeType)||wi(Po)||Lr(Po));){if(!st||st(Po)){if(!It)return[Po];Ko.push(Po)}Po=Po.parentNode}return It?Ko:null},je=(Qe,st,Ht)=>{let It=st;if(Qe){Ve(st)&&(It=Ko=>ee(Ko,st));for(let Ko=Qe[Ht];Ko;Ko=Ko[Ht])if(ge(It)&&It(Ko))return Ko}return null},Pe=function(Qe,st,Ht){const It=Ht??this;if(uo(Qe)){const Ko=[];return fm(Qe,(Po,Pn)=>{const Gn=E(Po);Gn&&Ko.push(st.call(It,Gn,Pn))}),Ko}{const Ko=E(Qe);return!!Ko&&st.call(It,Ko)}},rt=(Qe,st)=>{Pe(Qe,Ht=>{zt(st,(It,Ko)=>{O(Ht,Ko,It)})})},Mt=(Qe,st)=>{Pe(Qe,Ht=>{const It=Ze(Ht);Dc(It,st)})},Fe=(Qe,st,Ht,It,Ko)=>Pe(Qe,Po=>{const Pn=Ve(st)?t.createElement(st):st;return $e(Ht)&&rt(Pn,Ht),It&&(!Ve(It)&&It.nodeType?Pn.appendChild(It):Ve(It)&&Mt(Pn,It)),Ko?Pn:Po.appendChild(Pn)}),Ue=(Qe,st,Ht)=>Fe(t.createElement(Qe),Qe,st,Ht,!0),ot=Ru.encodeAllRaw,Qt=(Qe,st)=>Pe(Qe,Ht=>{const It=Ze(Ht);return st&&_e(Fr(It),Ko=>{Ce(Ko)&&Ko.dom.length===0?ca(Ko):Ai(It,Ko)}),ca(It),It.dom}),Do=(Qe,st,Ht)=>{Pe(Qe,It=>{if(bn(It)){const Ko=Ze(It),Po=st.split(" ");_e(Po,Pn=>{$e(Ht)?(Ht?Ls:Cs)(Ko,Pn):((Gn,br)=>{Eo(Gn)?Gn.dom.classList.toggle(br):((bs,Es)=>ao(nr(bs),Es)?_s(bs,Es):la(bs,Es))(Gn,br),ai(Gn)})(Ko,Pn)})}})},Ao=(Qe,st,Ht)=>Pe(st,It=>{var Ko;const Po=uo(st)?Qe.cloneNode(!0):Qe;return Ht&&fm(rc(It.childNodes),Pn=>{Po.appendChild(Pn)}),(Ko=It.parentNode)===null||Ko===void 0||Ko.replaceChild(Po,It),It}),vn=()=>t.createRange(),Tn=(Qe,st,Ht,It)=>{if(uo(Qe)){let Ko=Qe.length;const Po=[];for(;Ko--;)Po[Ko]=Tn(Qe[Ko],st,Ht,It);return Po}return!o.collect||Qe!==t&&Qe!==a||u.push([Qe,st,Ht,It]),v.bind(Qe,st,Ht,It||Yo)},Bn=(Qe,st,Ht)=>{if(uo(Qe)){let It=Qe.length;const Ko=[];for(;It--;)Ko[It]=Bn(Qe[It],st,Ht);return Ko}if(u.length>0&&(Qe===t||Qe===a)){let It=u.length;for(;It--;){const[Ko,Po,Pn]=u[It];Qe!==Ko||st&&st!==Po||Ht&&Ht!==Pn||v.unbind(Ko,Po,Pn)}}return v.unbind(Qe,st,Ht)},$n=Qe=>{if(Qe&&Hs(Qe)){const st=Qe.getAttribute("data-mce-contenteditable");return st&&st!=="inherit"?st:Qe.contentEditable!=="inherit"?Qe.contentEditable:null}return null},Yo={doc:t,settings:o,win:a,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:d,boundEvents:u,styles:y,schema:f,events:v,isBlock:Qe=>Ve(Qe)?jo(k,Qe):bn(Qe)&&(jo(k,Qe.nodeName)||ha(f,Qe)),root:null,clone:(Qe,st)=>Qe.cloneNode(st),getRoot:V,getViewPort:Qe=>{const st=Cp(Qe);return{x:st.x,y:st.y,w:st.width,h:st.height}},getRect:Qe=>{const st=E(Qe),Ht=G(st),It=ae(st);return{x:Ht.x,y:Ht.y,w:It.w,h:It.h}},getSize:ae,getParent:(Qe,st,Ht)=>{const It=we(Qe,st,Ht,!1);return It&&It.length>0?It[0]:null},getParents:we,get:E,getNext:(Qe,st)=>je(Qe,st,"nextSibling"),getPrev:(Qe,st)=>je(Qe,st,"previousSibling"),select:(Qe,st)=>{var Ht,It;const Ko=(It=(Ht=E(st))!==null&&Ht!==void 0?Ht:o.root_element)!==null&&It!==void 0?It:t;return ge(Ko.querySelectorAll)?Fo(Ko.querySelectorAll(Qe)):[]},is:ee,add:Fe,create:Ue,createHTML:(Qe,st,Ht="")=>{let It="<"+Qe;for(const Ko in st)$r(st,Ko)&&(It+=" "+Ko+'="'+ot(st[Ko])+'"');return Qr(Ht)&&jo(f.getVoidElements(),Qe)?It+" />":It+">"+Ht+"</"+Qe+">"},createFragment:Qe=>{const st=t.createElement("div"),Ht=t.createDocumentFragment();let It;for(Ht.appendChild(st),Qe&&(st.innerHTML=Qe);It=st.firstChild;)Ht.appendChild(It);return Ht.removeChild(st),Ht},remove:Qt,setStyle:(Qe,st,Ht)=>{Pe(Qe,It=>{const Ko=Ze(It);Zm(Ko,st,Ht),o.update_styles&&zo(y,Ko)})},getStyle:Y,setStyles:(Qe,st)=>{Pe(Qe,Ht=>{const It=Ze(Ht);zt(st,(Ko,Po)=>{Zm(It,Po,Ko)}),o.update_styles&&zo(y,It)})},removeAllAttribs:Qe=>Pe(Qe,st=>{const Ht=st.attributes;for(let It=Ht.length-1;It>=0;It--)st.removeAttributeNode(Ht.item(It))}),setAttrib:O,setAttribs:rt,getAttrib:N,getPos:G,parseStyle:Qe=>y.parse(Qe),serializeStyle:(Qe,st)=>y.serialize(Qe,st),addStyle:Qe=>{if(Yo!==Ar.DOM&&t===document){if(n[Qe])return;n[Qe]=!0}let st=t.getElementById("mceDefaultStyles");if(!st){st=t.createElement("style"),st.id="mceDefaultStyles",st.type="text/css";const Ht=t.head;Ht.firstChild?Ht.insertBefore(st,Ht.firstChild):Ht.appendChild(st)}st.styleSheet?st.styleSheet.cssText+=Qe:st.appendChild(t.createTextNode(Qe))},loadCSS:Qe=>{Qe||(Qe=""),_e(Qe.split(","),st=>{i[st]=!0,d.load(st).catch(go)})},addClass:(Qe,st)=>{Do(Qe,st,!0)},removeClass:(Qe,st)=>{Do(Qe,st,!1)},hasClass:(Qe,st)=>{const Ht=B(Qe),It=st.split(" ");return $e(Ht)&&_t(It,Ko=>Dl(Ht,Ko))},toggleClass:Do,show:Qe=>{Pe(Qe,st=>mc(Ze(st),"display"))},hide:Qe=>{Pe(Qe,st=>Dr(Ze(st),"display","none"))},isHidden:Qe=>{const st=B(Qe);return $e(st)&&bi(eu(st,"display"),"none")},uniqueId:Qe=>(Qe||"mce_")+c++,setHTML:Mt,getOuterHTML:Qe=>{const st=B(Qe);return $e(st)?bn(st.dom)?st.dom.outerHTML:(Ht=>{const It=Is("div"),Ko=Ze(Ht.dom.cloneNode(!0));return us(It,Ko),Ll(It)})(st):""},setOuterHTML:(Qe,st)=>{Pe(Qe,Ht=>{bn(Ht)&&(Ht.outerHTML=st)})},decode:Ru.decode,encode:ot,insertAfter:(Qe,st)=>{const Ht=E(st);return Pe(Qe,It=>{const Ko=Ht==null?void 0:Ht.parentNode,Po=Ht==null?void 0:Ht.nextSibling;return Ko&&(Po?Ko.insertBefore(It,Po):Ko.appendChild(It)),It})},replace:Ao,rename:(Qe,st)=>{if(Qe.nodeName!==st.toUpperCase()){const Ht=Ue(st);return fm(P(Qe),It=>{O(Ht,It.nodeName,N(Qe,It.nodeName))}),Ao(Ht,Qe,!0),Ht}return Qe},findCommonAncestor:(Qe,st)=>{let Ht=Qe;for(;Ht;){let It=st;for(;It&&Ht!==It;)It=It.parentNode;if(Ht===It)break;Ht=Ht.parentNode}return!Ht&&Qe.ownerDocument?Qe.ownerDocument.documentElement:Ht},run:Pe,getAttribs:P,isEmpty:(Qe,st,Ht)=>ho(st)?kl(f,Qe,{...Ht,isContent:Ko=>{const Po=Ko.nodeName.toLowerCase();return!!st[Po]}}):kl(f,Qe,Ht),createRng:vn,nodeIndex:Ci,split:(Qe,st,Ht)=>{let It,Ko,Po=vn();if(Qe&&st&&Qe.parentNode&&st.parentNode){const Pn=Qe.parentNode;return Po.setStart(Pn,Ci(Qe)),Po.setEnd(st.parentNode,Ci(st)),It=Po.extractContents(),Po=vn(),Po.setStart(st.parentNode,Ci(st)+1),Po.setEnd(Pn,Ci(Qe)+1),Ko=Po.extractContents(),Pn.insertBefore(Vs(Yo,It,f),Qe),Ht?Pn.insertBefore(Ht,Qe):Pn.insertBefore(st,Qe),Pn.insertBefore(Vs(Yo,Ko,f),Qe),Qt(Qe),Ht||st}},bind:Tn,unbind:Bn,fire:(Qe,st,Ht)=>v.dispatch(Qe,st,Ht),dispatch:(Qe,st,Ht)=>v.dispatch(Qe,st,Ht),getContentEditable:$n,getContentEditableParent:Qe=>{const st=V();let Ht=null;for(let It=Qe;It&&It!==st&&(Ht=$n(It),Ht===null);It=It.parentNode);return Ht},isEditable:Qe=>{if($e(Qe)){const st=bn(Qe)?Qe:Qe.parentElement;return $e(st)&&Hs(st)&&Tr(Ze(st))}return!1},destroy:()=>{if(u.length>0){let Qe=u.length;for(;Qe--;){const[st,Ht,It]=u[Qe];v.unbind(st,Ht,It)}}zt(i,(Qe,st)=>{d.unload(st),delete i[st]})},isChildOf:(Qe,st)=>Qe===st||st.contains(Qe),dumpRng:Qe=>"startContainer: "+Qe.startContainer.nodeName+", startOffset: "+Qe.startOffset+", endContainer: "+Qe.endContainer.nodeName+", endOffset: "+Qe.endOffset},Cn=((Qe,st,Ht)=>{const It=st.keep_values,Ko={set:(Pn,Gn,br)=>{const bs=Ze(Pn);ge(st.url_converter)&&$e(Gn)&&(Gn=st.url_converter.call(st.url_converter_scope||Ht(),String(Gn),br,Pn)),du(bs,"data-mce-"+br,Gn),du(bs,br,Gn)},get:(Pn,Gn)=>{const br=Ze(Pn);return Lt(br,"data-mce-"+Gn)||Lt(br,Gn)}},Po={style:{set:(Pn,Gn)=>{const br=Ze(Pn);It&&du(br,cu,Gn),ne(br,"style"),Ve(Gn)&&Ti(br,Qe.parse(Gn))},get:Pn=>{const Gn=Ze(Pn),br=Lt(Gn,cu)||Lt(Gn,"style");return Qe.serialize(Qe.parse(br),ur(Gn))}}};return It&&(Po.href=Po.src=Ko),Po})(y,o,Rt(Yo));return Yo};Ar.DOM=Ar(document),Ar.nodeIndex=Ci;const _b=Ar.DOM;class ad{constructor(o={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=o}_setReferrerPolicy(o){this.settings.referrerPolicy=o}loadScript(o){return new Promise((n,a)=>{const i=_b;let c;const d=()=>{i.remove(u),c&&(c.onerror=c.onload=c=null)},u=i.uniqueId();c=document.createElement("script"),c.id=u,c.type="text/javascript",c.src=to._addCacheSuffix(o),this.settings.referrerPolicy&&i.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=()=>{d(),n()},c.onerror=()=>{d(),a("Failed to load script: "+o)},(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(o){return this.states[o]===2}markDone(o){this.states[o]=2}add(o){const n=this;return n.queue.push(o),n.states[o]===void 0&&(n.states[o]=0),new Promise((a,i)=>{n.scriptLoadedCallbacks[o]||(n.scriptLoadedCallbacks[o]=[]),n.scriptLoadedCallbacks[o].push({resolve:a,reject:i})})}load(o){return this.add(o)}remove(o){delete this.states[o],delete this.scriptLoadedCallbacks[o]}loadQueue(){const o=this.queue;return this.queue=[],this.loadScripts(o)}loadScripts(o){const n=this,a=(f,y)=>{yr(n.scriptLoadedCallbacks,y).each(v=>{_e(v,k=>k[f](y))}),delete n.scriptLoadedCallbacks[y]},i=f=>{const y=et(f,v=>v.status==="rejected");return y.length>0?Promise.reject(at(y,({reason:v})=>uo(v)?v:[v])):Promise.resolve()},c=f=>Promise.allSettled(No(f,y=>n.states[y]===2?(a("resolve",y),Promise.resolve()):n.states[y]===3?(a("reject",y),Promise.reject(y)):(n.states[y]=1,n.loadScript(y).then(()=>{n.states[y]=2,a("resolve",y);const v=n.queue;return v.length>0?(n.queue=[],c(v).then(i)):Promise.resolve()},()=>(n.states[y]=3,a("reject",y),Promise.reject(y)))))),d=f=>(n.loading=!0,c(f).then(y=>{n.loading=!1;const v=n.queueLoadedCallbacks.shift();return F.from(v).each($t),i(y)})),u=ls(o);return n.loading?new Promise((f,y)=>{n.queueLoadedCallbacks.push(()=>{d(u).then(f,y)})}):d(u)}}ad.ScriptLoader=new ad;const C={},R=as("en"),W=()=>yr(C,R.get()),ie={getData:()=>Xo(C,t=>({...t})),setCode:t=>{t&&R.set(t)},getCode:()=>R.get(),add:(t,o)=>{let n=C[t];n||(C[t]=n={});const a=No(Zo(o),i=>i.toLowerCase());zt(o,(i,c)=>{const d=c.toLowerCase();d!==c&&((u,f)=>{const y=u.indexOf(f);return y!==-1&&u.indexOf(f,y+1)>y})(a,d)?(jo(o,d)||(n[d]=i),n[c]=i):n[d]=i})},translate:t=>{const o=W().getOr({}),n=u=>ge(u)?Object.prototype.toString.call(u):a(u)?"":""+u,a=u=>u===""||u==null,i=u=>{const f=n(u);return jo(o,f)?n(o[f]):yr(o,f.toLowerCase()).map(n).getOr(f)},c=u=>u.replace(/{context:\w+}$/,"");if(a(t))return"";if(ut(d=t)&&jo(d,"raw"))return n(t.raw);var d;if((u=>uo(u)&&u.length>1)(t)){const u=t.slice(1);return c(i(t[0]).replace(/\{([0-9]+)\}/g,(f,y)=>jo(u,y)?n(u[y]):f))}return c(i(t))},isRtl:()=>W().bind(t=>yr(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>jo(C,t)},Ie=()=>{const t=[],o={},n={},a=[],i=(f,y)=>{const v=et(a,k=>k.name===f&&k.state===y);_e(v,k=>k.resolve())},c=f=>jo(o,f),d=(f,y)=>{const v=ie.getCode();!v||y&&(","+(y||"")+",").indexOf(","+v+",")===-1||ad.ScriptLoader.add(o[f]+"/langs/"+v+".js")},u=(f,y="added")=>y==="added"&&(v=>jo(n,v))(f)||y==="loaded"&&c(f)?Promise.resolve():new Promise(v=>{a.push({name:f,state:y,resolve:v})});return{items:t,urls:o,lookup:n,get:f=>{if(n[f])return n[f].instance},requireLangPack:(f,y)=>{Ie.languageLoad!==!1&&(c(f)?d(f,y):u(f,"loaded").then(()=>d(f,y)))},add:(f,y)=>(t.push(y),n[f]={instance:y},i(f,"added"),y),remove:f=>{delete o[f],delete n[f]},createUrl:(f,y)=>Ve(y)?Ve(f)?{prefix:"",resource:y,suffix:""}:{prefix:f.prefix,resource:y,suffix:f.suffix}:y,load:(f,y)=>{if(o[f])return Promise.resolve();let v=Ve(y)?y:y.prefix+y.resource+y.suffix;v.indexOf("/")!==0&&v.indexOf("://")===-1&&(v=Ie.baseURL+"/"+v),o[f]=v.substring(0,v.lastIndexOf("/"));const k=()=>(i(f,"loaded"),Promise.resolve());return n[f]?k():ad.ScriptLoader.add(v).then(k)},waitFor:u}};Ie.languageLoad=!0,Ie.baseURL="",Ie.PluginManager=Ie(),Ie.ThemeManager=Ie(),Ie.ModelManager=Ie();const Yt=(t,o)=>{let n=null;return{cancel:()=>{Ae(n)||(clearTimeout(n),n=null)},throttle:(...a)=>{Ae(n)&&(n=setTimeout(()=>{n=null,t.apply(null,a)},o))}}},lo=(t,o)=>{let n=null;const a=()=>{Ae(n)||(clearTimeout(n),n=null)};return{cancel:a,throttle:(...i)=>{a(),n=setTimeout(()=>{n=null,t.apply(null,i)},o)}}},tn=Rt("mce-annotation"),ln=Rt("data-mce-annotation"),Rn=Rt("data-mce-annotation-uid"),Zr=Rt("data-mce-annotation-active"),Or=Rt("data-mce-annotation-classes"),Oa=Rt("data-mce-annotation-attrs"),oa=t=>o=>Wr(o,t),sc=(t,o)=>{const n=t.selection.getRng(),a=Ze(n.startContainer),i=Ze(t.getBody()),c=o.fold(()=>"."+tn(),u=>`[${ln()}="${u}"]`),d=Ps(a,n.startOffset).getOr(a);return $l(d,c,oa(i)).bind(u=>pn(u,`${Rn()}`).bind(f=>pn(u,`${ln()}`).map(y=>{const v=Cl(t,f);return{uid:f,name:y,elements:v}})))},Yi=(t,o)=>$(t,"data-mce-bogus")||((n,a,i)=>yn(n,'[data-mce-bogus="all"]',i).isSome())(t,0,oa(o)),Cl=(t,o)=>{const n=Ze(t.getBody()),a=Ss(n,`[${Rn()}="${o}"]`);return et(a,i=>!Yi(i,n))},Fg=(t,o)=>{const n=Ze(t.getBody()),a=Ss(n,`[${ln()}="${o}"]`),i={};return _e(a,c=>{if(!Yi(c,n)){const d=Lt(c,Rn()),u=yr(i,d).getOr([]);i[d]=u.concat([c])}}),i},qm=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Fu=0;const sd=t=>{const o=new Date().getTime(),n=Math.floor(1e9*qm());return Fu++,t+"_"+n+Fu+String(o)},uu=(t,o)=>Ze(t.dom.cloneNode(o)),bc=t=>uu(t,!1),Lu=t=>uu(t,!0),Wm=(t,o,n=So)=>{const a=new Ws(t,o),i=c=>{let d;do d=a[c]();while(d&&!vo(d)&&!n(d));return F.from(d).filter(vo)};return{current:()=>F.from(a.current()).filter(vo),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},Iu=(t,o)=>{const n=o||(i=>t.isBlock(i)||fa(i)||Kr(i)),a=(i,c,d,u)=>{if(vo(i)){const f=u(i,c,i.data);if(f!==-1)return F.some({container:i,offset:f})}return d().bind(f=>a(f.container,f.offset,d,u))};return{backwards:(i,c,d,u)=>{const f=Wm(i,u??t.getRoot(),n);return a(i,c,()=>f.prev().map(y=>({container:y,offset:y.length})),d).getOrNull()},forwards:(i,c,d,u)=>{const f=Wm(i,u??t.getRoot(),n);return a(i,c,()=>f.next().map(y=>({container:y,offset:0})),d).getOrNull()}}},Yr=((t,o)=>{const n=a=>t(a)?F.from(a.dom.nodeValue):F.none();return{get:a=>{if(!t(a))throw new Error("Can only get text value of a text node");return n(a).getOr("")},getOption:n,set:(a,i)=>{if(!t(a))throw new Error("Can only set raw text value of a text node");a.dom.nodeValue=i}}})(Ce),Ea=t=>Yr.get(t),Sl=(t,o)=>Yr.set(t,o),Bi=t=>{let o;return n=>(o=o||io(t,Dt),jo(o,ur(n)))},Od=t=>Q(t)&&ur(t)==="br",zp=Bi(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Pu=Bi(["ul","ol","dl"]),yc=Bi(["li","dd","dt"]),b0=Bi(["thead","tbody","tfoot"]),Lg=Bi(["td","th"]),Gf=Bi(["pre","script","textarea","style"]),Gm=()=>{const t=Is("br");return be(t,"data-mce-bogus","1"),t},Hu=t=>{Nc(t),us(t,Gm())},Fi=_d,Kf=Ng,Li=t=>t.replace(/\uFEFF/g,""),mu=bn,bm=vo,Hc=t=>(bm(t)&&(t=t.parentNode),mu(t)&&t.hasAttribute("data-mce-caret")),jc=t=>bm(t)&&Kf(t.data),ul=t=>Hc(t)||jc(t),y0=t=>t.firstChild!==t.lastChild||!fa(t.firstChild),Tp=t=>{const o=t.container();return!!vo(o)&&(o.data.charAt(t.offset())===Fi||t.isAtStart()&&jc(o.previousSibling))},Cb=t=>{const o=t.container();return!!vo(o)&&(o.data.charAt(t.offset()-1)===Fi||t.isAtEnd()&&jc(o.nextSibling))},Yf=t=>bm(t)&&t.data[0]===Fi,Ig=t=>bm(t)&&t.data[t.data.length-1]===Fi,id=t=>t&&t.hasAttribute("data-mce-caret")?((o=>{var n;const a=o.getElementsByTagName("br"),i=a[a.length-1];oc(i)&&((n=i.parentNode)===null||n===void 0||n.removeChild(i))})(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,v0=t=>Hc(t.startContainer),ju=Math.round,ld=t=>t?{left:ju(t.left),top:ju(t.top),bottom:ju(t.bottom),right:ju(t.right),width:ju(t.width),height:ju(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Pg=(t,o)=>(t=ld(t),o||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),Hr=(t,o,n)=>t>=0&&t<=Math.min(o.height,n.height)/2,El=(t,o)=>{const n=Math.min(o.height/2,t.height/2);return t.bottom-n<o.top||!(t.top>o.bottom)&&Hr(o.top-t.bottom,t,o)},gu=(t,o)=>t.top>o.bottom||!(t.bottom<o.top)&&Hr(o.bottom-t.top,t,o),Xf=(t,o,n)=>{const a=Math.max(Math.min(o,t.left+t.width),t.left),i=Math.max(Math.min(n,t.top+t.height),t.top);return Math.sqrt((o-a)*(o-a)+(n-i)*(n-i))},Ha=t=>{const o=t.startContainer,n=t.startOffset;return o===t.endContainer&&o.hasChildNodes()&&t.endOffset===n+1?o.childNodes[n]:null},Nd=(t,o)=>{if(bn(t)&&t.hasChildNodes()){const n=t.childNodes,a=((i,c,d)=>Math.min(Math.max(i,0),d))(o,0,n.length-1);return n[a]}return t},ql=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Jf=t=>Ve(t)&&t.charCodeAt(0)>=768&&ql.test(t),ss=_a,y_=Kr,v_=fa,Ap=vo,vc=Sa(["script","style","textarea"]),Qf=Sa(["img","input","textarea","hr","iframe","video","audio","object","embed"]),cn=Sa(["table"]),qv=ul,Md=t=>!qv(t)&&(Ap(t)?!vc(t.parentNode):Qf(t)||v_(t)||cn(t)||Sb(t)),Sb=t=>!(o=>bn(o)&&o.getAttribute("unselectable")==="true")(t)&&y_(t),Eb=(t,o)=>Md(t)&&((n,a)=>{for(let i=n.parentNode;i&&i!==a;i=i.parentNode){if(Sb(i))return!1;if(ss(i))return!0}return!0})(t,o),eh=bn,Hg=Md,Vu=ui("display","block table"),x_=ui("float","left right"),Km=((...t)=>o=>{for(let n=0;n<t.length;n++)if(!t[n](o))return!1;return!0})(eh,Hg,gt(x_)),w_=gt(ui("white-space","pre pre-line pre-wrap")),Ym=vo,zb=fa,x0=Ar.nodeIndex,jg=(t,o)=>o<0&&bn(t)&&t.hasChildNodes()?void 0:Nd(t,o),Tb=t=>t?t.createRange():Ar.DOM.createRng(),th=t=>Ve(t)&&/[\r\n\t ]/.test(t),Wv=t=>!!t.setStart&&!!t.setEnd,w0=t=>{const o=t.startContainer,n=t.startOffset;if(th(t.toString())&&w_(o.parentNode)&&vo(o)){const a=o.data;if(th(a[n-1])||th(a[n+1]))return!0}return!1},Gv=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,Xm=t=>{var o;let n;const a=t.getClientRects();return n=a.length>0?ld(a[0]):ld(t.getBoundingClientRect()),!Wv(t)&&zb(t)&&Gv(n)?(i=>{const c=i.ownerDocument,d=Tb(c),u=c.createTextNode(ms),f=i.parentNode;f.insertBefore(u,i),d.setStart(u,0),d.setEnd(u,1);const y=ld(d.getBoundingClientRect());return f.removeChild(u),y})(t):Gv(n)&&Wv(t)&&(o=(i=>{const c=i.startContainer,d=i.endContainer,u=i.startOffset,f=i.endOffset;if(c===d&&vo(d)&&u===0&&f===1){const y=i.cloneRange();return y.setEndAfter(d),Xm(y)}return null})(t))!==null&&o!==void 0?o:n},cd=(t,o)=>{const n=Pg(t,o);return n.width=1,n.right=n.left+1,n},Ut=(t,o,n)=>{const a=()=>(n||(n=(i=>{const c=[],d=v=>{var k,E;v.height!==0&&(c.length>0&&(k=v,E=c[c.length-1],k.left===E.left&&k.top===E.top&&k.bottom===E.bottom&&k.right===E.right)||c.push(v))},u=(v,k)=>{const E=Tb(v.ownerDocument);if(k<v.data.length){if(Jf(v.data[k]))return;if(Jf(v.data[k-1])&&(E.setStart(v,k),E.setEnd(v,k+1),!w0(E)))return void d(cd(Xm(E),!1))}k>0&&(E.setStart(v,k-1),E.setEnd(v,k),w0(E)||d(cd(Xm(E),!1))),k<v.data.length&&(E.setStart(v,k),E.setEnd(v,k+1),w0(E)||d(cd(Xm(E),!0)))},f=i.container(),y=i.offset();if(Ym(f))return u(f,y),c;if(eh(f))if(i.isAtEnd()){const v=jg(f,y);Ym(v)&&u(v,v.data.length),Km(v)&&!zb(v)&&d(cd(Xm(v),!1))}else{const v=jg(f,y);if(Ym(v)&&u(v,0),Km(v)&&i.isAtEnd())return d(cd(Xm(v),!1)),c;const k=jg(i.container(),i.offset()-1);Km(k)&&!zb(k)&&(Vu(k)||Vu(v)||!Km(v))&&d(cd(Xm(k),!1)),Km(v)&&d(cd(Xm(v),!0))}return c})(Ut(t,o))),n);return{container:Rt(t),offset:Rt(o),toRange:()=>{const i=Tb(t.ownerDocument);return i.setStart(t,o),i.setEnd(t,o),i},getClientRects:a,isVisible:()=>a().length>0,isAtStart:()=>(Ym(t),o===0),isAtEnd:()=>Ym(t)?o>=t.data.length:o>=t.childNodes.length,isEqual:i=>i&&t===i.container()&&o===i.offset(),getNode:i=>jg(t,i?o-1:o)}};Ut.fromRangeStart=t=>Ut(t.startContainer,t.startOffset),Ut.fromRangeEnd=t=>Ut(t.endContainer,t.endOffset),Ut.after=t=>Ut(t.parentNode,x0(t)+1),Ut.before=t=>Ut(t.parentNode,x0(t)),Ut.isAbove=(t,o)=>qn(vt(o.getClientRects()),_o(t.getClientRects()),El).getOr(!1),Ut.isBelow=(t,o)=>qn(_o(o.getClientRects()),vt(t.getClientRects()),gu).getOr(!1),Ut.isAtStart=t=>!!t&&t.isAtStart(),Ut.isAtEnd=t=>!!t&&t.isAtEnd(),Ut.isTextPosition=t=>!!t&&vo(t.container()),Ut.isElementPosition=t=>!Ut.isTextPosition(t);const Ab=(t,o)=>{vo(o)&&o.data.length===0&&t.remove(o)},pu=(t,o,n)=>{Lr(n)?((a,i,c)=>{const d=F.from(c.firstChild),u=F.from(c.lastChild);i.insertNode(c),d.each(f=>Ab(a,f.previousSibling)),u.each(f=>Ab(a,f.nextSibling))})(t,o,n):((a,i,c)=>{i.insertNode(c),Ab(a,c.previousSibling),Ab(a,c.nextSibling)})(t,o,n)},Wl=vo,k0=oc,_0=Ar.nodeIndex,C0=t=>{const o=t.parentNode;return k0(o)?C0(o):o},Ob=t=>t?Fs(t.childNodes,(o,n)=>(k0(n)&&n.nodeName!=="BR"?o=o.concat(Ob(n)):o.push(n),o),[]):[],Kv=t=>o=>t===o,S0=t=>(Wl(t)?"text()":t.nodeName.toLowerCase())+"["+(o=>{let n,a;n=Ob(C0(o)),a=za(n,Kv(o),o),n=n.slice(0,a+1);const i=Fs(n,(c,d,u)=>(Wl(d)&&Wl(n[u-1])&&c++,c),0);return n=ts(n,Sa([o.nodeName])),a=za(n,Kv(o),o),a-i})(t)+"]",E0=(t,o)=>{let n,a=[],i=o.container(),c=o.offset();if(Wl(i))n=((u,f)=>{let y=u;for(;(y=y.previousSibling)&&Wl(y);)f+=y.data.length;return f})(i,c);else{const u=i.childNodes;c>=u.length?(n="after",c=u.length-1):n="before",i=u[c]}a.push(S0(i));let d=((u,f,y)=>{const v=[];for(let k=f.parentNode;k&&k!==u;k=k.parentNode)v.push(k);return v})(t,i);return d=ts(d,gt(oc)),a=a.concat(es(d,u=>S0(u))),a.reverse().join("/")+","+n},qa=(t,o)=>{if(!o)return null;const n=o.split(","),a=n[0].split("/"),i=n.length>1?n[1]:"before",c=Fs(a,(d,u)=>{const f=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return f?(f[1]==="text()"&&(f[1]="#text"),((y,v,k)=>{let E=Ob(y);return E=ts(E,(B,N)=>!Wl(B)||!Wl(E[N-1])),E=ts(E,Sa([v])),E[k]})(d,f[1],parseInt(f[2],10))):null},t);if(!c)return null;if(!Wl(c)&&c.parentNode){let d;return d=i==="after"?_0(c)+1:_0(c),Ut(c.parentNode,d)}return((d,u)=>{let f=d,y=0;for(;Wl(f);){const v=f.data.length;if(u>=y&&u<=y+v){d=f,u-=y;break}if(!Wl(f.nextSibling)){d=f,u=v;break}y+=v,f=f.nextSibling}return Wl(d)&&u>d.data.length&&(u=d.data.length),Ut(d,u)})(c,parseInt(i,10))},Jm=Kr,Ii=(t,o,n,a,i)=>{const c=i?a.startContainer:a.endContainer;let d=i?a.startOffset:a.endOffset;const u=[],f=t.getRoot();if(vo(c))u.push(n?((y,v,k)=>{let E=y(v.data.slice(0,k)).length;for(let B=v.previousSibling;B&&vo(B);B=B.previousSibling)E+=y(B.data).length;return E})(o,c,d):d);else{let y=0;const v=c.childNodes;d>=v.length&&v.length&&(y=1,d=Math.max(0,v.length-1)),u.push(t.nodeIndex(v[d],n)+y)}for(let y=c;y&&y!==f;y=y.parentNode)u.push(t.nodeIndex(y,n));return u},oh=(t,o,n)=>{let a=0;return to.each(t.select(o),i=>i.getAttribute("data-mce-bogus")==="all"?void 0:i!==n&&void a++),a},Xi=(t,o)=>{let n=o?t.startContainer:t.endContainer,a=o?t.startOffset:t.endOffset;if(bn(n)&&n.nodeName==="TR"){const i=n.childNodes;n=i[Math.min(o?a:a-1,i.length-1)],n&&(a=o?0:n.childNodes.length,o?t.setStart(n,a):t.setEnd(n,a))}},xc=t=>(Xi(t,!0),Xi(t,!1),t),Nb=(t,o)=>{if(bn(t)&&(t=Nd(t,o),Jm(t)))return t;if(ul(t)){vo(t)&&Hc(t)&&(t=t.parentNode);let n=t.previousSibling;if(Jm(n)||(n=t.nextSibling,Jm(n)))return n}},Mb=(t,o,n)=>{const a=n.getNode(),i=n.getRng();if(a.nodeName==="IMG"||Jm(a)){const d=a.nodeName;return{name:d,index:oh(n.dom,d,a)}}const c=(d=>Nb(d.startContainer,d.startOffset)||Nb(d.endContainer,d.endOffset))(i);if(c){const d=c.tagName;return{name:d,index:oh(n.dom,d,c)}}return((d,u,f,y)=>{const v=u.dom,k=Ii(v,d,f,y,!0),E=u.isForward(),B=v0(y)?{isFakeCaret:!0}:{};return u.isCollapsed()?{start:k,forward:E,...B}:{start:k,end:Ii(v,d,f,y,!1),forward:E,...B}})(t,n,o,i)},Vg=(t,o,n)=>{const a={"data-mce-type":"bookmark",id:o,style:"overflow:hidden;line-height:0px"};return n?t.create("span",a,"&#xFEFF;"):t.create("span",a)},Db=(t,o)=>{const n=t.dom;let a=t.getRng();const i=n.uniqueId(),c=t.isCollapsed(),d=t.getNode(),u=d.nodeName,f=t.isForward();if(u==="IMG")return{name:u,index:oh(n,u,d)};const y=xc(a.cloneRange());if(!c){y.collapse(!1);const k=Vg(n,i+"_end",o);pu(n,y,k)}a=xc(a),a.collapse(!0);const v=Vg(n,i+"_start",o);return pu(n,a,v),t.moveToBookmark({id:i,keep:!0,forward:f}),{id:i,forward:f}},$u=Je(Mb,D,!0),Rb=t=>{const o=c=>c(t),n=Rt(t),a=()=>i,i={tag:!0,inner:t,fold:(c,d)=>d(t),isValue:Dt,isError:So,map:c=>ic.value(c(t)),mapError:a,bind:o,exists:o,forall:o,getOr:n,or:a,getOrThunk:n,orThunk:a,getOrDie:n,each:c=>{c(t)},toOptional:()=>F.some(t)};return i},Uu=t=>{const o=()=>n,n={tag:!1,inner:t,fold:(a,i)=>a(t),isValue:So,isError:Dt,map:o,mapError:a=>ic.error(a(t)),bind:o,exists:So,forall:Dt,getOr:D,or:D,getOrThunk:ct,orThunk:ct,getOrDie:Bt(String(t)),each:go,toOptional:F.none};return n},ic={value:Rb,error:Uu,fromOption:(t,o)=>t.fold(()=>Uu(o),Rb)},Dd=t=>{if(!uo(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const o=[],n={};return _e(t,(a,i)=>{const c=Zo(a);if(c.length!==1)throw new Error("one and only one name per case");const d=c[0],u=a[d];if(n[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!uo(u))throw new Error("case arguments must be an array");o.push(d),n[d]=(...f)=>{const y=f.length;if(y!==u.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+u.length+" ("+u+"), got "+y);return{fold:(...v)=>{if(v.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+v.length);return v[i].apply(null,f)},match:v=>{const k=Zo(v);if(o.length!==k.length)throw new Error("Wrong number of arguments to match. Expected: "+o.join(",")+`
Actual: `+k.join(","));if(!_t(o,E=>ao(k,E)))throw new Error("Not all branches were specified when using match. Specified: "+k.join(", ")+`
Required: `+o.join(", "));return v[d].apply(null,f)},log:v=>{console.log(v,{constructors:o,constructor:d,params:f})}}}}),n};Dd([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ws=t=>t.type==="inline-command"||t.type==="inline-format",Rd=t=>t.type==="block-command"||t.type==="block-format",Op=t=>{var o;const n=i=>ic.error({message:i,pattern:t}),a=(i,c,d)=>{if(t.format!==void 0){let u;if(uo(t.format)){if(!_t(t.format,Ve))return n(i+" pattern has non-string items in the `format` array");u=t.format}else{if(!Ve(t.format))return n(i+" pattern has non-string `format` parameter");u=[t.format]}return ic.value(c(u))}return t.cmd!==void 0?Ve(t.cmd)?ic.value(d(t.cmd,t.value)):n(i+" pattern has non-string `cmd` parameter"):n(i+" pattern is missing both `format` and `cmd` parameters")};if(!ut(t))return n("Raw pattern is not an object");if(!Ve(t.start))return n("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!Ve(t.end))return n("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let i=t.start,c=t.end;return c.length===0&&(c=i,i=""),a("Inline",d=>({type:"inline-format",start:i,end:c,format:d}),(d,u)=>({type:"inline-command",start:i,end:c,cmd:d,value:u}))}if(t.replacement!==void 0)return Ve(t.replacement)?t.start.length===0?n("Replacement pattern has empty `start` parameter"):ic.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const i=(o=t.trigger)!==null&&o!==void 0?o:"space";return t.start.length===0?n("Block pattern has empty `start` parameter"):a("Block",c=>({type:"block-format",start:t.start,format:c[0],trigger:i}),(c,d)=>({type:"block-command",start:t.start,cmd:c,value:d,trigger:i}))}},Bb=t=>et(t,Rd),ym=t=>et(t,ws),ii=(t,o)=>({...t,blockPatterns:et(t.blockPatterns,n=>((a,i)=>(a.type==="block-command"||a.type==="block-format")&&a.trigger===i)(n,o))}),dd=t=>{const o=(n=>{const a=[],i=[];return _e(n,c=>{c.fold(d=>{a.push(d)},d=>{i.push(d)})}),{errors:a,values:i}})(No(t,Op));return _e(o.errors,n=>console.error(n.message,n.pattern)),o.values},Qm=ia().deviceType,Fb=Qm.isTouch(),z0=Ar.DOM,nh=t=>Mo(t,RegExp),mn=t=>o=>o.options.get(t),rh=t=>Ve(t)||ut(t),Np=(t,o="")=>n=>{const a=Ve(n);if(a){if(n.indexOf("=")!==-1){const i=(c=>{const d=c.indexOf("=")>0?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(",");return fe(d,(u,f)=>{const y=f.split("="),v=y[0],k=y.length>1?y[1]:v;return u[Pt(v)]=Pt(k),u},{})})(n);return{value:yr(i,t.id).getOr(o),valid:a}}return{value:n,valid:a}}return{valid:!1,message:"Must be a string."}},T0=mn("iframe_attrs"),Pi=mn("doctype"),fu=mn("document_base_url"),A0=mn("body_id"),Lb=mn("body_class"),Ib=mn("content_security_policy"),Pb=mn("br_in_pre"),Ji=mn("forced_root_block"),Mp=mn("forced_root_block_attrs"),pi=mn("newline_behavior"),fi=mn("br_newline_selector"),ml=mn("no_newline_selector"),Hi=mn("keep_styles"),ji=mn("end_container_on_empty_block"),ei=mn("automatic_uploads"),gl=mn("images_reuse_filename"),eg=mn("images_replace_blob_uris"),O0=mn("icons"),Yv=mn("icons_url"),Xv=mn("images_upload_url"),N0=mn("images_upload_base_path"),ah=mn("images_upload_credentials"),M0=mn("images_upload_handler"),sh=mn("content_css_cors"),Hb=mn("referrer_policy"),Gl=mn("language"),D0=mn("language_url"),Il=mn("indent_use_margin"),ih=mn("indentation"),Dp=mn("content_css"),ud=mn("content_style"),zl=mn("font_css"),lh=mn("directionality"),jb=mn("inline_boundaries_selector"),tg=mn("object_resizing"),Rp=mn("resize_img_proportional"),R0=mn("placeholder"),B0=mn("event_root"),Vb=mn("service_message"),$g=mn("theme"),Jv=mn("theme_url"),Bp=mn("model"),ch=mn("model_url"),vm=mn("inline_boundaries"),Qv=mn("formats"),dh=mn("preview_styles"),Kl=mn("format_empty_lines"),og=mn("format_noneditable_selector"),$b=mn("custom_ui_selector"),Fp=mn("inline"),Ub=mn("hidden_input"),Zb=mn("submit_patch"),uh=mn("add_form_submit_trigger"),F0=mn("add_unload_trigger"),xm=mn("custom_undo_redo_levels"),L0=mn("disable_nodechange"),I0=mn("readonly"),ex=mn("editable_root"),pl=mn("content_css_cors"),ng=mn("plugins"),qb=mn("external_plugins"),mh=mn("block_unsupported_drop"),tx=mn("visual"),hu=mn("visual_table_class"),Wb=mn("visual_anchor_class"),Gb=mn("iframe_aria_text"),wm=mn("setup"),gh=mn("init_instance_callback"),k_=mn("urlconverter_callback"),ox=mn("auto_focus"),P0=mn("browser_spellcheck"),__=mn("protect"),C_=mn("paste_block_drop"),Lp=mn("paste_data_images"),Kb=mn("paste_preprocess"),Yb=mn("paste_postprocess"),nx=mn("newdocument_content"),rx=mn("paste_webkit_styles"),Xb=mn("paste_remove_styles_if_webkit"),H0=mn("paste_merge_formats"),Ip=mn("smart_paste"),Pp=mn("paste_as_text"),Hp=mn("paste_tab_spaces"),jp=mn("allow_html_data_urls"),Jb=mn("text_patterns"),ph=mn("text_patterns_lookup"),Vp=mn("noneditable_class"),Ug=mn("editable_class"),fh=mn("noneditable_regexp"),rg=mn("preserve_cdata"),j0=mn("highlight_on_focus"),hh=mn("xss_sanitization"),V0=mn("init_content_sync"),Tl=t=>to.explode(t.options.get("images_file_types")),$0=mn("table_tab_navigation"),ax=mn("details_initial_state"),sx=mn("details_serialized_state"),U0=mn("sandbox_iframes"),Zg=t=>t.options.get("sandbox_iframes_exclusions"),ix=mn("convert_unsafe_embeds"),bh=mn("license_key"),qg=mn("api_key"),lx=bn,Wg=vo,Qb=t=>{const o=t.parentNode;o&&o.removeChild(t)},Z0=t=>{const o=Li(t);return{count:t.length-o.length,text:o}},ag=t=>{let o;for(;(o=t.data.lastIndexOf(Fi))!==-1;)t.deleteData(o,1)},yh=(t,o)=>(sg(t),o),cx=(t,o)=>Ut.isTextPosition(o)?((n,a)=>Wg(n)&&a.container()===n?((i,c)=>{const d=Z0(i.data.substr(0,c.offset())),u=Z0(i.data.substr(c.offset()));return(d.text+u.text).length>0?(ag(i),Ut(i,c.offset()-d.count)):c})(n,a):yh(n,a))(t,o):((n,a)=>a.container()===n.parentNode?((i,c)=>{const d=c.container(),u=((f,y)=>{const v=co(f,y);return v===-1?F.none():F.some(v)})(Fo(d.childNodes),i).map(f=>f<c.offset()?Ut(d,c.offset()-1):c).getOr(c);return sg(i),u})(n,a):yh(n,a))(t,o),sg=t=>{lx(t)&&ul(t)&&(y0(t)?t.removeAttribute("data-mce-caret"):Qb(t)),Wg(t)&&(ag(t),t.data.length===0&&Qb(t))},dx=Kr,q0=js,ux=pc,W0=(t,o,n)=>{const a=Pg(o.getBoundingClientRect(),n);let i,c;if(t.tagName==="BODY"){const u=t.ownerDocument.documentElement;i=t.scrollLeft||u.scrollLeft,c=t.scrollTop||u.scrollTop}else{const u=t.getBoundingClientRect();i=t.scrollLeft-u.left,c=t.scrollTop-u.top}a.left+=i,a.right+=i,a.top+=c,a.bottom+=c,a.width=1;let d=o.offsetWidth-o.clientWidth;return d>0&&(n&&(d*=-1),a.left+=d,a.right+=d),a},$p=(t,o,n,a)=>{const i=cl();let c,d;const u=Ji(t),f=t.dom,y=()=>{(v=>{var k,E;const B=Ss(Ze(v),"*[contentEditable=false],video,audio,embed,object");for(let N=0;N<B.length;N++){const P=B[N].dom;let O=P.previousSibling;if(Ig(O)){const V=O.data;V.length===1?(k=O.parentNode)===null||k===void 0||k.removeChild(O):O.deleteData(V.length-1,1)}O=P.nextSibling,Yf(O)&&(O.data.length===1?(E=O.parentNode)===null||E===void 0||E.removeChild(O):O.deleteData(0,1))}})(o),d&&(sg(d),d=null),i.on(v=>{f.remove(v.caret),i.clear()}),c&&(clearInterval(c),c=void 0)};return{show:(v,k)=>{let E;if(y(),ux(k))return null;if(!n(k))return d=((B,N)=>{var P;const O=((P=B.ownerDocument)!==null&&P!==void 0?P:document).createTextNode(Fi),V=B.parentNode;if(N){const G=B.previousSibling;if(bm(G)){if(ul(G))return G;if(Ig(G))return G.splitText(G.data.length-1)}V==null||V.insertBefore(O,B)}else{const G=B.nextSibling;if(bm(G)){if(ul(G))return G;if(Yf(G))return G.splitText(1),G}B.nextSibling?V==null||V.insertBefore(O,B.nextSibling):V==null||V.appendChild(O)}return O})(k,v),E=k.ownerDocument.createRange(),Gg(d.nextSibling)?(E.setStart(d,0),E.setEnd(d,0)):(E.setStart(d,1),E.setEnd(d,1)),E;{const B=((O,V,G)=>{var Y;const ae=((Y=V.ownerDocument)!==null&&Y!==void 0?Y:document).createElement(O);ae.setAttribute("data-mce-caret",G?"before":"after"),ae.setAttribute("data-mce-bogus","all"),ae.appendChild(Gm().dom);const ee=V.parentNode;return G?ee==null||ee.insertBefore(ae,V):V.nextSibling?ee==null||ee.insertBefore(ae,V.nextSibling):ee==null||ee.appendChild(ae),ae})(u,k,v),N=W0(o,k,v);f.setStyle(B,"top",N.top),f.setStyle(B,"caret-color","transparent"),d=B;const P=f.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});f.setStyles(P,{...N}),f.add(o,P),i.set({caret:P,element:k,before:v}),v&&f.addClass(P,"mce-visual-caret-before"),c=setInterval(()=>{i.on(O=>{a()?f.toggleClass(O.caret,"mce-visual-caret-hidden"):f.addClass(O.caret,"mce-visual-caret-hidden")})},500),E=k.ownerDocument.createRange(),E.setStart(B,0),E.setEnd(B,0)}return E},hide:y,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{i.on(v=>{const k=W0(o,v.element,v.before);f.setStyles(v.caret,{...k})})},destroy:()=>clearInterval(c)}},Up=()=>Xn.browser.isFirefox(),Gg=t=>dx(t)||q0(t),vh=t=>(Gg(t)||oo(t)&&Up())&&le(Ze(t)).exists(Tr),Bd=_a,Zu=Kr,xh=js,fl=ui("display","block table table-cell table-row table-caption list-item"),Zp=ul,qp=Hc,wh=bn,mx=vo,G0=Md,ig=t=>t>0,Vc=t=>t<0,kh=(t,o)=>{let n;for(;n=t(o);)if(!qp(n))return n;return null},km=(t,o,n,a,i)=>{const c=new Ws(t,a),d=Zu(t)||qp(t);let u;if(Vc(o)){if(d&&(u=kh(c.prev.bind(c),!0),n(u)))return u;for(;u=kh(c.prev.bind(c),i);)if(n(u))return u}if(ig(o)){if(d&&(u=kh(c.next.bind(c),!0),n(u)))return u;for(;u=kh(c.next.bind(c),i);)if(n(u))return u}return null},Pl=(t,o)=>{for(;t&&t!==o;){if(fl(t))return t;t=t.parentNode}return null},Fd=(t,o,n)=>Pl(t.container(),n)===Pl(o.container(),n),Wp=(t,o)=>{if(!o)return F.none();const n=o.container(),a=o.offset();return wh(n)?F.from(n.childNodes[a+t]):F.none()},Kg=(t,o)=>{var n;const a=((n=o.ownerDocument)!==null&&n!==void 0?n:document).createRange();return t?(a.setStartBefore(o),a.setEndBefore(o)):(a.setStartAfter(o),a.setEndAfter(o)),a},K0=(t,o,n)=>Pl(o,t)===Pl(n,t),gx=(t,o,n)=>{const a=t?"previousSibling":"nextSibling";let i=n;for(;i&&i!==o;){let c=i[a];if(c&&Zp(c)&&(c=c[a]),Zu(c)||xh(c)){if(K0(o,c,i))return c;break}if(G0(c))break;i=i.parentNode}return null},lg=Je(Kg,!0),Yg=Je(Kg,!1),ey=(t,o,n)=>{let a;const i=Je(gx,!0,o),c=Je(gx,!1,o),d=n.startContainer,u=n.startOffset;if(Hc(d)){const f=mx(d)?d.parentNode:d,y=f.getAttribute("data-mce-caret");if(y==="before"&&(a=f.nextSibling,vh(a)))return lg(a);if(y==="after"&&(a=f.previousSibling,vh(a)))return Yg(a)}if(!n.collapsed)return n;if(vo(d)){if(Zp(d)){if(t===1){if(a=c(d),a)return lg(a);if(a=i(d),a)return Yg(a)}if(t===-1){if(a=i(d),a)return Yg(a);if(a=c(d),a)return lg(a)}return n}if(Ig(d)&&u>=d.data.length-1)return t===1&&(a=c(d),a)?lg(a):n;if(Yf(d)&&u<=1)return t===-1&&(a=i(d),a)?Yg(a):n;if(u===d.data.length)return a=c(d),a?lg(a):n;if(u===0)return a=i(d),a?Yg(a):n}return n},Y0=(t,o)=>Wp(t?0:-1,o).filter(Zu),Gp=(t,o,n)=>{const a=ey(t,o,n);return t===-1?Ut.fromRangeStart(a):Ut.fromRangeEnd(a)},_h=t=>F.from(t.getNode()).map(Ze),ty=(t,o)=>{let n=o;for(;n=t(n);)if(n.isVisible())return n;return n},Kp=(t,o)=>{const n=Fd(t,o);return!(n||!fa(t.getNode()))||n};var Qi;(function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"})(Qi||(Qi={}));const S_=Kr,Sr=vo,p=bn,b=fa,_=Md,A=t=>Qf(t)||(o=>!!Sb(o)&&!fe(Fo(o.getElementsByTagName("*")),(n,a)=>n||ss(a),!1))(t),I=Eb,H=(t,o)=>t.hasChildNodes()&&o<t.childNodes.length?t.childNodes[o]:null,q=(t,o)=>{if(ig(t)){if(_(o.previousSibling)&&!Sr(o.previousSibling))return Ut.before(o);if(Sr(o))return Ut(o,0)}if(Vc(t)){if(_(o.nextSibling)&&!Sr(o.nextSibling))return Ut.after(o);if(Sr(o))return Ut(o,o.data.length)}return Vc(t)?b(o)?Ut.before(o):Ut.after(o):Ut.before(o)},J=(t,o,n)=>{let a,i,c,d;if(!p(n)||!o)return null;if(o.isEqual(Ut.after(n))&&n.lastChild){if(d=Ut.after(n.lastChild),Vc(t)&&_(n.lastChild)&&p(n.lastChild))return b(n.lastChild)?Ut.before(n.lastChild):d}else d=o;const u=d.container();let f=d.offset();if(Sr(u)){if(Vc(t)&&f>0)return Ut(u,--f);if(ig(t)&&f<u.length)return Ut(u,++f);a=u}else{if(Vc(t)&&f>0&&(i=H(u,f-1),_(i)))return!A(i)&&(c=km(i,t,I,i),c)?Sr(c)?Ut(c,c.data.length):Ut.after(c):Sr(i)?Ut(i,i.data.length):Ut.before(i);if(ig(t)&&f<u.childNodes.length&&(i=H(u,f),_(i)))return b(i)?((v,k)=>{const E=k.nextSibling;return E&&_(E)?Sr(E)?Ut(E,0):Ut.before(E):J(Qi.Forwards,Ut.after(k),v)})(n,i):!A(i)&&(c=km(i,t,I,i),c)?Sr(c)?Ut(c,0):Ut.before(c):Sr(i)?Ut(i,0):Ut.after(i);a=i||d.getNode()}if(a&&(ig(t)&&d.isAtEnd()||Vc(t)&&d.isAtStart())&&(a=km(a,t,Dt,n,!0),I(a,n)))return q(t,a);i=a&&km(a,t,I,n);const y=nt(et(((v,k)=>{const E=[];let B=v;for(;B&&B!==k;)E.push(B),B=B.parentNode;return E})(u,n),S_));return!y||i&&y.contains(i)?i?q(t,i):null:(d=ig(t)?Ut.after(y):Ut.before(y),d)},ce=t=>({next:o=>J(Qi.Forwards,o,t),prev:o=>J(Qi.Backwards,o,t)}),Ne=t=>Ut.isTextPosition(t)?t.offset()===0:Md(t.getNode()),Ye=t=>{if(Ut.isTextPosition(t)){const o=t.container();return t.offset()===o.data.length}return Md(t.getNode(!0))},ve=(t,o)=>!Ut.isTextPosition(t)&&!Ut.isTextPosition(o)&&t.getNode()===o.getNode(!0),Oe=(t,o,n)=>{const a=ce(o);return F.from(t?a.next(n):a.prev(n))},He=(t,o,n)=>Oe(t,o,n).bind(a=>Fd(n,a,o)&&((i,c,d)=>{return i?!ve(c,d)&&(u=c,!(!Ut.isTextPosition(u)&&fa(u.getNode())))&&Ye(c)&&Ne(d):!ve(d,c)&&Ne(c)&&Ye(d);var u})(t,n,a)?Oe(t,o,a):F.some(a)),ft=(t,o,n,a)=>He(t,o,n).bind(i=>a(i)?ft(t,o,i,a):F.some(i)),xt=(t,o)=>{const n=t?o.firstChild:o.lastChild;return vo(n)?F.some(Ut(n,t?0:n.data.length)):n?Md(n)?F.some(t?Ut.before(n):fa(a=n)?Ut.before(a):Ut.after(a)):((i,c,d)=>{const u=i?Ut.before(d):Ut.after(d);return Oe(i,c,u)})(t,o,n):F.none();var a},Gt=Je(Oe,!0),Xt=Je(Oe,!1),Zt=Je(xt,!0),Ge=Je(xt,!1),fo="_mce_caret",To=t=>bn(t)&&t.id===fo,Bo=(t,o)=>{let n=o;for(;n&&n!==t;){if(To(n))return n;n=n.parentNode}return null},On=t=>jo(t,"name"),Vn=t=>to.isArray(t.start),na=t=>!(!On(t)&&ht(t.forward))||t.forward,er=(t,o)=>(bn(o)&&t.isBlock(o)&&!o.innerHTML&&(o.innerHTML='<br data-mce-bogus="1" />'),o),Er=(t,o)=>Ge(t).fold(So,n=>(o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),!0)),dr=(t,o,n)=>!(!(a=>!a.hasChildNodes())(o)||!Bo(t,o)||(((a,i)=>{var c;const d=((c=a.ownerDocument)!==null&&c!==void 0?c:document).createTextNode(Fi);a.appendChild(d),i.setStart(d,0),i.setEnd(d,0)})(o,n),0)),Ca=(t,o,n,a)=>{const i=n[o?"start":"end"],c=t.getRoot();if(i){let d=c,u=i[0];for(let f=i.length-1;d&&f>=1;f--){const y=d.childNodes;if(dr(c,d,a))return!0;if(i[f]>y.length-1)return!!dr(c,d,a)||Er(d,a);d=y[i[f]]}vo(d)&&(u=Math.min(i[0],d.data.length)),bn(d)&&(u=Math.min(i[0],d.childNodes.length)),o?a.setStart(d,u):a.setEnd(d,u)}return!0},ti=t=>vo(t)&&t.data.length>0,el=(t,o,n)=>{const a=t.get(n.id+"_"+o),i=a==null?void 0:a.parentNode,c=n.keep;if(a&&i){let d,u;if(o==="start"?c?a.hasChildNodes()?(d=a.firstChild,u=1):ti(a.nextSibling)?(d=a.nextSibling,u=0):ti(a.previousSibling)?(d=a.previousSibling,u=a.previousSibling.data.length):(d=i,u=t.nodeIndex(a)+1):(d=i,u=t.nodeIndex(a)):c?a.hasChildNodes()?(d=a.firstChild,u=1):ti(a.previousSibling)?(d=a.previousSibling,u=a.previousSibling.data.length):(d=i,u=t.nodeIndex(a)):(d=i,u=t.nodeIndex(a)),!c){const f=a.previousSibling,y=a.nextSibling;let v;for(to.each(to.grep(a.childNodes),k=>{vo(k)&&(k.data=k.data.replace(/\uFEFF/g,""))});v=t.get(n.id+"_"+o);)t.remove(v,!0);if(vo(y)&&vo(f)&&!Xn.browser.isOpera()){const k=f.data.length;f.appendData(y.data),t.remove(y),d=f,u=k}}return F.some(Ut(d,u))}return F.none()},ki=(t,o,n)=>((a,i,c=!1)=>i===2?Mb(Li,c,a):i===3?(d=>{const u=d.getRng();return{start:E0(d.dom.getRoot(),Ut.fromRangeStart(u)),end:E0(d.dom.getRoot(),Ut.fromRangeEnd(u)),forward:d.isForward()}})(a):i?(d=>({rng:d.getRng(),forward:d.isForward()}))(a):Db(a,!1))(t,o,n),Yl=(t,o)=>{((n,a)=>{const i=n.dom;if(a){if(Vn(a))return((c,d)=>{const u=c.createRng();return Ca(c,!0,d,u)&&Ca(c,!1,d,u)?F.some({range:u,forward:na(d)}):F.none()})(i,a);if((c=>Ve(c.start))(a))return((c,d)=>{const u=F.from(qa(c.getRoot(),d.start)),f=F.from(qa(c.getRoot(),d.end));return qn(u,f,(y,v)=>{const k=c.createRng();return k.setStart(y.container(),y.offset()),k.setEnd(v.container(),v.offset()),{range:k,forward:na(d)}})})(i,a);if((c=>jo(c,"id"))(a))return((c,d)=>{const u=el(c,"start",d),f=el(c,"end",d);return qn(u,f.or(u),(y,v)=>{const k=c.createRng();return k.setStart(er(c,y.container()),y.offset()),k.setEnd(er(c,v.container()),v.offset()),{range:k,forward:na(d)}})})(i,a);if(On(a))return((c,d)=>F.from(c.select(d.name)[d.index]).map(u=>{const f=c.createRng();return f.selectNode(u),{range:f,forward:!0}}))(i,a);if((c=>jo(c,"rng"))(a))return F.some({range:a.rng,forward:na(a)})}return F.none()})(t,o).each(({range:n,forward:a})=>{t.setRng(n,a)})},tl=t=>bn(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",Vi=(qu=ms,t=>qu===t);var qu;const Wu=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,_m=t=>!Wu(t)&&!Vi(t)&&!Ng(t),cg=t=>{const o=[];if(t)for(let n=0;n<t.rangeCount;n++)o.push(t.getRangeAt(n));return o},Ch=(t,o)=>{const n=Ss(o,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:(a=>et((i=>at(i,c=>{const d=Ha(c);return d?[Ze(d)]:[]}))(a),Lg))(t)},Cm=t=>Ch(cg(t.selection.getSel()),Ze(t.getBody())),X0=(t,o)=>yn(t,"table",o),c3=t=>ua(t).fold(Rt([t]),o=>[t].concat(c3(o))),px=t=>ta(t).fold(Rt([t]),o=>ur(o)==="br"?yt(o).map(n=>[t].concat(px(n))).getOr([]):[t].concat(px(o))),fx=(t,o)=>qn((n=>{const a=n.startContainer,i=n.startOffset;return vo(a)?i===0?F.some(Ze(a)):F.none():F.from(a.childNodes[i]).map(Ze)})(o),(n=>{const a=n.endContainer,i=n.endOffset;return vo(a)?i===a.data.length?F.some(Ze(a)):F.none():F.from(a.childNodes[i-1]).map(Ze)})(o),(n,a)=>{const i=ke(c3(t),Je(Wr,n)),c=ke(px(t),Je(Wr,a));return i.isSome()&&c.isSome()}).getOr(!1),oy=(t,o,n,a)=>{const i=n,c=new Ws(n,i),d=Ft(t.schema.getMoveCaretBeforeOnEnterElements(),(f,y)=>!ao(["td","th","table"],y.toLowerCase()));let u=n;do{if(vo(u)&&to.trim(u.data).length!==0)return void(a?o.setStart(u,0):o.setEnd(u,u.data.length));if(d[u.nodeName])return void(a?o.setStartBefore(u):u.nodeName==="BR"?o.setEndBefore(u):o.setEndAfter(u))}while(u=a?c.next():c.prev());i.nodeName==="BODY"&&(a?o.setStart(i,0):o.setEnd(i,i.childNodes.length))},hl=t=>{const o=t.selection.getSel();return $e(o)&&o.rangeCount>0},Ld=(t,o)=>{const n=Cm(t);n.length>0?_e(n,a=>{const i=a.dom,c=t.dom.createRng();c.setStartBefore(i),c.setEndAfter(i),o(c,!0)}):o(t.selection.getRng(),!1)},Id=(t,o,n)=>{const a=Db(t,o);n(a),t.moveToBookmark(a)},Yp=t=>mt(t==null?void 0:t.nodeType),J0=t=>bn(t)&&!tl(t)&&!To(t)&&!oc(t),d3=(t,o,n)=>{const{selection:a,dom:i}=t,c=a.getNode(),d=Kr(c);Id(a,!0,()=>{o()}),d&&Kr(c)&&i.isChildOf(c,t.getBody())?t.selection.select(c):n(a.getStart())&&E_(i,a)},E_=(t,o)=>{var n,a;const i=o.getRng(),{startContainer:c,startOffset:d}=i;if(!((u,f)=>{if(J0(f)&&!/^(TD|TH)$/.test(f.nodeName)){const y=u.getAttrib(f,"data-mce-selected"),v=parseInt(y,10);return!isNaN(v)&&v>0}return!1})(t,o.getNode())&&bn(c)){const u=c.childNodes,f=t.getRoot();let y;if(d<u.length){const v=u[d];y=new Ws(v,(n=t.getParent(v,t.isBlock))!==null&&n!==void 0?n:f)}else{const v=u[u.length-1];y=new Ws(v,(a=t.getParent(v,t.isBlock))!==null&&a!==void 0?a:f),y.next(!0)}for(let v=y.current();v;v=y.next()){if(t.getContentEditable(v)==="false")return;if(vo(v)&&!bx(v))return i.setStart(v,0),void o.setRng(i)}}},hx=(t,o,n)=>{if(t){const a=o?"nextSibling":"previousSibling";for(t=t[a];t;t=t[a])if(bn(t)||!bx(t))return t}},z_=(t,o)=>!!t.getTextBlockElements()[o.nodeName.toLowerCase()]||ha(t,o),Xp=(t,o,n)=>t.schema.isValidChild(o,n),bx=(t,o=!1)=>{if($e(t)&&vo(t)){const n=o?t.data.replace(/ /g," "):t.data;return tc(n)}return!1},T_=(t,o)=>{const n=t.dom;return J0(o)&&n.getContentEditable(o)==="false"&&((a,i)=>{const c="[data-mce-cef-wrappable]",d=og(a),u=Qr(d)?c:`${c},${d}`;return vl(Ze(i),u)})(t,o)&&n.select('[contenteditable="true"]',o).length===0},dg=(t,o)=>ge(t)?t(o):($e(o)&&(t=t.replace(/%(\w+)/g,(n,a)=>o[a]||n)),t),Q0=(t,o)=>(o=o||"",t=""+((t=t||"").nodeName||t),o=""+(o.nodeName||o),t.toLowerCase()===o.toLowerCase()),ja=(t,o)=>{if(ue(t))return null;{let n=String(t);return o!=="color"&&o!=="backgroundColor"||(n=Ad(n)),o==="fontWeight"&&t===700&&(n="bold"),o==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Sm=(t,o,n)=>{const a=t.getStyle(o,n);return ja(a,n)},A_=(t,o)=>{let n;return t.getParent(o,a=>!!bn(a)&&(n=t.getStyle(a,"text-decoration"),!!n&&n!=="none")),n},e1=(t,o,n)=>t.getParents(o,n,t.getRoot()),yx=(t,o,n)=>{const a=t.formatter.get(o);return $e(a)&&yo(a,n)},Gu=t=>$r(t,"block"),Pd=t=>$r(t,"selector"),$i=t=>$r(t,"inline"),O_=t=>Pd(t)&&t.expand!==!1&&!$i(t),N_=t=>(o=>{const n=[];let a=o;for(;a;){if(vo(a)&&a.data!==Fi||a.childNodes.length>1)return[];bn(a)&&n.push(a),a=a.firstChild}return n})(t).length>0,t1=t=>To(t.dom)&&N_(t.dom),Sh=tl,u3=e1,m3=bx,Hd=z_,Xl=(t,o)=>{let n=o;for(;n;){if(bn(n)&&t.getContentEditable(n))return t.getContentEditable(n)==="false"?n:o;n=n.parentNode}return o},Eh=(t,o,n,a)=>{const i=o.data;if(t){for(let c=n;c>0;c--)if(a(i.charAt(c-1)))return c}else for(let c=n;c<i.length;c++)if(a(i.charAt(c)))return c;return-1},JA=(t,o,n)=>Eh(t,o,n,a=>Vi(a)||Wu(a)),QA=(t,o,n)=>Eh(t,o,n,_m),qr=(t,o,n,a,i,c)=>{let d;const u=t.getParent(n,t.isBlock)||o,f=(y,v,k)=>{const E=Iu(t),B=i?E.backwards:E.forwards;return F.from(B(y,v,(N,P)=>Sh(N.parentNode)?-1:(d=N,k(i,N,P)),u))};return f(n,a,JA).bind(y=>c?f(y.container,y.offset+(i?-1:0),QA):F.some(y)).orThunk(()=>d?F.some({container:d,offset:i?0:d.length}):F.none())},g3=(t,o,n,a,i)=>{const c=a[i];vo(a)&&Qr(a.data)&&c&&(a=c);const d=u3(t,a);for(let u=0;u<d.length;u++)for(let f=0;f<o.length;f++){const y=o[f];if((!$e(y.collapsed)||y.collapsed===n.collapsed)&&Pd(y)&&t.is(d[u],y.selector))return d[u]}return a},M_=(t,o,n,a)=>{var i;let c=n;const d=t.getRoot(),u=o[0];if(Gu(u)&&(c=u.wrapper?null:t.getParent(n,u.block,d)),!c){const f=(i=t.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&i!==void 0?i:d;c=t.getParent(vo(n)?n.parentNode:n,y=>y!==d&&Hd(t.schema,y),f)}if(c&&Gu(u)&&u.wrapper&&(c=u3(t,c,"ul,ol").reverse()[0]||c),!c)for(c=n;c&&c[a]&&!t.isBlock(c[a])&&(c=c[a],!Q0(c,"br")););return c||n},vx=(t,o,n,a)=>{const i=n.parentNode;return!$e(n[a])&&(!(i!==o&&!ue(i)&&!t.isBlock(i))||vx(t,o,i,a))},xx=(t,o,n,a,i)=>{let c=n;const d=i?"previousSibling":"nextSibling",u=t.getRoot();if(vo(n)&&!m3(n)&&(i?a>0:a<n.data.length))return n;for(;c;){if(!o[0].block_expand&&t.isBlock(c))return c;for(let y=c[d];y;y=y[d]){const v=vo(y)&&!vx(t,u,y,d);if(!Sh(y)&&(!fa(f=y)||!f.getAttribute("data-mce-bogus")||f.nextSibling)&&!m3(y,v))return c}if(c===u||c.parentNode===u){n=c;break}c=c.parentNode}var f;return n},p3=t=>Sh(t.parentNode)||Sh(t),zh=(t,o,n,a=!1)=>{let{startContainer:i,startOffset:c,endContainer:d,endOffset:u}=o;const f=n[0];return bn(i)&&i.hasChildNodes()&&(i=Nd(i,c),vo(i)&&(c=0)),bn(d)&&d.hasChildNodes()&&(d=Nd(d,o.collapsed?u:u-1),vo(d)&&(u=d.data.length)),i=Xl(t,i),d=Xl(t,d),p3(i)&&(i=Sh(i)?i:i.parentNode,i=o.collapsed?i.previousSibling||i:i.nextSibling||i,vo(i)&&(c=o.collapsed?i.length:0)),p3(d)&&(d=Sh(d)?d:d.parentNode,d=o.collapsed?d.nextSibling||d:d.previousSibling||d,vo(d)&&(u=o.collapsed?0:d.length)),o.collapsed&&(qr(t,t.getRoot(),i,c,!0,a).each(({container:y,offset:v})=>{i=y,c=v}),qr(t,t.getRoot(),d,u,!1,a).each(({container:y,offset:v})=>{d=y,u=v})),($i(f)||f.block_expand)&&($i(f)&&vo(i)&&c!==0||(i=xx(t,n,i,c,!0)),$i(f)&&vo(d)&&u!==d.data.length||(d=xx(t,n,d,u,!1))),O_(f)&&(i=g3(t,n,o,i,"previousSibling"),d=g3(t,n,o,d,"nextSibling")),(Gu(f)||Pd(f))&&(i=M_(t,n,i,"previousSibling"),d=M_(t,n,d,"nextSibling"),Gu(f)&&(t.isBlock(i)||(i=xx(t,n,i,c,!0),vo(i)&&(c=0)),t.isBlock(d)||(d=xx(t,n,d,u,!1),vo(d)&&(u=d.data.length)))),bn(i)&&i.parentNode&&(c=t.nodeIndex(i),i=i.parentNode),bn(d)&&d.parentNode&&(u=t.nodeIndex(d)+1,d=d.parentNode),{startContainer:i,startOffset:c,endContainer:d,endOffset:u}},o1=(t,o,n)=>{var a;const i=o.startOffset,c=Nd(o.startContainer,i),d=o.endOffset,u=Nd(o.endContainer,d-1),f=O=>{const V=O[0];vo(V)&&V===c&&i>=V.data.length&&O.splice(0,1);const G=O[O.length-1];return d===0&&O.length>0&&G===u&&vo(G)&&O.splice(O.length-1,1),O},y=(O,V,G)=>{const Y=[];for(;O&&O!==G;O=O[V])Y.push(O);return Y},v=(O,V)=>t.getParent(O,G=>G.parentNode===V,V),k=(O,V,G)=>{const Y=G?"nextSibling":"previousSibling";for(let ae=O,ee=ae.parentNode;ae&&ae!==V;ae=ee){ee=ae.parentNode;const we=y(ae===O?ae:ae[Y],Y);we.length&&(G||we.reverse(),n(f(we)))}};if(c===u)return n(f([c]));const E=(a=t.findCommonAncestor(c,u))!==null&&a!==void 0?a:t.getRoot();if(t.isChildOf(c,u))return k(c,E,!0);if(t.isChildOf(u,c))return k(u,E);const B=v(c,E)||c,N=v(u,E)||u;k(c,B,!0);const P=y(B===c?B:B.nextSibling,"nextSibling",N===u?N.nextSibling:N);P.length&&n(f(P)),k(u,N)},D_=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],wx=(t,o,n,a,i,c)=>{const{uid:d=o,...u}=n;Ls(t,tn()),be(t,`${Rn()}`,d),be(t,`${ln()}`,a);const{attributes:f={},classes:y=[]}=i(d,u);if(lt(t,f),((v,k)=>{_e(k,E=>{Ls(v,E)})})(t,y),c){y.length>0&&be(t,`${Or()}`,y.join(","));const v=Zo(f);v.length>0&&be(t,`${Oa()}`,v.join(","))}},R_=(t,o,n,a,i)=>{const c=Is("span",t);return wx(c,o,n,a,i,!1),c},e5=(t,o,n,a,i,c)=>{const d=[],u=R_(t.getDoc(),n,c,a,i),f=cl(),y=()=>{f.clear()},v=E=>{_e(E,k)},k=E=>{switch(((B,N,P,O)=>vi(N).fold(()=>"skipping",V=>O==="br"||(G=>Ce(G)&&Ea(G)===Fi)(N)?"valid":(G=>Q(G)&&Dl(G,tn()))(N)?"existing":To(N.dom)?"caret":yo(D_,G=>vl(N,G))?"valid-block":Xp(B,P,O)&&Xp(B,ur(V),P)?"valid":"invalid-child"))(t,E,"span",ur(E))){case"invalid-child":{y();const B=Fr(E);v(B),y();break}case"valid-block":y(),wx(E,n,c,a,i,!0);break;case"valid":{const B=f.get().getOrThunk(()=>{const N=bc(u);return d.push(N),f.set(N),N});vs(E,B);break}}};return o1(t.dom,o,E=>{y(),(B=>{const N=No(B,Ze);v(N)})(E)}),d},f3=t=>{const o=(()=>{const c={};return{register:(d,u)=>{c[d]={name:d,settings:u}},lookup:d=>yr(c,d).map(u=>u.settings),getNames:()=>Zo(c)}})();((c,d)=>{const u=ln(),f=v=>F.from(v.attr(u)).bind(d.lookup),y=v=>{var k,E;v.attr(Rn(),null),v.attr(ln(),null),v.attr(Zr(),null);const B=F.from(v.attr(Oa())).map(V=>V.split(",")).getOr([]),N=F.from(v.attr(Or())).map(V=>V.split(",")).getOr([]);_e(B,V=>v.attr(V,null));const P=(E=(k=v.attr("class"))===null||k===void 0?void 0:k.split(" "))!==null&&E!==void 0?E:[],O=dt(P,[tn()].concat(N));v.attr("class",O.length>0?O.join(" "):null),v.attr(Or(),null),v.attr(Oa(),null)};c.serializer.addTempAttr(Zr()),c.serializer.addAttributeFilter(u,v=>{for(const k of v)f(k).each(E=>{E.persistent===!1&&(k.name==="span"?k.unwrap():y(k))})})})(t,o);const n=((c,d)=>{const u=as({}),f=()=>({listeners:[],previous:cl()}),y=(B,N)=>{v(B,P=>(N(P),P))},v=(B,N)=>{const P=u.get(),O=N(yr(P,B).getOrThunk(f));P[B]=O,u.set(P)},k=(B,N)=>{_e(Cl(c,B),P=>{N?be(P,Zr(),"true"):ne(P,Zr())})},E=lo(()=>{const B=Oo(d.getNames());_e(B,N=>{v(N,P=>{const O=P.previous.get();return sc(c,F.some(N)).fold(()=>{O.each(V=>{(G=>{y(G,Y=>{_e(Y.listeners,ae=>ae(!1,G))})})(N),P.previous.clear(),k(V,!1)})},({uid:V,name:G,elements:Y})=>{bi(O,V)||(O.each(ae=>k(ae,!1)),((ae,ee,we)=>{y(ae,je=>{_e(je.listeners,Pe=>Pe(!0,ae,{uid:ee,nodes:No(we,rt=>rt.dom)}))})})(G,V,Y),P.previous.set(V),k(V,!0))}),{previous:P.previous,listeners:P.listeners}})})},30);return c.on("remove",()=>{E.cancel()}),c.on("NodeChange",()=>{E.throttle()}),{addListener:(B,N)=>{v(B,P=>({previous:P.previous,listeners:P.listeners.concat([N])}))}}})(t,o),a=xo("span"),i=c=>{_e(c,d=>{a(d)?Wi(d):(u=>{Cs(u,tn()),ne(u,`${Rn()}`),ne(u,`${ln()}`),ne(u,`${Zr()}`);const f=pn(u,`${Oa()}`).map(k=>k.split(",")).getOr([]),y=pn(u,`${Or()}`).map(k=>k.split(",")).getOr([]);var v;_e(f,k=>ne(u,k)),v=u,_e(y,k=>{Cs(v,k)}),ne(u,`${Or()}`),ne(u,`${Oa()}`)})(d)})};return{register:(c,d)=>{o.register(c,d)},annotate:(c,d)=>{o.lookup(c).each(u=>{((f,y,v,k)=>{f.undoManager.transact(()=>{const E=f.selection,B=E.getRng(),N=Cm(f).length>0,P=sd("mce-annotation");if(B.collapsed&&!N&&((O,V)=>{const G=zh(O.dom,V,[{inline:"span"}]);V.setStart(G.startContainer,G.startOffset),V.setEnd(G.endContainer,G.endOffset),O.selection.setRng(V)})(f,B),E.getRng().collapsed&&!N){const O=R_(f.getDoc(),P,k,y,v.decorate);Dc(O,ms),E.getRng().insertNode(O.dom),E.select(O.dom)}else Id(E,!1,()=>{Ld(f,O=>{e5(f,O,P,y,v.decorate,k)})})})})(t,c,u,d)})},annotationChanged:(c,d)=>{n.addListener(c,d)},remove:c=>{sc(t,F.some(c)).each(({elements:d})=>{const u=t.selection.getBookmark();i(d),t.selection.moveToBookmark(u)})},removeAll:c=>{const d=t.selection.getBookmark();zt(Fg(t,c),(u,f)=>{i(u)}),t.selection.moveToBookmark(d)},getAll:c=>{const d=Fg(t,c);return Xo(d,u=>No(u,f=>f.dom))}}},n1=t=>({getBookmark:Je(ki,t),moveToBookmark:Je(Yl,t)});n1.isBookmarkNode=tl;const Wn=(t,o,n)=>!n.collapsed&&yo(n.getClientRects(),a=>((i,c,d)=>c>=i.left&&c<=i.right&&d>=i.top&&d<=i.bottom)(a,t,o)),B_=(t,o,n)=>{t.dispatch(o,n)},ny=(t,o,n,a)=>{t.dispatch("FormatApply",{format:o,node:n,vars:a})},kx=(t,o,n,a)=>{t.dispatch("FormatRemove",{format:o,node:n,vars:a})},F_=(t,o)=>t.dispatch("SetContent",o),L_=(t,o)=>t.dispatch("GetContent",o),_x=(t,o)=>{t.dispatch("AutocompleterUpdateActiveRange",o)},I_=(t,o)=>t.dispatch("PastePlainTextToggle",{state:o}),hn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||hn.metaKeyPressed(t),metaKeyPressed:t=>Xn.os.isMacOS()||Xn.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},Th="data-mce-selected",ba=Math.abs,Cx=Math.round,Em={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},zm=(t,o)=>{const n=o.dom,a=o.getDoc(),i=document,c=o.getBody();let d,u,f,y,v,k,E,B,N,P,O,V,G,Y,ae;const ee=Yo=>$e(Yo)&&(nu(Yo)||n.is(Yo,"figure.image")),we=Yo=>js(Yo)||n.hasClass(Yo,"mce-preview-object"),je=Yo=>{const Cn=Yo.target;((Qe,st)=>{if((Ht=>Ht.type==="longpress"||Ht.type.indexOf("touch")===0)(Qe)){const Ht=Qe.touches[0];return ee(Qe.target)&&!Wn(Ht.clientX,Ht.clientY,st)}return ee(Qe.target)&&!Wn(Qe.clientX,Qe.clientY,st)})(Yo,o.selection.getRng())&&!Yo.isDefaultPrevented()&&o.selection.select(Cn)},Pe=Yo=>n.hasClass(Yo,"mce-preview-object")&&$e(Yo.firstElementChild)?[Yo,Yo.firstElementChild]:n.is(Yo,"figure.image")?[Yo.querySelector("img")]:[Yo],rt=Yo=>{const Cn=tg(o);return!(!Cn||o.mode.isReadOnly())&&Yo.getAttribute("data-mce-resize")!=="false"&&Yo!==o.getBody()&&(n.hasClass(Yo,"mce-preview-object")&&$e(Yo.firstElementChild)?vl(Ze(Yo.firstElementChild),Cn):vl(Ze(Yo),Cn))},Mt=(Yo,Cn,Qe)=>{if($e(Qe)){const st=Pe(Yo);_e(st,Ht=>{Ht.style[Cn]||!o.schema.isValid(Ht.nodeName.toLowerCase(),Cn)?n.setStyle(Ht,Cn,Qe):n.setAttrib(Ht,Cn,""+Qe)})}},Fe=(Yo,Cn,Qe)=>{Mt(Yo,"width",Cn),Mt(Yo,"height",Qe)},Ue=Yo=>{let Cn,Qe,st,Ht,It;Cn=Yo.screenX-k,Qe=Yo.screenY-E,V=Cn*y[2]+B,G=Qe*y[3]+N,V=V<5?5:V,G=G<5?5:G,st=(ee(d)||we(d))&&Rp(o)!==!1?!hn.modifierPressed(Yo):hn.modifierPressed(Yo),st&&(ba(Cn)>ba(Qe)?(G=Cx(V*P),V=Cx(G/P)):(V=Cx(G/P),G=Cx(V*P))),Fe(u,V,G),Ht=y.startPos.x+Cn,It=y.startPos.y+Qe,Ht=Ht>0?Ht:0,It=It>0?It:0,n.setStyles(f,{left:Ht,top:It,display:"block"}),f.innerHTML=V+" &times; "+G,y[2]<0&&u.clientWidth<=V&&n.setStyle(u,"left",void 0+(B-V)),y[3]<0&&u.clientHeight<=G&&n.setStyle(u,"top",void 0+(N-G)),Cn=c.scrollWidth-Y,Qe=c.scrollHeight-ae,Cn+Qe!==0&&n.setStyles(f,{left:Ht-Cn,top:It-Qe}),O||(((Ko,Po,Pn,Gn,br)=>{Ko.dispatch("ObjectResizeStart",{target:Po,width:Pn,height:Gn,origin:br})})(o,d,B,N,"corner-"+y.name),O=!0)},ot=()=>{const Yo=O;O=!1,Yo&&(Mt(d,"width",V),Mt(d,"height",G)),n.unbind(a,"mousemove",Ue),n.unbind(a,"mouseup",ot),i!==a&&(n.unbind(i,"mousemove",Ue),n.unbind(i,"mouseup",ot)),n.remove(u),n.remove(f),n.remove(v),Qt(d),Yo&&(((Cn,Qe,st,Ht,It)=>{Cn.dispatch("ObjectResized",{target:Qe,width:st,height:Ht,origin:It})})(o,d,V,G,"corner-"+y.name),n.setAttrib(d,"style",n.getAttrib(d,"style"))),o.nodeChanged()},Qt=Yo=>{Bn();const Cn=n.getPos(Yo,c),Qe=Cn.x,st=Cn.y,Ht=Yo.getBoundingClientRect(),It=Ht.width||Ht.right-Ht.left,Ko=Ht.height||Ht.bottom-Ht.top;d!==Yo&&(Ao(),d=Yo,V=G=0);const Po=o.dispatch("ObjectSelected",{target:Yo});rt(Yo)&&!Po.isDefaultPrevented()?zt(Em,(Pn,Gn)=>{let br=n.get("mceResizeHandle"+Gn);br&&n.remove(br),br=n.add(c,"div",{id:"mceResizeHandle"+Gn,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Gn+"-resize; margin:0; padding:0"}),n.bind(br,"mousedown",bs=>{bs.stopImmediatePropagation(),bs.preventDefault(),(Es=>{const Sg=Pe(d)[0];k=Es.screenX,E=Es.screenY,B=Sg.clientWidth,N=Sg.clientHeight,P=N/B,y=Pn,y.name=Gn,y.startPos={x:It*Pn[0]+Qe,y:Ko*Pn[1]+st},Y=c.scrollWidth,ae=c.scrollHeight,v=n.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(v,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),u=((fn,kr)=>{if(we(kr))return fn.create("img",{src:Xn.transparentSrc});if(oo(kr)){const Ir=Te(y.name,"n")?vt:_o,fr=kr.cloneNode(!0);return Ir(fn.select("tr",fr)).each(ma=>{const ys=fn.select("td,th",ma);fn.setStyle(ma,"height",null),_e(ys,an=>fn.setStyle(an,"height",null))}),fr}return kr.cloneNode(!0)})(n,d),n.addClass(u,"mce-clonedresizable"),n.setAttrib(u,"data-mce-bogus","all"),u.contentEditable="false",n.setStyles(u,{left:Qe,top:st,margin:0}),Fe(u,It,Ko),u.removeAttribute(Th),c.appendChild(u),n.bind(a,"mousemove",Ue),n.bind(a,"mouseup",ot),i!==a&&(n.bind(i,"mousemove",Ue),n.bind(i,"mouseup",ot)),f=n.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},B+" &times; "+N)})(bs)}),Pn.elm=br,n.setStyles(br,{left:It*Pn[0]+Qe-br.offsetWidth/2,top:Ko*Pn[1]+st-br.offsetHeight/2})}):Ao(!1)},Do=Yt(Qt,0),Ao=(Yo=!0)=>{Do.cancel(),Bn(),d&&Yo&&d.removeAttribute(Th),zt(Em,(Cn,Qe)=>{const st=n.get("mceResizeHandle"+Qe);st&&(n.unbind(st),n.remove(st))})},vn=(Yo,Cn)=>n.isChildOf(Yo,Cn),Tn=Yo=>{if(O||o.removed||o.composing)return;const Cn=Yo.type==="mousedown"?Yo.target:t.getNode(),Qe=$l(Ze(Cn),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(Ht=>Ht.dom).filter(Ht=>n.isEditable(Ht.parentElement)||Ht.nodeName==="IMG"&&n.isEditable(Ht)).getOrUndefined(),st=$e(Qe)?n.getAttrib(Qe,Th,"1"):"1";if(_e(n.select(`img[${Th}],hr[${Th}]`),Ht=>{Ht.removeAttribute(Th)}),$e(Qe)&&vn(Qe,c)&&o.hasFocus()){$n();const Ht=t.getStart(!0);if(vn(Ht,Qe)&&vn(t.getEnd(!0),Qe))return n.setAttrib(Qe,Th,st),void Do.throttle(Qe)}Ao()},Bn=()=>{zt(Em,Yo=>{Yo.elm&&(n.unbind(Yo.elm),delete Yo.elm)})},$n=()=>{try{o.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return o.on("init",()=>{$n(),o.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Tn),o.on("keyup compositionend",Yo=>{d&&d.nodeName==="TABLE"&&Tn(Yo)}),o.on("hide blur",Ao),o.on("contextmenu longpress",je,!0)}),o.on("remove",Bn),{isResizable:rt,showResizeRect:Qt,hideResizeRect:Ao,updateResizeRect:Tn,destroy:()=>{Do.cancel(),d=u=v=null}}},r1=(t,o,n)=>{const a=t.document.createRange();var i;return i=a,o.fold(c=>{i.setStartBefore(c.dom)},(c,d)=>{i.setStart(c.dom,d)},c=>{i.setStartAfter(c.dom)}),((c,d)=>{d.fold(u=>{c.setEndBefore(u.dom)},(u,f)=>{c.setEnd(u.dom,f)},u=>{c.setEndAfter(u.dom)})})(a,n),a},wc=(t,o,n,a,i)=>{const c=t.document.createRange();return c.setStart(o.dom,n),c.setEnd(a.dom,i),c},Jp=Dd([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ry=(t,o,n)=>o(Ze(n.startContainer),n.startOffset,Ze(n.endContainer),n.endOffset);Jp.ltr,Jp.rtl;const a1=(t,o,n,a)=>({start:t,soffset:o,finish:n,foffset:a}),Qp=Dd([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Xg={before:Qp.before,on:Qp.on,after:Qp.after,cata:(t,o,n,a)=>t.fold(o,n,a),getStart:t=>t.fold(D,D,D)},Sx=Dd([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ay={domRange:Sx.domRange,relative:Sx.relative,exact:Sx.exact,exactFromRange:t=>Sx.exact(t.start,t.soffset,t.finish,t.foffset),getWin:t=>{const o=(n=>n.match({domRange:a=>Ze(a.startContainer),relative:(a,i)=>Xg.getStart(a),exact:(a,i,c,d)=>a}))(t);return Ms(o)},range:a1},Ex=(t,o)=>{const n=ur(t);return n==="input"?Xg.after(t):ao(["br","img"],n)?o===0?Xg.before(t):Xg.after(t):Xg.on(t,o)},Xr=(t,o)=>{const n=t.fold(Xg.before,Ex,Xg.after),a=o.fold(Xg.before,Ex,Xg.after);return ay.relative(n,a)},Ku=(t,o,n,a)=>{const i=Ex(t,o),c=Ex(n,a);return ay.relative(i,c)},Jg=(t,o)=>{const n=document.createDocumentFragment();return _e(t,a=>{n.appendChild(a.dom)}),Ze(n)},t5=t=>{const o=ay.getWin(t).dom,n=(i,c,d,u)=>wc(o,i,c,d,u),a=(i=>i.match({domRange:c=>{const d=Ze(c.startContainer),u=Ze(c.endContainer);return Ku(d,c.startOffset,u,c.endOffset)},relative:Xr,exact:Ku}))(t);return((i,c)=>{const d=((u,f)=>f.match({domRange:y=>({ltr:Rt(y),rtl:F.none}),relative:(y,v)=>({ltr:At(()=>r1(u,y,v)),rtl:At(()=>F.some(r1(u,v,y)))}),exact:(y,v,k,E)=>({ltr:At(()=>wc(u,y,v,k,E)),rtl:At(()=>F.some(wc(u,k,E,y,v)))})}))(i,c);return((u,f)=>{const y=f.ltr();return y.collapsed?f.rtl().filter(v=>v.collapsed===!1).map(v=>Jp.rtl(Ze(v.endContainer),v.endOffset,Ze(v.startContainer),v.startOffset)).getOrThunk(()=>ry(0,Jp.ltr,y)):ry(0,Jp.ltr,y)})(0,d)})(o,a).match({ltr:n,rtl:n})},s1=(t,o,n)=>((a,i,c)=>((d,u,f)=>d.caretPositionFromPoint?((y,v,k)=>{var E;return F.from((E=y.caretPositionFromPoint)===null||E===void 0?void 0:E.call(y,v,k)).bind(B=>{if(B.offsetNode===null)return F.none();const N=y.createRange();return N.setStart(B.offsetNode,B.offset),N.collapse(),F.some(N)})})(d,u,f):d.caretRangeFromPoint?((y,v,k)=>{var E;return F.from((E=y.caretRangeFromPoint)===null||E===void 0?void 0:E.call(y,v,k))})(d,u,f):F.none())(a.document,i,c).map(d=>a1(Ze(d.startContainer),d.startOffset,Ze(d.endContainer),d.endOffset)))(t,o,n),ra=(t,o,n)=>{const a=Ms(Ze(n));return s1(a.dom,t,o).map(i=>{const c=n.createRange();return c.setStart(i.start.dom,i.soffset),c.setEnd(i.finish.dom,i.foffset),c}).getOrUndefined()},zx=(t,o)=>$e(t)&&$e(o)&&t.startContainer===o.startContainer&&t.startOffset===o.startOffset&&t.endContainer===o.endContainer&&t.endOffset===o.endOffset,Tx=(t,o,n)=>((a,i,c)=>{let d=a;for(;d&&d!==i;){if(c(d))return d;d=d.parentNode}return null})(t,o,n)!==null,o5=(t,o,n)=>Tx(t,o,a=>a.nodeName===n),Ah=(t,o)=>ul(t)&&!Tx(t,o,To),ef=(t,o,n)=>{const a=o.parentNode;if(a){const i=new Ws(o,t.getParent(a,t.isBlock)||t.getRoot());let c;for(;c=i[n?"prev":"next"]();)if(fa(c))return!0}return!1},Ax=(t,o,n,a,i)=>{const c=t.getRoot(),d=t.schema.getNonEmptyElements(),u=i.parentNode;let f,y;if(!u)return F.none();const v=t.getParent(u,t.isBlock)||c;if(a&&fa(i)&&o&&t.isEmpty(v))return F.some(Ut(u,t.nodeIndex(i)));const k=new Ws(i,v);for(;y=k[a?"prev":"next"]();){if(t.getContentEditableParent(y)==="false"||Ah(y,c))return F.none();if(vo(y)&&y.data.length>0)return o5(y,c,"A")?F.none():F.some(Ut(y,a?y.data.length:0));if(t.isBlock(y)||d[y.nodeName.toLowerCase()])return F.none();f=y}return od(f)?F.none():n&&f?F.some(Ut(f,0)):F.none()},h3=(t,o,n,a)=>{const i=t.getRoot();let c,d=!1,u=n?a.startContainer:a.endContainer,f=n?a.startOffset:a.endOffset;const y=bn(u)&&f===u.childNodes.length,v=t.schema.getNonEmptyElements();let k=n;if(ul(u))return F.none();if(bn(u)&&f>u.childNodes.length-1&&(k=!1),wi(u)&&(u=i,f=0),u===i){if(k&&(c=u.childNodes[f>0?f-1:0],c)&&(ul(c)||v[c.nodeName]||oo(c)))return F.none();if(u.hasChildNodes()){if(f=Math.min(!k&&f>0?f-1:f,u.childNodes.length-1),u=u.childNodes[f],f=vo(u)&&y?u.data.length:0,!o&&u===i.lastChild&&oo(u)||((E,B)=>{let N=B;for(;N&&N!==E;){if(Kr(N))return!0;N=N.parentNode}return!1})(i,u)||ul(u)||il(u))return F.none();if(u.hasChildNodes()&&!oo(u)){c=u;const E=new Ws(u,i);do{if(Kr(c)||ul(c)){d=!1;break}if(vo(c)&&c.data.length>0){f=k?0:c.data.length,u=c,d=!0;break}if(v[c.nodeName.toLowerCase()]&&!Mg(c)){f=t.nodeIndex(c),u=c.parentNode,k||f++,d=!0;break}}while(c=k?E.next():E.prev())}}}return o&&(vo(u)&&f===0&&Ax(t,y,o,!0,u).each(E=>{u=E.container(),f=E.offset(),d=!0}),bn(u)&&(c=u.childNodes[f],c||(c=u.childNodes[f-1]),!c||!fa(c)||((E,B)=>{var N;return((N=E.previousSibling)===null||N===void 0?void 0:N.nodeName)==="A"})(c)||ef(t,c,!1)||ef(t,c,!0)||Ax(t,y,o,!0,c).each(E=>{u=E.container(),f=E.offset(),d=!0}))),k&&!o&&vo(u)&&f===u.data.length&&Ax(t,y,o,!1,u).each(E=>{u=E.container(),f=E.offset(),d=!0}),d&&u?F.some(Ut(u,f)):F.none()},Ox=(t,o)=>{const n=o.collapsed,a=o.cloneRange(),i=Ut.fromRangeStart(o);return h3(t,n,!0,a).each(c=>{n&&Ut.isAbove(i,c)||a.setStart(c.container(),c.offset())}),n||h3(t,n,!1,a).each(c=>{a.setEnd(c.container(),c.offset())}),n&&a.collapse(!0),zx(o,a)?F.none():F.some(a)},tf=(t,o)=>t.splitText(o),Qg=t=>{let o=t.startContainer,n=t.startOffset,a=t.endContainer,i=t.endOffset;if(o===a&&vo(o)){if(n>0&&n<o.data.length)if(a=tf(o,n),o=a.previousSibling,i>n){i-=n;const c=tf(a,i).previousSibling;o=a=c,i=c.data.length,n=0}else i=0}else if(vo(o)&&n>0&&n<o.data.length&&(o=tf(o,n),n=0),vo(a)&&i>0&&i<a.data.length){const c=tf(a,i).previousSibling;a=c,i=c.data.length}return{startContainer:o,startOffset:n,endContainer:a,endOffset:i}},Oh=t=>({walk:(o,n)=>o1(t,o,n),split:Qg,expand:(o,n={type:"word"})=>{if(n.type==="word"){const a=zh(t,o,[{inline:"span"}]),i=t.createRng();return i.setStart(a.startContainer,a.startOffset),i.setEnd(a.endContainer,a.endOffset),i}return o},normalize:o=>Ox(t,o).fold(So,n=>(o.setStart(n.startContainer,n.startOffset),o.setEnd(n.endContainer,n.endOffset),!0))});Oh.compareRanges=zx,Oh.getCaretRangeFromPoint=ra,Oh.getSelectedNode=Ha,Oh.getNode=Nd;const b3=((t,o)=>{const n=i=>{const c=(d=>{const u=d.dom;return ka(d)?u.getBoundingClientRect().height:u.offsetHeight})(i);if(c<=0||c===null){const d=Fl(i,t);return parseFloat(d)||0}return c},a=(i,c)=>fe(c,(d,u)=>{const f=Fl(i,u),y=f===void 0?0:parseInt(f,10);return isNaN(y)?d:d+y},0);return{set:(i,c)=>{if(!mt(c)&&!c.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+c);const d=i.dom;Jd(d)&&(d.style[t]=c+"px")},get:n,getOuter:n,aggregate:a,max:(i,c,d)=>{const u=a(i,d);return c>u?c-u:0}}})("height"),y3=()=>Ze(document),P_=(t,o)=>t.view(o).fold(Rt([]),n=>{const a=t.owner(n),i=P_(t,a);return[n].concat(i)});var n5=Object.freeze({__proto__:null,view:t=>{var o;return(t.dom===document?F.none():F.from((o=t.dom.defaultView)===null||o===void 0?void 0:o.frameElement)).map(Ze)},owner:t=>xl(t)});const Nx=t=>ur(t)==="textarea",Mx=(t,o)=>{const n=(i=>{const c=i.dom.ownerDocument,d=c.body,u=c.defaultView,f=c.documentElement;if(d===i.dom)return Yc(d.offsetLeft,d.offsetTop);const y=Xc(u==null?void 0:u.pageYOffset,f.scrollTop),v=Xc(u==null?void 0:u.pageXOffset,f.scrollLeft),k=Xc(f.clientTop,d.clientTop),E=Xc(f.clientLeft,d.clientLeft);return Jc(i).translate(v-E,y-k)})(t),a=(i=>b3.get(i))(t);return{element:t,bottom:n.top+a,height:a,pos:n,cleanup:o}},Dx=(t,o,n,a)=>{x3(t,(i,c)=>v3(t,o,n,a),n)},Rx=(t,o,n,a,i)=>{const c={elm:a.element.dom,alignToTop:i};((d,u)=>d.dispatch("ScrollIntoView",u).isDefaultPrevented())(t,c)||(n(t,o,sl(o).top,a,i),((d,u)=>{d.dispatch("AfterScrollIntoView",u)})(t,c))},v3=(t,o,n,a)=>{const i=Ze(t.getBody()),c=Ze(t.getDoc());i.dom.offsetWidth;const d=((u,f)=>{const y=((k,E)=>{const B=Fr(k);if(B.length===0||Nx(k))return{element:k,offset:E};if(E<B.length&&!Nx(B[E]))return{element:B[E],offset:0};{const N=B[B.length-1];return Nx(N)?{element:k,offset:E}:ur(N)==="img"?{element:N,offset:1}:Ce(N)?{element:N,offset:Ea(N).length}:{element:N,offset:Fr(N).length}}})(u,f),v=Rl('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>');return Ai(y.element,v),Mx(v,()=>ca(v))})(Ze(n.startContainer),n.startOffset);Rx(t,c,o,d,a),d.cleanup()},H_=(t,o,n,a)=>{const i=Ze(t.getDoc());Rx(t,i,n,(c=>Mx(Ze(c),go))(o),a)},x3=(t,o,n)=>{const a=n.startContainer,i=n.startOffset,c=n.endContainer,d=n.endOffset;o(Ze(a),Ze(c));const u=t.dom.createRng();u.setStart(a,i),u.setEnd(c,d),t.selection.setRng(n)},sy=(t,o,n,a,i)=>{const c=o.pos;if(a)Hn(c.left,c.top,i);else{const d=c.top-n+o.height;Hn(-t.getBody().getBoundingClientRect().left,d,i)}},j_=(t,o,n,a,i,c)=>{const d=a+n,u=i.pos.top,f=i.bottom,y=f-u>=a;u<n?sy(t,i,a,c!==!1,o):u>d?sy(t,i,a,y?c!==!1:c===!0,o):f>d&&!y&&sy(t,i,a,c===!0,o)},V_=(t,o,n,a,i)=>{const c=Ms(o).dom.innerHeight;j_(t,o,n,c,a,i)},$_=(t,o,n,a,i)=>{const c=Ms(o).dom.innerHeight;j_(t,o,n,c,a,i);const d=(f=>{const y=y3(),v=sl(y),k=((N,P)=>{const O=P.owner(N);return P_(P,O)})(f,n5),E=Jc(f),B=ye(k,(N,P)=>{const O=Jc(P);return{left:N.left+O.left,top:N.top+O.top}},{left:0,top:0});return Yc(B.left+E.left+v.left,B.top+E.top+v.top)})(a.element),u=Cp(window);d.top<u.y?Rc(a.element,i!==!1):d.top>u.bottom&&Rc(a.element,i===!0)},w3=(t,o,n)=>Dx(t,V_,o,n),k3=(t,o,n)=>H_(t,o,V_,n),_3=(t,o,n)=>Dx(t,$_,o,n),r5=(t,o,n)=>H_(t,o,$_,n),i1=(t,o,n)=>{(t.inline?w3:_3)(t,o,n)},l1=(t,o=!1)=>t.dom.focus({preventScroll:o}),U_=t=>{const o=_i(t).dom;return t.dom===o.activeElement},Bx=(t=y3())=>F.from(t.dom.activeElement).map(Ze),Z_=(t,o)=>{const n=Ce(o)?Ea(o).length:Fr(o).length+1;return t>n?n:t<0?0:t},a5=t=>ay.range(t.start,Z_(t.soffset,t.start),t.finish,Z_(t.foffset,t.finish)),C3=(t,o)=>!si(o.dom)&&(ci(t,o)||Wr(t,o)),S3=t=>o=>C3(t,o.start)&&C3(t,o.finish),s5=t=>ay.range(Ze(t.startContainer),t.startOffset,Ze(t.endContainer),t.endOffset),i5=t=>{const o=document.createRange();try{return o.setStart(t.start.dom,t.soffset),o.setEnd(t.finish.dom,t.foffset),F.some(o)}catch{return F.none()}},c1=t=>{const o=(a=>a.inline||Xn.browser.isFirefox())(t)?(n=Ze(t.getBody()),(a=>{const i=a.getSelection();return(i&&i.rangeCount!==0?F.from(i.getRangeAt(0)):F.none()).map(s5)})(Ms(n).dom).filter(S3(n))):F.none();var n;t.bookmark=o.isSome()?o:t.bookmark},Fx=t=>(t.bookmark?t.bookmark:F.none()).bind(o=>{return n=Ze(t.getBody()),a=o,F.from(a).filter(S3(n)).map(a5);var n,a}).bind(i5),d1={isEditorUIElement:t=>{const o=t.className.toString();return o.indexOf("tox-")!==-1||o.indexOf("mce-")!==-1}},bu={setEditorTimeout:(t,o,n)=>((a,i)=>(mt(i)||(i=0),setTimeout(a,i)))(()=>{t.removed||o()},n),setEditorInterval:(t,o,n)=>{const a=((i,c)=>(mt(c)||(c=0),setInterval(i,c)))(()=>{t.removed?clearInterval(a):o()},n);return a}};let of;const q_=Ar.DOM,Lx=t=>{const o=t.classList;return o!==void 0&&(o.contains("tox-edit-area")||o.contains("tox-edit-area__iframe")||o.contains("mce-content-body"))},u1=(t,o)=>{const n=$b(t);return q_.getParent(o,i=>(c=>bn(c)&&d1.isEditorUIElement(c))(i)||!!n&&t.dom.is(i,n))!==null},Ix=t=>{try{const o=_i(Ze(t.getElement()));return Bx(o).fold(()=>document.body,n=>n.dom)}catch{return document.body}},l5=(t,o)=>{const n=o.editor;(i=>{const c=Yt(()=>{c1(i)},0);i.on("init",()=>{i.inline&&((d,u)=>{const f=()=>{u.throttle()};Ar.DOM.bind(document,"mouseup",f),d.on("remove",()=>{Ar.DOM.unbind(document,"mouseup",f)})})(i,c),((d,u)=>{((f,y)=>{f.on("mouseup touchend",v=>{y.throttle()})})(d,u),d.on("keyup NodeChange AfterSetSelectionRange",f=>{(y=>y.type==="nodechange"&&y.selectionChange)(f)||c1(d)})})(i,c)}),i.on("remove",()=>{c.cancel()})})(n);const a=(i,c)=>{j0(i)&&i.inline!==!0&&c(Ze(i.getContainer()),"tox-edit-focus")};n.on("focusin",()=>{const i=t.focusedEditor;Lx(Ix(n))&&a(n,Ls),i!==n&&(i&&i.dispatch("blur",{focusedEditor:n}),t.setActive(n),t.focusedEditor=n,n.dispatch("focus",{blurredEditor:i}),n.focus(!0))}),n.on("focusout",()=>{bu.setEditorTimeout(n,()=>{const i=t.focusedEditor;Lx(Ix(n))&&i===n||a(n,Cs),u1(n,Ix(n))||i!==n||(n.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),of||(of=i=>{const c=t.activeEditor;c&&Rs(i).each(d=>{const u=d;u.ownerDocument===document&&(u===document.body||u1(c,u)||t.focusedEditor!==c||(c.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null))})},q_.bind(document,"focusin",of))},c5=(t,o)=>{t.focusedEditor===o.editor&&(t.focusedEditor=null),!t.activeEditor&&of&&(q_.unbind(document,"focusin",of),of=null)},m1=(t,o)=>{((n,a)=>(i=>i.collapsed?F.from(Nd(i.startContainer,i.startOffset)).map(Ze):F.none())(a).bind(i=>b0(i)?F.some(i):ci(n,i)?F.none():F.some(n)))(Ze(t.getBody()),o).bind(n=>Zt(n.dom)).fold(()=>{t.selection.normalize()},n=>t.selection.setRng(n.toRange()))},g1=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},Nh=t=>t.inline?(o=>{const n=o.getBody();return n&&(a=Ze(n),U_(a)||(i=a,Bx(_i(i)).filter(c=>i.dom.contains(c.dom))).isSome());var a,i})(t):(o=>$e(o.iframeElement)&&U_(Ze(o.iframeElement)))(t),W_=t=>Nh(t)||(o=>{const n=_i(Ze(o.getElement()));return Bx(n).filter(a=>!Lx(a.dom)&&u1(o,a.dom)).isSome()})(t),Px=t=>t.editorManager.setActive(t),E3=(t,o)=>o.collapsed?t.isEditable(o.startContainer):t.isEditable(o.startContainer)&&t.isEditable(o.endContainer),z3=(t,o,n,a,i)=>{const c=n?o.startContainer:o.endContainer,d=n?o.startOffset:o.endOffset;return F.from(c).map(Ze).map(u=>a&&o.collapsed?u:Ps(u,i(u,d)).getOr(u)).bind(u=>Q(u)?F.some(u):vi(u).filter(Q)).map(u=>u.dom).getOr(t)},p1=(t,o,n=!1)=>z3(t,o,!0,n,(a,i)=>Math.min(Ds(a),i)),G_=(t,o,n=!1)=>z3(t,o,!1,n,(a,i)=>i>0?i-1:i),K_=(t,o)=>{const n=t;for(;t&&vo(t)&&t.length===0;)t=o?t.nextSibling:t.previousSibling;return t||n},Y_=(t,o)=>No(o,n=>{const a=t.dispatch("GetSelectionRange",{range:n});return a.range!==n?a.range:n}),d5={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Hx=(t,o,n)=>{const a=n?"lastChild":"firstChild",i=n?"prev":"next";if(t[a])return t[a];if(t!==o){let c=t[i];if(c)return c;for(let d=t.parent;d&&d!==o;d=d.parent)if(c=d[i],c)return c}},u5=t=>{var o;const n=(o=t.value)!==null&&o!==void 0?o:"";if(!tc(n))return!1;const a=t.parent;return!a||a.name==="span"&&!a.attr("style")||!/^[ ]+$/.test(n)},T3=t=>{const o=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||o};class kc{static create(o,n){const a=new kc(o,d5[o]||1);return n&&zt(n,(i,c)=>{a.attr(c,i)}),a}constructor(o,n){this.name=o,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(o){const n=this;return o.parent&&o.remove(),n.insert(o,n),n.remove(),n}attr(o,n){const a=this;if(!Ve(o))return $e(o)&&zt(o,(c,d)=>{a.attr(d,c)}),a;const i=a.attributes;if(i){if(n!==void 0){if(n===null){if(o in i.map){delete i.map[o];let c=i.length;for(;c--;)if(i[c].name===o)return i.splice(c,1),a}return a}if(o in i.map){let c=i.length;for(;c--;)if(i[c].name===o){i[c].value=n;break}}else i.push({name:o,value:n});return i.map[o]=n,a}return i.map[o]}}clone(){const o=this,n=new kc(o.name,o.type),a=o.attributes;if(a){const i=[];i.map={};for(let c=0,d=a.length;c<d;c++){const u=a[c];u.name!=="id"&&(i[i.length]={name:u.name,value:u.value},i.map[u.name]=u.value)}n.attributes=i}return n.value=o.value,n}wrap(o){const n=this;return n.parent&&(n.parent.insert(o,n),o.append(n)),n}unwrap(){const o=this;for(let n=o.firstChild;n;){const a=n.next;o.insert(n,o,!0),n=a}o.remove()}remove(){const o=this,n=o.parent,a=o.next,i=o.prev;return n&&(n.firstChild===o?(n.firstChild=a,a&&(a.prev=null)):i&&(i.next=a),n.lastChild===o?(n.lastChild=i,i&&(i.next=null)):a&&(a.prev=i),o.parent=o.next=o.prev=null),o}append(o){const n=this;o.parent&&o.remove();const a=n.lastChild;return a?(a.next=o,o.prev=a,n.lastChild=o):n.lastChild=n.firstChild=o,o.parent=n,o}insert(o,n,a){o.parent&&o.remove();const i=n.parent||this;return a?(n===i.firstChild?i.firstChild=o:n.prev&&(n.prev.next=o),o.prev=n.prev,o.next=n,n.prev=o):(n===i.lastChild?i.lastChild=o:n.next&&(n.next.prev=o),o.next=n.next,o.prev=n,n.next=o),o.parent=i,o}getAll(o){const n=this,a=[];for(let i=n.firstChild;i;i=Hx(i,n))i.name===o&&a.push(i);return a}children(){const o=[];for(let n=this.firstChild;n;n=n.next)o.push(n);return o}empty(){const o=this;if(o.firstChild){const n=[];for(let i=o.firstChild;i;i=Hx(i,o))n.push(i);let a=n.length;for(;a--;){const i=n[a];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return o.firstChild=o.lastChild=null,o}isEmpty(o,n={},a){var i;const c=this;let d=c.firstChild;if(T3(c))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(o[d.name]||T3(d))return!1}if(d.type===8||d.type===3&&!u5(d)||d.type===3&&d.parent&&n[d.parent.name]&&tc((i=d.value)!==null&&i!==void 0?i:"")||a&&a(d))return!1}while(d=Hx(d,c));return!0}walk(o){return Hx(this,null,o)}}const A3=to.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),O3=t=>Ve(t.nodeValue)&&t.nodeValue.includes(Fi),X_=t=>(t.length===0?"":`${No(t,o=>`[${o}]`).join(",")},`)+'[data-mce-bogus="all"]',J_=t=>document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,o=>O3(o)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),N3=t=>document.createTreeWalker(t,NodeFilter.SHOW_TEXT,o=>{if(O3(o)){const n=o.parentNode;return n&&jo(A3,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP}),m5=t=>J_(t).nextNode()!==null,g5=t=>N3(t).nextNode()!==null,p5=(t,o)=>o.querySelector(X_(t))!==null,f5=(t,o)=>{_e(((n,a)=>a.querySelectorAll(X_(n)))(t,o),n=>{const a=Ze(n);Lt(a,"data-mce-bogus")==="all"?ca(a):_e(t,i=>{$(a,i)&&ne(a,i)})})},M3=t=>{let o=t.nextNode();for(;o!==null;)o.nodeValue=null,o=t.nextNode()},h5=Ho(M3,J_),b5=Ho(M3,N3),D3=(t,o)=>{const n=[{condition:Je(p5,o),action:Je(f5,o)},{condition:m5,action:h5},{condition:g5,action:b5}];let a=t,i=!1;return _e(n,({condition:c,action:d})=>{c(a)&&(i||(a=t.cloneNode(!0),i=!0),d(a))}),a},R3=t=>{const o=Ss(t,"[data-mce-bogus]");_e(o,n=>{Lt(n,"data-mce-bogus")==="all"?ca(n):Od(n)?(Ai(n,Oc(_d)),ca(n)):Wi(n)})},B3=t=>{const o=Ss(t,"input");_e(o,n=>{ne(n,"name")})},y5=(t,o,n)=>{let a;return a=o.format==="raw"?to.trim(Li(D3(n,t.serializer.getTempAttrs()).innerHTML)):o.format==="text"?((i,c)=>{const d=i.getDoc(),u=_i(Ze(i.getBody())),f=Is("div",d);be(f,"data-mce-bogus","all"),Ti(f,{position:"fixed",left:"-9999999px",top:"0"}),Dc(f,c.innerHTML),R3(f),B3(f);const y=(k=>pa(k)?k:Ze(xl(k).dom.body))(u);us(y,f);const v=Li(f.dom.innerText);return ca(f),v})(t,n):o.format==="tree"?t.serializer.serialize(n,o):((i,c)=>{const d=Ji(i),u=new RegExp(`^(<${d}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${d}>[\r
]*|<br \\/>[\r
]*)$`);return c.replace(u,"")})(t,t.serializer.serialize(n,o)),o.format!=="text"&&!Gf(Ze(n))&&Ve(a)?to.trim(a):a},F3=to.makeMap,Mn=t=>{const o=[],n=(t=t||{}).indent,a=F3(t.indent_before||""),i=F3(t.indent_after||""),c=Ru.getEncodeFunc(t.entity_encoding||"raw",t.entities),d=t.element_format!=="xhtml";return{start:(u,f,y)=>{if(n&&a[u]&&o.length>0){const v=o[o.length-1];v.length>0&&v!==`
`&&o.push(`
`)}if(o.push("<",u),f)for(let v=0,k=f.length;v<k;v++){const E=f[v];o.push(" ",E.name,'="',c(E.value,!0),'"')}if(o[o.length]=!y||d?">":" />",y&&n&&i[u]&&o.length>0){const v=o[o.length-1];v.length>0&&v!==`
`&&o.push(`
`)}},end:u=>{let f;o.push("</",u,">"),n&&i[u]&&o.length>0&&(f=o[o.length-1],f.length>0&&f!==`
`&&o.push(`
`))},text:(u,f)=>{u.length>0&&(o[o.length]=f?u:c(u))},cdata:u=>{o.push("<![CDATA[",u,"]]>")},comment:u=>{o.push("<!--",u,"-->")},pi:(u,f)=>{f?o.push("<?",u," ",c(f),"?>"):o.push("<?",u,"?>"),n&&o.push(`
`)},doctype:u=>{o.push("<!DOCTYPE",u,">",n?`
`:"")},reset:()=>{o.length=0},getContent:()=>o.join("").replace(/\n$/,"")}},ep=(t={},o=hc())=>{const n=Mn(t);return t.validate=!("validate"in t)||t.validate,{serialize:a=>{const i=t.validate,c={3:u=>{var f;n.text((f=u.value)!==null&&f!==void 0?f:"",u.raw)},8:u=>{var f;n.comment((f=u.value)!==null&&f!==void 0?f:"")},7:u=>{n.pi(u.name,u.value)},10:u=>{var f;n.doctype((f=u.value)!==null&&f!==void 0?f:"")},4:u=>{var f;n.cdata((f=u.value)!==null&&f!==void 0?f:"")},11:u=>{let f=u;if(f=f.firstChild)do d(f);while(f=f.next)}};n.reset();const d=u=>{var f;const y=c[u.type];if(y)y(u);else{const v=u.name,k=v in o.getVoidElements();let E=u.attributes;if(i&&E&&E.length>1){const B=[];B.map={};const N=o.getElementRule(u.name);if(N){for(let P=0,O=N.attributesOrder.length;P<O;P++){const V=N.attributesOrder[P];if(V in E.map){const G=E.map[V];B.map[V]=G,B.push({name:V,value:G})}}for(let P=0,O=E.length;P<O;P++){const V=E[P].name;if(!(V in B.map)){const G=E.map[V];B.map[V]=G,B.push({name:V,value:G})}}E=B}}if(n.start(v,E,k),dl(v))Ve(u.value)&&n.text(u.value,!0),n.end(v);else if(!k){let B=u.firstChild;if(B){v!=="pre"&&v!=="textarea"||B.type!==3||((f=B.value)===null||f===void 0?void 0:f[0])!==`
`||n.text(`
`,!0);do d(B);while(B=B.next)}n.end(v)}}};return a.type!==1||t.inner?a.type===3?c[3](a):c[11](a):d(a),n.getContent()}}},Q_=new Set;_e(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{Q_.add(t)});const L3=new Set;_e(["background-color"],t=>{L3.add(t)});const jx=["font","text-decoration","text-emphasis"],iy=(t,o)=>Zo(((n,a)=>n.parseStyle(n.getAttrib(a,"style")))(t,o)),f1=(t,o)=>yo(iy(t,o),n=>(a=>Q_.has(a))(n)),e2=(t,o,n)=>F.from(n.container()).filter(vo).exists(a=>{const i=t?0:-1;return o(a.data.charAt(n.offset()+i))}),t2=Je(e2,!0,Wu),rr=Je(e2,!1,Wu),pr=t=>{const o=t.container();return vo(o)&&(o.data.length===0||Kf(o.data)&&n1.isBookmarkNode(o.parentNode))},tp=(t,o)=>n=>Wp(t?0:-1,n).filter(o).isSome(),I3=t=>nu(t)&&Fl(Ze(t),"display")==="block",P3=t=>Kr(t)&&!(o=>bn(o)&&o.getAttribute("data-mce-bogus")==="all")(t),v5=tp(!0,I3),Jn=tp(!1,I3),op=tp(!0,js),ly=tp(!1,js),o2=tp(!0,oo),n2=tp(!1,oo),nf=tp(!0,P3),np=tp(!1,P3),H3=(t,o)=>((n,a,i)=>ci(a,n)?ze(n,c=>i(c)||Wr(c,a)).slice(0,-1):[])(t,o,So),gr=(t,o)=>[t].concat(H3(t,o)),Vx=(t,o,n)=>ft(t,o,n,pr),h1=(t,o,n)=>ke(gr(Ze(o.container()),t),(a=>i=>a.isBlock(ur(i)))(n)),r2=(t,o,n,a)=>Vx(t,o.dom,n).forall(i=>h1(o,n,a).fold(()=>!Fd(i,n,o.dom),c=>!Fd(i,n,o.dom)&&ci(c,Ze(i.container())))),a2=(t,o,n,a)=>h1(o,n,a).fold(()=>Vx(t,o.dom,n).forall(i=>!Fd(i,n,o.dom)),i=>Vx(t,i.dom,n).isNone()),$x=Je(a2,!1),s2=Je(a2,!0),j3=Je(r2,!1),V3=Je(r2,!0),x5=t=>_h(t).exists(Od),Ux=(t,o,n,a)=>{const i=et(gr(Ze(n.container()),o),d=>a.isBlock(ur(d))),c=vt(i).getOr(o);return Oe(t,c.dom,n).filter(x5)},i2=(t,o,n)=>_h(o).exists(Od)||Ux(!0,t,o,n).isSome(),Zx=(t,o,n)=>(a=>F.from(a.getNode(!0)).map(Ze))(o).exists(Od)||Ux(!1,t,o,n).isSome(),$3=Je(Ux,!1),l2=Je(Ux,!0),qx=t=>Ut.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),U3=(t,o,n)=>{const a=et(gr(Ze(o.container()),t),i=>n.isBlock(ur(i)));return vt(a).getOr(t)},Z3=(t,o,n)=>qx(o)?rr(o):rr(o)||Xt(U3(t,o,n).dom,o).exists(rr),q3=(t,o,n)=>qx(o)?t2(o):t2(o)||Gt(U3(t,o,n).dom,o).exists(t2),c2=t=>_h(t).bind(o=>Bl(o,Q)).exists(o=>(n=>ao(["pre","pre-wrap"],n))(Fl(o,"white-space"))),d2=(t,o)=>n=>{return a=new Ws(n,t)[o](),$e(a)&&Kr(a)&&fl(a);var a},rf=(t,o,n)=>!c2(o)&&(((a,i,c)=>((d,u)=>Xt(d.dom,u).isNone())(a,i)||((d,u)=>Gt(d.dom,u).isNone())(a,i)||$x(a,i,c)||s2(a,i,c)||Zx(a,i,c)||i2(a,i,c))(t,o,n)||Z3(t,o,n)||q3(t,o,n)),cy=(t,o,n)=>!c2(o)&&($x(t,o,n)||j3(t,o,n)||Zx(t,o,n)||Z3(t,o,n)||((a,i)=>{const c=Xt(a.dom,i).getOr(i),d=d2(a.dom,"prev");return i.isAtStart()&&(d(i.container())||d(c.container()))})(t,o)),dy=(t,o,n)=>!c2(o)&&(s2(t,o,n)||V3(t,o,n)||i2(t,o,n)||q3(t,o,n)||((a,i)=>{const c=Gt(a.dom,i).getOr(i),d=d2(a.dom,"next");return i.isAtEnd()&&(d(i.container())||d(c.container()))})(t,o)),u2=(t,o,n)=>cy(t,o,n)||dy(t,(a=>{const i=a.container(),c=a.offset();return vo(i)&&c<i.data.length?Ut(i,c+1):a})(o),n),W3=(t,o)=>Vi(t.charAt(o)),m2=(t,o)=>Wu(t.charAt(o)),g2=(t,o,n,a)=>{const i=o.data,c=Ut(o,0);return n||!W3(i,0)||u2(t,c,a)?!!(n&&m2(i,0)&&cy(t,c,a))&&(o.data=ms+i.slice(1),!0):(o.data=" "+i.slice(1),!0)},lc=(t,o,n,a)=>{const i=o.data,c=Ut(o,i.length-1);return n||!W3(i,i.length-1)||u2(t,c,a)?!!(n&&m2(i,i.length-1)&&dy(t,c,a))&&(o.data=i.slice(0,-1)+ms,!0):(o.data=i.slice(0,-1)+" ",!0)},w5=(t,o,n)=>{const a=o.container();if(!vo(a))return F.none();if((i=>{const c=i.container();return vo(c)&&xr(c.data,ms)})(o)){const i=g2(t,a,!1,n)||(c=>{const d=c.data,u=(f=>{const y=f.split("");return No(y,(v,k)=>Vi(v)&&k>0&&k<y.length-1&&_m(y[k-1])&&_m(y[k+1])?" ":v).join("")})(d);return u!==d&&(c.data=u,!0)})(a)||lc(t,a,!1,n);return Zs(i,o)}if(u2(t,o,n)){const i=g2(t,a,!0,n)||lc(t,a,!0,n);return Zs(i,o)}return F.none()},af=(t,o,n,a)=>{if(n===0)return;const i=Ze(t),c=Ia(i,y=>a.isBlock(ur(y))).getOr(i),d=t.data.slice(o,o+n),u=o+n>=t.data.length&&dy(c,Ut(t,t.data.length),a),f=o===0&&cy(c,Ut(t,0),a);t.replaceData(o,n,Pa(d,4,f,u))},fs=(t,o,n)=>{const a=t.data.slice(o),i=a.length-xn(a).length;af(t,o,i,n)},md=(t,o,n)=>{const a=t.data.slice(0,o),i=a.length-Sn(a).length;af(t,o-i,i,n)},Mh=(t,o,n,a,i=!0)=>{const c=Sn(t.data).length,d=i?t:o,u=i?o:t;return i?d.appendData(u.data):d.insertData(0,u.data),ca(Ze(u)),a&&fs(d,c,n),d},Wx=(t,o)=>((n,a)=>{const i=n.container(),c=n.offset();return!Ut.isTextPosition(n)&&i===a.parentNode&&c>Ut.before(a).offset()})(o,t)?Ut(o.container(),o.offset()-1):o,Dh=t=>{return Md(t.previousSibling)?F.some((o=t.previousSibling,vo(o)?Ut(o,o.data.length):Ut.after(o))):t.previousSibling?Ge(t.previousSibling):F.none();var o},G3=t=>{return Md(t.nextSibling)?F.some((o=t.nextSibling,vo(o)?Ut(o,0):Ut.before(o))):t.nextSibling?Zt(t.nextSibling):F.none();var o},uy=(t,o,n)=>((a,i,c)=>a?((d,u)=>G3(u).orThunk(()=>Dh(u)).orThunk(()=>((f,y)=>Gt(f,Ut.after(y)).orThunk(()=>Xt(f,Ut.before(y))))(d,u)))(i,c):((d,u)=>Dh(u).orThunk(()=>G3(u)).orThunk(()=>((f,y)=>F.from(y.previousSibling?y.previousSibling:y.parentNode).bind(v=>Xt(f,Ut.before(v))).orThunk(()=>Gt(f,Ut.after(y))))(d,u)))(i,c))(t,o,n).map(Je(Wx,n)),Va=(t,o,n)=>{n.fold(()=>{t.focus()},a=>{t.selection.setRng(a.toRange(),o)})},b1=(t,o)=>o&&jo(t.schema.getBlockElements(),ur(o)),sf=(t,o,n,a=!0,i=!1)=>{const c=uy(o,t.getBody(),n.dom),d=Ia(n,Je(b1,t),(u=t.getBody(),y=>y.dom===u));var u;const f=((y,v,k,E)=>{const B=yt(y).filter(Ce),N=no(y).filter(Ce);return ca(y),(P=B,O=N,V=v,G=(Y,ae,ee)=>{const we=Y.dom,je=ae.dom,Pe=we.data.length;return Mh(we,je,k,E),ee.container()===je?Ut(we,Pe):ee},P.isSome()&&O.isSome()&&V.isSome()?F.some(G(P.getOrDie(),O.getOrDie(),V.getOrDie())):F.none()).orThunk(()=>(E&&(B.each(Y=>md(Y.dom,Y.dom.length,k)),N.each(Y=>fs(Y.dom,0,k))),v));var P,O,V,G})(n,c,t.schema,((y,v)=>jo(y.schema.getTextInlineElements(),ur(v)))(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):d.bind(y=>((v,k,E)=>{if(Qs(v,k)){const B=Rl('<br data-mce-bogus="1">');return E?_e(Fr(k),N=>{t1(N)||ca(N)}):Nc(k),us(k,B),F.some(Ut.before(B.dom))}return F.none()})(t.schema,y,i)).fold(()=>{a&&Va(t,o,f)},y=>{a&&Va(t,o,F.some(y))})},K3=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,rp=(t,o)=>vl(Ze(o),jb(t))&&!ha(t.schema,o)&&t.dom.isEditable(o),Gx=t=>{var o;return Ar.DOM.getStyle(t,"direction",!0)==="rtl"||(n=>K3.test(n))((o=t.textContent)!==null&&o!==void 0?o:"")},ug=(t,o,n)=>{const a=((i,c,d)=>et(Ar.DOM.getParents(d.container(),"*",c),i))(t,o,n);return F.from(a[a.length-1])},gd=(t,o)=>{const n=o.container(),a=o.offset();return t?jc(n)?vo(n.nextSibling)?Ut(n.nextSibling,0):Ut.after(n):Tp(o)?Ut(n,a+1):o:jc(n)?vo(n.previousSibling)?Ut(n.previousSibling,n.previousSibling.data.length):Ut.before(n):Cb(o)?Ut(n,a-1):o},y1=Je(gd,!0),Kx=Je(gd,!1),p2=(t,o)=>{const n=a=>a.stopImmediatePropagation();t.on("beforeinput input",n,!0),t.getDoc().execCommand(o),t.off("beforeinput input",n)},v1=t=>p2(t,"Delete"),f2=t=>p2(t,"ForwardDelete"),Y3=t=>zp(t)||yc(t),x1=(t,o)=>ci(t,o)?Bl(o,Y3,(n=>a=>bi(vi(a),n,Wr))(t)):F.none(),lf=(t,o=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!o})},h2=(t,o,n)=>qn(Zt(n),Ge(n),(a,i)=>{const c=gd(!0,a),d=gd(!1,i),u=gd(!1,o);return t?Gt(n,u).exists(f=>f.isEqual(d)&&o.isEqual(c)):Xt(n,u).exists(f=>f.isEqual(c)&&o.isEqual(d))}).getOr(!0),Yx=t=>{var o;return(Ur(o=t)===8||ur(o)==="#comment"?yt(t):ta(t)).bind(Yx).orThunk(()=>F.some(t))},X3=(t,o,n,a=!0)=>{var i;o.deleteContents();const c=Yx(n).getOr(n),d=Ze((i=t.dom.getParent(c.dom,t.dom.isBlock))!==null&&i!==void 0?i:n.dom);if(d.dom===t.getBody()?lf(t,a):Qs(t.schema,d,{checkRootAsContent:!1})&&(Hu(d),a&&t.selection.setCursorLocation(d.dom,0)),!Wr(n,d)){const f=bi(vi(d),n)?[]:vi(u=d).map(Fr).map(y=>et(y,v=>!Wr(u,v))).getOr([]);_e(f.concat(Fr(n)),y=>{Wr(y,d)||ci(y,d)||!Qs(t.schema,y)||ca(y)})}var u},b2=t=>Ss(t,"td,th"),y2=(t,o)=>X0(Ze(t),o),Xx=(t,o)=>({start:t,end:o}),my=Dd([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Rh=(t,o)=>$l(Ze(t),"td,th",o),v2=t=>!Wr(t.start,t.end),x2=(t,o)=>X0(t.start,o).bind(n=>X0(t.end,o).bind(a=>Zs(Wr(n,a),n))),Jx=t=>o=>x2(o,t).map(n=>((a,i,c)=>({rng:a,table:i,cells:c}))(o,n,b2(n))),w2=(t,o,n,a)=>{if(n.collapsed||!t.forall(v2))return F.none();if(o.isSameTable){const i=t.bind(Jx(a));return F.some({start:i,end:i})}{const i=Rh(n.startContainer,a),c=Rh(n.endContainer,a),d=i.bind((f=>y=>X0(y,f).bind(v=>_o(b2(v)).map(k=>Xx(y,k))))(a)).bind(Jx(a)),u=c.bind((f=>y=>X0(y,f).bind(v=>vt(b2(v)).map(k=>Xx(k,y))))(a)).bind(Jx(a));return F.some({start:d,end:u})}},k2=(t,o)=>he(t,n=>Wr(n,o)),Qx=t=>qn(k2(t.cells,t.rng.start),k2(t.cells,t.rng.end),(o,n)=>t.cells.slice(o,n+1)),_2=(t,o)=>{const{startTable:n,endTable:a}=o,i=t.cloneRange();return n.each(c=>i.setStartAfter(c.dom)),a.each(c=>i.setEndBefore(c.dom)),i},J3=(t,o)=>{const n=(c=>d=>Wr(c,d))(t),a=((c,d)=>{const u=Rh(c.startContainer,d),f=Rh(c.endContainer,d);return qn(u,f,Xx)})(o,n),i=((c,d)=>{const u=y2(c.startContainer,d),f=y2(c.endContainer,d),y=u.isSome(),v=f.isSome(),k=qn(u,f,Wr).getOr(!1);return(E=>qn(E.startTable,E.endTable,(B,N)=>{const P=qs(B,V=>Wr(V,N)),O=qs(N,V=>Wr(V,B));return P||O?{...E,startTable:P?F.none():E.startTable,endTable:O?F.none():E.endTable,isSameTable:!1,isMultiTable:!1}:E}).getOr(E))({startTable:u,endTable:f,isStartInTable:y,isEndInTable:v,isSameTable:k,isMultiTable:!k&&y&&v})})(o,n);return((c,d,u)=>c.exists(f=>((y,v)=>!v2(y)&&x2(y,v).exists(k=>{const E=k.dom.rows;return E.length===1&&E[0].cells.length===1}))(f,u)&&fx(f.start,d)))(a,o,n)?a.map(c=>my.singleCellTable(o,c.start)):i.isMultiTable?((c,d,u,f)=>w2(c,d,u,f).bind(({start:y,end:v})=>{const k=y.bind(Qx).getOr([]),E=v.bind(Qx).getOr([]);if(k.length>0&&E.length>0){const B=_2(u,d);return F.some(my.multiTable(k,E,B))}return F.none()}))(a,i,o,n):((c,d,u,f)=>w2(c,d,u,f).bind(({start:y,end:v})=>y.or(v)).bind(y=>{const{isSameTable:v}=d,k=Qx(y).getOr([]);if(v&&y.cells.length===k.length)return F.some(my.fullTable(y.table));if(k.length>0){if(v)return F.some(my.partialTable(k,F.none()));{const E=_2(u,d);return F.some(my.partialTable(k,F.some({...d,rng:E})))}}return F.none()}))(a,i,o,n)},C2=t=>_e(t,o=>{ne(o,"contenteditable"),Hu(o)}),ew=(t,o,n,a)=>{const i=n.cloneRange();a?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(o.dom.lastChild)):(i.setStartBefore(o.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),ow(t,i,o,!1).each(c=>c())},tw=t=>{const o=Cm(t),n=Ze(t.selection.getNode());pc(n.dom)&&Qs(t.schema,n)?t.selection.setCursorLocation(n.dom,0):t.selection.collapse(!0),o.length>1&&yo(o,a=>Wr(a,n))&&be(n,"data-mce-selected","1")},S2=(t,o,n)=>F.some(()=>{const a=t.selection.getRng(),i=n.bind(({rng:c,isStartInTable:d})=>{const u=((y,v)=>F.from(y.dom.getParent(v,y.dom.isBlock)).map(Ze))(t,d?c.endContainer:c.startContainer);c.deleteContents(),((y,v,k)=>{k.each(E=>{v?ca(E):(Hu(E),y.selection.setCursorLocation(E.dom,0))})})(t,d,u.filter(Je(Qs,t.schema)));const f=d?o[0]:o[o.length-1];return ew(t,f,a,d),Qs(t.schema,f)?F.none():F.some(d?o.slice(1):o.slice(0,-1))}).getOr(o);C2(i),tw(t)}),Q3=(t,o,n,a)=>F.some(()=>{const i=t.selection.getRng(),c=o[0],d=n[n.length-1];ew(t,c,i,!0),ew(t,d,i,!1);const u=Qs(t.schema,c)?o:o.slice(1),f=Qs(t.schema,d)?n:n.slice(0,-1);C2(u.concat(f)),a.deleteContents(),tw(t)}),ow=(t,o,n,a=!0)=>F.some(()=>{X3(t,o,n,a)}),eE=(t,o)=>F.some(()=>sf(t,!1,o)),E2=(t,o)=>ke(gr(o,t),Lg),nw=(t,o)=>ke(gr(o,t),xo("caption")),gy=(t,o)=>F.some(()=>{Hu(o),t.selection.setCursorLocation(o.dom,0)}),w1=(t,o)=>t?o2(o):n2(o),z2=(t,o,n)=>{const a=Ze(t.getBody());return nw(a,n).fold(()=>((i,c,d,u)=>{const f=Ut.fromRangeStart(i.selection.getRng());return E2(d,u).bind(y=>Qs(i.schema,y,{checkRootAsContent:!1})?gy(i,y):((v,k,E,B,N)=>He(E,v.getBody(),N).bind(P=>E2(k,Ze(P.getNode())).bind(O=>Wr(O,B)?F.none():F.some(go))))(i,d,c,y,f))})(t,o,a,n).orThunk(()=>Zs(((i,c)=>{const d=Ut.fromRangeStart(i.selection.getRng());return w1(c,d)||Oe(c,i.getBody(),d).exists(u=>w1(c,u))})(t,o),go)),i=>((c,d,u,f)=>{const y=Ut.fromRangeStart(c.selection.getRng());return Qs(c.schema,f)?gy(c,f):((v,k,E,B,N)=>He(E,v.getBody(),N).fold(()=>F.some(go),P=>((O,V,G,Y)=>Zt(O.dom).bind(ae=>Ge(O.dom).map(ee=>V?G.isEqual(ae)&&Y.isEqual(ee):G.isEqual(ee)&&Y.isEqual(ae))).getOr(!0))(B,E,N,P)?((O,V)=>gy(O,V))(v,B):((O,V,G)=>nw(O,Ze(G.getNode())).fold(()=>F.some(go),Y=>Zs(!Wr(Y,V),go)))(k,B,P)))(c,u,d,f,y)})(t,o,a,i))},py=(t,o)=>{const n=Ze(t.selection.getStart(!0)),a=Cm(t);return t.selection.isCollapsed()&&a.length===0?z2(t,o,n):((i,c,d)=>{const u=Ze(i.getBody()),f=i.selection.getRng();return d.length!==0?S2(i,d,F.none()):((y,v,k,E)=>nw(v,E).fold(()=>((B,N,P)=>J3(N,P).bind(O=>O.fold(Je(ow,B),Je(eE,B),Je(S2,B),Je(Q3,B))))(y,v,k),B=>((N,P)=>gy(N,P))(y,B)))(i,u,f,c)})(t,n,a)},cf=(t,o)=>{let n=o;for(;n&&n!==t;){if(_a(n)||Kr(n))return n;n=n.parentNode}return null},rw=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],T2=to.each,Bh=t=>{const o=t.dom,n=new Set(t.serializer.getTempAttrs()),a=i=>yo(rw,c=>Te(i,c))||n.has(i);return{compare:(i,c)=>{if(i.nodeName!==c.nodeName||i.nodeType!==c.nodeType)return!1;const d=f=>{const y={};return T2(o.getAttribs(f),v=>{const k=v.nodeName.toLowerCase();k==="style"||a(k)||(y[k]=o.getAttrib(f,k))}),y},u=(f,y)=>{for(const v in f)if(jo(f,v)){const k=y[v];if(bo(k)||f[v]!==k)return!1;delete y[v]}for(const v in y)if(jo(y,v))return!1;return!0};return bn(i)&&bn(c)&&(!u(d(i),d(c))||!u(o.parseStyle(o.getAttrib(i,"style")),o.parseStyle(o.getAttrib(c,"style"))))?!1:!tl(i)&&!tl(c)},isAttributeInternal:a}},aw=t=>["h1","h2","h3","h4","h5","h6"].includes(t.name),A2=(t,o,n,a)=>{const i=n.name;for(let c=0,d=t.length;c<d;c++){const u=t[c];if(u.name===i){const f=a.nodes[i];f?f.nodes.push(n):a.nodes[i]={filter:u,nodes:[n]}}}if(n.attributes)for(let c=0,d=o.length;c<d;c++){const u=o[c],f=u.name;if(f in n.attributes.map){const y=a.attributes[f];y?y.nodes.push(n):a.attributes[f]={filter:u,nodes:[n]}}}},Fh=(t,o)=>{const n=(a,i)=>{zt(a,c=>{const d=Fo(c.nodes);_e(c.filter.callbacks,u=>{for(let f=d.length-1;f>=0;f--){const y=d[f];(i?y.attr(c.filter.name)!==void 0:y.name===c.filter.name)&&!ue(y.parent)||d.splice(f,1)}d.length>0&&u(d,c.filter.name,o)})})};n(t.nodes,!1),n(t.attributes,!0)},sw=(t,o,n,a={})=>{const i=((c,d,u)=>{const f={nodes:{},attributes:{}};return u.firstChild&&((y,v)=>{let k=y;for(;k=k.walk();)A2(c,d,k,f)})(u),f})(t,o,n);Fh(i,a)},k1=(t,o,n,a)=>{if((t.pad_empty_with_br||o.insert)&&n(a)){const i=new kc("br",1);o.insert&&i.attr("data-mce-bogus","1"),a.empty().append(i)}else a.empty().append(new kc("#text",3)).value=ms},Lh=(t,o)=>{const n=t==null?void 0:t.firstChild;return $e(n)&&n===t.lastChild&&n.name===o},Yu=(t,o,n,a)=>a.isEmpty(o,n,i=>((c,d)=>{const u=c.getElementRule(d.name);return(u==null?void 0:u.paddEmpty)===!0})(t,i)),tE=t=>{let o;for(let n=t;n;n=n.parent){const a=n.attr("contenteditable");if(a==="false")break;a==="true"&&(o=n)}return F.from(o)},O2=(t,o,n=t.parent)=>{if(o.getSpecialElements()[t.name])t.empty().remove();else{const a=t.children();for(const i of a)n&&!o.isValidChild(n.name,i.name)&&O2(i,o,n);t.unwrap()}},N2=(t,o,n,a=go)=>{const i=o.getTextBlockElements(),c=o.getNonEmptyElements(),d=o.getWhitespaceElements(),u=to.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),f=new Set,y=v=>v!==n&&!u[v.name];for(let v=0;v<t.length;v++){const k=t[v];let E,B,N;if(!k.parent||f.has(k))continue;if(i[k.name]&&k.parent.name==="li"){let O=k.next;for(;O&&i[O.name];)O.name="li",f.add(O),k.parent.insert(O,k.parent),O=O.next;k.unwrap();continue}const P=[k];for(E=k.parent;E&&!o.isValidChild(E.name,k.name)&&y(E);E=E.parent)P.push(E);if(E&&P.length>1)if(iw(o,k,E))O2(k,o);else{P.reverse(),B=P[0].clone(),a(B);let O=B;for(let V=0;V<P.length-1;V++){o.isValidChild(O.name,P[V].name)&&V>0?(N=P[V].clone(),a(N),O.append(N)):N=O;for(let G=P[V].firstChild;G&&G!==P[V+1];){const Y=G.next;N.append(G),G=Y}O=N}Yu(o,c,d,B)?E.insert(k,P[0],!0):(E.insert(B,P[0],!0),E.insert(k,B)),E=P[0],(Yu(o,c,d,E)||Lh(E,"br"))&&E.empty().remove()}else if(k.parent){if(k.name==="li"){let O=k.prev;if(O&&(O.name==="ul"||O.name==="ol")){O.append(k);continue}if(O=k.next,O&&(O.name==="ul"||O.name==="ol")&&O.firstChild){O.insert(k,O.firstChild,!0);continue}const V=new kc("ul",1);a(V),k.wrap(V);continue}if(o.isValidChild(k.parent.name,"div")&&o.isValidChild("div",k.name)){const O=new kc("div",1);a(O),k.wrap(O)}else O2(k,o)}}},iw=(t,o,n=o.parent)=>!(!n||(!t.children[o.name]||t.isValidChild(n.name,o.name))&&(o.name!=="a"||!((a,i)=>{let c=a;for(;c;){if(c.name==="a")return!0;c=c.parent}return!1})(n))&&(!(a=>a.name==="summary")(n)||!aw(o)||(n==null?void 0:n.firstChild)===o&&(n==null?void 0:n.lastChild)===o)),lw=t=>t.collapsed?t:(o=>{const n=Ut.fromRangeStart(o),a=Ut.fromRangeEnd(o),i=o.commonAncestorContainer;return Oe(!1,i,a).map(c=>!Fd(n,a,i)&&Fd(n,c,i)?((d,u,f,y)=>{const v=document.createRange();return v.setStart(d,u),v.setEnd(f,y),v})(n.container(),n.offset(),c.container(),c.offset()):o).getOr(o)})(t),df=(t,o)=>{let n=o.firstChild,a=o.lastChild;return n&&n.name==="meta"&&(n=n.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),((i,c)=>{const d=i.getNonEmptyElements();return $e(c)&&(c.isEmpty(d)||((u,f)=>u.getBlockElements()[f.name]&&(y=>$e(y.firstChild)&&y.firstChild===y.lastChild)(f)&&(y=>y.name==="br"||y.value===ms)(f.firstChild))(i,c))})(t,a)&&(a=a==null?void 0:a.prev),!(!n||n!==a||n.name!=="ul"&&n.name!=="ol")},Ih=t=>{return t.length>0&&(!(n=t[t.length-1]).firstChild||$e((o=n)==null?void 0:o.firstChild)&&o.firstChild===o.lastChild&&(a=>a.data===ms||fa(a))(o.firstChild))?t.slice(0,-1):t;var o,n},ol=(t,o)=>{const n=t.getParent(o,t.isBlock);return n&&n.nodeName==="LI"?n:null},mg=(t,o)=>{const n=Ut.after(t),a=ce(o).prev(n);return a?a.toRange():null},ya=(t,o,n,a)=>{const i=((k,E,B)=>{const N=E.serialize(B);return(P=>{var O,V;const G=P.firstChild,Y=P.lastChild;return G&&G.nodeName==="META"&&((O=G.parentNode)===null||O===void 0||O.removeChild(G)),Y&&Y.id==="mce_marker"&&((V=Y.parentNode)===null||V===void 0||V.removeChild(Y)),P})(k.createFragment(N))})(o,t,a),c=ol(o,n.startContainer),d=Ih((u=i.firstChild,et((f=u==null?void 0:u.childNodes)!==null&&f!==void 0?f:[],k=>k.nodeName==="LI")));var u,f;const y=o.getRoot(),v=k=>{const E=Ut.fromRangeStart(n),B=ce(o.getRoot()),N=k===1?B.prev(E):B.next(E),P=N==null?void 0:N.getNode();return!P||ol(o,P)!==c};return c?v(1)?((k,E,B)=>{const N=k.parentNode;return N&&to.each(E,P=>{N.insertBefore(P,k)}),((P,O)=>{const V=Ut.before(P),G=ce(O).next(V);return G?G.toRange():null})(k,B)})(c,d,y):v(2)?((k,E,B,N)=>(N.insertAfter(E.reverse(),k),mg(E[0],B)))(c,d,y,o):((k,E,B,N)=>{const P=((V,G)=>{const Y=G.cloneRange(),ae=G.cloneRange();return Y.setStartBefore(V),ae.setEndAfter(V),[Y.cloneContents(),ae.cloneContents()]})(k,N),O=k.parentNode;return O&&(O.insertBefore(P[0],k),to.each(E,V=>{O.insertBefore(V,k)}),O.insertBefore(P[1],k),O.removeChild(k)),mg(E[E.length-1],B)})(c,d,y,n):null},k5=["pre"],M2=pc,hs=(t,o,n)=>{var a,i;const c=t.selection,d=t.dom,u=t.parser,f=n.merge,y=ep({validate:!0},t.schema),v='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(o=Li(o)),o.indexOf("{$caret}")===-1&&(o+="{$caret}"),o=o.replace(/\{\$caret\}/,v);let k=c.getRng();const E=k.startContainer,B=t.getBody();E===B&&c.isCollapsed()&&d.isBlock(B.firstChild)&&((Y,ae)=>$e(ae)&&!Y.schema.getVoidElements()[ae.nodeName])(t,B.firstChild)&&d.isEmpty(B.firstChild)&&(k=d.createRng(),k.setStart(B.firstChild,0),k.setEnd(B.firstChild,0),c.setRng(k)),c.isCollapsed()||(Y=>{const ae=Y.dom,ee=lw(Y.selection.getRng());Y.selection.setRng(ee);const we=ae.getParent(ee.startContainer,M2);((je,Pe,rt)=>!!$e(rt)&&rt===je.getParent(Pe.endContainer,M2)&&fx(Ze(rt),Pe))(ae,ee,we)?ow(Y,ee,Ze(we)):ee.startContainer===ee.endContainer&&ee.endOffset-ee.startOffset==1&&vo(ee.startContainer.childNodes[ee.startOffset])?ee.deleteContents():Y.getDoc().execCommand("Delete",!1)})(t);const N=c.getNode(),P={context:N.nodeName.toLowerCase(),data:n.data,insert:!0},O=u.parse(o,P);if(n.paste===!0&&df(t.schema,O)&&((Y,ae)=>!!ol(Y,ae))(d,N))return k=ya(y,d,c.getRng(),O),k&&c.setRng(k),o;n.paste===!0&&((Y,ae,ee,we)=>{var je;const Pe=ae.firstChild,rt=ae.lastChild,Mt=Pe===(rt.attr("data-mce-type")==="bookmark"?rt.prev:rt),Fe=ao(k5,Pe.name);if(Mt&&Fe){const Ue=Pe.attr("contenteditable")!=="false",ot=((je=Y.getParent(ee,Y.isBlock))===null||je===void 0?void 0:je.nodeName.toLowerCase())===Pe.name,Qt=F.from(cf(we,ee)).forall(_a);return Ue&&ot&&Qt}return!1})(d,O,N,t.getBody())&&((a=O.firstChild)===null||a===void 0||a.unwrap()),(Y=>{let ae=Y;for(;ae=ae.walk();)ae.type===1&&ae.attr("data-mce-fragment","1")})(O);let V=O.lastChild;if(V&&V.attr("id")==="mce_marker"){const Y=V;for(V=V.prev;V&&V.name!=="table";V=V.walk(!0))if(V.type===3||!d.isBlock(V.name)){V.parent&&t.schema.isValidChild(V.parent.name,"span")&&V.parent.insert(Y,V,V.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(N),P.invalid||((Y,ae,ee)=>{var we;return yo(ee.children(),aw)&&((we=Y.getParent(ae,Y.isBlock))===null||we===void 0?void 0:we.nodeName)==="SUMMARY"})(d,N,O)){t.selection.setContent(v);let Y,ae=c.getNode();const ee=t.getBody();for(wi(ae)?ae=Y=ee:Y=ae;Y&&Y!==ee;)ae=Y,Y=Y.parentNode;o=ae===ee?ee.innerHTML:d.getOuterHTML(ae);const we=u.parse(o),je=(Ue=>{for(let ot=Ue;ot;ot=ot.walk())if(ot.attr("id")==="mce_marker")return F.some(ot);return F.none()})(we),Pe=je.bind(tE).getOr(we);je.each(Ue=>Ue.replace(O));const rt=O.children(),Mt=(i=O.parent)!==null&&i!==void 0?i:we;O.unwrap();const Fe=et(rt,Ue=>iw(t.schema,Ue,Mt));N2(Fe,t.schema,Pe),sw(u.getNodeFilters(),u.getAttributeFilters(),we),o=y.serialize(we),ae===ee?d.setHTML(ee,o):d.setOuterHTML(ae,o)}else o=y.serialize(O),((Y,ae,ee)=>{var we;if(ee.getAttribute("data-mce-bogus")==="all")(we=ee.parentNode)===null||we===void 0||we.insertBefore(Y.dom.createFragment(ae),ee);else{const je=ee.firstChild,Pe=ee.lastChild;!je||je===Pe&&je.nodeName==="BR"?Y.dom.setHTML(ee,ae):Y.selection.setContent(ae,{no_events:!0})}})(t,o,N);var G;return((Y,ae)=>{const ee=Y.schema.getTextInlineElements(),we=Y.dom;if(ae){const je=Y.getBody(),Pe=Bh(Y),rt="*[data-mce-fragment]",Mt=we.select(rt);to.each(Mt,Fe=>{const Ue=Do=>$e(ee[Do.nodeName.toLowerCase()]),ot=Do=>Do.childNodes.length===1;if(!f1(we,Qt=Fe)&&!((Do,Ao)=>f1(Do,Ao)&&yo(iy(Do,Ao),vn=>(Tn=>L3.has(Tn))(vn)))(we,Qt)&&Ue(Fe)&&ot(Fe)){const Do=iy(we,Fe),Ao=($n,Yo)=>_t($n,Cn=>ao(Yo,Cn)),vn=$n=>ot(Fe)&&we.is($n,rt)&&Ue($n)&&($n.nodeName===Fe.nodeName&&Ao(Do,iy(we,$n))||vn($n.children[0])),Tn=$n=>$e($n)&&$n!==je&&(Pe.compare(Fe,$n)||Tn($n.parentElement)),Bn=$n=>$e($n)&&$n!==je&&we.is($n,rt)&&(((Yo,Cn,Qe)=>{const st=iy(Yo,Cn),Ht=iy(Yo,Qe),It=Ko=>{var Po,Pn;const Gn=(Po=Yo.getStyle(Cn,Ko))!==null&&Po!==void 0?Po:"",br=(Pn=Yo.getStyle(Qe,Ko))!==null&&Pn!==void 0?Pn:"";return Ln(Gn)&&Ln(br)&&Gn!==br};return yo(st,Ko=>{const Po=Pn=>yo(Pn,Gn=>Gn===Ko);if(!Po(Ht)&&Po(jx)){const Pn=et(Ht,Gn=>yo(jx,br=>Te(Gn,br)));return yo(Pn,It)}return It(Ko)})})(we,Fe,$n)||Bn($n.parentElement));(vn(Fe.children[0])||Tn(Fe.parentElement)&&!Bn(Fe.parentElement))&&we.remove(Fe,!0)}var Qt})}})(t,f),((Y,ae)=>{var ee,we,je;let Pe;const rt=Y.dom,Mt=Y.selection;if(!ae)return;Mt.scrollIntoView(ae);const Fe=cf(Y.getBody(),ae);if(Fe&&rt.getContentEditable(Fe)==="false")return rt.remove(ae),void Mt.select(Fe);let Ue=rt.createRng();const ot=ae.previousSibling;if(vo(ot)){Ue.setStart(ot,(we=(ee=ot.nodeValue)===null||ee===void 0?void 0:ee.length)!==null&&we!==void 0?we:0);const Do=ae.nextSibling;vo(Do)&&(ot.appendData(Do.data),(je=Do.parentNode)===null||je===void 0||je.removeChild(Do))}else Ue.setStartBefore(ae),Ue.setEndBefore(ae);const Qt=rt.getParent(ae,rt.isBlock);if(rt.remove(ae),Qt&&rt.isEmpty(Qt)){const Do=M2(Qt);Nc(Ze(Qt)),Ue.setStart(Qt,0),Ue.setEnd(Qt,0),Do||(Ao=>!!Ao.getAttribute("data-mce-fragment"))(Qt)||!(Pe=(Ao=>{let vn=Ut.fromRangeStart(Ao);return vn=ce(Y.getBody()).next(vn),vn==null?void 0:vn.toRange()})(Ue))?rt.add(Qt,rt.create("br",Do?{}:{"data-mce-bogus":"1"})):(Ue=Pe,rt.remove(Qt))}Mt.setRng(Ue)})(t,d.get("mce_marker")),G=t.getBody(),to.each(G.getElementsByTagName("*"),Y=>{Y.removeAttribute("data-mce-fragment")}),((Y,ae,ee)=>{F.from(Y.getParent(ae,"td,th")).map(Ze).each(we=>((je,Pe)=>{ta(je).each(rt=>{yt(rt).each(Mt=>{Pe.isBlock(ur(je))&&Od(rt)&&Pe.isBlock(ur(Mt))&&ca(rt)})})})(we,ee))})(d,c.getStart(),t.schema),((Y,ae,ee)=>{const we=ze(Ze(ee),je=>Wr(je,Ze(ae)));tt(we,we.length-2).filter(Q).fold(()=>po(Y,ae),je=>po(Y,je.dom))})(t.schema,t.getBody(),c.getStart()),o},_1=t=>t instanceof kc,Ph=(t,o,n)=>{t.dom.setHTML(t.getBody(),o),n!==!0&&(a=>{Nh(a)&&Zt(a.getBody()).each(i=>{const c=i.getNode(),d=oo(c)?Zt(c).getOr(i):i;a.selection.setRng(d.toRange())})})(t)},fy=t=>ge(t)?t:So,Hh=(t,o,n)=>{const a=o(t),i=fy(n);return a.orThunk(()=>i(t)?F.none():((c,d,u)=>{let f=c.dom;const y=fy(u);for(;f.parentNode;){f=f.parentNode;const v=Ze(f),k=d(v);if(k.isSome())return k;if(y(v))break}return F.none()})(t,o,i))},jh=Q0,D2=(t,o,n)=>{const a=t.formatter.get(n);if(a)for(let i=0;i<a.length;i++){const c=a[i];if(Pd(c)&&c.inherit===!1&&t.dom.is(o,c.selector))return!0}return!1},R2=(t,o,n,a,i)=>{const c=t.dom.getRoot();if(o===c)return!1;const d=t.dom.getParent(o,u=>!!D2(t,u,n)||u.parentNode===c||!!gg(t,u,n,a,!0));return!!gg(t,d,n,a,i)},cw=(t,o,n)=>!(!$i(n)||!jh(o,n.inline))||!(!Gu(n)||!jh(o,n.block))||!!Pd(n)&&bn(o)&&t.is(o,n.selector),oE=(t,o,n,a,i,c)=>{const d=n[a],u=a==="attributes";if(ge(n.onmatch))return n.onmatch(o,n,a);if(d){if(Fa(d)){for(let f=0;f<d.length;f++)if(u?t.getAttrib(o,d[f]):Sm(t,o,d[f]))return!0}else for(const f in d)if(jo(d,f)){const y=u?t.getAttrib(o,f):Sm(t,o,f),v=dg(d[f],c),k=ue(y)||Qr(y);if(k&&ue(v))continue;if(i&&k&&!n.exact||(!i||n.exact)&&!jh(y,ja(v,f)))return!1}}return!0},gg=(t,o,n,a,i)=>{const c=t.formatter.get(n),d=t.dom;if(c&&bn(o))for(let u=0;u<c.length;u++){const f=c[u];if(cw(t.dom,o,f)&&oE(d,o,f,"attributes",i,a)&&oE(d,o,f,"styles",i,a)){const y=f.classes;if(y){for(let v=0;v<y.length;v++)if(!t.dom.hasClass(o,dg(y[v],a)))return}return f}}},Bs=(t,o,n,a,i)=>{if(a)return R2(t,a,o,n,i);if(a=t.selection.getNode(),R2(t,a,o,n,i))return!0;const c=t.selection.getStart();return!(c===a||!R2(t,c,o,n,i))},hy=Fi,B2=t=>{if(t){const o=new Ws(t,t);for(let n=o.current();n;n=o.next())if(vo(n))return n}return null},F2=t=>{const o=Is("span");return lt(o,{id:fo,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&us(o,Oc(hy)),o},L2=(t,o,n)=>{const a=t.dom,i=t.selection;if(N_(o))sf(t,!1,Ze(o),n,!0);else{const c=i.getRng(),d=a.getParent(o,a.isBlock),u=c.startContainer,f=c.startOffset,y=c.endContainer,v=c.endOffset,k=(E=>{const B=B2(E);return B&&B.data.charAt(0)===hy&&B.deleteData(0,1),B})(o);a.remove(o,!0),u===k&&f>0&&c.setStart(k,f-1),y===k&&v>0&&c.setEnd(k,v-1),d&&a.isEmpty(d)&&Hu(Ze(d)),i.setRng(c)}},I2=(t,o,n)=>{const a=t.dom,i=t.selection;if(o)L2(t,o,n);else if(!(o=Bo(t.getBody(),i.getStart())))for(;o=a.get(fo);)L2(t,o,n)},$c=(t,o)=>(t.appendChild(o),o),yu=(t,o)=>{var n;const a=ye(t,(c,d)=>$c(c,d.cloneNode(!1)),o),i=(n=a.ownerDocument)!==null&&n!==void 0?n:document;return $c(a,i.createTextNode(hy))},P2=t=>Sl(t,Ea(t).replace(new RegExp(`${ms}$`)," ")),dw=(t,o)=>{const n=()=>{o===null||t.dom.isEmpty(o)||yt(Ze(o)).each(a=>{Ce(a)?P2(a):rs(a,i=>Ce(i)).each(i=>{Ce(i)&&P2(i)})})};t.once("input",a=>{a.data&&!Wu(a.data)&&(a.isComposing?t.once("compositionend",()=>{n()}):n())})},H2=(t,o,n,a)=>{const i=t.dom,c=t.selection;let d=!1;const u=t.formatter.get(o);if(!u)return;const f=c.getRng(),y=f.startContainer,v=f.startOffset;let k=y;vo(y)&&(v!==y.data.length&&(d=!0),k=k.parentNode);const E=[];let B;for(;k;){if(gg(t,k,o,n,a)){B=k;break}k.nextSibling&&(d=!0),E.push(k),k=k.parentNode}if(B)if(d){const N=c.getBookmark();f.collapse(!0);let P=zh(i,f,u,!0);P=Qg(P),t.formatter.remove(o,n,P,a),c.moveToBookmark(N)}else{const N=Bo(t.getBody(),B),P=$e(N)?i.getParents(B.parentNode,Dt,N):[],O=F2(!1).dom;((Y,ae,ee)=>{var we,je;const Pe=Y.dom,rt=Pe.getParent(ee,Je(z_,Y.schema));rt&&Pe.isEmpty(rt)?(we=ee.parentNode)===null||we===void 0||we.replaceChild(ae,ee):((Mt=>{const Fe=Ss(Mt,"br"),Ue=et((ot=>{const Qt=[];let Do=ot.dom;for(;Do;)Qt.push(Ze(Do)),Do=Do.lastChild;return Qt})(Mt).slice(-1),Od);Fe.length===Ue.length&&_e(Ue,ca)})(Ze(ee)),Pe.isEmpty(ee)?(je=ee.parentNode)===null||je===void 0||je.replaceChild(ae,ee):Pe.insertAfter(ae,ee))})(t,O,N??B);const V=((Y,ae,ee,we,je,Pe)=>{const rt=Y.formatter,Mt=Y.dom,Fe=et(Zo(rt.get()),ot=>ot!==we&&!xr(ot,"removeformat")),Ue=((ot,Qt,Do)=>fe(Do,(Ao,vn)=>{const Tn=((Bn,$n)=>yx(Bn,$n,Yo=>{const Cn=Qe=>ge(Qe)||Qe.length>1&&Qe.charAt(0)==="%";return yo(["styles","attributes"],Qe=>yr(Yo,Qe).exists(st=>{const Ht=uo(st)?st:Nr(st);return yo(Ht,Cn)}))}))(ot,vn);return ot.formatter.matchNode(Qt,vn,{},Tn)?Ao.concat([vn]):Ao},[]))(Y,ee,Fe);if(et(Ue,ot=>!((Qt,Do,Ao)=>{const vn=["inline","block","selector","attributes","styles","classes"],Tn=Bn=>Ft(Bn,($n,Yo)=>yo(vn,Cn=>Cn===Yo));return yx(Qt,Do,Bn=>{const $n=Tn(Bn);return yx(Qt,Ao,Yo=>{const Cn=Tn(Yo);return((Qe,st,Ht=Wo)=>mo(Ht).eq(Qe,st))($n,Cn)})})})(Y,ot,we)).length>0){const ot=ee.cloneNode(!1);return Mt.add(ae,ot),rt.remove(we,je,ot,Pe),Mt.remove(ot),F.some(ot)}return F.none()})(t,O,B,o,n,a),G=yu([...E,...V.toArray(),...P],O);N&&L2(t,N,$e(N)),c.setCursorLocation(G,1),dw(t,O),i.isEmpty(B)&&i.remove(B)}},C1=t=>{const o=F2(!1),n=yu(t,o.dom);return{caretContainer:o,caretPosition:Ut(n,0)}},j2=(t,o)=>{const{caretContainer:n,caretPosition:a}=C1(o);return Ai(Ze(t),n),ca(Ze(t)),a},by=(t,o)=>{if(To(o.dom))return!1;const n=t.schema.getTextInlineElements();return jo(n,ur(o))&&!To(o.dom)&&!oc(o.dom)},uf={},uw=Sa(["pre"]);((t,o)=>{uf[t]||(uf[t]=[]),uf[t].push(n=>{if(!n.selection.getRng().collapsed){const a=n.selection.getSelectedBlocks(),i=et(et(a,uw),(c=>d=>{const u=d.previousSibling;return uw(u)&&ao(c,u)})(a));_e(i,c=>{((d,u)=>{const f=Ze(u),y=xl(f).dom;ca(f),wd(Ze(d),[Is("br",y),Is("br",y),...Fr(f)])})(c.previousSibling,c)})}})})("pre");const V2=["fontWeight","fontStyle","color","fontSize","fontFamily"],yy=(t,o)=>{const n=t.get(o);return uo(n)?ke(n,a=>$i(a)&&a.inline==="span"&&(i=>ut(i.styles)&&yo(Zo(i.styles),c=>ao(V2,c)))(a)):F.none()},nE=(t,o)=>Xt(o,Ut.fromRangeStart(t)).isNone(),rE=(t,o)=>Gt(o,Ut.fromRangeEnd(t)).exists(n=>!fa(n.getNode())||Gt(o,n).isSome())===!1,Xu=t=>o=>St(o)&&t.isEditable(o),Uc=t=>et(t.getSelectedBlocks(),Xu(t.dom)),Vh=to.each,mw=t=>bn(t)&&!tl(t)&&!To(t)&&!oc(t),jd=(t,o)=>{for(let n=t;n;n=n[o]){if(vo(n)&&Ln(n.data))return t;if(bn(n)&&!tl(n))return n}return t},Wa=(t,o,n)=>{const a=Bh(t),i=Hs(o)&&t.dom.isEditable(o),c=Hs(n)&&t.dom.isEditable(n);if(i&&c){const d=jd(o,"previousSibling"),u=jd(n,"nextSibling");if(a.compare(d,u)){for(let f=d.nextSibling;f&&f!==u;){const y=f;f=f.nextSibling,d.appendChild(y)}return t.dom.remove(u),to.each(to.grep(u.childNodes),f=>{d.appendChild(f)}),d}}return n},aE=(t,o,n,a)=>{var i;if(a&&o.merge_siblings!==!1){const c=(i=Wa(t,hx(a),a))!==null&&i!==void 0?i:a;Wa(t,c,hx(c,!0))}},ap=(t,o,n)=>{Vh(t.childNodes,a=>{mw(a)&&(o(a)&&n(a),a.hasChildNodes()&&ap(a,o,n))})},vy=(t,o)=>n=>!(!n||!Sm(t,n,o)),$2=(t,o,n)=>a=>{t.setStyle(a,o,n),a.getAttribute("style")===""&&a.removeAttribute("style"),((i,c)=>{c.nodeName==="SPAN"&&i.getAttribs(c).length===0&&i.remove(c,!0)})(t,a)},sp=Dd([{keep:[]},{rename:["name"]},{removed:[]}]),U2=/^(src|href|style)$/,Z2=to.each,xy=Q0,sE=(t,o,n)=>t.isChildOf(o,n)&&o!==n&&!t.isBlock(n),q2=(t,o,n)=>{let a=o[n?"startContainer":"endContainer"],i=o[n?"startOffset":"endOffset"];if(bn(a)){const c=a.childNodes.length-1;!n&&i&&i--,a=a.childNodes[i>c?c:i]}return vo(a)&&n&&i>=a.data.length&&(a=new Ws(a,t.getBody()).next()||a),vo(a)&&!n&&i===0&&(a=new Ws(a,t.getBody()).prev()||a),a},W2=(t,o)=>{const n=o?"firstChild":"lastChild",a=t[n];return(i=>/^(TR|TH|TD)$/.test(i.nodeName))(t)&&a?t.nodeName==="TR"&&a[n]||a:t},S1=(t,o,n,a)=>{var i;const c=t.create(n,a);return(i=o.parentNode)===null||i===void 0||i.insertBefore(c,o),c.appendChild(o),c},G2=(t,o,n,a,i)=>{const c=Ze(o),d=Ze(t.create(a,i)),u=n?mr(c):zn(c);return wd(d,u),n?(Ai(c,d),xd(d,c)):(di(c,d),us(d,c)),d.dom},E1=(t,o,n)=>{const a=o.parentNode;let i;const c=t.dom,d=Ji(t);Gu(n)&&a===c.getRoot()&&(n.list_block&&xy(o,n.list_block)||_e(Fo(o.childNodes),u=>{Xp(t,d,u.nodeName.toLowerCase())?i?i.appendChild(u):(i=S1(c,u,d),c.setAttribs(i,Mp(t))):i=null})),(u=>Pd(u)&&$i(u)&&bi(yr(u,"mixed"),!0))(n)&&!xy(n.inline,o)||c.remove(o,!0)},iE=(t,o,n)=>mt(t)?{name:o,value:null}:{name:t,value:dg(o,n)},lE=(t,o)=>{t.getAttrib(o,"style")===""&&(o.removeAttribute("style"),o.removeAttribute("data-mce-style"))},cE=(t,o,n,a,i)=>{let c=!1;Z2(n.styles,(d,u)=>{const{name:f,value:y}=iE(u,d,a),v=ja(y,f);(n.remove_similar||Ae(y)||!bn(i)||xy(Sm(t,i,f),v))&&t.setStyle(o,f,""),c=!0}),c&&lE(t,o)},dE=(t,o,n,a,i)=>{const c=t.dom,d=Bh(t),u=t.schema;if($i(o)&&Zn(u,o.inline)&&ha(u,a)&&a.parentElement===t.getBody())return E1(t,a,o),sp.removed();if(!o.ceFalseOverride&&a&&c.getContentEditableParent(a)==="false"||a&&!cw(c,a,o)&&!((v,k)=>k.links&&v.nodeName==="A")(a,o))return sp.keep();const f=a,y=o.preserve_attributes;if($i(o)&&o.remove==="all"&&uo(y)){const v=et(c.getAttribs(f),k=>ao(y,k.name.toLowerCase()));if(c.removeAllAttribs(f),_e(v,k=>c.setAttrib(f,k.name,k.value)),v.length>0)return sp.rename("span")}if(o.remove!=="all"){cE(c,f,o,n,i),Z2(o.attributes,(k,E)=>{const{name:B,value:N}=iE(E,k,n);if(o.remove_similar||Ae(N)||!bn(i)||xy(c.getAttrib(i,B),N)){if(B==="class"){const P=c.getAttrib(f,B);if(P){let O="";if(_e(P.split(/\s+/),V=>{/mce\-\w+/.test(V)&&(O+=(O?" ":"")+V)}),O)return void c.setAttrib(f,B,O)}}if(U2.test(B)&&f.removeAttribute("data-mce-"+B),B==="style"&&Sa(["li"])(f)&&c.getStyle(f,"list-style-type")==="none")return f.removeAttribute(B),void c.setStyle(f,"list-style-type","none");B==="class"&&f.removeAttribute("className"),f.removeAttribute(B)}}),Z2(o.classes,k=>{k=dg(k,n),bn(i)&&!c.hasClass(i,k)||c.removeClass(f,k)});const v=c.getAttribs(f);for(let k=0;k<v.length;k++){const E=v[k].nodeName;if(!d.isAttributeInternal(E))return sp.keep()}}return o.remove!=="none"?(E1(t,f,o),sp.removed()):sp.keep()},_5=(t,o,n,a)=>dE(t,o,n,a,a).fold(Rt(a),i=>(t.dom.createFragment().appendChild(a),t.dom.rename(a,i)),Rt(null)),K2=(t,o,n,a,i)=>{(a||t.selection.isEditable())&&((c,d,u,f,y)=>{const v=c.formatter.get(d),k=v[0],E=c.dom,B=c.selection,N=Y=>{const ae=((ee,we,je,Pe,rt)=>{let Mt;return we.parentNode&&_e(e1(ee.dom,we.parentNode).reverse(),Fe=>{if(!Mt&&bn(Fe)&&Fe.id!=="_start"&&Fe.id!=="_end"){const Ue=gg(ee,Fe,je,Pe,rt);Ue&&Ue.split!==!1&&(Mt=Fe)}}),Mt})(c,Y,d,u,y);return((ee,we,je,Pe,rt,Mt,Fe,Ue)=>{var ot,Qt;let Do,Ao;const vn=ee.dom;if(je){const Tn=je.parentNode;for(let Bn=Pe.parentNode;Bn&&Bn!==Tn;Bn=Bn.parentNode){let $n=vn.clone(Bn,!1);for(let Yo=0;Yo<we.length&&($n=_5(ee,we[Yo],Ue,$n),$n!==null);Yo++);$n&&(Do&&$n.appendChild(Do),Ao||(Ao=$n),Do=$n)}Fe.mixed&&vn.isBlock(je)||(Pe=(ot=vn.split(je,Pe))!==null&&ot!==void 0?ot:Pe),Do&&Ao&&((Qt=rt.parentNode)===null||Qt===void 0||Qt.insertBefore(Do,rt),Ao.appendChild(rt),$i(Fe)&&aE(ee,Fe,0,Do))}return Pe})(c,v,ae,Y,Y,0,k,u)},P=Y=>yo(v,ae=>z1(c,ae,u,Y,Y)),O=Y=>{const ae=Fo(Y.childNodes),ee=P(Y)||yo(v,je=>cw(E,Y,je)),we=Y.parentNode;if(!ee&&$e(we)&&O_(k)&&P(we),k.deep&&ae.length)for(let je=0;je<ae.length;je++)O(ae[je]);_e(["underline","line-through","overline"],je=>{bn(Y)&&c.dom.getStyle(Y,"text-decoration")===je&&Y.parentNode&&A_(E,Y.parentNode)===je&&z1(c,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:je}},void 0,Y)})},V=Y=>{const ae=E.get(Y?"_start":"_end");if(ae){let ee=ae[Y?"firstChild":"lastChild"];return(we=>tl(we)&&bn(we)&&(we.id==="_start"||we.id==="_end"))(ee)&&(ee=ee[Y?"firstChild":"lastChild"]),vo(ee)&&ee.data.length===0&&(ee=Y?ae.previousSibling||ae.nextSibling:ae.nextSibling||ae.previousSibling),E.remove(ae,!0),ee}return null},G=Y=>{let ae,ee,we=zh(E,Y,v,Y.collapsed);if(k.split){if(we=Qg(we),ae=q2(c,we,!0),ee=q2(c,we),ae!==ee){if(ae=W2(ae,!0),ee=W2(ee,!1),sE(E,ae,ee)){const Pe=F.from(ae.firstChild).getOr(ae);return N(G2(E,Pe,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void V(!0)}if(sE(E,ee,ae)){const Pe=F.from(ee.lastChild).getOr(ee);return N(G2(E,Pe,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void V(!1)}ae=S1(E,ae,"span",{id:"_start","data-mce-type":"bookmark"}),ee=S1(E,ee,"span",{id:"_end","data-mce-type":"bookmark"});const je=E.createRng();je.setStartAfter(ae),je.setEndBefore(ee),o1(E,je,Pe=>{_e(Pe,rt=>{tl(rt)||tl(rt.parentNode)||N(rt)})}),N(ae),N(ee),ae=V(!0),ee=V()}else ae=ee=N(ae);we.startContainer=ae.parentNode?ae.parentNode:ae,we.startOffset=E.nodeIndex(ae),we.endContainer=ee.parentNode?ee.parentNode:ee,we.endOffset=E.nodeIndex(ee)+1}o1(E,we,je=>{_e(je,O)})};if(f){if(Yp(f)){const Y=E.createRng();Y.setStartBefore(f),Y.setEndAfter(f),G(Y)}else G(f);kx(c,d,f,u)}else B.isCollapsed()&&$i(k)&&!Cm(c).length?H2(c,d,u,y):(d3(c,()=>Ld(c,G),Y=>$i(k)&&Bs(c,d,u,Y)),c.nodeChanged()),((Y,ae,ee)=>{ae==="removeformat"?_e(Uc(Y.selection),we=>{_e(V2,je=>Y.dom.setStyle(we,je,"")),lE(Y.dom,we)}):yy(Y.formatter,ae).each(we=>{_e(Uc(Y.selection),je=>cE(Y.dom,je,we,ee,null))})})(c,d,u),kx(c,d,f,u)})(t,o,n,a,i)},z1=(t,o,n,a,i)=>dE(t,o,n,a,i).fold(So,c=>(t.dom.rename(a,c),!0),Dt),uE=to.each,T1=to.each,mE=(t,o,n,a)=>{if(T1(n.styles,(i,c)=>{t.setStyle(o,c,dg(i,a))}),n.styles){const i=t.getAttrib(o,"style");i&&t.setAttrib(o,"data-mce-style",i)}},gE=(t,o,n,a)=>{const i=t.formatter.get(o),c=i[0],d=!a&&t.selection.isCollapsed(),u=t.dom,f=t.selection,y=(N,P=c)=>{ge(P.onformat)&&P.onformat(N,P,n,a),mE(u,N,P,n),T1(P.attributes,(O,V)=>{u.setAttrib(N,V,dg(O,n))}),T1(P.classes,O=>{const V=dg(O,n);u.hasClass(N,V)||u.addClass(N,V)})},v=(N,P)=>{let O=!1;return T1(N,V=>!(!Pd(V)||(u.getContentEditable(P)!=="false"||V.ceFalseOverride)&&(!$e(V.collapsed)||V.collapsed===d)&&u.is(P,V.selector)&&!To(P)&&(y(P,V),O=!0,1))),O},k=N=>{if(Ve(N)){const P=u.create(N);return y(P),P}return null},E=(N,P,O)=>{const V=[];let G=!0;const Y=c.inline||c.block,ae=k(Y);o1(N,P,ee=>{let we;const je=Pe=>{let rt=!1,Mt=G,Fe=!1;const Ue=Pe.parentNode,ot=Ue.nodeName.toLowerCase(),Qt=N.getContentEditable(Pe);$e(Qt)&&(Mt=G,G=Qt==="true",rt=!0,Fe=T_(t,Pe));const Do=G&&!rt;if(fa(Pe)&&!((Ao,vn,Tn,Bn)=>{if(Kl(Ao)&&$i(vn)&&Tn.parentNode){const $n=An(Ao.schema),Yo=ou(Ze(Tn),Cn=>To(Cn.dom));return $r($n,Bn)&&kl(Ao.schema,Tn.parentNode,{skipBogus:!1,includeZwsp:!0})&&!Yo}return!1})(t,c,Pe,ot))return we=null,void(Gu(c)&&N.remove(Pe));if((Ao=>(vn=>Gu(vn)&&vn.wrapper===!0)(c)&&gg(t,Ao,o,n))(Pe))we=null;else{if(((Ao,vn,Tn)=>{const Bn=($n=>Gu($n)&&$n.wrapper!==!0)(c)&&z_(t.schema,Ao)&&Xp(t,vn,Y);return Tn&&Bn})(Pe,ot,Do)){const Ao=N.rename(Pe,Y);return y(Ao),V.push(Ao),void(we=null)}if(Pd(c)){let Ao=v(i,Pe);if(!Ao&&$e(Ue)&&O_(c)&&(Ao=v(i,Ue)),!$i(c)||Ao)return void(we=null)}$e(ae)&&((Ao,vn,Tn,Bn)=>{const $n=Ao.nodeName.toLowerCase(),Yo=Xp(t,Y,$n)&&Xp(t,vn,Y),Cn=!O&&vo(Ao)&&Kf(Ao.data),Qe=To(Ao),st=!$i(c)||!N.isBlock(Ao);return(Tn||Bn)&&Yo&&!Cn&&!Qe&&st})(Pe,ot,Do,Fe)?(we||(we=N.clone(ae,!1),Ue.insertBefore(we,Pe),V.push(we)),Fe&&rt&&(G=Mt),we.appendChild(Pe)):(we=null,_e(Fo(Pe.childNodes),je),rt&&(G=Mt),we=null)}};_e(ee,je)}),c.links===!0&&_e(V,ee=>{const we=je=>{je.nodeName==="A"&&y(je,c),_e(Fo(je.childNodes),we)};we(ee)}),_e(V,ee=>{const we=(je=>{let Pe=0;return _e(je.childNodes,rt=>{(Mt=>$e(Mt)&&vo(Mt)&&Mt.length===0)(rt)||tl(rt)||Pe++}),Pe})(ee);!(V.length>1)&&N.isBlock(ee)||we!==0?($i(c)||Gu(c)&&c.wrapper)&&(c.exact||we!==1||(ee=(je=>ke(je.childNodes,J0).filter(rt=>N.getContentEditable(rt)!=="false"&&cw(N,rt,c)).map(rt=>{const Mt=N.clone(rt,!1);return y(Mt),N.replace(Mt,je,!0),N.remove(rt,!0),Mt}).getOr(je))(ee)),((je,Pe,rt,Mt)=>{uE(Pe,Fe=>{$i(Fe)&&uE(je.dom.select(Fe.inline,Mt),Ue=>{mw(Ue)&&z1(je,Fe,rt,Ue,Fe.exact?Ue:null)}),((Ue,ot,Qt)=>{if(ot.clear_child_styles){const Do=ot.links?"*:not(a)":"*";Vh(Ue.select(Do,Qt),Ao=>{mw(Ao)&&Ue.isEditable(Ao)&&Vh(ot.styles,(vn,Tn)=>{Ue.setStyle(Ao,Tn,"")})})}})(je.dom,Fe,Mt)})})(t,i,n,ee),((je,Pe,rt,Mt,Fe)=>{const Ue=Fe.parentNode;gg(je,Ue,rt,Mt)&&z1(je,Pe,Mt,Fe)||Pe.merge_with_parents&&Ue&&je.dom.getParent(Ue,ot=>!!gg(je,ot,rt,Mt)&&(z1(je,Pe,Mt,Fe),!0))})(t,c,o,n,ee),((je,Pe,rt,Mt)=>{if(Pe.styles&&Pe.styles.backgroundColor){const Fe=vy(je,"fontSize");ap(Mt,Ue=>Fe(Ue)&&je.isEditable(Ue),$2(je,"backgroundColor",dg(Pe.styles.backgroundColor,rt)))}})(N,c,n,ee),((je,Pe,rt,Mt)=>{const Fe=Ue=>{if(Hs(Ue)&&bn(Ue.parentNode)&&je.isEditable(Ue)){const ot=A_(je,Ue.parentNode);je.getStyle(Ue,"color")&&ot?je.setStyle(Ue,"text-decoration",ot):je.getStyle(Ue,"text-decoration")===ot&&je.setStyle(Ue,"text-decoration",null)}};Pe.styles&&(Pe.styles.color||Pe.styles.textDecoration)&&(to.walk(Mt,Fe,"childNodes"),Fe(Mt))})(N,c,0,ee),((je,Pe,rt,Mt)=>{if($i(Pe)&&(Pe.inline==="sub"||Pe.inline==="sup")){const Fe=vy(je,"fontSize");ap(Mt,ot=>Fe(ot)&&je.isEditable(ot),$2(je,"fontSize",""));const Ue=et(je.select(Pe.inline==="sup"?"sub":"sup",Mt),je.isEditable);je.remove(Ue,!0)}})(N,c,0,ee),aE(t,c,0,ee)):N.remove(ee,!0)})},B=Yp(a)?a:f.getNode();if(u.getContentEditable(B)==="false"&&!T_(t,B))return v(i,a=B),void ny(t,o,a,n);if(c){if(a)if(Yp(a)){if(!v(i,a)){const N=u.createRng();N.setStartBefore(a),N.setEndAfter(a),E(u,zh(u,N,i),!0)}}else E(u,a,!0);else d&&$i(c)&&!Cm(t).length?((N,P,O)=>{let V;const G=N.selection,Y=N.formatter.get(P);if(!Y)return;const ae=G.getRng();let ee=ae.startOffset;const we=ae.startContainer.nodeValue;V=Bo(N.getBody(),G.getStart());const je=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(we&&ee>0&&ee<we.length&&je.test(we.charAt(ee))&&je.test(we.charAt(ee-1))){const Mt=G.getBookmark();ae.collapse(!0);let Fe=zh(N.dom,ae,Y);Fe=Qg(Fe),N.formatter.apply(P,O,Fe),G.moveToBookmark(Mt)}else{let Mt=V?B2(V):null;V&&(Mt==null?void 0:Mt.data)===hy||(Pe=N.getDoc(),rt=F2(!0).dom,V=Pe.importNode(rt,!0),Mt=V.firstChild,ae.insertNode(V),ee=1,dw(N,V)),N.formatter.apply(P,O,V),G.setCursorLocation(Mt,ee)}var Pe,rt})(t,o,n):(f.setRng(lw(f.getRng())),d3(t,()=>{Ld(t,(N,P)=>{const O=P?N:zh(u,N,i);E(u,O,!1)})},Dt),t.nodeChanged()),yy(t.formatter,o).each(N=>{_e((P=>et((O=>{const V=O.getSelectedBlocks(),G=O.getRng();if(O.isCollapsed())return[];if(V.length===1)return nE(G,V[0])&&rE(G,V[0])?V:[];{const Y=vt(V).filter(we=>nE(G,we)).toArray(),ae=_o(V).filter(we=>rE(G,we)).toArray(),ee=V.slice(1,-1);return Y.concat(ee).concat(ae)}})(P),Xu(P.dom)))(t.selection),P=>mE(u,P,N,n))});((N,P)=>{jo(uf,N)&&_e(uf[N],O=>{O(P)})})(o,t)}ny(t,o,a,n)},pE=(t,o,n,a)=>{(a||t.selection.isEditable())&&gE(t,o,n,a)},fE=t=>jo(t,"vars"),Y2=t=>t.selection.getStart(),Vd=(t,o,n,a,i)=>it(o,c=>{const d=t.formatter.matchNode(c,n,i??{},a);return!bo(d)},c=>!!D2(t,c,n)||!a&&$e(t.formatter.matchNode(c,n,i,!0))),hE=(t,o)=>{const n=o??Y2(t);return et(e1(t.dom,n),a=>bn(a)&&!oc(a))},X2=(t,o,n)=>{const a=hE(t,o);zt(n,(i,c)=>{const d=u=>{const f=Vd(t,a,c,u.similar,fE(u)?u.vars:void 0),y=f.isSome();if(u.state.get()!==y){u.state.set(y);const v=f.getOr(o);fE(u)?u.callback(y,{node:v,format:c,parents:a}):_e(u.callbacks,k=>k(y,{node:v,format:c,parents:a}))}};_e([i.withSimilar,i.withoutSimilar],d),_e(i.withVars,d)})},gw=to.explode,pw=()=>{const t={};return{addFilter:(o,n)=>{_e(gw(o),a=>{jo(t,a)||(t[a]={name:a,callbacks:[]}),t[a].callbacks.push(n)})},getFilters:()=>Nr(t),removeFilter:(o,n)=>{_e(gw(o),a=>{if(jo(t,a))if($e(n)){const i=t[a],c=et(i.callbacks,d=>d!==n);c.length>0?i.callbacks=c:delete t[a]}else delete t[a]})}}},bE=(t,o,n)=>{var a;const i=au();o.convert_fonts_to_spans&&((c,d,u)=>{c.addNodeFilter("font",f=>{_e(f,y=>{const v=d.parse(y.attr("style")),k=y.attr("color"),E=y.attr("face"),B=y.attr("size");k&&(v.color=k),E&&(v["font-family"]=E),B&&wr(B).each(N=>{v["font-size"]=u[N-1]}),y.name="span",y.attr("style",d.serialize(v)),((N,P)=>{_e(["color","face","size"],O=>{N.attr(O,null)})})(y)})})})(t,i,to.explode((a=o.font_size_legacy_values)!==null&&a!==void 0?a:"")),((c,d,u)=>{c.addNodeFilter("strike",f=>{const y=d.type!=="html4";_e(f,v=>{if(y)v.name="s";else{const k=u.parse(v.attr("style"));k["text-decoration"]="line-through",v.name="span",v.attr("style",u.serialize(k))}})})})(t,n,i)},fw=t=>{const[o,...n]=t.split(","),a=n.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(o);if(i){const c=i[2]===";base64",d=c?(u=>{const f=/([a-z0-9+\/=\s]+)/i.exec(u);return f?f[1]:""})(a):decodeURIComponent(a);return F.some({type:i[1],data:d,base64Encoded:c})}return F.none()},J2=(t,o,n=!0)=>{let a=o;if(n)try{a=atob(o)}catch{return F.none()}const i=new Uint8Array(a.length);for(let c=0;c<i.length;c++)i[c]=a.charCodeAt(c);return F.some(new Blob([i],{type:t}))},Q2=t=>new Promise((o,n)=>{const a=new FileReader;a.onloadend=()=>{o(a.result)},a.onerror=()=>{var i;n((i=a.error)===null||i===void 0?void 0:i.message)},a.readAsDataURL(t)});let vu=0;const yE=(t,o,n)=>fw(t).bind(({data:a,type:i,base64Encoded:c})=>{if(o&&!c)return F.none();{const d=c?a:btoa(a);return n(d,i)}}),hw=(t,o,n)=>{const a=t.create("blobid"+vu++,o,n);return t.add(a),a},vE=(t,o,n=!1)=>yE(o,n,(a,i)=>F.from(t.getByData(a,i)).orThunk(()=>J2(i,a).map(c=>hw(t,c,a)))),eC=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,Tm=t=>F.from(t.match(eC)).bind(o=>tt(o,1)).map(o=>Te(o,"www.")?o.substring(4):o),bw=(t,o)=>{F.from(t.attr("src")).bind(Tm).forall(n=>!ao(o,n))&&t.attr("sandbox","")},wy=(t,o)=>Te(t,`${o}/`),{entries:tC,setPrototypeOf:xE,isFrozen:wE,getPrototypeOf:kE,getOwnPropertyDescriptor:oC}=Object;let{freeze:Zc,seal:cc,create:nC}=Object,{apply:yw,construct:vw}=typeof Reflect<"u"&&Reflect;Zc||(Zc=function(t){return t}),cc||(cc=function(t){return t}),yw||(yw=function(t,o,n){return t.apply(o,n)}),vw||(vw=function(t,o){return new t(...o)});const xw=$d(Array.prototype.forEach),ww=$d(Array.prototype.pop),Am=$d(Array.prototype.push),kw=$d(String.prototype.toLowerCase),rC=$d(String.prototype.toString),A1=$d(String.prototype.match),ky=$d(String.prototype.replace),_E=$d(String.prototype.indexOf),C5=$d(String.prototype.trim),Ju=$d(Object.prototype.hasOwnProperty),Al=$d(RegExp.prototype.test),_y=(aC=TypeError,function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return vw(aC,o)});var aC;function $d(t){return function(o){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return yw(t,o,a)}}function Ra(t,o){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kw;xE&&xE(t,null);let a=o.length;for(;a--;){let i=o[a];if(typeof i=="string"){const c=n(i);c!==i&&(wE(o)||(o[a]=c),i=c)}t[i]=!0}return t}function CE(t){for(let o=0;o<t.length;o++)Ju(t,o)||(t[o]=null);return t}function mf(t){const o=nC(null);for(const[n,a]of tC(t))Ju(t,n)&&(Array.isArray(a)?o[n]=CE(a):a&&typeof a=="object"&&a.constructor===Object?o[n]=mf(a):o[n]=a);return o}function O1(t,o){for(;t!==null;){const n=oC(t,o);if(n){if(n.get)return $d(n.get);if(typeof n.value=="function")return $d(n.value)}t=kE(t)}return function(){return null}}const N1=Zc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_w=Zc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M1=Zc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),SE=Zc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D1=Zc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),EE=Zc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),R1=Zc(["#text"]),pg=Zc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sC=Zc(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Cw=Zc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ks=Zc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),iC=cc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),lC=cc(/<%[\w\W]*|[\w\W]*%>/gm),ip=cc(/\${[\w\W]*}/gm),zE=cc(/^data-[\-\w.\u00B7-\uFFFF]/),TE=cc(/^aria-[\-\w]+$/),Cy=cc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),S5=cc(/^(?:\w+script|data):/i),E5=cc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$h=cc(/^html$/i),z5=cc(/^[a-z][.\w]*(-[.\w]+)+$/i);var gf=Object.freeze({__proto__:null,MUSTACHE_EXPR:iC,ERB_EXPR:lC,TMPLIT_EXPR:ip,DATA_ATTR:zE,ARIA_ATTR:TE,IS_ALLOWED_URI:Cy,IS_SCRIPT_OR_DATA:S5,ATTR_WHITESPACE:E5,DOCTYPE_NAME:$h,CUSTOM_ELEMENT:z5});const T5=function(){return typeof window>"u"?null:window};var fg=function t(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T5();const n=Et=>t(Et);if(n.version="3.1.7",n.removed=[],!o||!o.document||o.document.nodeType!==9)return n.isSupported=!1,n;let{document:a}=o;const i=a,c=i.currentScript,{DocumentFragment:d,HTMLTemplateElement:u,Node:f,Element:y,NodeFilter:v,NamedNodeMap:k=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:E,DOMParser:B,trustedTypes:N}=o,P=y.prototype,O=O1(P,"cloneNode"),V=O1(P,"remove"),G=O1(P,"nextSibling"),Y=O1(P,"childNodes"),ae=O1(P,"parentNode");if(typeof u=="function"){const Et=a.createElement("template");Et.content&&Et.content.ownerDocument&&(a=Et.content.ownerDocument)}let ee,we="";const{implementation:je,createNodeIterator:Pe,createDocumentFragment:rt,getElementsByTagName:Mt}=a,{importNode:Fe}=i;let Ue={};n.isSupported=typeof tC=="function"&&typeof ae=="function"&&je&&je.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ot,ERB_EXPR:Qt,TMPLIT_EXPR:Do,DATA_ATTR:Ao,ARIA_ATTR:vn,IS_SCRIPT_OR_DATA:Tn,ATTR_WHITESPACE:Bn,CUSTOM_ELEMENT:$n}=gf;let{IS_ALLOWED_URI:Yo}=gf,Cn=null;const Qe=Ra({},[...N1,..._w,...M1,...D1,...R1]);let st=null;const Ht=Ra({},[...pg,...sC,...Cw,...Ks]);let It=Object.seal(nC(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ko=null,Po=null,Pn=!0,Gn=!0,br=!1,bs=!0,Es=!1,Sg=!0,fn=!1,kr=!1,Ir=!1,fr=!1,ma=!1,ys=!1,an=!0,tr=!1,Ka=!0,Ya=!1,hi={},Ol=null;const bd=Ra({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ql=null;const Eu=Ra({},["audio","video","img","source","image","track"]);let nl=null;const Df=Ra({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Rf="http://www.w3.org/1998/Math/MathML",Eg="http://www.w3.org/2000/svg",zu="http://www.w3.org/1999/xhtml";let Bf=zu,zg=!1,am=null;const Pv=Ra({},[Rf,Eg,zu],rC);let Ec=null;const gb=["application/xhtml+xml","text/html"];let Ei=null,vp=null;const Q4=a.createElement("form"),Hv=function(Et){return Et instanceof RegExp||Et instanceof Function},c0=function(){let Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!vp||vp!==Et){if(Et&&typeof Et=="object"||(Et={}),Et=mf(Et),Ec=gb.indexOf(Et.PARSER_MEDIA_TYPE)===-1?"text/html":Et.PARSER_MEDIA_TYPE,Ei=Ec==="application/xhtml+xml"?rC:kw,Cn=Ju(Et,"ALLOWED_TAGS")?Ra({},Et.ALLOWED_TAGS,Ei):Qe,st=Ju(Et,"ALLOWED_ATTR")?Ra({},Et.ALLOWED_ATTR,Ei):Ht,am=Ju(Et,"ALLOWED_NAMESPACES")?Ra({},Et.ALLOWED_NAMESPACES,rC):Pv,nl=Ju(Et,"ADD_URI_SAFE_ATTR")?Ra(mf(Df),Et.ADD_URI_SAFE_ATTR,Ei):Df,Ql=Ju(Et,"ADD_DATA_URI_TAGS")?Ra(mf(Eu),Et.ADD_DATA_URI_TAGS,Ei):Eu,Ol=Ju(Et,"FORBID_CONTENTS")?Ra({},Et.FORBID_CONTENTS,Ei):bd,Ko=Ju(Et,"FORBID_TAGS")?Ra({},Et.FORBID_TAGS,Ei):{},Po=Ju(Et,"FORBID_ATTR")?Ra({},Et.FORBID_ATTR,Ei):{},hi=!!Ju(Et,"USE_PROFILES")&&Et.USE_PROFILES,Pn=Et.ALLOW_ARIA_ATTR!==!1,Gn=Et.ALLOW_DATA_ATTR!==!1,br=Et.ALLOW_UNKNOWN_PROTOCOLS||!1,bs=Et.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Es=Et.SAFE_FOR_TEMPLATES||!1,Sg=Et.SAFE_FOR_XML!==!1,fn=Et.WHOLE_DOCUMENT||!1,fr=Et.RETURN_DOM||!1,ma=Et.RETURN_DOM_FRAGMENT||!1,ys=Et.RETURN_TRUSTED_TYPE||!1,Ir=Et.FORCE_BODY||!1,an=Et.SANITIZE_DOM!==!1,tr=Et.SANITIZE_NAMED_PROPS||!1,Ka=Et.KEEP_CONTENT!==!1,Ya=Et.IN_PLACE||!1,Yo=Et.ALLOWED_URI_REGEXP||Cy,Bf=Et.NAMESPACE||zu,It=Et.CUSTOM_ELEMENT_HANDLING||{},Et.CUSTOM_ELEMENT_HANDLING&&Hv(Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(It.tagNameCheck=Et.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&Hv(Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(It.attributeNameCheck=Et.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Et.CUSTOM_ELEMENT_HANDLING&&typeof Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(It.allowCustomizedBuiltInElements=Et.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Es&&(Gn=!1),ma&&(fr=!0),hi&&(Cn=Ra({},R1),st=[],hi.html===!0&&(Ra(Cn,N1),Ra(st,pg)),hi.svg===!0&&(Ra(Cn,_w),Ra(st,sC),Ra(st,Ks)),hi.svgFilters===!0&&(Ra(Cn,M1),Ra(st,sC),Ra(st,Ks)),hi.mathMl===!0&&(Ra(Cn,D1),Ra(st,Cw),Ra(st,Ks))),Et.ADD_TAGS&&(Cn===Qe&&(Cn=mf(Cn)),Ra(Cn,Et.ADD_TAGS,Ei)),Et.ADD_ATTR&&(st===Ht&&(st=mf(st)),Ra(st,Et.ADD_ATTR,Ei)),Et.ADD_URI_SAFE_ATTR&&Ra(nl,Et.ADD_URI_SAFE_ATTR,Ei),Et.FORBID_CONTENTS&&(Ol===bd&&(Ol=mf(Ol)),Ra(Ol,Et.FORBID_CONTENTS,Ei)),Ka&&(Cn["#text"]=!0),fn&&Ra(Cn,["html","head","body"]),Cn.table&&(Ra(Cn,["tbody"]),delete Ko.tbody),Et.TRUSTED_TYPES_POLICY){if(typeof Et.TRUSTED_TYPES_POLICY.createHTML!="function")throw _y('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Et.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _y('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ee=Et.TRUSTED_TYPES_POLICY,we=ee.createHTML("")}else ee===void 0&&(ee=function(zr,sr){if(typeof zr!="object"||typeof zr.createPolicy!="function")return null;let Xa=null;const $s="data-tt-policy-suffix";sr&&sr.hasAttribute($s)&&(Xa=sr.getAttribute($s));const $a="dompurify"+(Xa?"#"+Xa:"");try{return zr.createPolicy($a,{createHTML:Nl=>Nl,createScriptURL:Nl=>Nl})}catch{return console.warn("TrustedTypes policy "+$a+" could not be created."),null}}(N,c)),ee!==null&&typeof we=="string"&&(we=ee.createHTML(""));Zc&&Zc(Et),vp=Et}},Tg=Ra({},["mi","mo","mn","ms","mtext"]),jv=Ra({},["annotation-xml"]),d0=Ra({},["title","style","font","a","script"]),e3=Ra({},[..._w,...M1,...SE]),t3=Ra({},[...D1,...EE]),sm=function(Et){Am(n.removed,{element:Et});try{ae(Et).removeChild(Et)}catch{V(Et)}},Ff=function(Et,zr){try{Am(n.removed,{attribute:zr.getAttributeNode(Et),from:zr})}catch{Am(n.removed,{attribute:null,from:zr})}if(zr.removeAttribute(Et),Et==="is"&&!st[Et])if(fr||ma)try{sm(zr)}catch{}else try{zr.setAttribute(Et,"")}catch{}},xp=function(Et){let zr=null,sr=null;if(Ir)Et="<remove></remove>"+Et;else{const $a=A1(Et,/^[\r\n\t ]+/);sr=$a&&$a[0]}Ec==="application/xhtml+xml"&&Bf===zu&&(Et='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Et+"</body></html>");const Xa=ee?ee.createHTML(Et):Et;if(Bf===zu)try{zr=new B().parseFromString(Xa,Ec)}catch{}if(!zr||!zr.documentElement){zr=je.createDocument(Bf,"template",null);try{zr.documentElement.innerHTML=zg?we:Xa}catch{}}const $s=zr.body||zr.documentElement;return Et&&sr&&$s.insertBefore(a.createTextNode(sr),$s.childNodes[0]||null),Bf===zu?Mt.call(zr,fn?"html":"body")[0]:fn?zr.documentElement:$s},Lf=function(Et){return Pe.call(Et.ownerDocument||Et,Et,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT|v.SHOW_PROCESSING_INSTRUCTION|v.SHOW_CDATA_SECTION,null)},o3=function(Et){return Et instanceof E&&(typeof Et.nodeName!="string"||typeof Et.textContent!="string"||typeof Et.removeChild!="function"||!(Et.attributes instanceof k)||typeof Et.removeAttribute!="function"||typeof Et.setAttribute!="function"||typeof Et.namespaceURI!="string"||typeof Et.insertBefore!="function"||typeof Et.hasChildNodes!="function")},FA=function(Et){return typeof f=="function"&&Et instanceof f},Ag=function(Et,zr,sr){Ue[Et]&&xw(Ue[Et],Xa=>{Xa.call(n,zr,sr,vp)})},LA=function(Et){let zr=null;if(Ag("beforeSanitizeElements",Et,null),o3(Et))return sm(Et),!0;const sr=Ei(Et.nodeName);if(Ag("uponSanitizeElement",Et,{tagName:sr,allowedTags:Cn}),Et.hasChildNodes()&&!FA(Et.firstElementChild)&&Al(/<[/\w]/g,Et.innerHTML)&&Al(/<[/\w]/g,Et.textContent)||Et.nodeType===7||Sg&&Et.nodeType===8&&Al(/<[/\w]/g,Et.data))return sm(Et),!0;if(!Cn[sr]||Ko[sr]){if(!Ko[sr]&&PA(sr)&&(It.tagNameCheck instanceof RegExp&&Al(It.tagNameCheck,sr)||It.tagNameCheck instanceof Function&&It.tagNameCheck(sr)))return!1;if(Ka&&!Ol[sr]){const Xa=ae(Et)||Et.parentNode,$s=Y(Et)||Et.childNodes;if($s&&Xa)for(let $a=$s.length-1;$a>=0;--$a){const Nl=O($s[$a],!0);Nl.__removalCount=(Et.__removalCount||0)+1,Xa.insertBefore(Nl,G(Et))}}return sm(Et),!0}return Et instanceof y&&!function(Xa){let $s=ae(Xa);$s&&$s.tagName||($s={namespaceURI:Bf,tagName:"template"});const $a=kw(Xa.tagName),Nl=kw($s.tagName);return!!am[Xa.namespaceURI]&&(Xa.namespaceURI===Eg?$s.namespaceURI===zu?$a==="svg":$s.namespaceURI===Rf?$a==="svg"&&(Nl==="annotation-xml"||Tg[Nl]):!!e3[$a]:Xa.namespaceURI===Rf?$s.namespaceURI===zu?$a==="math":$s.namespaceURI===Eg?$a==="math"&&jv[Nl]:!!t3[$a]:Xa.namespaceURI===zu?!($s.namespaceURI===Eg&&!jv[Nl])&&!($s.namespaceURI===Rf&&!Tg[Nl])&&!t3[$a]&&(d0[$a]||!e3[$a]):!(Ec!=="application/xhtml+xml"||!am[Xa.namespaceURI]))}(Et)?(sm(Et),!0):sr!=="noscript"&&sr!=="noembed"&&sr!=="noframes"||!Al(/<\/no(script|embed|frames)/i,Et.innerHTML)?(Es&&Et.nodeType===3&&(zr=Et.textContent,xw([ot,Qt,Do],Xa=>{zr=ky(zr,Xa," ")}),Et.textContent!==zr&&(Am(n.removed,{element:Et.cloneNode()}),Et.textContent=zr)),Ag("afterSanitizeElements",Et,null),!1):(sm(Et),!0)},IA=function(Et,zr,sr){if(an&&(zr==="id"||zr==="name")&&(sr in a||sr in Q4))return!1;if(!(Gn&&!Po[zr]&&Al(Ao,zr))){if(!(Pn&&Al(vn,zr))){if(!st[zr]||Po[zr]){if(!(PA(Et)&&(It.tagNameCheck instanceof RegExp&&Al(It.tagNameCheck,Et)||It.tagNameCheck instanceof Function&&It.tagNameCheck(Et))&&(It.attributeNameCheck instanceof RegExp&&Al(It.attributeNameCheck,zr)||It.attributeNameCheck instanceof Function&&It.attributeNameCheck(zr))||zr==="is"&&It.allowCustomizedBuiltInElements&&(It.tagNameCheck instanceof RegExp&&Al(It.tagNameCheck,sr)||It.tagNameCheck instanceof Function&&It.tagNameCheck(sr))))return!1}else if(!nl[zr]){if(!Al(Yo,ky(sr,Bn,""))){if((zr!=="src"&&zr!=="xlink:href"&&zr!=="href"||Et==="script"||_E(sr,"data:")!==0||!Ql[Et])&&!(br&&!Al(Tn,ky(sr,Bn,"")))){if(sr)return!1}}}}}return!0},PA=function(Et){return Et!=="annotation-xml"&&A1(Et,$n)},l_=function(Et){Ag("beforeSanitizeAttributes",Et,null);const{attributes:zr}=Et;if(!zr)return;const sr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:st};let Xa=zr.length;for(;Xa--;){const $s=zr[Xa],{name:$a,namespaceURI:Nl,value:Og}=$s,im=Ei($a);let zc=$a==="value"?Og:C5(Og);const jA=zc;if(sr.attrName=im,sr.attrValue=zc,sr.keepAttr=!0,sr.forceKeepAttr=void 0,Ag("uponSanitizeAttribute",Et,sr),zc=sr.attrValue,sr.forceKeepAttr)continue;if(!sr.keepAttr){Ff($a,Et);continue}if(!bs&&Al(/\/>/i,zc)){Ff($a,Et);continue}Es&&xw([ot,Qt,Do],n3=>{zc=ky(zc,n3," ")});const VA=Ei(Et.nodeName);if(IA(VA,im,zc))if(!tr||im!=="id"&&im!=="name"||(Ff($a,Et),zc="user-content-"+zc),Sg&&Al(/((--!?|])>)|<\/(style|title)/i,zc))Ff($a,Et);else{if(ee&&typeof N=="object"&&typeof N.getAttributeType=="function"&&!Nl)switch(N.getAttributeType(VA,im)){case"TrustedHTML":zc=ee.createHTML(zc);break;case"TrustedScriptURL":zc=ee.createScriptURL(zc)}if(zc!==jA)try{Nl?Et.setAttributeNS(Nl,$a,zc):Et.setAttribute($a,zc),o3(Et)?sm(Et):ww(n.removed)}catch{}}else Ff($a,Et)}Ag("afterSanitizeAttributes",Et,null)},HA=function Et(zr){let sr=null;const Xa=Lf(zr);for(Ag("beforeSanitizeShadowDOM",zr,null);sr=Xa.nextNode();)Ag("uponSanitizeShadowNode",sr,null),LA(sr)||(sr.content instanceof d&&Et(sr.content),l_(sr));Ag("afterSanitizeShadowDOM",zr,null)};return n.sanitize=function(Et){let zr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},sr=null,Xa=null,$s=null,$a=null;if(zg=!Et,zg&&(Et="<!-->"),typeof Et!="string"&&!FA(Et)){if(typeof Et.toString!="function")throw _y("toString is not a function");if(typeof(Et=Et.toString())!="string")throw _y("dirty is not a string, aborting")}if(!n.isSupported)return Et;if(kr||c0(zr),n.removed=[],typeof Et=="string"&&(Ya=!1),Ya){if(Et.nodeName){const im=Ei(Et.nodeName);if(!Cn[im]||Ko[im])throw _y("root node is forbidden and cannot be sanitized in-place")}}else if(Et instanceof f)sr=xp("<!---->"),Xa=sr.ownerDocument.importNode(Et,!0),Xa.nodeType===1&&Xa.nodeName==="BODY"||Xa.nodeName==="HTML"?sr=Xa:sr.appendChild(Xa);else{if(!fr&&!Es&&!fn&&Et.indexOf("<")===-1)return ee&&ys?ee.createHTML(Et):Et;if(sr=xp(Et),!sr)return fr?null:ys?we:""}sr&&Ir&&sm(sr.firstChild);const Nl=Lf(Ya?Et:sr);for(;$s=Nl.nextNode();)LA($s)||($s.content instanceof d&&HA($s.content),l_($s));if(Ya)return Et;if(fr){if(ma)for($a=rt.call(sr.ownerDocument);sr.firstChild;)$a.appendChild(sr.firstChild);else $a=sr;return(st.shadowroot||st.shadowrootmode)&&($a=Fe.call(i,$a,!0)),$a}let Og=fn?sr.outerHTML:sr.innerHTML;return fn&&Cn["!doctype"]&&sr.ownerDocument&&sr.ownerDocument.doctype&&sr.ownerDocument.doctype.name&&Al($h,sr.ownerDocument.doctype.name)&&(Og="<!DOCTYPE "+sr.ownerDocument.doctype.name+`>
`+Og),Es&&xw([ot,Qt,Do],im=>{Og=ky(Og,im," ")}),ee&&ys?ee.createHTML(Og):Og},n.setConfig=function(){c0(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),kr=!0},n.clearConfig=function(){vp=null,kr=!1},n.isValidAttribute=function(Et,zr,sr){vp||c0({});const Xa=Ei(Et),$s=Ei(zr);return IA(Xa,$s,sr)},n.addHook=function(Et,zr){typeof zr=="function"&&(Ue[Et]=Ue[Et]||[],Am(Ue[Et],zr))},n.removeHook=function(Et){if(Ue[Et])return ww(Ue[Et])},n.removeHooks=function(Et){Ue[Et]&&(Ue[Et]=[])},n.removeAllHooks=function(){Ue={}},n}();const AE=to.each,xu=to.trim,B1=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],cC={ftp:21,http:80,https:443,mailto:25},dC=["img","video"],OE=(t,o,n)=>{const a=(i=>{try{return decodeURIComponent(i)}catch{return unescape(i)}})(o).replace(/\s/g,"");return!t.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(a)||!t.allow_html_data_urls&&(/^data:image\//i.test(a)?((i,c)=>$e(i)?!i:!$e(c)||!ao(dC,c))(t.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)))};class pd{static parseDataUri(o){let n;const a=decodeURIComponent(o).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}}static isDomSafe(o,n,a={}){if(a.allow_script_urls)return!0;{const i=Ru.decode(o).replace(/[\s\u0000-\u001F]+/g,"");return!OE(a,i,n)}}static getDocumentBaseUrl(o){var n;let a;return a=o.protocol.indexOf("http")!==0&&o.protocol!=="file:"?(n=o.href)!==null&&n!==void 0?n:"":o.protocol+"//"+o.host+o.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}constructor(o,n={}){this.path="",this.directory="",o=xu(o),this.settings=n;const a=n.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(o)||/^\s*#/.test(o))return void(i.source=o);const c=o.indexOf("//")===0;if(o.indexOf("/")!==0||c||(o=(a&&a.protocol||"http")+"://mce_host"+o),!/^[\w\-]*:?\/\//.test(o)){const u=a?a.path:new pd(document.location.href).directory;if((a==null?void 0:a.protocol)==="")o="//mce_host"+i.toAbsPath(u,o);else{const f=/([^#?]*)([#?]?.*)/.exec(o);f&&(o=(a&&a.protocol||"http")+"://mce_host"+i.toAbsPath(u,f[1])+f[2])}}o=o.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(o);d&&AE(B1,(u,f)=>{let y=d[f];y&&(y=y.replace(/\(mce_at\)/g,"@@")),i[u]=y}),a&&(i.protocol||(i.protocol=a.protocol),i.userInfo||(i.userInfo=a.userInfo),i.port||i.host!=="mce_host"||(i.port=a.port),i.host&&i.host!=="mce_host"||(i.host=a.host),i.source=""),c&&(i.protocol="")}setPath(o){const n=/^(.*?)\/?(\w+)?$/.exec(o);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(o){if(o==="./")return o;const n=new pd(o,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const a=this.getURI(),i=n.getURI();if(a===i||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===i)return a;let c=this.toRelPath(this.path,n.path);return n.query&&(c+="?"+n.query),n.anchor&&(c+="#"+n.anchor),c}toAbsolute(o,n){const a=new pd(o,{base_uri:this});return a.getURI(n&&this.isSameOrigin(a))}isSameOrigin(o){if(this.host==o.host&&this.protocol==o.protocol){if(this.port==o.port)return!0;const n=this.protocol?cC[this.protocol]:null;if(n&&(this.port||n)==(o.port||n))return!0}return!1}toRelPath(o,n){let a,i,c=0,d="";const u=o.substring(0,o.lastIndexOf("/")).split("/"),f=n.split("/");if(u.length>=f.length){for(a=0,i=u.length;a<i;a++)if(a>=f.length||u[a]!==f[a]){c=a+1;break}}if(u.length<f.length){for(a=0,i=f.length;a<i;a++)if(a>=u.length||u[a]!==f[a]){c=a+1;break}}if(c===1)return n;for(a=0,i=u.length-(c-1);a<i;a++)d+="../";for(a=c-1,i=f.length;a<i;a++)d+=a!==c-1?"/"+f[a]:f[a];return d}toAbsPath(o,n){let a=0;const i=/\/$/.test(n)?"/":"",c=o.split("/"),d=n.split("/"),u=[];AE(c,k=>{k&&u.push(k)});const f=[];for(let k=d.length-1;k>=0;k--)d[k].length!==0&&d[k]!=="."&&(d[k]!==".."?a>0?a--:f.push(d[k]):a++);const y=u.length-a;let v;return v=y<=0?We(f).join("/"):u.slice(0,y).join("/")+"/"+We(f).join("/"),v.indexOf("/")!==0&&(v="/"+v),i&&v.lastIndexOf("/")!==v.length-1&&(v+=i),v}getURI(o=!1){let n;return this.source&&!o||(n="",o||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const A5=to.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Ud="data-mce-type";let F1=0;const uC=(t,o,n,a,i)=>{var c,d,u,f;const y=o.validate,v=n.getSpecialElements();t.nodeType===8&&!o.allow_conditional_comments&&/^\[if/i.test((c=t.nodeValue)!==null&&c!==void 0?c:"")&&(t.nodeValue=" "+t.nodeValue);const k=(d=i==null?void 0:i.tagName)!==null&&d!==void 0?d:t.nodeName.toLowerCase();if(a!=="html"&&n.isValid(a))return void($e(i)&&(i.allowedTags[k]=!0));if(t.nodeType!==1||k==="body")return;const E=Ze(t),B=$(E,Ud),N=Lt(E,"data-mce-bogus");if(!B&&Ve(N))return void(N==="all"?ca(E):Wi(E));const P=n.getElementRule(k);if(!y||P){if($e(i)&&(i.allowedTags[k]=!0),y&&P&&!B){if(_e((u=P.attributesForced)!==null&&u!==void 0?u:[],O=>{be(E,O.name,O.value==="{$uid}"?"mce_"+F1++:O.value)}),_e((f=P.attributesDefault)!==null&&f!==void 0?f:[],O=>{$(E,O.name)||be(E,O.name,O.value==="{$uid}"?"mce_"+F1++:O.value)}),P.attributesRequired&&!yo(P.attributesRequired,O=>$(E,O))||P.removeEmptyAttrs&&(O=>{const V=O.dom.attributes;return V==null||V.length===0})(E))return void Wi(E);P.outputName&&P.outputName!==k&&((O,V)=>{const G=((ae,ee)=>{const we=Is(ee),je=Re(ae);return lt(we,je),we})(O,V);di(O,G);const Y=Fr(O);wd(G,Y),ca(O)})(E,P.outputName)}}else jo(v,k)?ca(E):Wi(E)},Sw=(t,o,n,a,i,c)=>n!=="html"&&!dl(a)||!(i in A5&&OE(t,c,a))&&(!t.validate||o.isValid(a,i)||Te(i,"data-")||Te(i,"aria-")),Ew=(t,o)=>t.hasAttribute(Ud)&&(o==="id"||o==="class"||o==="style"),pf=(t,o)=>t in o.getBoolAttrs(),mC=(t,o,n,a)=>{const{attributes:i}=t;for(let c=i.length-1;c>=0;c--){const d=i[c],u=d.name,f=d.value;Sw(o,n,a,t.tagName.toLowerCase(),u,f)||Ew(t,u)?pf(u,n)&&t.setAttribute(u,u):t.removeAttribute(u)}},NE=(t,o,n)=>{const a=fg();return a.addHook("uponSanitizeElement",(i,c)=>{uC(i,t,o,n.track(i),c)}),a.addHook("uponSanitizeAttribute",(i,c)=>{((d,u,f,y,v)=>{const k=d.tagName.toLowerCase(),{attrName:E,attrValue:B}=v;v.keepAttr=Sw(u,f,y,k,E,B),v.keepAttr?(v.allowedAttributes[E]=!0,pf(E,f)&&(v.attrValue=E),u.allow_svg_data_urls&&Te(B,"data:image/svg+xml")&&(v.forceKeepAttr=!0)):Ew(d,E)&&(v.forceKeepAttr=!0)})(i,t,o,n.current(),c)}),a},O5=t=>o=>{const n=cm(o);if(n==="svg")(a=>{const i=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(d=>`xlink:${d}`),c={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:i};fg().sanitize(a,c)})(o);else{if(n!=="math")throw new Error("Not a namespace element");((a,i)=>{const c=fg();c.addHook("uponSanitizeElement",(d,u)=>{var f;const y=(f=u.tagName)!==null&&f!==void 0?f:d.nodeName.toLowerCase(),v=i.allow_mathml_annotation_encodings;if(y==="annotation"&&uo(v)&&v.length>0){const k=d.getAttribute("encoding");Ve(k)&&ao(v,k)&&(u.allowedTags[y]=!0)}}),c.sanitize(a,{IN_PLACE:!0,USE_PROFILES:{mathMl:!0}})})(o,t)}},Sy=to.makeMap,ME=to.extend,gC=(t,o,n,a)=>{const i=t.name,c=i in n&&i!=="title"&&i!=="textarea"&&i!=="noscript",d=o.childNodes;for(let u=0,f=d.length;u<f;u++){const y=d[u],v=new kc(y.nodeName.toLowerCase(),y.nodeType);if(bn(y)){const k=y.attributes;for(let E=0,B=k.length;E<B;E++){const N=k[E];v.attr(N.name,N.value)}dl(v.name)&&(a(y),v.value=y.innerHTML)}else vo(y)?(v.value=y.data,c&&(v.raw=!0)):(od(y)||Gi(y)||td(y))&&(v.value=y.data);dl(v.name)||gC(v,y,n,a),t.append(v)}},ff=(t={},o=hc())=>{const n=pw(),a=pw(),i={validate:!0,root_name:"body",sanitize:!0,...t},c=new DOMParser,d=((P,O)=>{const V=(()=>{const G=cl(),Y=()=>G.get().map(cm).getOr("html");return{track:ae=>(Sd(ae)?G.set(ae):G.get().exists(ee=>!ee.contains(ae))&&G.clear(),Y()),current:Y,reset:()=>{G.clear()}}})();if(P.sanitize){const G=NE(P,O,V);return{sanitizeHtmlElement:(ae,ee)=>{G.sanitize(ae,((we,je)=>{const Pe={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1};return Pe.PARSER_MEDIA_TYPE=je,we.allow_script_urls?Pe.ALLOWED_URI_REGEXP=/.*/:we.allow_html_data_urls&&(Pe.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),Pe})(P,ee)),G.removed=[],V.reset()},sanitizeNamespaceElement:O5(P)}}return{sanitizeHtmlElement:(G,Y)=>{const ae=document.createNodeIterator(G,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let ee;for(;ee=ae.nextNode();){const we=V.track(ee);uC(ee,P,O,we),bn(ee)&&mC(ee,P,O,we)}V.reset()},sanitizeNamespaceElement:go}})(i,o),u=n.addFilter,f=n.getFilters,y=n.removeFilter,v=a.addFilter,k=a.getFilters,E=a.removeFilter,B=(P,O)=>{const V=Ve(O.attr(Ud)),G=O.type===1&&!jo(P,O.name)&&!Ki(o,O)&&!dl(O.name);return O.type===3||G&&!V},N={schema:o,addAttributeFilter:v,getAttributeFilters:k,removeAttributeFilter:E,addNodeFilter:u,getNodeFilters:f,removeNodeFilter:y,parse:(P,O={})=>{var V;const G=i.validate,Y=(V=O.context)!==null&&V!==void 0?V:i.root_name,ae=((ot,Qt,Do="html")=>{const Ao=Do==="xhtml"?"application/xhtml+xml":"text/html",vn=jo(o.getSpecialElements(),Qt.toLowerCase()),Tn=vn?`<${Qt}>${ot}</${Qt}>`:ot,Bn=c.parseFromString(Do==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Tn}</body></html>`:/^[\s]*<head/i.test(ot)||/^[\s]*<html/i.test(ot)||/^[\s]*<!DOCTYPE/i.test(ot)?`<html>${Tn}</html>`:`<body>${Tn}</body>`,Ao).body;return d.sanitizeHtmlElement(Bn,Ao),vn?Bn.firstChild:Bn})(P,Y,O.format);po(o,ae);const ee=new kc(Y,11);gC(ee,ae,o.getSpecialElements(),d.sanitizeNamespaceElement),ae.innerHTML="";const[we,je]=((ot,Qt,Do,Ao)=>{const vn=Do.validate,Tn=Qt.getNonEmptyElements(),Bn=Qt.getWhitespaceElements(),$n=ME(Sy("script,style,head,html,body,title,meta,param"),Qt.getBlockElements()),Yo=An(Qt),Cn=/[ \t\r\n]+/g,Qe=/^[ \t\r\n]+/,st=/[ \t\r\n]+$/,Ht=Po=>{let Pn=Po.parent;for(;$e(Pn);){if(Pn.name in Bn)return!0;Pn=Pn.parent}return!1},It=Po=>Po.name in $n||Ki(Qt,Po)||dl(Po.name)&&Po.parent===ot,Ko=(Po,Pn)=>{const Gn=Pn?Po.prev:Po.next;return!$e(Gn)&&!ue(Po.parent)&&It(Po.parent)&&(Po.parent!==ot||Ao.isRootContent===!0)};return[Po=>{var Pn;if(Po.type===3&&!Ht(Po)){let Gn=(Pn=Po.value)!==null&&Pn!==void 0?Pn:"";Gn=Gn.replace(Cn," "),(((br,bs)=>$e(br)&&(bs(br)||br.name==="br"))(Po.prev,It)||Ko(Po,!0))&&(Gn=Gn.replace(Qe,"")),Gn.length===0||Gn===" "&&Po.prev&&Po.prev.type===8&&Po.next&&Po.next.type===8?Po.remove():Po.value=Gn}},Po=>{var Pn;if(Po.type===1){const Gn=Qt.getElementRule(Po.name);if(vn&&Gn){const br=Yu(Qt,Tn,Bn,Po);Gn.paddInEmptyBlock&&br&&(bs=>{let Es=bs;for(;$e(Es);){if(Es.name in Yo)return Yu(Qt,Tn,Bn,Es);Es=Es.parent}return!1})(Po)?k1(Do,Ao,It,Po):Gn.removeEmpty&&br?It(Po)?Po.remove():Po.unwrap():Gn.paddEmpty&&(br||(bs=>{var Es;return Lh(bs,"#text")&&((Es=bs==null?void 0:bs.firstChild)===null||Es===void 0?void 0:Es.value)===ms})(Po))&&k1(Do,Ao,It,Po)}}else if(Po.type===3&&!Ht(Po)){let Gn=(Pn=Po.value)!==null&&Pn!==void 0?Pn:"";(Po.next&&It(Po.next)||Ko(Po,!1))&&(Gn=Gn.replace(st,"")),Gn.length===0?Po.remove():Po.value=Gn}}]})(ee,o,i,O),Pe=[],rt=G?ot=>((Qt,Do)=>{iw(o,Qt)&&Do.push(Qt)})(ot,Pe):go,Mt={nodes:{},attributes:{}},Fe=ot=>A2(f(),k(),ot,Mt);if(((ot,Qt,Do)=>{const Ao=[];for(let vn=ot,Tn=vn;vn;Tn=vn,vn=vn.walk()){const Bn=vn;_e(Qt,$n=>$n(Bn)),ue(Bn.parent)&&Bn!==ot?vn=Tn:Ao.push(Bn)}for(let vn=Ao.length-1;vn>=0;vn--){const Tn=Ao[vn];_e(Do,Bn=>Bn(Tn))}})(ee,[we,Fe],[je,rt]),Pe.reverse(),G&&Pe.length>0)if(O.context){const{pass:ot,fail:Qt}=Ct(Pe,Do=>Do.parent===ee);N2(Qt,o,ee,Fe),O.invalid=ot.length>0}else N2(Pe,o,ee,Fe);const Ue=((ot,Qt)=>{var Do;const Ao=(Do=Qt.forced_root_block)!==null&&Do!==void 0?Do:ot.forced_root_block;return Ao===!1?"":Ao===!0?"p":Ao})(i,O);return Ue&&(ee.name==="body"||O.isRootContent)&&((ot,Qt)=>{const Do=ME(Sy("script,style,head,html,body,title,meta,param"),o.getBlockElements()),Ao=/^[ \t\r\n]+/,vn=/[ \t\r\n]+$/;let Tn=ot.firstChild,Bn=null;const $n=Yo=>{var Cn,Qe;Yo&&(Tn=Yo.firstChild,Tn&&Tn.type===3&&(Tn.value=(Cn=Tn.value)===null||Cn===void 0?void 0:Cn.replace(Ao,"")),Tn=Yo.lastChild,Tn&&Tn.type===3&&(Tn.value=(Qe=Tn.value)===null||Qe===void 0?void 0:Qe.replace(vn,"")))};if(o.isValidChild(ot.name,Qt.toLowerCase())){for(;Tn;){const Yo=Tn.next;B(Do,Tn)?(Bn||(Bn=new kc(Qt,1),Bn.attr(i.forced_root_block_attrs),ot.insert(Bn,Tn)),Bn.append(Tn)):($n(Bn),Bn=null),Tn=Yo}$n(Bn)}})(ee,Ue),O.invalid||Fh(Mt,O),ee}};return((P,O)=>{var V,G;const Y=P.schema;P.addAttributeFilter("href",je=>{let Pe=je.length;const rt=Mt=>{const Fe=Mt?to.trim(Mt):"";return/\b(noopener)\b/g.test(Fe)?Fe:(Ue=>Ue.split(" ").filter(ot=>ot.length>0).concat(["noopener"]).sort().join(" "))(Fe)};if(!O.allow_unsafe_link_target)for(;Pe--;){const Mt=je[Pe];Mt.name==="a"&&Mt.attr("target")==="_blank"&&Mt.attr("rel",rt(Mt.attr("rel")))}}),O.allow_html_in_named_anchor||P.addAttributeFilter("id,name",je=>{let Pe,rt,Mt,Fe,Ue=je.length;for(;Ue--;)if(Fe=je[Ue],Fe.name==="a"&&Fe.firstChild&&!Fe.attr("href"))for(Mt=Fe.parent,Pe=Fe.lastChild;Pe&&Mt;)rt=Pe.prev,Mt.insert(Pe,Fe),Pe=rt}),O.fix_list_elements&&P.addNodeFilter("ul,ol",je=>{let Pe,rt,Mt=je.length;for(;Mt--;)if(Pe=je[Mt],rt=Pe.parent,rt&&(rt.name==="ul"||rt.name==="ol"))if(Pe.prev&&Pe.prev.name==="li")Pe.prev.append(Pe);else{const Fe=new kc("li",1);Fe.attr("style","list-style-type: none"),Pe.wrap(Fe)}});const ae=Y.getValidClasses();O.validate&&ae&&P.addAttributeFilter("class",je=>{var Pe;let rt=je.length;for(;rt--;){const Mt=je[rt],Fe=(Pe=Mt.attr("class"))!==null&&Pe!==void 0?Pe:"",Ue=to.explode(Fe," ");let ot="";for(let Qt=0;Qt<Ue.length;Qt++){const Do=Ue[Qt];let Ao=!1,vn=ae["*"];vn&&vn[Do]&&(Ao=!0),vn=ae[Mt.name],!Ao&&vn&&vn[Do]&&(Ao=!0),Ao&&(ot&&(ot+=" "),ot+=Do)}ot.length||(ot=null),Mt.attr("class",ot)}}),((je,Pe)=>{const{blob_cache:rt}=Pe;if(rt){const Mt=Fe=>{const Ue=Fe.attr("src");(ot=>ot.attr("src")===Xn.transparentSrc||$e(ot.attr("data-mce-placeholder")))(Fe)||(ot=>$e(ot.attr("data-mce-bogus")))(Fe)||ue(Ue)||vE(rt,Ue,!0).each(ot=>{Fe.attr("src",ot.blobUri())})};je.addAttributeFilter("src",Fe=>_e(Fe,Mt))}})(P,O);const ee=(V=O.sandbox_iframes)!==null&&V!==void 0&&V,we=_n((G=O.sandbox_iframes_exclusions)!==null&&G!==void 0?G:[]);O.convert_unsafe_embeds&&P.addNodeFilter("object,embed",je=>_e(je,Pe=>{Pe.replace((({type:rt,src:Mt,width:Fe,height:Ue}={},ot,Qt)=>{const Do=(vn=>bo(vn)?"iframe":wy(vn,"image")?"img":wy(vn,"video")?"video":wy(vn,"audio")?"audio":"iframe")(rt),Ao=new kc(Do,1);return Ao.attr(Do==="audio"?{src:Mt}:{src:Mt,width:Fe,height:Ue}),Do!=="audio"&&Do!=="video"||Ao.attr("controls",""),Do==="iframe"&&ot&&bw(Ao,Qt),Ao})({type:Pe.attr("type"),src:Pe.name==="object"?Pe.attr("data"):Pe.attr("src"),width:Pe.attr("width"),height:Pe.attr("height")},ee,we))})),ee&&P.addNodeFilter("iframe",je=>_e(je,Pe=>bw(Pe,we)))})(N,i),((P,O,V)=>{O.inline_styles&&bE(P,O,V)})(N,i,o),N},DE=(t,o,n)=>{const a=(c=>_1(c)?ep({validate:!1}).serialize(c):c)(t),i=o(a);if(i.isDefaultPrevented())return i;if(_1(t)){if(i.content!==a){const c=ff({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:t.name});return{...i,content:c}}return{...i,content:t}}return i},pC=t=>({sanitize:hh(t),sandbox_iframes:U0(t),sandbox_iframes_exclusions:Zg(t)}),fC=(t,o)=>{if(o.no_events)return ic.value(o);{const n=((a,i)=>a.dispatch("BeforeGetContent",i))(t,o);return n.isDefaultPrevented()?ic.error(L_(t,{content:"",...n}).content):ic.value(n)}},RE=(t,o,n)=>n.no_events?o:DE(o,i=>L_(t,{...n,content:i}),pC(t)).content,hC=(t,o)=>{if(o.no_events)return ic.value(o);{const n=DE(o.content,a=>((i,c)=>i.dispatch("BeforeSetContent",c))(t,{...o,content:a}),pC(t));return n.isDefaultPrevented()?(F_(t,n),ic.error(void 0)):ic.value(n)}},bC=(t,o,n)=>{n.no_events||F_(t,{...n,content:o})},yC=(t,o,n)=>({element:t,width:o,rows:n}),BE=(t,o)=>({element:t,cells:o}),N5=(t,o)=>({x:t,y:o}),FE=(t,o)=>pn(t,o).bind(wr).getOr(1),M5=(t,o,n)=>{const a=t.rows;return!!(a[n]?a[n].cells:[])[o]},LE=t=>fe(t,(o,n)=>n.cells.length>o?n.cells.length:o,0),IE=(t,o)=>{const n=t.rows;for(let a=0;a<n.length;a++){const i=n[a].cells;for(let c=0;c<i.length;c++)if(Wr(i[c],o))return F.some(N5(c,a))}return F.none()},PE=(t,o,n,a,i)=>{const c=[],d=t.rows;for(let u=n;u<=i;u++){const f=d[u].cells,y=o<a?f.slice(o,a+1):f.slice(a,o+1);c.push(BE(d[u].element,y))}return c},HE=t=>((o,n)=>{const a=bc(o.element),i=Is("tbody");return wd(i,n),us(a,i),a})(t,(o=>No(o.rows,n=>{const a=No(n.cells,c=>{const d=Lu(c);return ne(d,"colspan"),ne(d,"rowspan"),d}),i=bc(n.element);return wd(i,a),i}))(t)),D5=(t,o,n)=>{const a=Ze(o.commonAncestorContainer),i=gr(a,t),c=et(i,f=>n.isWrapper(ur(f))),d=((f,y)=>ke(f,v=>ur(v)==="li"&&fx(v,y)).fold(Rt([]),v=>(k=>ke(k,E=>ur(E)==="ul"||ur(E)==="ol"))(f).map(k=>{const E=Is(ur(k)),B=Ft(al(k),(N,P)=>Te(P,"list-style"));return Ti(E,B),[Is("li"),E]}).getOr([])))(i,o),u=c.concat(d.length?d:(f=>yc(f)?vi(f).filter(Pu).fold(Rt([]),y=>[f,y]):Pu(f)?[f]:[])(a));return No(u,bc)},Uh=()=>Jg([]),R5=(t,o)=>((n,a)=>yn(a,"table",Je(Wr,n)))(t,o[0]).bind(n=>{const a=o[0],i=o[o.length-1],c=(d=>{const u=yC(bc(d),0,[]);return _e(Ss(d,"tr"),(f,y)=>{_e(Ss(f,"td,th"),(v,k)=>{((E,B,N,P,O)=>{const V=FE(O,"rowspan"),G=FE(O,"colspan"),Y=E.rows;for(let ae=N;ae<N+V;ae++){Y[ae]||(Y[ae]=BE(Lu(P),[]));for(let ee=B;ee<B+G;ee++)Y[ae].cells[ee]=ae===N&&ee===B?O:bc(O)}})(u,((E,B,N)=>{for(;M5(E,B,N);)B++;return B})(u,k,y),y,f,v)})}),yC(u.element,LE(u.rows),u.rows)})(n);return((d,u,f)=>IE(d,u).bind(y=>IE(d,f).map(v=>((k,E,B)=>{const N=E.x,P=E.y,O=B.x,V=B.y,G=P<V?PE(k,N,P,O,V):PE(k,N,V,O,P);return yC(k.element,LE(G),G)})(d,y,v))))(c,a,i).map(d=>Jg([HE(d)]))}).getOrThunk(Uh),B5=(t,o,n)=>{const a=Ch(o,t);return a.length>0?R5(t,a):((i,c,d)=>c.length>0&&c[0].collapsed?Uh():((u,f,y)=>((v,k)=>{const E=fe(k,(B,N)=>(us(N,B),N),v);return k.length>0?Jg([E]):E})(Ze(f.cloneContents()),D5(u,f,y)))(i,c[0],d))(t,o,n)},L1=(t,o)=>o>=0&&o<t.length&&Wu(t.charAt(o)),jE=t=>Li(t.innerText),VE=t=>bn(t)?t.outerHTML:vo(t)?Ru.encodeRaw(t.data,!1):od(t)?"<!--"+t.data+"-->":"",F5=(t,o)=>(((n,a)=>{let i=0;_e(n,c=>{c[0]===0?i++:c[0]===1?(((d,u,f)=>{const y=(v=>{let k;const E=document.createElement("div"),B=document.createDocumentFragment();for(v&&(E.innerHTML=v);k=E.firstChild;)B.appendChild(k);return B})(u);if(d.hasChildNodes()&&f<d.childNodes.length){const v=d.childNodes[f];d.insertBefore(y,v)}else d.appendChild(y)})(a,c[1],i),i++):c[0]===2&&((d,u)=>{if(d.hasChildNodes()&&u<d.childNodes.length){const f=d.childNodes[u];d.removeChild(f)}})(a,i)})})(((n,a)=>{const i=n.length+a.length+2,c=new Array(i),d=new Array(i),u=(k,E,B,N,P)=>{const O=y(k,E,B,N);if(O===null||O.start===E&&O.diag===E-N||O.end===k&&O.diag===k-B){let V=k,G=B;for(;V<E||G<N;)V<E&&G<N&&n[V]===a[G]?(P.push([0,n[V]]),++V,++G):E-k>N-B?(P.push([2,n[V]]),++V):(P.push([1,a[G]]),++G)}else{u(k,O.start,B,O.start-O.diag,P);for(let V=O.start;V<O.end;++V)P.push([0,n[V]]);u(O.end,E,O.end-O.diag,N,P)}},f=(k,E,B,N)=>{let P=k;for(;P-E<N&&P<B&&n[P]===a[P-E];)++P;return((O,V,G)=>({start:O,end:V,diag:G}))(k,P,E)},y=(k,E,B,N)=>{const P=E-k,O=N-B;if(P===0||O===0)return null;const V=P-O,G=O+P,Y=(G%2==0?G:G+1)/2;let ae,ee,we,je,Pe;for(c[1+Y]=k,d[1+Y]=E+1,ae=0;ae<=Y;++ae){for(ee=-ae;ee<=ae;ee+=2){for(we=ee+Y,ee===-ae||ee!==ae&&c[we-1]<c[we+1]?c[we]=c[we+1]:c[we]=c[we-1]+1,je=c[we],Pe=je-k+B-ee;je<E&&Pe<N&&n[je]===a[Pe];)c[we]=++je,++Pe;if(V%2!=0&&V-ae<=ee&&ee<=V+ae&&d[we-V]<=c[we])return f(d[we-V],ee+k-B,E,N)}for(ee=V-ae;ee<=V+ae;ee+=2){for(we=ee+Y-V,ee===V-ae||ee!==V+ae&&d[we+1]<=d[we-1]?d[we]=d[we+1]-1:d[we]=d[we-1],je=d[we]-1,Pe=je-k+B-ee;je>=k&&Pe>=B&&n[je]===a[Pe];)d[we]=je--,Pe--;if(V%2==0&&-ae<=ee&&ee<=ae&&d[we]<=c[we+V])return f(d[we],ee+k-B,E,N)}}return null},v=[];return u(0,n.length,0,a.length,v),v})(No(Fo(o.childNodes),VE),t),o),o),L5=At(()=>document.implementation.createHTMLDocument("undo")),zw=t=>{const o=t.serializer.getTempAttrs(),n=D3(t.getBody(),o);return(a=>a.querySelector("iframe")!==null)(n)?{type:"fragmented",fragments:et(No(Fo(n.childNodes),Ho(Li,VE)),a=>a.length>0),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:Li(n.innerHTML),bookmark:null,beforeBookmark:null}},vC=(t,o,n)=>{const a=n?o.beforeBookmark:o.bookmark;o.type==="fragmented"?F5(o.fragments,t.getBody()):t.setContent(o.content,{format:"raw",no_selection:!$e(a)||!Vn(a)||!a.isFakeCaret}),a&&(t.selection.moveToBookmark(a),t.selection.scrollIntoView())},I1=t=>t.type==="fragmented"?t.fragments.join(""):t.content,Ey=t=>{const o=Is("body",L5());return Dc(o,I1(t)),_e(Ss(o,"*[data-mce-bogus]"),Wi),Ll(o)},Tw=(t,o)=>!(!t||!o)&&(!!((n,a)=>I1(n)===I1(a))(t,o)||((n,a)=>Ey(n)===Ey(a))(t,o)),Zh=t=>t.get()===0,P1=(t,o,n)=>{Zh(n)&&(t.typing=o)},H1=(t,o)=>{t.typing&&(P1(t,!1,o),t.add())},j1=t=>({init:{bindEvents:go},undoManager:{beforeChange:(o,n)=>((a,i,c)=>{Zh(i)&&c.set($u(a.selection))})(t,o,n),add:(o,n,a,i,c,d)=>((u,f,y,v,k,E,B)=>{const N=zw(u),P=to.extend(E||{},N);if(!Zh(v)||u.removed)return null;const O=f.data[y.get()];if(u.dispatch("BeforeAddUndo",{level:P,lastLevel:O,originalEvent:B}).isDefaultPrevented()||O&&Tw(O,P))return null;f.data[y.get()]&&k.get().each(Y=>{f.data[y.get()].beforeBookmark=Y});const V=xm(u);if(V&&f.data.length>V){for(let Y=0;Y<f.data.length-1;Y++)f.data[Y]=f.data[Y+1];f.data.length--,y.set(f.data.length)}P.bookmark=$u(u.selection),y.get()<f.data.length-1&&(f.data.length=y.get()+1),f.data.push(P),y.set(f.data.length-1);const G={level:P,lastLevel:O,originalEvent:B};return y.get()>0?(u.setDirty(!0),u.dispatch("AddUndo",G),u.dispatch("change",G)):u.dispatch("AddUndo",G),P})(t,o,n,a,i,c,d),undo:(o,n,a)=>((i,c,d,u)=>{let f;return c.typing&&(c.add(),c.typing=!1,P1(c,!1,d)),u.get()>0&&(u.set(u.get()-1),f=c.data[u.get()],vC(i,f,!0),i.setDirty(!0),i.dispatch("Undo",{level:f})),f})(t,o,n,a),redo:(o,n)=>((a,i,c)=>{let d;return i.get()<c.length-1&&(i.set(i.get()+1),d=c[i.get()],vC(a,d,!1),a.setDirty(!0),a.dispatch("Redo",{level:d})),d})(t,o,n),clear:(o,n)=>((a,i,c)=>{i.data=[],c.set(0),i.typing=!1,a.dispatch("ClearUndos")})(t,o,n),reset:o=>(n=>{n.clear(),n.add()})(o),hasUndo:(o,n)=>((a,i,c)=>c.get()>0||i.typing&&i.data[0]&&!Tw(zw(a),i.data[0]))(t,o,n),hasRedo:(o,n)=>((a,i)=>i.get()<a.data.length-1&&!a.typing)(o,n),transact:(o,n,a)=>((i,c,d)=>(H1(i,c),i.beforeChange(),i.ignore(d),i.add()))(o,n,a),ignore:(o,n)=>((a,i)=>{try{a.set(a.get()+1),i()}finally{a.set(a.get()-1)}})(o,n),extra:(o,n,a,i)=>((c,d,u,f,y)=>{if(d.transact(f)){const v=d.data[u.get()].bookmark,k=d.data[u.get()-1];vC(c,k,!0),d.transact(y)&&(d.data[u.get()-1].beforeBookmark=v)}})(t,o,n,a,i)},formatter:{match:(o,n,a,i)=>Bs(t,o,n,a,i),matchAll:(o,n)=>((a,i,c)=>{const d=[],u={},f=a.selection.getStart();return a.dom.getParent(f,y=>{for(let v=0;v<i.length;v++){const k=i[v];!u[k]&&gg(a,y,k,c)&&(u[k]=!0,d.push(k))}},a.dom.getRoot()),d})(t,o,n),matchNode:(o,n,a,i)=>gg(t,o,n,a,i),canApply:o=>((n,a)=>{const i=n.formatter.get(a),c=n.dom;if(i&&n.selection.isEditable()){const d=n.selection.getStart(),u=e1(c,d);for(let f=i.length-1;f>=0;f--){const y=i[f];if(!Pd(y))return!0;for(let v=u.length-1;v>=0;v--)if(c.is(u[v],y.selector))return!0}}return!1})(t,o),closest:o=>((n,a)=>{const i=c=>Wr(c,Ze(n.getBody()));return F.from(n.selection.getStart(!0)).bind(c=>Hh(Ze(c),d=>on(a,u=>((f,y)=>gg(n,f.dom,y)?F.some(y):F.none())(d,u)),i)).getOrNull()})(t,o),apply:(o,n,a)=>pE(t,o,n,a),remove:(o,n,a,i)=>K2(t,o,n,a,i),toggle:(o,n,a)=>((i,c,d,u)=>{const f=i.formatter.get(c);f&&(!Bs(i,c,d,u)||"toggle"in f[0]&&!f[0].toggle?pE(i,c,d,u):K2(i,c,d,u))})(t,o,n,a),formatChanged:(o,n,a,i,c)=>((d,u,f,y,v,k)=>(((E,B,N,P,O,V)=>{const G=B.get();_e(N.split(","),Y=>{const ae=yr(G,Y).getOrThunk(()=>{const we={withSimilar:{state:as(!1),similar:!0,callbacks:[]},withoutSimilar:{state:as(!1),similar:!1,callbacks:[]},withVars:[]};return G[Y]=we,we}),ee=()=>{const we=hE(E);return Vd(E,we,Y,O,V).isSome()};if(bo(V)){const we=O?ae.withSimilar:ae.withoutSimilar;we.callbacks.push(P),we.callbacks.length===1&&we.state.set(ee())}else ae.withVars.push({state:as(ee()),similar:O,vars:V,callback:P})}),B.set(G)})(d,u,f,y,v,k),{unbind:()=>((E,B,N)=>{const P=E.get();_e(B.split(","),O=>yr(P,O).each(V=>{P[O]={withSimilar:{...V.withSimilar,callbacks:et(V.withSimilar.callbacks,G=>G!==N)},withoutSimilar:{...V.withoutSimilar,callbacks:et(V.withoutSimilar.callbacks,G=>G!==N)},withVars:et(V.withVars,G=>G.callback!==N)}})),E.set(P)})(u,f,y)}))(t,o,n,a,i,c)},editor:{getContent:o=>((n,a)=>F.from(n.getBody()).fold(Rt(a.format==="tree"?new kc("body",11):""),i=>y5(n,a,i)))(t,o),setContent:(o,n)=>((a,i,c)=>F.from(a.getBody()).map(d=>_1(i)?((u,f,y,v)=>{sw(u.parser.getNodeFilters(),u.parser.getAttributeFilters(),y);const k=ep({validate:!1},u.schema).serialize(y),E=Li(Gf(Ze(f))?k:to.trim(k));return Ph(u,E,v.no_selection),{content:y,html:E}})(a,d,i,c):((u,f,y,v)=>{if((y=Li(y)).length===0||/^\s+$/.test(y)){const k='<br data-mce-bogus="1">';f.nodeName==="TABLE"?y="<tr><td>"+k+"</td></tr>":/^(UL|OL)$/.test(f.nodeName)&&(y="<li>"+k+"</li>");const E=Ji(u);return u.schema.isValidChild(f.nodeName.toLowerCase(),E.toLowerCase())?(y=k,y=u.dom.createHTML(E,Mp(u),y)):y||(y=k),Ph(u,y,v.no_selection),{content:y,html:y}}{v.format!=="raw"&&(y=ep({validate:!1},u.schema).serialize(u.parser.parse(y,{isRootContent:!0,insert:!0})));const k=Gf(Ze(f))?y:to.trim(y);return Ph(u,k,v.no_selection),{content:k,html:k}}})(a,d,i,c)).getOr({content:i,html:_1(c.content)?"":c.content}))(t,o,n),insertContent:(o,n)=>hs(t,o,n),addVisual:o=>((n,a)=>{const i=n.dom,c=$e(a)?a:n.getBody();_e(i.select("table,a",c),d=>{switch(d.nodeName){case"TABLE":const u=hu(n),f=i.getAttrib(d,"border");f&&f!=="0"||!n.hasVisual?i.removeClass(d,u):i.addClass(d,u);break;case"A":if(!i.getAttrib(d,"href")){const y=i.getAttrib(d,"name")||d.id,v=Wb(n);y&&n.hasVisual?i.addClass(d,v):i.removeClass(d,v)}}}),n.dispatch("VisualAid",{element:a,hasVisual:n.hasVisual})})(t,o)},selection:{getContent:(o,n)=>((a,i,c={})=>{const d=((u,f)=>({...u,format:f,get:!0,selection:!0,getInner:!0}))(c,i);return fC(a,d).fold(D,u=>{const f=((y,v)=>{if(v.format==="text")return(k=>F.from(k.selection.getRng()).map(E=>{var B;const N=F.from(k.dom.getParent(E.commonAncestorContainer,k.dom.isBlock)),P=k.getBody(),O=(ee=>ee.map(we=>we.nodeName).getOr("div").toLowerCase())(N),V=Ze(E.cloneContents());R3(V),B3(V);const G=k.dom.add(P,O,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},V.dom),Y=jE(G),ae=Li((B=G.textContent)!==null&&B!==void 0?B:"");if(k.dom.remove(G),L1(ae,0)||L1(ae,ae.length-1)){const ee=N.getOr(P),we=jE(ee),je=we.indexOf(Y);return je===-1?Y:(L1(we,je-1)?" ":"")+Y+(L1(we,je+Y.length)?" ":"")}return Y}).getOr(""))(y);{const k=((E,B)=>{const N=E.selection.getRng(),P=E.dom.create("body"),O=E.selection.getSel(),V=Y_(E,cg(O)),G=B.contextual?B5(Ze(E.getBody()),V,E.schema).dom:N.cloneContents();return G&&P.appendChild(G),E.selection.serializer.serialize(P,B)})(y,v);return v.format==="tree"?k:y.selection.isCollapsed()?"":k}})(a,u);return RE(a,f,u)})})(t,o,n)},autocompleter:{addDecoration:go,removeDecoration:go},raw:{getModel:()=>F.none()}}),_c=t=>jo(t.plugins,"rtc"),hg=t=>t.rtcInstance?t.rtcInstance:j1(t),Ui=t=>{const o=t.rtcInstance;if(o)return o;throw new Error("Failed to get RTC instance not yet initialized.")},zy=t=>Ui(t).init.bindEvents(),xC=t=>t.dom.length===0?(ca(t),F.none()):F.some(t),li=(t,o,n,a,i)=>{t.bind(c=>((a?md:fs)(c.dom,a?c.dom.length:0,i),o.filter(Ce).map(d=>((u,f,y,v,k)=>{const E=u.dom,B=f.dom,N=v?E.length:B.length;v?(Mh(E,B,k,!1,!v),y.setStart(B,N)):(Mh(B,E,k,!1,!v),y.setEnd(B,N))})(c,d,n,a,i)))).orThunk(()=>((d,u)=>d.filter(f=>n1.isBookmarkNode(f.dom)).bind(u?no:yt))(o,a).or(o).filter(Ce).map(d=>((u,f,y)=>{vi(u).each(v=>{const k=u.dom;f&&cy(v,Ut(k,0),y)?fs(k,0,y):!f&&dy(v,Ut(k,k.length),y)&&md(k,k.length,y)})})(d,a,i)))},$E=(t,o,n)=>{if(jo(t,o)){const a=et(t[o],i=>i!==n);a.length===0?delete t[o]:t[o]=a}},UE=t=>!(!t||!t.ownerDocument)&&ci(Ze(t.ownerDocument),Ze(t)),qh=(t,o,n,a)=>{let i,c;const{selectorChangedWithUnbind:d}=((O,V)=>{let G,Y;const ae=(we,je)=>ke(je,Pe=>O.is(Pe,we)),ee=we=>O.getParents(we,void 0,O.getRoot());return{selectorChangedWithUnbind:(we,je)=>(G||(G={},Y={},V.on("NodeChange",Pe=>{const rt=Pe.element,Mt=ee(rt),Fe={};zt(G,(Ue,ot)=>{ae(ot,Mt).each(Qt=>{Y[ot]||(_e(Ue,Do=>{Do(!0,{node:Qt,selector:ot,parents:Mt})}),Y[ot]=Ue),Fe[ot]=Ue})}),zt(Y,(Ue,ot)=>{Fe[ot]||(delete Y[ot],_e(Ue,Qt=>{Qt(!1,{node:rt,selector:ot,parents:Mt})}))})})),G[we]||(G[we]=[]),G[we].push(je),ae(we,ee(V.selection.getStart())).each(()=>{Y[we]=G[we]}),{unbind:()=>{$E(G,we,je),$E(Y,we,je)}})}})(t,a),u=(O,V)=>((G,Y,ae={})=>{const ee=((we,je)=>({format:"html",...we,set:!0,selection:!0,content:je}))(ae,Y);hC(G,ee).each(we=>{const je=((rt,Mt)=>{if(Mt.format!=="raw"){const Fe=rt.selection.getRng(),Ue=rt.dom.getParent(Fe.commonAncestorContainer,rt.dom.isBlock),ot=Ue?{context:Ue.nodeName.toLowerCase()}:{},Qt=rt.parser.parse(Mt.content,{forced_root_block:!1,...ot,...Mt});return ep({validate:!1},rt.schema).serialize(Qt)}return Mt.content})(G,we),Pe=G.selection.getRng();((rt,Mt,Fe)=>{const Ue=F.from(Mt.firstChild).map(Ze),ot=F.from(Mt.lastChild).map(Ze);rt.deleteContents(),rt.insertNode(Mt);const Qt=Ue.bind(yt).filter(Ce).bind(xC),Do=ot.bind(no).filter(Ce).bind(xC);li(Qt,Ue,rt,!0,Fe),li(Do,ot,rt,!1,Fe),rt.collapse(!1)})(Pe,Pe.createContextualFragment(je),G.schema),G.selection.setRng(Pe),i1(G,Pe),bC(G,je,we)})})(a,O,V),f=O=>{const V=v();V.collapse(!!O),k(V)},y=()=>o.getSelection?o.getSelection():o.document.selection,v=()=>{let O;const V=(Y,ae,ee)=>{try{return ae.compareBoundaryPoints(Y,ee)}catch{return-1}},G=o.document;if($e(a.bookmark)&&!Nh(a)){const Y=Fx(a);if(Y.isSome())return Y.map(ae=>Y_(a,[ae])[0]).getOr(G.createRange())}try{const Y=y();Y&&!si(Y.anchorNode)&&(O=Y.rangeCount>0?Y.getRangeAt(0):G.createRange(),O=Y_(a,[O])[0])}catch{}if(O||(O=G.createRange()),wi(O.startContainer)&&O.collapsed){const Y=t.getRoot();O.setStart(Y,0),O.setEnd(Y,0)}return i&&c&&(V(O.START_TO_START,O,i)===0&&V(O.END_TO_END,O,i)===0?O=c:(i=null,c=null)),O},k=(O,V)=>{if(!(Y=>!!Y&&UE(Y.startContainer)&&UE(Y.endContainer))(O))return;const G=y();if(O=a.dispatch("SetSelectionRange",{range:O,forward:V}).range,G){c=O;try{G.removeAllRanges(),G.addRange(O)}catch{}V===!1&&G.extend&&(G.collapse(O.endContainer,O.endOffset),G.extend(O.startContainer,O.startOffset)),i=G.rangeCount>0?G.getRangeAt(0):null}if(!O.collapsed&&O.startContainer===O.endContainer&&(G!=null&&G.setBaseAndExtent)&&O.endOffset-O.startOffset<2&&O.startContainer.hasChildNodes()){const Y=O.startContainer.childNodes[O.startOffset];Y&&Y.nodeName==="IMG"&&(G.setBaseAndExtent(O.startContainer,O.startOffset,O.endContainer,O.endOffset),G.anchorNode===O.startContainer&&G.focusNode===O.endContainer||G.setBaseAndExtent(Y,0,Y,1))}a.dispatch("AfterSetSelectionRange",{range:O,forward:V})},E=()=>{const O=y(),V=O==null?void 0:O.anchorNode,G=O==null?void 0:O.focusNode;if(!O||!V||!G||si(V)||si(G))return!0;const Y=t.createRng(),ae=t.createRng();try{Y.setStart(V,O.anchorOffset),Y.collapse(!0),ae.setStart(G,O.focusOffset),ae.collapse(!0)}catch{return!0}return Y.compareBoundaryPoints(Y.START_TO_START,ae)<=0},B={dom:t,win:o,serializer:n,editor:a,expand:(O={type:"word"})=>k(Oh(t).expand(v(),O)),collapse:f,setCursorLocation:(O,V)=>{const G=t.createRng();$e(O)&&$e(V)?(G.setStart(O,V),G.setEnd(O,V),k(G),f(!1)):(oy(t,G,a.getBody(),!0),k(G))},getContent:O=>((V,G={})=>((Y,ae,ee)=>Ui(Y).selection.getContent(ae,ee))(V,G.format?G.format:"html",G))(a,O),setContent:u,getBookmark:(O,V)=>N.getBookmark(O,V),moveToBookmark:O=>N.moveToBookmark(O),select:(O,V)=>(((G,Y,ae)=>F.from(Y).bind(ee=>F.from(ee.parentNode).map(we=>{const je=G.nodeIndex(ee),Pe=G.createRng();return Pe.setStart(we,je),Pe.setEnd(we,je+1),ae&&(oy(G,Pe,ee,!0),oy(G,Pe,ee,!1)),Pe})))(t,O,V).each(k),O),isCollapsed:()=>{const O=v(),V=y();return!(!O||O.item)&&(O.compareEndPoints?O.compareEndPoints("StartToEnd",O)===0:!V||O.collapsed)},isEditable:()=>{if(a.mode.isReadOnly())return!1;const O=v(),V=a.getBody().querySelectorAll('[data-mce-selected="1"]');return V.length>0?_t(V,G=>t.isEditable(G.parentElement)):E3(t,O)},isForward:E,setNode:O=>(u(t.getOuterHTML(O)),O),getNode:()=>((O,V)=>{if(!V)return O;let G=V.startContainer,Y=V.endContainer;const ae=V.startOffset,ee=V.endOffset;let we=V.commonAncestorContainer;V.collapsed||(G===Y&&ee-ae<2&&G.hasChildNodes()&&(we=G.childNodes[ae]),vo(G)&&vo(Y)&&(G=G.length===ae?K_(G.nextSibling,!0):G.parentNode,Y=ee===0?K_(Y.previousSibling,!1):Y.parentNode,G&&G===Y&&(we=G)));const je=vo(we)?we.parentNode:we;return Hs(je)?je:O})(a.getBody(),v()),getSel:y,setRng:k,getRng:v,getStart:O=>p1(a.getBody(),v(),O),getEnd:O=>G_(a.getBody(),v(),O),getSelectedBlocks:(O,V)=>((G,Y,ae,ee)=>{const we=[],je=G.getRoot(),Pe=G.getParent(ae||p1(je,Y,Y.collapsed),G.isBlock),rt=G.getParent(ee||G_(je,Y,Y.collapsed),G.isBlock);if(Pe&&Pe!==je&&we.push(Pe),Pe&&rt&&Pe!==rt){let Mt;const Fe=new Ws(Pe,je);for(;(Mt=Fe.next())&&Mt!==rt;)G.isBlock(Mt)&&we.push(Mt)}return rt&&Pe!==rt&&rt!==je&&we.push(rt),we})(t,v(),O,V),normalize:()=>{const O=v(),V=y();if(!(cg(V).length>1)&&hl(a)){const G=Ox(t,O);return G.each(Y=>{k(Y,E())}),G.getOr(O)}return O},selectorChanged:(O,V)=>(d(O,V),B),selectorChangedWithUnbind:d,getScrollContainer:()=>{let O,V=t.getRoot();for(;V&&V.nodeName!=="BODY";){if(V.scrollHeight>V.clientHeight){O=V;break}V=V.parentNode}return O},scrollIntoView:(O,V)=>{$e(O)?((G,Y,ae)=>{(G.inline?k3:r5)(G,Y,ae)})(a,O,V):i1(a,v(),V)},placeCaretAt:(O,V)=>k(ra(O,V,a.getDoc())),getBoundingClientRect:()=>{const O=v();return O.collapsed?Ut.fromRangeStart(O).getClientRects()[0]:O.getBoundingClientRect()},destroy:()=>{o=i=c=null,P.destroy()}},N=n1(B),P=zm(B,a);return B.bookmarkManager=N,B.controlSelection=P,B},Ty=(t,o,n)=>{to.inArray(o,n)===-1&&(t.addAttributeFilter(n,(a,i)=>{let c=a.length;for(;c--;)a[c].attr(i,null)}),o.push(n))},Ay=(t,o)=>{const n=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...t},i=o&&o.dom?o.dom:Ar.DOM,c=o&&o.schema?o.schema:hc(a),d=ff(a,c);return((u,f,y)=>{u.addAttributeFilter("data-mce-tabindex",(v,k)=>{let E=v.length;for(;E--;){const B=v[E];B.attr("tabindex",B.attr("data-mce-tabindex")),B.attr(k,null)}}),u.addAttributeFilter("src,href,style",(v,k)=>{const E="data-mce-"+k,B=f.url_converter,N=f.url_converter_scope;let P=v.length;for(;P--;){const O=v[P];let V=O.attr(E);V!==void 0?(O.attr(k,V.length>0?V:null),O.attr(E,null)):(V=O.attr(k),k==="style"?V=y.serializeStyle(y.parseStyle(V),O.name):B&&(V=B.call(N,V,k,O.name)),O.attr(k,V.length>0?V:null))}}),u.addAttributeFilter("class",v=>{let k=v.length;for(;k--;){const E=v[k];let B=E.attr("class");B&&(B=B.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),E.attr("class",B.length>0?B:null))}}),u.addAttributeFilter("data-mce-type",(v,k,E)=>{let B=v.length;for(;B--;){const N=v[B];N.attr("data-mce-type")==="bookmark"&&!E.cleanup&&(F.from(N.firstChild).exists(O=>{var V;return!Kf((V=O.value)!==null&&V!==void 0?V:"")})?N.unwrap():N.remove())}}),u.addNodeFilter("script,style",(v,k)=>{var E;const B=P=>P.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let N=v.length;for(;N--;){const P=v[N],O=P.firstChild,V=(E=O==null?void 0:O.value)!==null&&E!==void 0?E:"";if(k==="script"){const G=P.attr("type");G&&P.attr("type",G==="mce-no/type"?null:G.replace(/^mce\-/,"")),f.element_format==="xhtml"&&O&&V.length>0&&(O.value=`// <![CDATA[
`+B(V)+`
// ]]>`)}else f.element_format==="xhtml"&&O&&V.length>0&&(O.value=`<!--
`+B(V)+`
-->`)}}),u.addNodeFilter("#comment",v=>{let k=v.length;for(;k--;){const E=v[k],B=E.value;f.preserve_cdata&&(B==null?void 0:B.indexOf("[CDATA["))===0?(E.name="#cdata",E.type=4,E.value=y.decode(B.replace(/^\[CDATA\[|\]\]$/g,""))):(B==null?void 0:B.indexOf("mce:protected "))===0&&(E.name="#text",E.type=3,E.raw=!0,E.value=unescape(B).substr(14))}}),u.addNodeFilter("xml:namespace,input",(v,k)=>{let E=v.length;for(;E--;){const B=v[E];B.type===7?B.remove():B.type===1&&(k!=="input"||B.attr("type")||B.attr("type","text"))}}),u.addAttributeFilter("data-mce-type",v=>{_e(v,k=>{k.attr("data-mce-type")==="format-caret"&&(k.isEmpty(u.schema.getNonEmptyElements())?k.remove():k.unwrap())})}),u.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(v,k)=>{let E=v.length;for(;E--;)v[E].attr(k,null)}),f.remove_trailing_brs&&((v,k,E)=>{k.addNodeFilter("br",(B,N,P)=>{const O=to.extend({},E.getBlockElements()),V=E.getNonEmptyElements(),G=E.getWhitespaceElements();O.body=1;const Y=ae=>ae.name in O||Ki(E,ae);for(let ae=0,ee=B.length;ae<ee;ae++){let we=B[ae],je=we.parent;if(je&&Y(je)&&we===je.lastChild){let Pe=we.prev;for(;Pe;){const rt=Pe.name;if(rt!=="span"||Pe.attr("data-mce-type")!=="bookmark"){rt==="br"&&(we=null);break}Pe=Pe.prev}if(we&&(we.remove(),Yu(E,V,G,je))){const rt=E.getElementRule(je.name);rt&&(rt.removeEmpty?je.remove():rt.paddEmpty&&k1(v,P,Y,je))}}else{let Pe=we;for(;je&&je.firstChild===Pe&&je.lastChild===Pe&&(Pe=je,!O[je.name]);)je=je.parent;if(Pe===je){const rt=new kc("#text",3);rt.value=ms,we.replace(rt)}}}})})(f,u,u.schema)})(d,a,i),{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:(u,f={})=>{const y={format:"html",...f},v=((B,N,P)=>((O,V)=>$e(O)&&O.hasEventListeners("PreProcess")&&!V.no_events)(B,P)?((O,V,G)=>{let Y;const ae=O.dom;let ee=V.cloneNode(!0);const we=document.implementation;if(we.createHTMLDocument){const je=we.createHTMLDocument("");to.each(ee.nodeName==="BODY"?ee.childNodes:[ee],Pe=>{je.body.appendChild(je.importNode(Pe,!0))}),ee=ee.nodeName!=="BODY"?je.body.firstChild:je.body,Y=ae.doc,ae.doc=je}return((je,Pe)=>{je.dispatch("PreProcess",Pe)})(O,{...G,node:ee}),Y&&(ae.doc=Y),ee})(B,N,P):N)(o,u,y),k=((B,N,P)=>{const O=Li(P.getInner?N.innerHTML:B.getOuterHTML(N));return P.selection||Gf(Ze(N))?O:to.trim(O)})(i,v,y),E=((B,N,P)=>{const O=P.selection?{forced_root_block:!1,...P}:P,V=B.parse(N,O);return(G=>{const Y=ee=>(ee==null?void 0:ee.name)==="br",ae=G.lastChild;if(Y(ae)){const ee=ae.prev;Y(ee)&&(ae.remove(),ee.remove())}})(V),V})(d,k,y);return y.format==="tree"?E:((B,N,P,O,V)=>{const G=((Y,ae,ee)=>ep(Y,ae).serialize(ee))(N,P,O);return((Y,ae,ee)=>!ae.no_events&&Y?((je,Pe)=>je.dispatch("PostProcess",Pe))(Y,{...ae,content:ee}).content:ee)(B,V,G)})(o,a,c,E,y)},addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:Je(Ty,d,n),getTempAttrs:Rt(n),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},Aw=(t,o)=>{const n=Ay(t,o);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},V1=(t,o,n={})=>{const a=((i,c)=>({format:"html",...i,set:!0,content:c}))(n,o);return hC(t,a).map(i=>{const c=((d,u,f)=>hg(d).editor.setContent(u,f))(t,i.content,i);return bC(t,c.html,i),c.content}).getOr(o)},ZE="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),qE=[],I5="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),WE=[],wC=(t,o)=>{const n=et(o,a=>jo(t,a));return Oo(n)},GE=t=>{const o=wC(t,ZE),n=t.forced_root_block;return n!==!1&&n!==""||o.push("forced_root_block (false only)"),Oo(o)},$1=t=>wC(t,qE),kC=(t,o)=>{const n=to.makeMap(t.plugins," "),a=et(o,i=>jo(n,i));return Oo(a)},KE=t=>kC(t,I5),YE=t=>kC(t,WE.map(o=>o.name)),XE=t=>ke(WE,o=>o.name===t).fold(()=>t,o=>o.replacedWith?`${t}, replaced by ${o.replacedWith}`:t),U1=Ar.DOM,Z1=t=>F.from(t).each(o=>o.destroy()),q1=(()=>{const t={};return{add:(o,n)=>{t[o]=n},get:o=>t[o]?t[o]:{icons:{}},has:o=>jo(t,o)}})(),Wh=Ie.ModelManager,_C=(t,o)=>o.dom[t],Ow=(t,o)=>parseInt(Fl(o,t),10),W1=Je(_C,"clientWidth"),JE=Je(_C,"clientHeight"),QE=Je(Ow,"margin-top"),Nw=Je(Ow,"margin-left"),ez=t=>{const o=[],n=()=>{const f=t.theme;return f&&f.getNotificationManagerImpl?f.getNotificationManagerImpl():(()=>{const y=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:y,close:y,getArgs:y}})()},a=()=>F.from(o[0]),i=()=>{a().each(f=>{f.reposition()})},c=f=>{he(o,y=>y===f).each(y=>{o.splice(y,1)})},d=(f,y=!0)=>t.removed||!(v=>{return(k=v.inline?v.getBody():v.getContentAreaContainer(),F.from(k).map(Ze)).map(ka).getOr(!1);var k})(t)?{}:(y&&t.dispatch("BeforeOpenNotification",{notification:f}),ke(o,v=>{return k=n().getArgs(v),E=f,!(k.type!==E.type||k.text!==E.text||k.progressBar||k.timeout||E.progressBar||E.timeout);var k,E}).getOrThunk(()=>{t.editorManager.setActive(t);const v=n().open(f,()=>{c(v)},()=>W_(t));return(k=>{o.push(k)})(v),i(),t.dispatch("OpenNotification",{notification:{...v}}),v})),u=Rt(o);return(f=>{f.on("SkinLoaded",()=>{const y=Vb(f);y&&d({text:y,type:"warning",timeout:0},!1),i()}),f.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(i)}),f.on("remove",()=>{_e(o.slice(),y=>{n().close(y)})}),f.addShortcut("alt+F12","Focus to notification",()=>a().map(y=>Ze(y.getEl())).each(y=>l1(y)))})(t),{open:d,close:()=>{a().each(f=>{n().close(f),c(f),i()})},getNotifications:u}},Oy=Ie.PluginManager,wu=Ie.ThemeManager,Mw=t=>{let o=[];const n=()=>{const d=t.theme;return d&&d.getWindowManagerImpl?d.getWindowManagerImpl():(()=>{const u=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:u,openUrl:u,alert:u,confirm:u,close:u}})()},a=(d,u)=>(...f)=>u?u.apply(d,f):void 0,i=d=>{(u=>{t.dispatch("CloseWindow",{dialog:u})})(d),o=et(o,u=>u!==d),o.length===0&&t.focus()},c=d=>{t.editorManager.setActive(t),c1(t),t.ui.show();const u=d();return(f=>{o.push(f),(y=>{t.dispatch("OpenWindow",{dialog:y})})(f)})(u),u};return t.on("remove",()=>{_e(o,d=>{n().close(d)})}),{open:(d,u)=>c(()=>n().open(d,u,i)),openUrl:d=>c(()=>n().openUrl(d,i)),alert:(d,u,f)=>{const y=n();y.alert(d,a(f||y,u))},confirm:(d,u,f)=>{const y=n();y.confirm(d,a(f||y,u))},close:()=>{F.from(o[o.length-1]).each(d=>{n().close(d),i(d)})}}},CC=(t,o)=>{t.notificationManager.open({type:"error",text:o})},hf=(t,o)=>{t._skinLoaded?CC(t,o):t.on("SkinLoaded",()=>{CC(t,o)})},Ny=(t,o,n)=>{B_(t,o,{message:n}),console.error(n)},Gh=(t,o,n)=>n?`Failed to load ${t}: ${n} from url ${o}`:`Failed to load ${t} url: ${o}`,G1=(t,...o)=>{const n=window.console;n&&(n.error?n.error(t,...o):n.log(t,...o))},Dw=t=>"content/"+t+"/content.css",Rw=(t,o)=>{const n=t.editorManager.baseURL+"/skins/content",a=`content${t.editorManager.suffix}.css`;return No(o,i=>(c=>tinymce.Resource.has(Dw(c)))(i)?i:(c=>/^[a-z0-9\-]+$/i.test(c))(i)&&!t.inline?`${n}/${i}/${a}`:t.documentBaseURI.toAbsolute(i))},tz=(t,o)=>{const n={};return{findAll:(a,i=Dt)=>{const c=et((u=>u?Fo(u.getElementsByTagName("img")):[])(a),u=>{const f=u.src;return!u.hasAttribute("data-mce-bogus")&&!u.hasAttribute("data-mce-placeholder")&&!(!f||f===Xn.transparentSrc)&&(Te(f,"blob:")?!t.isUploaded(f)&&i(u):!!Te(f,"data:")&&i(u))}),d=No(c,u=>{const f=u.src;if(jo(n,f))return n[f].then(y=>Ve(y)?y:{image:u,blobInfo:y.blobInfo});{const y=((v,k)=>{const E=()=>Promise.reject("Invalid data URI");if(Te(k,"blob:")){const P=v.getByUri(k);return $e(P)?Promise.resolve(P):(B=k,Te(B,"blob:")?(O=>fetch(O).then(V=>V.ok?V.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${O} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})))(B):Te(B,"data:")?(N=B,new Promise((O,V)=>{fw(N).bind(({type:G,data:Y,base64Encoded:ae})=>J2(G,Y,ae)).fold(()=>V("Invalid data URI"),O)})):Promise.reject("Unknown URI format")).then(O=>Q2(O).then(V=>yE(V,!1,G=>F.some(hw(v,O,G))).getOrThunk(E)))}var B,N;return Te(k,"data:")?vE(v,k).fold(E,P=>Promise.resolve(P)):Promise.reject("Unknown image data format")})(o,f).then(v=>(delete n[f],{image:u,blobInfo:v})).catch(v=>(delete n[f],v));return n[f]=y,y}});return Promise.all(d)}}},oz=()=>{let t={};const o=(a,i)=>({status:a,resultUri:i}),n=a=>a in t;return{hasBlobUri:n,getResultUri:a=>{const i=t[a];return i?i.resultUri:null},isPending:a=>!!n(a)&&t[a].status===1,isUploaded:a=>!!n(a)&&t[a].status===2,markPending:a=>{t[a]=o(1,null)},markUploaded:(a,i)=>{t[a]=o(2,i)},removeFailed:a=>{delete t[a]},destroy:()=>{t={}}}};let Bw=0;const dc=(t,o)=>{const n={},a=(f,y)=>new Promise((v,k)=>{const E=new XMLHttpRequest;E.open("POST",o.url),E.withCredentials=o.credentials,E.upload.onprogress=N=>{y(N.loaded/N.total*100)},E.onerror=()=>{k("Image upload failed due to a XHR Transport error. Code: "+E.status)},E.onload=()=>{if(E.status<200||E.status>=300)return void k("HTTP Error: "+E.status);const N=JSON.parse(E.responseText);var P,O;N&&Ve(N.location)?v((P=o.basePath,O=N.location,P?P.replace(/\/$/,"")+"/"+O.replace(/^\//,""):O)):k("Invalid JSON: "+E.responseText)};const B=new FormData;B.append("file",f.blob(),f.filename()),E.send(B)}),i=ge(o.handler)?o.handler:a,c=(f,y)=>({url:y,blobInfo:f,status:!0}),d=(f,y)=>({url:"",blobInfo:f,status:!1,error:y}),u=(f,y)=>{to.each(n[f],v=>{v(y)}),delete n[f]};return{upload:(f,y)=>o.url||i!==a?((v,k)=>(v=to.grep(v,E=>!t.isUploaded(E.blobUri())),Promise.all(to.map(v,E=>t.isPending(E.blobUri())?(B=>{const N=B.blobUri();return new Promise(P=>{n[N]=n[N]||[],n[N].push(P)})})(E):((B,N,P)=>(t.markPending(B.blobUri()),new Promise(O=>{let V,G;try{const Y=()=>{V&&(V.close(),G=go)},ae=we=>{Y(),t.markUploaded(B.blobUri(),we),u(B.blobUri(),c(B,we)),O(c(B,we))},ee=we=>{Y(),t.removeFailed(B.blobUri()),u(B.blobUri(),d(B,we)),O(d(B,we))};G=we=>{we<0||we>100||F.from(V).orThunk(()=>F.from(P).map(ct)).each(je=>{V=je,je.progressBar.value(we)})},N(B,G).then(ae,we=>{ee(Ve(we)?{message:we}:we)})}catch(Y){O(d(B,Y))}})))(E,i,k)))))(f,y):new Promise(v=>{v([])})}},K1=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),bf=(t,o)=>dc(o,{url:Xv(t),basePath:N0(t),credentials:ah(t),handler:M0(t)}),nz=t=>{const o=(()=>{let P=[];const O=Y=>{if(!Y.blob||!Y.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const ae=Y.id||"blobid"+Bw+++(()=>{const Pe=()=>Math.round(4294967295*qm()).toString(36);return"s"+new Date().getTime().toString(36)+Pe()+Pe()+Pe()})(),ee=Y.name||ae,we=Y.blob;var je;return{id:Rt(ae),name:Rt(ee),filename:Rt(Y.filename||ee+"."+(je=we.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[je.toLowerCase()]||"dat")),blob:Rt(we),base64:Rt(Y.base64),blobUri:Rt(Y.blobUri||URL.createObjectURL(we)),uri:Rt(Y.uri)}},V=Y=>ke(P,Y).getOrUndefined(),G=Y=>V(ae=>ae.id()===Y);return{create:(Y,ae,ee,we,je)=>{if(Ve(Y))return O({id:Y,name:we,filename:je,blob:ae,base64:ee});if(ut(Y))return O(Y);throw new Error("Unknown input type")},add:Y=>{G(Y.id())||P.push(Y)},get:G,getByUri:Y=>V(ae=>ae.blobUri()===Y),getByData:(Y,ae)=>V(ee=>ee.base64()===Y&&ee.blob().type===ae),findFirst:V,removeByUri:Y=>{P=et(P,ae=>ae.blobUri()!==Y||(URL.revokeObjectURL(ae.blobUri()),!1))},destroy:()=>{_e(P,Y=>{URL.revokeObjectURL(Y.blobUri())}),P=[]}}})();let n,a;const i=oz(),c=[],d=P=>O=>t.selection?P(O):[],u=(P,O,V)=>{let G=0;do G=P.indexOf(O,G),G!==-1&&(P=P.substring(0,G)+V+P.substr(G+O.length),G+=V.length-O.length+1);while(G!==-1);return P},f=(P,O,V)=>{const G=`src="${V}"${V===Xn.transparentSrc?' data-mce-placeholder="1"':""}`;return P=u(P,`src="${O}"`,G),u(P,'data-mce-src="'+O+'"','data-mce-src="'+V+'"')},y=(P,O)=>{_e(t.undoManager.data,V=>{V.type==="fragmented"?V.fragments=No(V.fragments,G=>f(G,P,O)):V.content=f(V.content,P,O)})},v=()=>(n||(n=bf(t,i)),B().then(d(P=>{const O=No(P,V=>V.blobInfo);return n.upload(O,K1(t)).then(d(V=>{const G=[];let Y=!1;const ae=No(V,(ee,we)=>{const{blobInfo:je,image:Pe}=P[we];let rt=!1;return ee.status&&eg(t)?(ee.url&&!xr(Pe.src,ee.url)&&(Y=!0),o.removeByUri(Pe.src),_c(t)||((Mt,Fe)=>{const Ue=t.convertURL(Fe,"src");var ot;y(Mt.src,Fe),lt(Ze(Mt),{src:gl(t)?(ot=Fe,ot+(ot.indexOf("?")===-1?"?":"&")+new Date().getTime()):Fe,"data-mce-src":Ue})})(Pe,ee.url)):ee.error&&(ee.error.remove&&(y(Pe.src,Xn.transparentSrc),G.push(Pe),rt=!0),((Mt,Fe)=>{hf(Mt,ie.translate(["Failed to upload image: {0}",Fe]))})(t,ee.error.message)),{element:Pe,status:ee.status,uploadUri:ee.url,blobInfo:je,removed:rt}});return G.length>0&&!_c(t)?t.undoManager.transact(()=>{_e(Mc(G),ee=>{const we=vi(ee);ca(ee),we.each((je=>Pe=>{((rt,Mt)=>rt.dom.isEmpty(Mt.dom)&&$e(rt.schema.getTextBlockElements()[ur(Mt)]))(je,Pe)&&us(Pe,Rl('<br data-mce-bogus="1" />'))})(t)),o.removeByUri(ee.dom.src)})}):Y&&t.undoManager.dispatchChange(),ae}))}))),k=()=>ei(t)?v():Promise.resolve([]),E=P=>_t(c,O=>O(P)),B=()=>(a||(a=tz(i,o)),a.findAll(t.getBody(),E).then(d(P=>{const O=et(P,V=>Ve(V)?(hf(t,V),!1):V.uriType!=="blob");return _c(t)||_e(O,V=>{y(V.image.src,V.blobInfo.blobUri()),V.image.src=V.blobInfo.blobUri(),V.image.removeAttribute("data-mce-src")}),O}))),N=P=>P.replace(/src="(blob:[^"]+)"/g,(O,V)=>{const G=i.getResultUri(V);if(G)return'src="'+G+'"';let Y=o.getByUri(V);return Y||(Y=fe(t.editorManager.get(),(ae,ee)=>ae||ee.editorUpload&&ee.editorUpload.blobCache.getByUri(V),void 0)),Y?'src="data:'+Y.blob().type+";base64,"+Y.base64()+'"':O});return t.on("SetContent",()=>{ei(t)?k():B()}),t.on("RawSaveContent",P=>{P.content=N(P.content)}),t.on("GetContent",P=>{P.source_view||P.format==="raw"||P.format==="tree"||(P.content=N(P.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",P=>{_e(P,O=>{const V=O.attr("src");if(!V||o.getByUri(V))return;const G=i.getResultUri(V);G&&O.attr("src",G)})})}),{blobCache:o,addFilter:P=>{c.push(P)},uploadImages:v,uploadImagesAuto:k,scanForImages:B,destroy:()=>{o.destroy(),i.destroy(),a=n=null}}},qc={remove_similar:!0,inherit:!1},Qu={selector:"td,th",...qc},rz={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Qu},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Qu},tablecellbordercolor:{styles:{borderColor:"%value"},...Qu},tablecellclass:{classes:["%value"],...Qu},tableclass:{selector:"table",classes:["%value"],...qc},tablecellborderstyle:{styles:{borderStyle:"%value"},...Qu},tablecellborderwidth:{styles:{borderWidth:"%value"},...Qu}},az=Rt(rz),Y1=to.each,Cc=Ar.DOM,X1=t=>$e(t)&&ut(t),SC=(t,o)=>{const n=o&&o.schema||hc({}),a=d=>{const u=Ve(d)?{name:d,classes:[],attrs:{}}:d,f=Cc.create(u.name);return((y,v)=>{v.classes.length>0&&Cc.addClass(y,v.classes.join(" ")),Cc.setAttribs(y,v.attrs)})(f,u),f},i=(d,u,f)=>{let y;const v=u[0],k=X1(v)?v.name:void 0,E=((P,O)=>{const V=n.getElementRule(P.nodeName.toLowerCase()),G=V==null?void 0:V.parentsRequired;return!(!G||!G.length)&&(O&&ao(G,O)?O:G[0])})(d,k);if(E)k===E?(y=v,u=u.slice(1)):y=E;else if(v)y=v,u=u.slice(1);else if(!f)return d;const B=y?a(y):Cc.create("div");B.appendChild(d),f&&to.each(f,P=>{const O=a(P);B.insertBefore(O,d)});const N=X1(y)?y.siblings:void 0;return i(B,u,N)},c=Cc.create("div");if(t.length>0){const d=t[0],u=a(d),f=X1(d)?d.siblings:void 0;c.appendChild(i(u,t.slice(1),f))}return c},P5=t=>{let o="div";const n={name:o,classes:[],attrs:{},selector:t=to.trim(t)};return t!=="*"&&(o=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(a,i,c,d,u)=>{switch(i){case"#":n.attrs.id=c;break;case".":n.classes.push(c);break;case":":to.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(n.attrs[c]=c)}if(d==="["){const f=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);f&&(n.attrs[f[1]]=f[2])}return""})),n.name=o||"div",n},EC=(t,o)=>{let n="",a=dh(t);if(a==="")return"";const i=B=>Ve(B)?B.replace(/%(\w+)/g,""):"",c=(B,N)=>Cc.getStyle(N??t.getBody(),B,!0);if(Ve(o)){const B=t.formatter.get(o);if(!B)return"";o=B[0]}if("preview"in o){const B=o.preview;if(B===!1)return"";a=B||a}let d,u=o.block||o.inline||"span";const f=(y=o.selector,Ve(y)?(y=(y=y.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),to.map(y.split(/(?:>|\s+(?![^\[\]]+\]))/),B=>{const N=to.map(B.split(/(?:~\+|~|\+)/),P5),P=N.pop();return N.length&&(P.siblings=N),P}).reverse()):[]);var y;f.length>0?(f[0].name||(f[0].name=u),u=o.selector,d=SC(f,t)):d=SC([u],t);const v=Cc.select(u,d)[0]||d.firstChild;Y1(o.styles,(B,N)=>{const P=i(B);P&&Cc.setStyle(v,N,P)}),Y1(o.attributes,(B,N)=>{const P=i(B);P&&Cc.setAttrib(v,N,P)}),Y1(o.classes,B=>{const N=i(B);Cc.hasClass(v,N)||Cc.addClass(v,N)}),t.dispatch("PreviewFormats"),Cc.setStyles(d,{position:"absolute",left:-65535}),t.getBody().appendChild(d);const k=c("fontSize"),E=/px$/.test(k)?parseInt(k,10):0;return Y1(a.split(" "),B=>{let N=c(B,v);if(!(B==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(N)&&(N=c(B),Ad(N).toLowerCase()==="#ffffff")||B==="color"&&Ad(N).toLowerCase()==="#000000")){if(B==="font-size"&&/em|%$/.test(N)){if(E===0)return;N=parseFloat(N)/(/%$/.test(N)?100:1)*E+"px"}B==="border"&&N&&(n+="padding:0 2px;"),n+=B+":"+N+";"}}),t.dispatch("AfterPreviewFormats"),Cc.remove(d),n},Fw=t=>{const o=(a=>{const i={},c=(d,u)=>{d&&(Ve(d)?(uo(u)||(u=[u]),_e(u,f=>{bo(f.deep)&&(f.deep=!Pd(f)),bo(f.split)&&(f.split=!Pd(f)||$i(f)),bo(f.remove)&&Pd(f)&&!$i(f)&&(f.remove="none"),Pd(f)&&$i(f)&&(f.mixed=!0,f.block_expand=!0),Ve(f.classes)&&(f.classes=f.classes.split(/\s+/))}),i[d]=u):zt(d,(f,y)=>{c(y,f)}))};return c((d=>{const u=d.dom,f=d.schema.type,y={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:v=>{u.setStyle(v,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:v=>{u.setStyle(v,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const v={inline:"span",styles:{textDecoration:"line-through"},exact:!0},k={inline:"strike",remove:"all",preserve_attributes:["class","style"]},E={inline:"s",remove:"all",preserve_attributes:["class","style"]};return f!=="html4"?[E,v,k]:[v,E,k]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(v,k,E)=>bn(v)&&v.hasAttribute("href"),onformat:(v,k,E)=>{to.each(E,(B,N)=>{u.setAttrib(v,N,B)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":v=>{var k;return(k=v==null?void 0:v.customValue)!==null&&k!==void 0?k:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return to.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),v=>{y[v]={block:v,remove:"all"}}),y})(a)),c(az()),c(Qv(a)),{get:d=>$e(d)?i[d]:i,has:d=>jo(i,d),register:c,unregister:d=>(d&&i[d]&&delete i[d],i)}})(t),n=as({});return(a=>{a.addShortcut("meta+b","","Bold"),a.addShortcut("meta+i","","Italic"),a.addShortcut("meta+u","","Underline");for(let i=1;i<=6;i++)a.addShortcut("access+"+i,"",["FormatBlock",!1,"h"+i]);a.addShortcut("access+7","",["FormatBlock",!1,"p"]),a.addShortcut("access+8","",["FormatBlock",!1,"div"]),a.addShortcut("access+9","",["FormatBlock",!1,"address"])})(t),(a=>{a.on("mouseup keydown",i=>{var c;((d,u,f)=>{const y=d.selection,v=d.getBody();I2(d,null,f),u!==8&&u!==46||!y.isCollapsed()||y.getStart().innerHTML!==hy||I2(d,Bo(v,y.getStart()),!0),u!==37&&u!==39||I2(d,Bo(v,y.getStart()),!0)})(a,i.keyCode,(c=a.selection.getRng().endContainer,vo(c)&&Se(c.data,ms)))})})(t),_c(t)||((a,i)=>{a.set({}),i.on("NodeChange",c=>{X2(i,c.element,a.get())}),i.on("FormatApply FormatRemove",c=>{const d=F.from(c.node).map(u=>Yp(u)?u:u.startContainer).bind(u=>bn(u)?F.some(u):F.from(u.parentElement)).getOrThunk(()=>Y2(i));X2(i,d,a.get())})})(n,t),{get:o.get,has:o.has,register:o.register,unregister:o.unregister,apply:(a,i,c)=>{((d,u,f,y)=>{Ui(d).formatter.apply(u,f,y)})(t,a,i,c)},remove:(a,i,c,d)=>{((u,f,y,v,k)=>{Ui(u).formatter.remove(f,y,v,k)})(t,a,i,c,d)},toggle:(a,i,c)=>{((d,u,f,y)=>{Ui(d).formatter.toggle(u,f,y)})(t,a,i,c)},match:(a,i,c,d)=>((u,f,y,v,k)=>Ui(u).formatter.match(f,y,v,k))(t,a,i,c,d),closest:a=>((i,c)=>Ui(i).formatter.closest(c))(t,a),matchAll:(a,i)=>((c,d,u)=>Ui(c).formatter.matchAll(d,u))(t,a,i),matchNode:(a,i,c,d)=>((u,f,y,v,k)=>Ui(u).formatter.matchNode(f,y,v,k))(t,a,i,c,d),canApply:a=>((i,c)=>Ui(i).formatter.canApply(c))(t,a),formatChanged:(a,i,c,d)=>((u,f,y,v,k,E)=>Ui(u).formatter.formatChanged(f,y,v,k,E))(t,n,a,i,c,d),getCssText:Je(EC,t)}},sz=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Om=t=>{const o=cl(),n=as(0),a=as(0),i={data:[],typing:!1,beforeChange:()=>{((c,d,u)=>{Ui(c).undoManager.beforeChange(d,u)})(t,n,o)},add:(c,d)=>((u,f,y,v,k,E,B)=>Ui(u).undoManager.add(f,y,v,k,E,B))(t,i,a,n,o,c,d),dispatchChange:()=>{t.setDirty(!0);const c=zw(t);c.bookmark=$u(t.selection),t.dispatch("change",{level:c,lastLevel:tt(i.data,a.get()).getOrUndefined()})},undo:()=>((c,d,u,f)=>Ui(c).undoManager.undo(d,u,f))(t,i,n,a),redo:()=>((c,d,u)=>Ui(c).undoManager.redo(d,u))(t,a,i.data),clear:()=>{((c,d,u)=>{Ui(c).undoManager.clear(d,u)})(t,i,a)},reset:()=>{((c,d)=>{Ui(c).undoManager.reset(d)})(t,i)},hasUndo:()=>((c,d,u)=>Ui(c).undoManager.hasUndo(d,u))(t,i,a),hasRedo:()=>((c,d,u)=>Ui(c).undoManager.hasRedo(d,u))(t,i,a),transact:c=>((d,u,f,y)=>Ui(d).undoManager.transact(u,f,y))(t,i,n,c),ignore:c=>{((d,u,f)=>{Ui(d).undoManager.ignore(u,f)})(t,n,c)},extra:(c,d)=>{((u,f,y,v,k)=>{Ui(u).undoManager.extra(f,y,v,k)})(t,i,a,c,d)}};return _c(t)||((c,d,u)=>{const f=as(!1),y=v=>{P1(d,!1,u),d.add({},v)};c.on("init",()=>{d.add()}),c.on("BeforeExecCommand",v=>{const k=v.command;sz(k)||(H1(d,u),d.beforeChange())}),c.on("ExecCommand",v=>{const k=v.command;sz(k)||y(v)}),c.on("ObjectResizeStart cut",()=>{d.beforeChange()}),c.on("SaveContent ObjectResized blur",y),c.on("dragend",y),c.on("keyup",v=>{const k=v.keyCode;if(v.isDefaultPrevented())return;const E=Xn.os.isMacOS()&&v.key==="Meta";(k>=33&&k<=36||k>=37&&k<=40||k===45||v.ctrlKey||E)&&(y(),c.nodeChanged()),k!==46&&k!==8||c.nodeChanged(),f.get()&&d.typing&&!Tw(zw(c),d.data[0])&&(c.isDirty()||c.setDirty(!0),c.dispatch("TypingUndo"),f.set(!1),c.nodeChanged())}),c.on("keydown",v=>{const k=v.keyCode;if(v.isDefaultPrevented())return;if(k>=33&&k<=36||k>=37&&k<=40||k===45)return void(d.typing&&y(v));const E=v.ctrlKey&&!v.altKey||v.metaKey;if((k<16||k>20)&&k!==224&&k!==91&&!d.typing&&!E)return d.beforeChange(),P1(d,!0,u),d.add({},v),void f.set(!0);(Xn.os.isMacOS()?v.metaKey:v.ctrlKey&&!v.altKey)&&d.beforeChange()}),c.on("mousedown",v=>{d.typing&&y(v)}),c.on("input",v=>{var k;v.inputType&&(v.inputType==="insertReplacementText"||(k=v).inputType==="insertText"&&k.data===null||(E=>E.inputType==="insertFromPaste"||E.inputType==="insertFromDrop")(v))&&y(v)}),c.on("AddUndo Undo Redo ClearUndos",v=>{v.isDefaultPrevented()||c.nodeChanged()})})(t,i,n),(c=>{c.addShortcut("meta+z","","Undo"),c.addShortcut("meta+y,meta+shift+z","","Redo")})(t),i},zC=[9,27,hn.HOME,hn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,hn.DOWN,hn.UP,hn.LEFT,hn.RIGHT].concat(Xn.browser.isFirefox()?[224]:[]),J1="data-mce-placeholder",Lw=t=>t.type==="keydown"||t.type==="keyup",TC=t=>{const o=t.keyCode;return o===hn.BACKSPACE||o===hn.DELETE},iz=(t,o)=>({from:t,to:o}),Iw=(t,o)=>{const n=Ze(t),a=Ze(o.container());return x1(n,a).map(i=>((c,d)=>({block:c,position:d}))(i,o))},lz=(t,o)=>Bl(o,n=>Lg(n)||_a(n.dom),n=>Wr(n,t)).filter(Q).getOr(t),cz=(t,o)=>{const n=((a,i)=>{const c=Fr(a);return he(c,d=>i.isBlock(ur(d))).fold(Rt(c),d=>c.slice(0,d))})(t,o);return _e(n,ca),n},AC=(t,o,n)=>{const a=gr(n,o);return ke(a.reverse(),i=>Qs(t,i)).each(ca)},dz=(t,o,n,a,i)=>{if(Qs(a,n))return Hu(n),Zt(n.dom);((d,u)=>et(zn(u),f=>!Qs(d,f)).length===0)(a,i)&&Qs(a,o)&&Ai(i,Is("br"));const c=Xt(n.dom,Ut.before(i.dom));return _e(cz(o,a),d=>{Ai(i,d)}),AC(a,t,o),c},OC=(t,o,n,a)=>{if(Qs(a,n)){if(Qs(a,o)){const c=u=>{const f=(y,v)=>ua(y).fold(()=>v,k=>((E,B)=>E.isInline(ur(B)))(a,k)?f(k,v.concat(bc(k))):v);return f(u,[])},d=ye(c(n),(u,f)=>(vs(u,f),f),Gm());Nc(o),us(o,d)}return ca(n),Zt(o.dom)}const i=Ge(n.dom);return _e(cz(o,a),c=>{us(n,c)}),AC(a,t,o),i},Pw=(t,o)=>{xt(t,o.dom).bind(n=>F.from(n.getNode())).map(Ze).filter(Od).each(ca)},NC=(t,o,n,a)=>(Pw(!0,o),Pw(!1,n),((i,c)=>ci(c,i)?((d,u)=>{const f=gr(u,d);return F.from(f[f.length-1])})(c,i):F.none())(o,n).fold(Je(OC,t,o,n,a),Je(dz,t,o,n,a))),Hw=(t,o,n,a,i)=>o?NC(t,a,n,i):NC(t,n,a,i),jw=(t,o)=>{const n=Ze(t.getBody());return((i,c,d,u)=>u.collapsed?((f,y,v,k)=>{const E=Iw(y,Ut.fromRangeStart(k)),B=E.bind(N=>Oe(v,y,N.position).bind(P=>Iw(y,P).map(O=>((V,G,Y,ae)=>fa(ae.position.getNode())&&!Qs(V,ae.block)?xt(!1,ae.block.dom).bind(ee=>ee.isEqual(ae.position)?Oe(Y,G,ee).bind(we=>Iw(G,we)):F.some(ae)).getOr(ae):ae)(f,y,v,O))));return qn(E,B,iz).filter(N=>(P=>!Wr(P.from.block,P.to.block))(N)&&((P,O)=>{const V=Ze(P);return Wr(lz(V,O.from.block),lz(V,O.to.block))})(y,N)&&(P=>Kr(P.from.block.dom)===!1&&Kr(P.to.block.dom)===!1)(N)&&(P=>{const O=V=>zp(V)||cr(V.dom)||yc(V);return O(P.from.block)&&O(P.to.block)})(N)&&(P=>!(ci(P.to.block,P.from.block)||ci(P.from.block,P.to.block)))(N))})(i,c,d,u):F.none())(t.schema,n.dom,o,t.selection.getRng()).map(i=>()=>{Hw(n,o,i.from.block,i.to.block,t.schema).each(c=>{t.selection.setRng(c.toRange())})})},MC=(t,o)=>{const n=Ze(o),a=Je(Wr,t);return Ia(n,Lg,a).isSome()},DC=t=>{const o=Ze(t.getBody());return((n,a)=>{const i=Xt(n.dom,Ut.fromRangeStart(a)).isNone(),c=Gt(n.dom,Ut.fromRangeEnd(a)).isNone();return!((d,u)=>MC(d,u.startContainer)||MC(d,u.endContainer))(n,a)&&i&&c})(o,t.selection.getRng())?(n=>F.some(()=>{n.setContent(""),n.selection.setCursorLocation()}))(t):((n,a,i)=>{const c=a.getRng();return qn(x1(n,Ze(c.startContainer)),x1(n,Ze(c.endContainer)),(d,u)=>Wr(d,u)?F.none():F.some(()=>{c.deleteContents(),Hw(n,!0,d,u,i).each(f=>{a.setRng(f.toRange())})})).getOr(F.none())})(o,t.selection,t.schema)},Vw=(t,o)=>t.selection.isCollapsed()?F.none():DC(t),bg=(t,o,n,a,i)=>F.from(o._selectionOverrides.showCaret(t,n,a,i)),My=(t,o)=>t.dispatch("BeforeObjectSelected",{target:o}).isDefaultPrevented()?F.none():F.some((n=>{const a=n.ownerDocument.createRange();return a.selectNode(n),a})(o)),Q1=(t,o,n)=>o.collapsed?((a,i,c)=>{const d=ey(1,a.getBody(),i),u=Ut.fromRangeStart(d),f=u.getNode();if(Gg(f))return bg(1,a,f,!u.isAtEnd(),!1);const y=u.getNode(!0);if(Gg(y))return bg(1,a,y,!1,!1);const v=cf(a.dom.getRoot(),u.getNode());return Gg(v)?bg(1,a,v,!1,c):F.none()})(t,o,n).getOr(o):o,H5=t=>nf(t)||op(t),$w=t=>np(t)||ly(t),RC=(t,o,n,a,i,c)=>{bg(a,t,c.getNode(!i),i,!0).each(d=>{if(o.collapsed){const u=o.cloneRange();i?u.setEnd(d.startContainer,d.startOffset):u.setStart(d.endContainer,d.endOffset),u.deleteContents()}else o.deleteContents();t.selection.setRng(d)}),((d,u)=>{vo(u)&&u.data.length===0&&d.remove(u)})(t.dom,n)},Uw=(t,o)=>((n,a)=>{const i=n.selection.getRng();if(!vo(i.commonAncestorContainer))return F.none();const c=a?Qi.Forwards:Qi.Backwards,d=ce(n.getBody()),u=Je(ty,a?d.next:d.prev),f=a?H5:$w,y=Gp(c,n.getBody(),i),v=u(y),k=v&&gd(a,v);if(!k||!Kp(y,k))return F.none();if(f(k))return F.some(()=>RC(n,i,y.getNode(),c,a,k));const E=u(k);return E&&f(E)&&Kp(k,E)?F.some(()=>RC(n,i,y.getNode(),c,a,E)):F.none()})(t,o),BC=(t,o)=>{const n=t.getBody();return o?Zt(n).filter(nf):Ge(n).filter(np)},FC=t=>{const o=t.selection.getRng();return!o.collapsed&&(BC(t,!0).exists(n=>n.isEqual(Ut.fromRangeStart(o)))||BC(t,!1).exists(n=>n.isEqual(Ut.fromRangeEnd(o))))},Zd=Dd([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),uz=(t,o,n,a)=>Oe(o,t,n).bind(i=>{return c=i.getNode(),$e(c)&&(Lg(Ze(c))||yc(Ze(c)))||((d,u,f,y,v)=>{const k=E=>v.isInline(E.nodeName.toLowerCase())&&!Fd(f,y,d);return Y0(!u,f).fold(()=>Y0(u,y).fold(So,k),k)})(t,o,n,i,a)?F.none():o&&Kr(i.getNode())||!o&&Kr(i.getNode(!0))?((d,u,f,y,v)=>{const k=v.getNode(!f);return x1(Ze(u),Ze(y.getNode())).map(E=>Qs(d,E)?Zd.remove(E.dom):Zd.moveToElement(k)).orThunk(()=>F.some(Zd.moveToElement(k)))})(a,t,o,n,i):o&&np(n)||!o&&nf(n)?F.some(Zd.moveToPosition(i)):F.none();var c}),LC=(t,o)=>F.from(cf(t.getBody(),o)),j5=(t,o)=>{const n=t.selection.getNode();return LC(t,n).filter(Kr).fold(()=>((a,i,c,d)=>{const u=ey(i?1:-1,a,c),f=Ut.fromRangeStart(u),y=Ze(a);return!i&&np(f)?F.some(Zd.remove(f.getNode(!0))):i&&nf(f)?F.some(Zd.remove(f.getNode())):!i&&nf(f)&&Zx(y,f,d)?$3(y,f,d).map(v=>Zd.remove(v.getNode())):i&&np(f)&&i2(y,f,d)?l2(y,f,d).map(v=>Zd.remove(v.getNode())):((v,k,E,B)=>((N,P)=>{const O=P.getNode(!N),V=N?"after":"before";return bn(O)&&O.getAttribute("data-mce-caret")===V})(k,E)?((N,P)=>ue(P)?F.none():N&&Kr(P.nextSibling)?F.some(Zd.moveToElement(P.nextSibling)):!N&&Kr(P.previousSibling)?F.some(Zd.moveToElement(P.previousSibling)):F.none())(k,E.getNode(!k)).orThunk(()=>uz(v,k,E,B)):uz(v,k,E,B).bind(N=>((P,O,V)=>V.fold(G=>F.some(Zd.remove(G)),G=>F.some(Zd.moveToElement(G)),G=>Fd(O,G,P)?F.none():F.some(Zd.moveToPosition(G))))(v,E,N)))(a,i,f,d)})(t.getBody(),o,t.selection.getRng(),t.schema).map(a=>()=>a.fold(((i,c)=>d=>(i._selectionOverrides.hideFakeCaret(),sf(i,c,Ze(d)),!0))(t,o),((i,c)=>d=>{const u=c?Ut.before(d):Ut.after(d);return i.selection.setRng(u.toRange()),!0})(t,o),(i=>c=>(i.selection.setRng(c.toRange()),!0))(t))),()=>F.some(go))},mz=t=>{const o=t.dom,n=t.selection,a=cf(t.getBody(),n.getNode());if(_a(a)&&o.isBlock(a)&&o.isEmpty(a)){const i=o.create("br",{"data-mce-bogus":"1"});o.setHTML(a,""),a.appendChild(i),n.setRng(Ut.before(i).toRange())}return!0},IC=(t,o)=>t.selection.isCollapsed()?j5(t,o):((n,a)=>{const i=n.selection.getNode();return Kr(i)&&!pc(i)?LC(n,i.parentNode).filter(Kr).fold(()=>F.some(()=>{var c;c=Ze(n.getBody()),_e(Ss(c,".mce-offscreen-selection"),ca),sf(n,a,Ze(n.selection.getNode())),lf(n)}),()=>F.some(go)):FC(n)?F.some(()=>{X3(n,n.selection.getRng(),Ze(n.getBody()))}):F.none()})(t,o),Ys=t=>t.hasOwnProperty("text"),Zw=t=>t.hasOwnProperty("marker"),gz=(t,o)=>{const n=(i,c)=>{if(vo(i))return{text:i,offset:c};{const d=o(),u=i.childNodes;return c<u.length?(i.insertBefore(d,u[c]),{marker:d,before:!0}):(i.appendChild(d),{marker:d,before:!1})}},a=n(t.endContainer,t.endOffset);return{start:n(t.startContainer,t.startOffset),end:a}},pz=t=>{var o,n;const{start:a,end:i}=t,c=new window.Range;return Ys(a)?c.setStart(a.text,a.offset):Zw(a)&&(a.before?c.setStartBefore(a.marker):c.setStartAfter(a.marker),(o=a.marker.parentNode)===null||o===void 0||o.removeChild(a.marker)),Ys(i)?c.setEnd(i.text,i.offset):Zw(i)&&(i.before?c.setEndBefore(i.marker):c.setEndAfter(i.marker),(n=i.marker.parentNode)===null||n===void 0||n.removeChild(i.marker)),c},yf=(t,o)=>{var n;const a=t.dom,i=a.getParent(t.selection.getStart(),a.isBlock),c=a.getParent(t.selection.getEnd(),a.isBlock),d=t.getBody();if(((n=i==null?void 0:i.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&i&&c&&i===d.firstChild&&c===d.lastChild&&!a.isEmpty(d)){const u=i.cloneNode(!1),f=()=>{if(o?f2(t):v1(t),d.firstChild!==i){const y=gz(t.selection.getRng(),()=>document.createElement("span"));Array.from(d.childNodes).forEach(v=>u.appendChild(v)),d.appendChild(u),t.selection.setRng(pz(y))}};return F.some(f)}return F.none()},yg=(t,o)=>t.selection.isCollapsed()?((n,a)=>{const i=Ut.fromRangeStart(n.selection.getRng());return Oe(a,n.getBody(),i).filter(c=>a?v5(c):Jn(c)).bind(c=>Wp(a?0:-1,c)).map(c=>()=>n.selection.select(c))})(t,o):F.none(),qd=vo,PC=t=>qd(t)&&t.data[0]===Fi,HC=t=>qd(t)&&t.data[t.data.length-1]===Fi,jC=t=>{var o;return((o=t.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Fi)},Kh=(t,o)=>t?(n=>{var a;if(qd(n.previousSibling))return HC(n.previousSibling)||n.previousSibling.appendData(Fi),n.previousSibling;if(qd(n))return PC(n)||n.insertData(0,Fi),n;{const i=jC(n);return(a=n.parentNode)===null||a===void 0||a.insertBefore(i,n),i}})(o):(n=>{var a,i;if(qd(n.nextSibling))return PC(n.nextSibling)||n.nextSibling.insertData(0,Fi),n.nextSibling;if(qd(n))return HC(n)||n.appendData(Fi),n;{const c=jC(n);return n.nextSibling?(a=n.parentNode)===null||a===void 0||a.insertBefore(c,n.nextSibling):(i=n.parentNode)===null||i===void 0||i.appendChild(c),c}})(o),V5=Je(Kh,!0),VC=Je(Kh,!1),$C=(t,o)=>vo(t.container())?Kh(o,t.container()):Kh(o,t.getNode()),UC=(t,o)=>{const n=o.get();return n&&t.container()===n&&jc(n)},ev=(t,o)=>o.fold(n=>{sg(t.get());const a=V5(n);return t.set(a),F.some(Ut(a,a.length-1))},n=>Zt(n).map(a=>{if(UC(a,t)){const i=t.get();return Ut(i,1)}{sg(t.get());const i=$C(a,!0);return t.set(i),Ut(i,1)}}),n=>Ge(n).map(a=>{if(UC(a,t)){const i=t.get();return Ut(i,i.length-1)}{sg(t.get());const i=$C(a,!1);return t.set(i),Ut(i,i.length-1)}}),n=>{sg(t.get());const a=VC(n);return t.set(a),F.some(Ut(a,1))}),ZC=(t,o)=>{for(let n=0;n<t.length;n++){const a=t[n].apply(null,o);if(a.isSome())return a}return F.none()},Jl=Dd([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),fz=(t,o)=>Pl(o,t)||t,$5=(t,o,n)=>{const a=y1(n),i=fz(o,a.container());return ug(t,i,a).fold(()=>Gt(i,a).bind(Je(ug,t,i)).map(c=>Jl.before(c)),F.none)},Wd=(t,o)=>Bo(t,o)===null,qC=(t,o,n)=>ug(t,o,n).filter(Je(Wd,o)),U5=(t,o,n)=>{const a=Kx(n);return qC(t,o,a).bind(i=>Xt(i,a).isNone()?F.some(Jl.start(i)):F.none())},Z5=(t,o,n)=>{const a=y1(n);return qC(t,o,a).bind(i=>Gt(i,a).isNone()?F.some(Jl.end(i)):F.none())},qw=(t,o,n)=>{const a=Kx(n),i=fz(o,a.container());return ug(t,i,a).fold(()=>Xt(i,a).bind(Je(ug,t,i)).map(c=>Jl.after(c)),F.none)},hz=t=>!Gx(Ww(t)),vg=(t,o,n)=>ZC([$5,U5,Z5,qw],[t,o,n]).filter(hz),Ww=t=>t.fold(D,D,D,D),Gw=t=>t.fold(Rt("before"),Rt("start"),Rt("end"),Rt("after")),Kw=t=>t.fold(Jl.before,Jl.before,Jl.after,Jl.after),WC=t=>t.fold(Jl.start,Jl.start,Jl.end,Jl.end),tv=(t,o,n,a,i,c)=>qn(ug(o,n,a),ug(o,n,i),(d,u)=>d!==u&&((f,y,v)=>{const k=Pl(y,f),E=Pl(v,f);return $e(k)&&k===E})(n,d,u)?Jl.after(t?d:u):c).getOr(c),bz=(t,o)=>t.fold(Dt,n=>{return i=o,!(Gw(a=n)===Gw(i)&&Ww(a)===Ww(i));var a,i}),yz=(t,o)=>t?o.fold(Ho(F.some,Jl.start),F.none,Ho(F.some,Jl.after),F.none):o.fold(F.none,Ho(F.some,Jl.before),F.none,Ho(F.some,Jl.end)),vz=(t,o,n)=>{const a=t?1:-1;return o.setRng(Ut(n.container(),n.offset()+a).toRange()),o.getSel().modify("move",t?"forward":"backward","word"),!0};var Nm;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(Nm||(Nm={}));const vf=(t,o)=>t===Qi.Backwards?We(o):o,xz=(t,o,n)=>t===Qi.Forwards?o.next(n):o.prev(n),wz=(t,o,n,a)=>fa(a.getNode(o===Qi.Forwards))?Nm.Br:Fd(n,a)===!1?Nm.Block:Nm.Wrap,GC=(t,o,n,a)=>{const i=ce(n);let c=a;const d=[];for(;c;){const u=xz(o,i,c);if(!u)break;if(fa(u.getNode(!1)))return o===Qi.Forwards?{positions:vf(o,d).concat([u]),breakType:Nm.Br,breakAt:F.some(u)}:{positions:vf(o,d),breakType:Nm.Br,breakAt:F.some(u)};if(u.isVisible()){if(t(c,u)){const f=wz(0,o,c,u);return{positions:vf(o,d),breakType:f,breakAt:F.some(u)}}d.push(u),c=u}else c=u}return{positions:vf(o,d),breakType:Nm.Eol,breakAt:F.none()}},kz=(t,o,n,a)=>o(n,a).breakAt.map(i=>{const c=o(n,i).positions;return t===Qi.Backwards?c.concat(i):[i].concat(c)}).getOr([]),ku=(t,o)=>fe(t,(n,a)=>n.fold(()=>F.some(a),i=>qn(vt(i.getClientRects()),vt(a.getClientRects()),(c,d)=>{const u=Math.abs(o-c.left);return Math.abs(o-d.left)<=u?a:i}).or(n)),F.none()),Dy=(t,o)=>vt(o.getClientRects()).bind(n=>ku(t,n.left)),ov=Je(GC,Ut.isAbove,-1),nv=Je(GC,Ut.isBelow,1),va=Je(kz,-1,ov),_z=Je(kz,1,nv),Ry=(t,o)=>ov(t,o).breakAt.isNone(),Cz=(t,o)=>nv(t,o).breakAt.isNone(),Sz=(t,o)=>Dy(va(t,o),o),xf=(t,o)=>Dy(_z(t,o),o),Wc=Kr,By=(t,o)=>Math.abs(t.left-o),lp=(t,o)=>Math.abs(t.right-o),Mm=(t,o)=>Fs(t,(n,a)=>{const i=Math.min(By(n,o),lp(n,o)),c=Math.min(By(a,o),lp(a,o));return c===i&&$r(a,"node")&&Wc(a.node)||c<i?a:n}),rv=t=>{const o=n=>No(n,a=>{const i=ld(a);return i.node=t,i});if(bn(t))return o(t.getClientRects());if(vo(t)){const n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),o(n.getClientRects())}return[]},Yw=t=>at(t,rv);var Yh;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(Yh||(Yh={}));const KC=(t,o,n,a,i,c)=>{let d=0;const u=[],f=k=>{let E=Yw([k]);t===-1&&(E=E.reverse());for(let B=0;B<E.length;B++){const N=E[B];if(!n(N,y)){if(u.length>0&&o(N,nt(u))&&d++,N.line=d,i(N))return!0;u.push(N)}}return!1},y=nt(c.getClientRects());if(!y)return u;const v=c.getNode();return v&&(f(v),((k,E,B,N)=>{let P=N;for(;P=km(P,k,Eb,E);)if(B(P))return})(t,a,f,v)),u},Ez=Je(KC,Yh.Up,El,gu),q5=Je(KC,Yh.Down,gu,El),zz=t=>nt(t.getClientRects()),YC=t=>o=>((n,a)=>a.line>n)(t,o),Xw=t=>o=>((n,a)=>a.line===n)(t,o),xg=(t,o)=>{t.selection.setRng(o),i1(t,t.selection.getRng())},Jw=(t,o,n)=>F.some(Q1(t,o,n)),Qw=(t,o,n,a,i,c)=>{const d=o===Qi.Forwards,u=ce(t.getBody()),f=Je(ty,d?u.next:u.prev),y=d?a:i;if(!n.collapsed){const N=Ha(n);if(c(N))return bg(o,t,N,o===Qi.Backwards,!1);if(FC(t)){const P=n.cloneRange();return P.collapse(o===Qi.Backwards),F.from(P)}}const v=Gp(o,t.getBody(),n);if(y(v))return My(t,v.getNode(!d));let k=f(v);const E=v0(n);if(!k)return E?F.some(n):F.none();if(k=gd(d,k),y(k))return bg(o,t,k.getNode(!d),d,!1);const B=f(k);return B&&y(B)&&Kp(k,B)?bg(o,t,B.getNode(!d),d,!1):E?Jw(t,k.toRange(),!1):F.none()},Tz=(t,o,n,a,i,c)=>{const d=Gp(o,t.getBody(),n),u=nt(d.getClientRects()),f=o===Yh.Down,y=t.getBody();if(!u)return F.none();if(FC(t)){const P=f?Ut.fromRangeEnd(n):Ut.fromRangeStart(n);return(f?xf:Sz)(y,P).orThunk(()=>F.from(P)).map(O=>O.toRange())}const v=(f?q5:Ez)(y,YC(1),d),k=et(v,Xw(1)),E=u.left,B=Mm(k,E);if(B&&c(B.node)){const P=Math.abs(E-B.left),O=Math.abs(E-B.right);return bg(o,t,B.node,P<O,!1)}let N;if(N=a(d)?d.getNode():i(d)?d.getNode(!0):Ha(n),N){const P=((V,G,Y,ae)=>{const ee=ce(G);let we,je,Pe,rt;const Mt=[];let Fe=0;V===1?(we=ee.next,je=gu,Pe=El,rt=Ut.after(ae)):(we=ee.prev,je=El,Pe=gu,rt=Ut.before(ae));const Ue=zz(rt);do{if(!rt.isVisible())continue;const ot=zz(rt);if(Pe(ot,Ue))continue;Mt.length>0&&je(ot,nt(Mt))&&Fe++;const Qt=ld(ot);if(Qt.position=rt,Qt.line=Fe,Y(Qt))return Mt;Mt.push(Qt)}while(rt=we(rt));return Mt})(o,y,YC(1),N);let O=Mm(et(P,Xw(1)),E);if(O||(O=nt(et(P,Xw(0))),O))return Jw(t,O.position.toRange(),!1)}return k.length===0?XC(t,f).filter(f?i:a).map(P=>Q1(t,P.toRange(),!1)):F.none()},XC=(t,o)=>{const n=t.selection.getRng(),a=o?Ut.fromRangeEnd(n):Ut.fromRangeStart(n),i=(c=a.container(),d=t.getBody(),Ia(Ze(c),u=>Bd(u.dom),u=>u.dom===d).map(u=>u.dom).getOr(d));var c,d;if(o){const u=nv(i,a);return _o(u.positions)}{const u=ov(i,a);return vt(u.positions)}},Az=(t,o,n)=>XC(t,o).filter(n).exists(a=>(t.selection.setRng(a.toRange()),!0)),_u=(t,o)=>{const n=t.dom.createRng();n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),t.selection.setRng(n)},Fy=(t,o)=>{t?o.setAttribute("data-mce-selected","inline-boundary"):o.removeAttribute("data-mce-selected")},JC=(t,o,n)=>ev(o,n).map(a=>(_u(t,a),n)),Oz=(t,o,n)=>{const a=t.getBody(),i=((c,d,u)=>{const f=Ut.fromRangeStart(c);if(c.collapsed)return f;{const y=Ut.fromRangeEnd(c);return u?Xt(d,y).getOr(y):Gt(d,f).getOr(f)}})(t.selection.getRng(),a,n);return((c,d,u,f)=>{const y=gd(c,f),v=vg(d,u,y);return vg(d,u,y).bind(Je(yz,c)).orThunk(()=>((k,E,B,N,P)=>{const O=gd(k,P);return Oe(k,B,O).map(Je(gd,k)).fold(()=>N.map(Kw),V=>vg(E,B,V).map(Je(tv,k,E,B,O,V)).filter(Je(bz,N))).filter(hz)})(c,d,u,v,f))})(n,Je(rp,t),a,i).bind(c=>JC(t,o,c))},QC=(t,o,n)=>!!vm(t)&&Oz(t,o,n).isSome(),Nz=(t,o,n)=>!!vm(o)&&((a,i)=>{const c=i.selection.getRng(),d=a?Ut.fromRangeEnd(c):Ut.fromRangeStart(c);return!!(u=>ge(u.selection.getSel().modify))(i)&&(a&&Tp(d)?vz(!0,i.selection,d):!(a||!Cb(d))&&vz(!1,i.selection,d))})(t,o),wf=t=>{const o=as(null),n=Je(rp,t);return t.on("NodeChange",a=>{vm(t)&&(((i,c,d)=>{const u=No(Ss(Ze(c.getRoot()),'*[data-mce-selected="inline-boundary"]'),v=>v.dom),f=et(u,i),y=et(d,i);_e(dt(f,y),Je(Fy,!1)),_e(dt(y,f),Je(Fy,!0))})(n,t.dom,a.parents),((i,c)=>{const d=c.get();if(i.selection.isCollapsed()&&!i.composing&&d){const u=Ut.fromRangeStart(i.selection.getRng());Ut.isTextPosition(u)&&!(f=>Tp(f)||Cb(f))(u)&&(_u(i,cx(d,u)),c.set(null))}})(t,o),((i,c,d,u)=>{if(c.selection.isCollapsed()){const f=et(u,i);_e(f,y=>{const v=Ut.fromRangeStart(c.selection.getRng());vg(i,c.getBody(),v).bind(k=>JC(c,d,k))})}})(n,t,o,a.parents))}),o},W5=Je(Nz,!0),G5=Je(Nz,!1),ek=(t,o,n)=>{if(vm(t)){const a=XC(t,o).getOrThunk(()=>{const i=t.selection.getRng();return o?Ut.fromRangeEnd(i):Ut.fromRangeStart(i)});return vg(Je(rp,t),t.getBody(),a).exists(i=>{const c=Kw(i);return ev(n,c).exists(d=>(_u(t,d),!0))})}return!1},Mz=(t,o)=>n=>ev(o,n).map(a=>()=>_u(t,a)),Dz=(t,o,n,a)=>{const i=t.getBody(),c=Je(rp,t);t.undoManager.ignore(()=>{t.selection.setRng(((d,u)=>{const f=document.createRange();return f.setStart(d.container(),d.offset()),f.setEnd(u.container(),u.offset()),f})(n,a)),v1(t),vg(c,i,Ut.fromRangeStart(t.selection.getRng())).map(WC).bind(Mz(t,o)).each($t)}),t.nodeChanged()},eS=(t,o,n)=>{if(t.selection.isCollapsed()&&vm(t)){const a=Ut.fromRangeStart(t.selection.getRng());return((i,c,d,u)=>{const f=((k,E)=>Pl(E,k)||k)(i.getBody(),u.container()),y=Je(rp,i),v=vg(y,f,u);return v.bind(k=>d?k.fold(Rt(F.some(WC(k))),F.none,Rt(F.some(Kw(k))),F.none):k.fold(F.none,Rt(F.some(Kw(k))),F.none,Rt(F.some(WC(k))))).map(Mz(i,c)).getOrThunk(()=>{const k=He(d,f,u),E=k.bind(B=>vg(y,f,B));return qn(v,E,()=>ug(y,f,u).bind(B=>(N=>qn(Zt(N),Ge(N),(P,O)=>{const V=gd(!0,P),G=gd(!1,O);return Gt(N,V).forall(Y=>Y.isEqual(G))}).getOr(!0))(B)?F.some(()=>{sf(i,d,Ze(B))}):F.none())).getOrThunk(()=>E.bind(()=>k.map(B=>()=>{d?Dz(i,c,u,B):Dz(i,c,B,u)})))})})(t,o,n,a)}return F.none()},Rz=(t,o)=>{const n=Ze(t.getBody()),a=Ze(t.selection.getStart()),i=gr(a,n);return he(i,o).fold(Rt(i),c=>i.slice(0,c))},K5=t=>Ds(t)===1,Bz=(t,o)=>{const n=Je(by,t);return at(o,a=>n(a)?[a.dom]:[])},av=t=>{const o=(n=>Rz(n,a=>n.schema.isBlock(ur(a))))(t);return Bz(t,o)},Y5=(t,o)=>{const n=et((a=>Rz(a,i=>a.schema.isBlock(ur(i))||(c=>Ds(c)>1)(i)))(t),K5);return _o(n).bind(a=>{const i=Ut.fromRangeStart(t.selection.getRng());return h2(o,i,a.dom)&&!t1(a)?F.some(()=>((c,d,u,f)=>{const y=Bz(d,f);if(y.length===0)sf(d,c,u);else{const v=j2(u.dom,y);d.selection.setRng(v.toRange())}})(o,t,a,n)):F.none()})},Ly=(t,o)=>{const n=t.selection.getStart(),a=((i,c)=>{const d=c.parentElement;return fa(c)&&!Ae(d)&&i.dom.isEmpty(d)})(t,n)||t1(Ze(n))?j2(n,o):((i,c)=>{const{caretContainer:d,caretPosition:u}=C1(c);return i.insertNode(d.dom),u})(t.selection.getRng(),o);t.selection.setRng(a.toRange())},tk=t=>vo(t.startContainer),Xh=t=>{const o=t.selection.getRng();return(n=>n.startOffset===0&&tk(n))(o)&&((n,a)=>{const i=a.startContainer.parentElement;return!Ae(i)&&by(n,Ze(i))})(t,o)&&(n=>(a=>(i=>{const c=i.startContainer.parentNode,d=i.endContainer.parentNode;return!Ae(c)&&!Ae(d)&&c.isEqualNode(d)})(a)&&(i=>{const c=i.endContainer;return i.endOffset===(vo(c)?c.length:c.childNodes.length)})(a))(n)||(a=>!a.endContainer.isEqualNode(a.commonAncestorContainer))(n))(o)},cp=(t,o)=>t.selection.isCollapsed()?Y5(t,o):(n=>{if(Xh(n)){const a=av(n);return F.some(()=>{v1(n),((i,c)=>{const d=dt(c,av(i));d.length>0&&Ly(i,d)})(n,a)})}return F.none()})(t),kf=t=>((o=>{const n=o.selection.getRng();return n.collapsed&&(tk(n)||o.dom.isEmpty(n.startContainer))&&!(a=>{return i=Ze(a.selection.getStart()),c=a.schema,tu(i,d=>To(d.dom),d=>c.isBlock(ur(d)));var i,c})(o)})(t)&&Ly(t,[]),!0),Iy=(t,o,n)=>$e(n)?F.some(()=>{t._selectionOverrides.hideFakeCaret(),sf(t,o,Ze(n))}):F.none(),dp=(t,o)=>t.selection.isCollapsed()?((n,a)=>{const i=a?op:ly,c=a?Qi.Forwards:Qi.Backwards,d=Gp(c,n.getBody(),n.selection.getRng());return i(d)?Iy(n,a,d.getNode(!a)):F.from(gd(a,d)).filter(u=>i(u)&&Kp(d,u)).bind(u=>Iy(n,a,u.getNode(!a)))})(t,o):((n,a)=>{const i=n.selection.getNode();return js(i)?Iy(n,a,i):F.none()})(t,o),up=t=>wr(t??"").getOr(0),sv=(t,o)=>(t||ur(o)==="table"?"margin":"padding")+(Fl(o,"direction")==="rtl"?"-right":"-left"),iv=t=>{const o=ok(t);return!t.mode.isReadOnly()&&(o.length>1||((n,a)=>_t(a,i=>{const c=sv(Il(n),i),d=eu(i,c).map(up).getOr(0);return n.dom.getContentEditable(i.dom)!=="false"&&d>0}))(t,o))},tS=t=>Pu(t)||yc(t),ok=t=>et(Mc(t.selection.getSelectedBlocks()),o=>!tS(o)&&!(n=>vi(n).exists(tS))(o)&&Bl(o,n=>_a(n.dom)||Kr(n.dom)).exists(n=>_a(n.dom))),nk=(t,o)=>{var n,a;if(t.mode.isReadOnly())return;const{dom:i}=t,c=ih(t),d=(a=(n=/[a-z%]+$/i.exec(c))===null||n===void 0?void 0:n[0])!==null&&a!==void 0?a:"px",u=up(c),f=Il(t);_e(ok(t),y=>{((v,k,E,B,N,P)=>{const O=sv(E,Ze(P)),V=up(v.getStyle(P,O));if(k==="outdent"){const G=Math.max(0,V-B);v.setStyle(P,O,G?G+N:"")}else{const G=V+B+N;v.setStyle(P,O,G)}})(i,o,f,u,d,y.dom)})},oS=t=>nk(t,"outdent"),nS=t=>{if(t.selection.isCollapsed()&&iv(t)){const o=t.dom,n=t.selection.getRng(),a=Ut.fromRangeStart(n),i=o.getParent(n.startContainer,o.isBlock);if(i!==null&&$x(Ze(i),a,t.schema))return F.some(()=>oS(t))}return F.none()},Jh=(t,o,n)=>on([nS,IC,Uw,(a,i)=>eS(a,o,i),jw,py,yg,dp,Vw,cp,yf],a=>a(t,n)).filter(a=>t.selection.isEditable()),rS=t=>t.touches===void 0||t.touches.length!==1?F.none():F.some(t.touches[0]),rk=(t,o)=>jo(t,o.nodeName),Fz=(t,o)=>!!vo(o)||!!bn(o)&&!(rk(t.getBlockElements(),o)||tl(o)||ha(t,o)||Sd(o)),ak=(t,o)=>{if(vo(o)){if(o.data.length===0)return!0;if(/^\s+$/.test(o.data))return!o.nextSibling||rk(t,o.nextSibling)||Sd(o.nextSibling)}return!1},sk=t=>t.dom.create(Ji(t),Mp(t)),aS=(t,o,n)=>{const a=Ze(sk(t)),i=Gm();us(a,i),n(o,a);const c=document.createRange();return c.setStartBefore(i.dom),c.setEndBefore(i.dom),c},sS=t=>o=>(" "+o.attr("class")+" ").indexOf(t)!==-1,Lz=(t,o,n)=>function(a){const i=arguments,c=i[i.length-2],d=c>0?o.charAt(c-1):"";if(d==='"')return a;if(d===">"){const u=o.lastIndexOf("<",c);if(u!==-1&&o.substring(u,c).indexOf('contenteditable="false"')!==-1)return a}return'<span class="'+n+'" data-mce-content="'+t.dom.encode(i[0])+'">'+t.dom.encode(typeof i[1]=="string"?i[1]:i[0])+"</span>"},mp=(t,o)=>_t(t,n=>{const a=o.match(n);return a!==null&&a[0].length===o.length}),gp=(t,o)=>{o.hasAttribute("data-mce-caret")&&(id(o),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(o))},em=(t,o)=>{const n=(a=>vd(Ze(a.getBody()),"*[data-mce-caret]").map(i=>i.dom).getOrNull())(t);if(n)return o.type==="compositionstart"?(o.preventDefault(),o.stopPropagation(),void gp(t,n)):void(y0(n)&&(gp(t,n),t.undoManager.add()))},ik=Kr,lk=(t,o,n)=>{const a=ce(t.getBody()),i=Je(ty,o===1?a.next:a.prev);if(n.collapsed){const c=t.dom.getParent(n.startContainer,"PRE");if(!c)return;if(!i(Ut.fromRangeStart(n))){const d=Ze((u=>{const f=u.dom.create(Ji(u));return f.innerHTML='<br data-mce-bogus="1">',f})(t));o===1?di(Ze(c),d):Ai(Ze(c),d),t.selection.select(d.dom,!0),t.selection.collapse()}}},iS=(t,o)=>((n,a)=>{const i=a?Qi.Forwards:Qi.Backwards,c=n.selection.getRng();return((d,u,f)=>Qw(u,d,f,nf,np,ik))(i,n,c).orThunk(()=>(lk(n,i,c),F.none()))})(t,((n,a)=>{const i=a?n.getEnd(!0):n.getStart(!0);return Gx(i)?!a:a})(t.selection,o)).exists(n=>(xg(t,n),!0)),lS=(t,o)=>((n,a)=>{const i=a?1:-1,c=n.selection.getRng();return((d,u,f)=>Tz(u,d,f,y=>nf(y)||o2(y),y=>np(y)||n2(y),ik))(i,n,c).orThunk(()=>(lk(n,i,c),F.none()))})(t,o).exists(n=>(xg(t,n),!0)),cS=(t,o)=>Az(t,o,o?np:nf),Py=(t,o)=>BC(t,!o).map(n=>{const a=n.toRange(),i=t.selection.getRng();return o?a.setStart(i.startContainer,i.startOffset):a.setEnd(i.endContainer,i.endOffset),a}).exists(n=>(xg(t,n),!0)),Iz=t=>ao(["figcaption"],ur(t)),dS=(t,o)=>!!t.selection.isCollapsed()&&((n,a)=>{const i=Ze(n.getBody()),c=Ut.fromRangeStart(n.selection.getRng());return((d,u,f)=>{const y=Je(Wr,u);return Bl(Ze(d.container()),v=>f.isBlock(ur(v)),y).filter(Iz)})(c,i,n.schema).exists(()=>{if(((d,u,f)=>u?Cz(d.dom,f):Ry(d.dom,f))(i,a,c)){const d=aS(n,i,a?us:xd);return n.selection.setRng(d),!0}return!1})})(t,o),ck=(t,o)=>((n,a)=>a?F.from(n.dom.getParent(n.selection.getNode(),"details")).map(i=>((c,d)=>{const u=c.selection.getRng(),f=Ut.fromRangeStart(u);return!(c.getBody().lastChild!==d||!Cz(d,f)||(c.execCommand("InsertNewBlockAfter"),0))})(n,i)).getOr(!1):F.from(n.dom.getParent(n.selection.getNode(),"summary")).bind(i=>F.from(n.dom.getParent(i,"details")).map(c=>((d,u,f)=>{const y=d.selection.getRng(),v=Ut.fromRangeStart(y);return!(d.getBody().firstChild!==u||!Ry(f,v)||(d.execCommand("InsertNewBlockBefore"),0))})(n,c,i))).getOr(!1))(t,o),Dm={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Cu=(t,o)=>o.keyCode===t.keyCode&&o.shiftKey===t.shiftKey&&o.altKey===t.altKey&&o.ctrlKey===t.ctrlKey&&o.metaKey===t.metaKey,Qn=(t,...o)=>()=>t.apply(null,o),Hy=(t,o)=>ke(((n,a)=>at((i=>No(i,c=>({...Dm,...c})))(n),i=>Cu(i,a)?[i]:[]))(t,o),n=>n.action()),lv=(t,o)=>on(((n,a)=>at((i=>No(i,c=>({...Dm,...c})))(n),i=>Cu(i,a)?[i]:[]))(t,o),n=>n.action()),uS=(t,o)=>{const n=o?Qi.Forwards:Qi.Backwards,a=t.selection.getRng();return Qw(t,n,a,op,ly,js).exists(i=>(xg(t,i),!0))},mS=(t,o)=>{const n=o?1:-1,a=t.selection.getRng();return Tz(t,n,a,op,ly,js).exists(i=>(xg(t,i),!0))},gS=(t,o)=>Az(t,o,o?ly:op),pS=Dd([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),jy={...pS,none:t=>pS.none(t)},fS=(t,o,n)=>at(Fr(t),a=>vl(a,o)?n(a)?[a]:[]:fS(a,o,n)),cv=(t,o)=>$l(t,"table",o),dv=(t,o,n,a,i=Dt)=>{const c=a===1;if(!c&&n<=0)return jy.first(t[0]);if(c&&n>=t.length-1)return jy.last(t[t.length-1]);{const d=n+a,u=t[d];return i(u)?jy.middle(o,u):dv(t,o,d,a,i)}},hS=(t,o)=>cv(t,o).bind(n=>{const a=fS(n,"th,td",Dt);return he(a,i=>Wr(t,i)).map(i=>({index:i,all:a}))}),bS=["img","br"],X5=t=>{return(o=t,Yr.getOption(o)).filter(n=>n.trim().length!==0||n.indexOf(ms)>-1).isSome()||ao(bS,ur(t))||(n=>ks(n)&&Lt(n,"contenteditable")==="false")(t);var o},Pz=(t,o,n,a,i)=>{const c=Ss(Ze(n),"td,th,caption").map(u=>u.dom),d=et(((u,f)=>at(f,y=>{const v=((k,E)=>({left:k.left-E,top:k.top-E,right:k.right+-2,bottom:k.bottom+-2,width:k.width+E,height:k.height+E}))(ld(y.getBoundingClientRect()),-1);return[{x:v.left,y:u(v),cell:y},{x:v.right,y:u(v),cell:y}]}))(t,c),u=>o(u,i));return((u,f,y)=>fe(u,(v,k)=>v.fold(()=>F.some(k),E=>{const B=Math.sqrt(Math.abs(E.x-f)+Math.abs(E.y-y)),N=Math.sqrt(Math.abs(k.x-f)+Math.abs(k.y-y));return F.some(N<B?k:E)}),F.none()))(d,a,i).map(u=>u.cell)},J5=Je(Pz,t=>t.bottom,(t,o)=>t.y<o),Q5=Je(Pz,t=>t.top,(t,o)=>t.y>o),Hz=(t,o,n)=>{const a=t(o,n);return(i=>i.breakType===Nm.Wrap&&i.positions.length===0)(a)||!fa(n.getNode())&&(i=>i.breakType===Nm.Br&&i.positions.length===1)(a)?!((i,c,d)=>d.breakAt.exists(u=>i(c,u).breakAt.isSome()))(t,o,a):a.breakAt.isNone()},eO=Je(Hz,ov),dk=Je(Hz,nv),yS=(t,o,n,a)=>{const i=t.selection.getRng(),c=o?1:-1;return!(!Up()||!((d,u,f)=>{const y=Ut.fromRangeStart(u);return xt(!d,f).exists(v=>v.isEqual(y))})(o,i,n)||(bg(c,t,n,!o,!1).each(d=>{xg(t,d)}),0))},vS=(t,o,n)=>{const a=((c,d)=>{const u=d.getNode(c);return oo(u)?F.some(u):F.none()})(!!o,n),i=o===!1;a.fold(()=>xg(t,n.toRange()),c=>xt(i,t.getBody()).filter(d=>d.isEqual(n)).fold(()=>xg(t,n.toRange()),d=>((u,f,y)=>{f.undoManager.transact(()=>{const v=u?di:Ai,k=aS(f,Ze(y),v);xg(f,k)})})(o,t,c)))},xS=(t,o,n,a)=>{const i=t.selection.getRng(),c=Ut.fromRangeStart(i),d=t.getBody();if(!o&&eO(a,c)){const u=((f,y,v)=>((k,E)=>vt(E.getClientRects()).bind(B=>J5(k,B.left,B.top)).bind(B=>{return Dy(Ge(N=B).map(P=>ov(N,P).positions.concat(P)).getOr([]),E);var N}))(y,v).orThunk(()=>vt(v.getClientRects()).bind(k=>ku(va(f,Ut.before(y)),k.left))).getOr(Ut.before(y)))(d,n,c);return vS(t,o,u),!0}if(o&&dk(a,c)){const u=((f,y,v)=>((k,E)=>_o(E.getClientRects()).bind(B=>Q5(k,B.left,B.top)).bind(B=>{return Dy(Zt(N=B).map(P=>[P].concat(nv(N,P).positions)).getOr([]),E);var N}))(y,v).orThunk(()=>vt(v.getClientRects()).bind(k=>ku(_z(f,Ut.after(y)),k.left))).getOr(Ut.after(y)))(d,n,c);return vS(t,o,u),!0}return!1},jz=(t,o,n)=>F.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(a=>F.from(t.dom.getParent(a,"table")).map(i=>n(t,o,i,a))).getOr(!1),Vz=(t,o)=>jz(t,o,yS),wS=(t,o)=>jz(t,o,xS),$z=(t,o,n)=>n.fold(F.none,F.none,(a,i)=>{return(c=i,rs(c,X5)).map(d=>(u=>{const f=ay.exact(u,0,u,0);return t5(f)})(d));var c},a=>t.mode.isReadOnly()?F.none():(t.execCommand("mceTableInsertRowAfter"),Uz(t,o,a))),Uz=(t,o,n)=>{return $z(t,o,(i=Tr,hS(a=n,void 0).fold(()=>jy.none(a),c=>dv(c.all,a,c.index,1,i))));var a,i},tO=(t,o,n)=>{return $z(t,o,(i=Tr,hS(a=n,void 0).fold(()=>jy.none(),c=>dv(c.all,a,c.index,-1,i))));var a,i},uv=(t,o)=>{const n=["table","li","dl"],a=Ze(t.getBody()),i=d=>{const u=ur(d);return Wr(d,a)||ao(n,u)},c=t.selection.getRng();return((d,u)=>((f,y,v=So)=>v(y)?F.none():ao(f,ur(y))?F.some(y):yn(y,f.join(","),k=>vl(k,"table")||v(k)))(["td","th"],d,u))(Ze(o?c.endContainer:c.startContainer),i).map(d=>(cv(d,i).each(u=>{t.model.table.clearSelectedCells(u.dom)}),t.selection.collapse(!o),(o?Uz:tO)(t,i,d).each(u=>{t.selection.setRng(u)}),!0)).getOr(!1)},Gd=(t,o)=>({container:t,offset:o}),Qh=Ar.DOM,uk=t=>o=>t===o?-1:0,kS=(t,o,n)=>{if(vo(t)&&o>=0)return F.some(Gd(t,o));{const a=Iu(Qh);return F.from(a.backwards(t,o,uk(t),n)).map(i=>Gd(i.container,i.container.data.length))}},_S=(t,o,n)=>{if(!vo(t))return F.none();const a=t.data;if(o>=0&&o<=a.length)return F.some(Gd(t,o));{const i=Iu(Qh);return F.from(i.backwards(t,o,uk(t),n)).bind(c=>{const d=c.container.data;return _S(c.container,o+d.length,n)})}},Zz=(t,o,n)=>{if(!vo(t))return F.none();const a=t.data;if(o<=a.length)return F.some(Gd(t,o));{const i=Iu(Qh);return F.from(i.forwards(t,o,uk(t),n)).bind(c=>Zz(c.container,o-a.length,n))}},CS=(t,o,n,a,i)=>{const c=Iu(t,(d=>u=>d.isBlock(u)||ao(["BR","IMG","HR","INPUT"],u.nodeName)||d.getContentEditable(u)==="false")(t));return F.from(c.backwards(o,n,a,i))},qz=t=>t!==""&&`  \f
\r	\v`.indexOf(t)!==-1,tm=(t,o)=>t.substring(o.length),mv=(t,o,n,a=!1)=>{if(!(i=o).collapsed||!vo(i.startContainer))return F.none();var i;const c={text:"",offset:0},d=t.getParent(o.startContainer,t.isBlock)||t.getRoot();return CS(t,o.startContainer,o.startOffset,(u,f,y)=>(c.text=y+c.text,c.offset+=f,((v,k,E,B=!1)=>{let N;const P=E.charAt(0);for(N=k-1;N>=0;N--){const O=v.charAt(N);if(!B&&qz(O))return F.none();if(P===O&&xr(v,E,N,k))break}return F.some(N)})(c.text,c.offset,n,a).getOr(f)),d).bind(u=>{const f=o.cloneRange();if(f.setStart(u.container,u.offset),f.setEnd(o.endContainer,o.endOffset),f.collapsed)return F.none();const y=(v=>Li(v.toString().replace(/\u00A0/g," ")))(f);return y.lastIndexOf(n)!==0?F.none():F.some({text:tm(y,n),range:f,trigger:n})})},SS=t=>{if((o=>o.nodeType===3)(t))return Gd(t,t.data.length);{const o=t.childNodes;return o.length>0?SS(o[o.length-1]):Gd(t,o.length)}},ES=(t,o)=>{const n=t.childNodes;return n.length>0&&o<n.length?ES(n[o],0):n.length>0&&(a=>a.nodeType===1)(t)&&n.length===o?SS(n[n.length-1]):Gd(t,o)},zS=(t,o,n,a={})=>{var i;const c=o(),d=(i=t.selection.getRng().startContainer.nodeValue)!==null&&i!==void 0?i:"",u=et(c.lookupByTrigger(n.trigger),y=>n.text.length>=y.minChars&&y.matches.getOrThunk(()=>(v=>k=>{const E=ES(k.startContainer,k.startOffset);return!((B,N)=>{var P;const O=(P=B.getParent(N.container,B.isBlock))!==null&&P!==void 0?P:B.getRoot();return CS(B,N.container,N.offset,(V,G)=>G===0?-1:G,O).filter(V=>{const G=V.container.data.charAt(V.offset-1);return!qz(G)}).isSome()})(v,E)})(t.dom))(n.range,d,n.text));if(u.length===0)return F.none();const f=Promise.all(No(u,y=>y.fetch(n.text,y.maxResults,a).then(v=>({matchText:n.text,items:v,columns:y.columns,onAction:y.onAction,highlightOn:y.highlightOn}))));return F.some({lookupData:f,context:n})};var wg;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(wg||(wg={}));const mk=(t,o,n)=>t.stype===wg.Error?o(t.serror):n(t.svalue),Vy=t=>({stype:wg.Value,svalue:t}),kg=t=>({stype:wg.Error,serror:t}),Wz=mk,gk=t=>ut(t)&&Zo(t).length>100?" removed due to size":JSON.stringify(t,null,2),gv=(t,o)=>kg([{path:t,getErrorInfo:o}]),TS=(t,o)=>({extract:(n,a)=>yr(a,t).fold(()=>((i,c)=>gv(i,()=>'Choice schema did not contain choice key: "'+c+'"'))(n,t),i=>((c,d,u,f)=>yr(u,f).fold(()=>((y,v,k)=>gv(y,()=>'The chosen schema: "'+k+'" did not exist in branches: '+gk(v)))(c,u,f),y=>y.extract(c.concat(["branch: "+f]),d)))(n,a,o,i)),toString:()=>"chooseOn("+t+"). Possible values: "+Zo(o)}),Gz=t=>(...o)=>{if(o.length===0)throw new Error("Can't merge zero objects");const n={};for(let a=0;a<o.length;a++){const i=o[a];for(const c in i)jo(i,c)&&(n[c]=t(n[c],i[c]))}return n},AS=Gz((t,o)=>ho(t)&&ho(o)?AS(t,o):o),oO=Gz((t,o)=>o),pp=t=>({tag:"defaultedThunk",process:Rt(t)}),OS=t=>{const o=(a=>{const i=[],c=[];return _e(a,d=>{mk(d,u=>c.push(u),u=>i.push(u))}),{values:i,errors:c}})(t);return o.errors.length>0?(n=o.errors,Ho(kg,De)(n)):Vy(o.values);var n},Kz=(t,o,n)=>{switch(t.tag){case"field":return o(t.key,t.newKey,t.presence,t.prop);case"custom":return n(t.newKey,t.instantiator)}},NS=t=>({extract:(o,n)=>{return a=t(n),i=c=>((d,u)=>gv(d,Rt(u)))(o,c),a.stype===wg.Error?i(a.serror):a;var a,i},toString:Rt("val")}),eb=NS(Vy),MS=(t,o,n,a)=>a(yr(t,o).getOrThunk(()=>n(t))),pk=(t,o,n,a,i)=>{const c=u=>i.extract(o.concat([a]),u),d=u=>u.fold(()=>Vy(F.none()),f=>{return v=i.extract(o.concat([a]),f),k=F.some,v.stype===wg.Value?{stype:wg.Value,svalue:k(v.svalue)}:v;var v,k});switch(t.tag){case"required":return((u,f,y,v)=>yr(f,y).fold(()=>((k,E,B)=>gv(k,()=>'Could not find valid *required* value for "'+E+'" in '+gk(B)))(u,y,f),v))(o,n,a,c);case"defaultedThunk":return MS(n,a,t.process,c);case"option":return((u,f,y)=>y(yr(u,f)))(n,a,d);case"defaultedOptionThunk":return((u,f,y,v)=>v(yr(u,f).map(k=>k===!0?y(u):k)))(n,a,t.process,d);case"mergeWithThunk":return MS(n,a,Rt({}),u=>{const f=AS(t.process(n),u);return c(f)})}},DS=t=>({extract:(o,n)=>((a,i,c)=>{const d={},u=[];for(const f of c)Kz(f,(y,v,k,E)=>{const B=pk(k,a,i,y,E);Wz(B,N=>{u.push(...N)},N=>{d[v]=N})},(y,v)=>{d[y]=v(i)});return u.length>0?kg(u):Vy(d)})(o,n,t),toString:()=>`obj{
`+No(t,n=>Kz(n,(a,i,c,d)=>a+" -> "+d.toString(),(a,i)=>"state("+a+")")).join(`
`)+"}"}),Yz=t=>({extract:(o,n)=>{const a=No(n,(i,c)=>t.extract(o.concat(["["+c+"]"]),i));return OS(a)},toString:()=>"array("+t.toString()+")"}),Xz=(t,o,n)=>{return a=((i,c,d)=>((u,f)=>u.stype===wg.Error?{stype:wg.Error,serror:f(u.serror)}:u)(c.extract([i],d),u=>({input:d,errors:u})))(t,o,n),mk(a,ic.error,ic.value);var a},_g=(t,o)=>TS(t,Xo(o,DS)),RS=Rt(eb),fk=(t,o)=>NS(n=>{const a=typeof n;return t(n)?Vy(n):kg(`Expected type: ${o} but got: ${a}`)}),BS=fk(mt,"number"),$y=fk(Ve,"string"),FS=fk(ht,"boolean"),hk=fk(ge,"function"),Uy=(t,o,n,a)=>({tag:"field",key:t,newKey:o,presence:n,prop:a}),LS=(t,o)=>({tag:"custom",newKey:t,instantiator:o}),Jz=(t,o)=>Uy(t,t,{tag:"required",process:{}},o),Zy=t=>Jz(t,$y),pv=t=>Jz(t,hk),bk=(t,o)=>Uy(t,t,{tag:"option",process:{}},o),fv=t=>bk(t,$y),tb=(t,o,n)=>Uy(t,t,pp(o),n),IS=(t,o)=>tb(t,o,BS),hv=(t,o)=>tb(t,o,$y),yk=(t,o,n)=>tb(t,o,(a=>{return i=c=>ao(a,c)?ic.value(c):ic.error(`Unsupported value: "${c}", choose one of "${a.join(", ")}".`),NS(c=>i(c).fold(kg,Vy));var i})(n)),ob=(t,o)=>tb(t,o,FS),PS=(t,o)=>tb(t,o,hk),Qz=Zy("type"),nO=pv("fetch"),HS=pv("onAction"),eT=PS("onSetup",()=>go),tT=fv("text"),rO=fv("icon"),oT=fv("tooltip"),nb=fv("label"),nT=ob("active",!1),jS=ob("enabled",!0),VS=ob("primary",!1),rb=t=>hv("type",t),_f=DS([Qz,Zy("trigger"),IS("minChars",1),((t,o)=>Uy(t,t,pp(1),RS()))("columns"),IS("maxResults",10),bk("matches",hk),nO,HS,($S=$y,tb("highlightOn",[],Yz($S)))]);var $S;const fd=[jS,oT,rO,tT,eT,hv("context","mode:design")],Cf=[nT].concat(fd),US=[PS("predicate",So),yk("scope","node",["node","editor"]),yk("position","selection",["node","selection","line"])],rT=fd.concat([rb("contextformbutton"),VS,HS,LS("original",D)]),aO=Cf.concat([rb("contextformbutton"),VS,HS,LS("original",D)]),aT=fd.concat([rb("contextformbutton")]),qy=Cf.concat([rb("contextformtogglebutton")]),vk=_g("type",{contextformbutton:rT,contextformtogglebutton:aO});DS([rb("contextform"),PS("initValue",Rt("")),nb,((t,o)=>Uy(t,t,{tag:"required",process:{}},Yz(o)))("commands",vk),bk("launch",_g("type",{contextformbutton:aT,contextformtogglebutton:qy}))].concat(US));const sT=t=>{const o=t.ui.registry.getAll().popups,n=Xo(o,c=>{return(d=c,Xz("Autocompleter",_f,d)).fold(u=>{throw new Error(`Errors: 
`+(y=>{const v=y.length>10?y.slice(0,10).concat([{path:[],getErrorInfo:Rt("... (only showing first ten failures)")}]):y;return No(v,k=>"Failed path: ("+k.path.join(" > ")+`)
`+k.getErrorInfo())})((f=u).errors).join(`
`)+`

Input object: `+gk(f.input));var f},D);var d}),a=ls(Gr(n,c=>c.trigger)),i=Nr(n);return{dataset:n,triggers:a,lookupByTrigger:c=>et(i,d=>d.trigger===c)}},iT=t=>{const o=cl(),n=as(!1),a=o.isSet,i=()=>{a()&&((f=>{f.dispatch("AutocompleterEnd")})(t),n.set(!1),o.clear())},c=At(()=>sT(t)),d=f=>{(y=>o.get().map(v=>mv(t.dom,t.selection.getRng(),v.trigger,!0).bind(k=>zS(t,c,k,y))).getOrThunk(()=>((v,k)=>{const E=k(),B=v.selection.getRng();return((N,P,O)=>on(O.triggers,V=>mv(N,P,V)))(v.dom,B,E).bind(N=>zS(v,k,N))})(t,c)))(f).fold(i,y=>{(v=>{a()||o.set({trigger:v.trigger,matchLength:v.text.length})})(y.context),y.lookupData.then(v=>{o.get().map(k=>{const E=y.context;k.trigger===E.trigger&&(o.set({...k,matchLength:E.text.length}),n.get()?(_x(t,{range:E.range}),((B,N)=>{B.dispatch("AutocompleterUpdate",N)})(t,{lookupData:v})):(n.set(!0),_x(t,{range:E.range}),((B,N)=>{B.dispatch("AutocompleterStart",N)})(t,{lookupData:v})))})})})},u=()=>o.get().bind(({trigger:f})=>{const y=t.selection.getRng();return mv(t.dom,y,f,n.get()).filter(({range:v})=>((k,E)=>{const B=k.compareBoundaryPoints(window.Range.START_TO_START,E),N=k.compareBoundaryPoints(window.Range.END_TO_END,E);return B>=0&&N<=0})(y,v)).map(({range:v})=>v)});t.addCommand("mceAutocompleterReload",(f,y)=>{const v=ut(y)?y.fetchOptions:{};d(v)}),t.addCommand("mceAutocompleterClose",i),t.addCommand("mceAutocompleterRefreshActiveRange",()=>{u().each(f=>{_x(t,{range:f})})}),t.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>u().isSome()),((f,y)=>{const v=lo(y.load,50);f.on("input",k=>{(k.inputType!=="insertCompositionText"||f.composing)&&v.throttle()}),f.on("keydown",k=>{const E=k.which;E===8?v.throttle():E===27?(v.cancel(),y.cancelIfNecessary()):E!==38&&E!==40||v.cancel()},!0),f.on("remove",v.cancel)})(t,{cancelIfNecessary:i,load:d})},ZS=ia().browser.isSafari(),lT=t=>Hu(Ze(t)),cT=(t,o)=>{var n;return t.startOffset===0&&t.endOffset===((n=o.textContent)===null||n===void 0?void 0:n.length)},bv=(t,o)=>F.from(t.getParent(o.container(),"details")),dT=(t,o)=>bv(t,o).isSome(),hd=(t,o)=>{const n=o.getNode();bo(n)||t.selection.setCursorLocation(n,o.offset())},xk=(t,o,n)=>{const a=t.dom.getParent(o.container(),"details");if(a&&!a.open){const i=t.dom.select("summary",a)[0];i&&(n?Zt(i):Ge(i)).each(c=>hd(t,c))}else hd(t,o)},qS=(t,o,n)=>{const{dom:a,selection:i}=t,c=t.getBody();if(n==="character"){const d=Ut.fromRangeStart(i.getRng()),u=a.getParent(d.container(),a.isBlock),f=bv(a,d),y=u&&a.isEmpty(u),v=Ae(u==null?void 0:u.previousSibling),k=Ae(u==null?void 0:u.nextSibling);return!!(y&&(o?k:v)&&He(!o,c,d).exists(E=>dT(a,E)&&!Ns(f,bv(a,E))))||He(o,c,d).fold(So,E=>{const B=bv(a,E);if(dT(a,E)&&!Ns(f,B)){if(o||xk(t,E,!1),u&&y){if(o&&v||!o&&k)return!0;xk(t,E,o),t.dom.remove(u)}return!0}return!1})}return!1},WS=(t,o,n,a)=>{const i=t.selection.getRng(),c=Ut.fromRangeStart(i),d=t.getBody();return a==="selection"?((u,f)=>{const y=f.startSummary.exists(E=>E.contains(u.startContainer)),v=f.startSummary.exists(E=>E.contains(u.endContainer)),k=f.startDetails.forall(E=>f.endDetails.forall(B=>E!==B));return(y||v)&&!(y&&v)||k})(i,o):n?((u,f)=>f.startSummary.exists(y=>((v,k)=>Ge(k).exists(E=>fa(E.getNode())&&Xt(k,E).exists(B=>B.isEqual(v))||E.isEqual(v)))(u,y)))(c,o)||((u,f,y)=>y.startDetails.exists(v=>Gt(u,f).forall(k=>!v.contains(k.container()))))(d,c,o):((u,f)=>f.startSummary.exists(y=>((v,k)=>Zt(k).exists(E=>E.isEqual(v)))(u,y)))(c,o)||((u,f)=>f.startDetails.exists(y=>Xt(y,u).forall(v=>f.startSummary.exists(k=>!k.contains(u.container())&&k.contains(v.container())))))(c,o)},Sf=(t,o,n)=>((a,i,c)=>((d,u)=>{const f=F.from(d.getParent(u.startContainer,"details")),y=F.from(d.getParent(u.endContainer,"details"));if(f.isSome()||y.isSome()){const v=f.bind(k=>F.from(d.select("summary",k)[0]));return F.some({startSummary:v,startDetails:f,endDetails:y})}return F.none()})(a.dom,a.selection.getRng()).fold(()=>qS(a,i,c),d=>WS(a,d,i,c)||qS(a,i,c)))(t,o,n)||ZS&&((a,i,c)=>{const d=a.selection,u=d.getNode(),f=d.getRng(),y=Ut.fromRangeStart(f);return!!Dg(u)&&(c==="selection"&&cT(f,u)||h2(i,y,u)?lT(u):a.undoManager.transact(()=>{const v=d.getSel();let{anchorNode:k,anchorOffset:E,focusNode:B,focusOffset:N}=v??{};const P=()=>{$e(k)&&$e(E)&&$e(B)&&$e(N)&&(v==null||v.setBaseAndExtent(k,E,B,N))},O=(G,Y)=>{_e(G.childNodes,ae=>{Yp(ae)&&Y.appendChild(ae)})},V=a.dom.create("span",{"data-mce-bogus":"1"});O(u,V),u.appendChild(V),P(),c!=="word"&&c!=="line"||v==null||v.modify("extend",i?"right":"left",c),!d.isCollapsed()&&cT(d.getRng(),V)?lT(u):(a.execCommand(i?"ForwardDelete":"Delete"),k=v==null?void 0:v.anchorNode,E=v==null?void 0:v.anchorOffset,B=v==null?void 0:v.focusNode,N=v==null?void 0:v.focusOffset,O(V,u),P()),a.dom.remove(V)}),!0)})(t,o,n)?F.some(go):F.none(),Wy=t=>(o,n,a={})=>{const i=o.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:go,inputType:n},d=Bu(new InputEvent(t));return o.dispatch(t,{...d,...c,...a})},Su=Wy("input"),Cg=Wy("beforeinput"),yv=ia(),wk=yv.os,kk=wk.isMacOS()||wk.isiOS(),uT=yv.browser.isFirefox(),Gy=(t,o)=>{const n=t.dom,a=t.schema.getMoveCaretBeforeOnEnterElements();if(!o)return;if(/^(LI|DT|DD)$/.test(o.nodeName)){const c=(d=>{for(;d;){if(bn(d)||vo(d)&&d.data&&/[\r\n\s]/.test(d.data))return d;d=d.nextSibling}return null})(o.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&o.insertBefore(n.doc.createTextNode(ms),o.firstChild)}const i=n.createRng();if(o.normalize(),o.hasChildNodes()){const c=new Ws(o,o);let d,u=o;for(;d=c.current();){if(vo(d)){i.setStart(d,0),i.setEnd(d,0);break}if(a[d.nodeName.toLowerCase()]){i.setStartBefore(d),i.setEndBefore(d);break}u=d,d=c.next()}d||(i.setStart(u,0),i.setEnd(u,0))}else fa(o)?o.nextSibling&&n.isBlock(o.nextSibling)?(i.setStartBefore(o),i.setEndBefore(o)):(i.setStartAfter(o),i.setEndAfter(o)):(i.setStart(o,0),i.setEnd(o,0));t.selection.setRng(i),i1(t,i)},Ky=(t,o)=>{const n=t.getRoot();let a,i=o;for(;i!==n&&i&&t.getContentEditable(i)!=="false";){if(t.getContentEditable(i)==="true"){a=i;break}i=i.parentNode}return i!==n?a:n},_k=t=>F.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),Ck=t=>{t.innerHTML='<br data-mce-bogus="1">'},Yy=(t,o)=>{Ji(t).toLowerCase()===o.tagName.toLowerCase()&&((n,a,i)=>{const c=n.dom;F.from(i.style).map(c.parseStyle).each(v=>{const k={...al(Ze(a)),...v};c.setStyles(a,k)});const d=F.from(i.class).map(v=>v.split(/\s+/)),u=F.from(a.className).map(v=>et(v.split(/\s+/),k=>k!==""));qn(d,u,(v,k)=>{const E=et(k,N=>!ao(v,N)),B=[...v,...E];c.setAttrib(a,"class",B.join(" "))});const f=["style","class"],y=Ft(i,(v,k)=>!ao(f,k));c.setAttribs(a,y)})(t,o,Mp(t))},mT=(t,o,n,a,i=!0,c,d)=>{const u=t.dom,f=t.schema,y=Ji(t),v=n?n.nodeName.toUpperCase():"";let k=o;const E=f.getTextInlineElements();let B;B=c||v==="TABLE"||v==="HR"?u.create(c||y,d||{}):n.cloneNode(!1);let N=B;if(i)do if(E[k.nodeName]){if(To(k)||tl(k))continue;const P=k.cloneNode(!1);u.setAttrib(P,"id",""),B.hasChildNodes()?(P.appendChild(B.firstChild),B.appendChild(P)):(N=P,B.appendChild(P))}while((k=k.parentNode)&&k!==a);else u.setAttrib(B,"style",null),u.setAttrib(B,"class",null);return Yy(t,B),Ck(N),B},gT=(t,o)=>{const n=t==null?void 0:t.parentNode;return $e(n)&&n.nodeName===o},pT=t=>$e(t)&&/^(OL|UL|LI)$/.test(t.nodeName),uc=t=>$e(t)&&/^(LI|DT|DD)$/.test(t.nodeName),vv=t=>{const o=t.parentNode;return uc(o)?o:t},Ef=(t,o,n)=>{let a=t[n?"firstChild":"lastChild"];for(;a&&!bn(a);)a=a[n?"nextSibling":"previousSibling"];return a===o},fT=t=>fe(Gr(al(Ze(t)),(o,n)=>`${n}: ${o};`),(o,n)=>o+n,""),hT=(t,o)=>o&&o.nodeName==="A"&&t.isEmpty(o),Sk=(t,o)=>t.nodeName===o||t.previousSibling&&t.previousSibling.nodeName===o,Ek=(t,o)=>$e(o)&&t.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&t.isEditable(o.parentNode)&&t.getContentEditable(o)!=="false",xv=(t,o,n)=>vo(o)?t?n===1&&o.data.charAt(n-1)===Fi?0:n:n===o.data.length-1&&o.data.charAt(n)===Fi?o.data.length:n:n,GS={insert:(t,o)=>{let n,a,i,c,d=!1;const u=t.dom,f=t.schema.getNonEmptyElements(),y=t.selection.getRng(),v=Ji(t),k=Ze(y.startContainer),E=Ps(k,y.startOffset),B=E.exists(rt=>ks(rt)&&!Tr(rt)),N=y.collapsed&&B,P=(rt,Mt)=>mT(t,n,ee,ae,Hi(t),rt,Mt),O=rt=>{const Mt=xv(rt,n,a);if(vo(n)&&(rt?Mt>0:Mt<n.data.length))return!1;if((n.parentNode===ee||n===ee)&&d&&!rt||rt&&bn(n)&&n===ee.firstChild)return!0;if(Sk(n,"TABLE")||Sk(n,"HR"))return((ot,Qt)=>ot.nodeName==="BR"||ot.nextSibling&&ot.nextSibling.nodeName==="BR")(n)?!rt:d&&!rt||!d&&rt;const Fe=new Ws(n,ee);let Ue;for(vo(n)&&(rt&&Mt===0?Fe.prev():rt||Mt!==n.data.length||Fe.next());Ue=Fe.current();){if(bn(Ue)){if(!Ue.getAttribute("data-mce-bogus")){const ot=Ue.nodeName.toLowerCase();if(f[ot]&&ot!=="br")return!1}}else if(vo(Ue)&&!tc(Ue.data))return!1;rt?Fe.prev():Fe.next()}return!0},V=()=>{let rt;return rt=/^(H[1-6]|PRE|FIGURE)$/.test(i)&&we!=="HGROUP"?P(v):P(),((Mt,Fe)=>{const Ue=ji(Mt);return!ue(Fe)&&(Ve(Ue)?ao(to.explode(Ue),Fe.nodeName.toLowerCase()):Ue)})(t,c)&&Ek(u,c)&&u.isEmpty(ee,void 0,{includeZwsp:!0})?rt=u.split(c,ee):u.insertAfter(rt,ee),Gy(t,rt),rt};Ox(u,y).each(rt=>{y.setStart(rt.startContainer,rt.startOffset),y.setEnd(rt.endContainer,rt.endOffset)}),n=y.startContainer,a=y.startOffset;const G=!(!o||!o.shiftKey),Y=!(!o||!o.ctrlKey);bn(n)&&n.hasChildNodes()&&!N&&(d=a>n.childNodes.length-1,n=n.childNodes[Math.min(a,n.childNodes.length-1)]||n,a=d&&vo(n)?n.data.length:0);const ae=Ky(u,n);if(!ae||((rt,Mt)=>{const Fe=rt.dom.getParent(Mt,"ol,ul,dl");return Fe!==null&&rt.dom.getContentEditableParent(Fe)==="false"})(t,n))return;G||(n=((rt,Mt,Fe,Ue,ot)=>{var Qt,Do;const Ao=rt.dom,vn=(Qt=Ky(Ao,Ue))!==null&&Qt!==void 0?Qt:Ao.getRoot();let Tn=Ao.getParent(Ue,Ao.isBlock);if(!Tn||!Ek(Ao,Tn)){if(Tn=Tn||vn,!Tn.hasChildNodes()){const Cn=Ao.create(Mt);return Yy(rt,Cn),Tn.appendChild(Cn),Fe.setStart(Cn,0),Fe.setEnd(Cn,0),Cn}let Bn,$n=Ue;for(;$n&&$n.parentNode!==Tn;)$n=$n.parentNode;for(;$n&&!Ao.isBlock($n);)Bn=$n,$n=$n.previousSibling;const Yo=(Do=Bn==null?void 0:Bn.parentElement)===null||Do===void 0?void 0:Do.nodeName;if(Bn&&Yo&&rt.schema.isValidChild(Yo,Mt.toLowerCase())){const Cn=Bn.parentNode,Qe=Ao.create(Mt);for(Yy(rt,Qe),Cn.insertBefore(Qe,Bn),$n=Bn;$n&&!Ao.isBlock($n);){const st=$n.nextSibling;Qe.appendChild($n),$n=st}Fe.setStart(Ue,ot),Fe.setEnd(Ue,ot)}}return Ue})(t,v,y,n,a));let ee=u.getParent(n,u.isBlock)||u.getRoot();c=$e(ee==null?void 0:ee.parentNode)?u.getParent(ee.parentNode,u.isBlock):null,i=ee?ee.nodeName.toUpperCase():"";const we=c?c.nodeName.toUpperCase():"";if(we!=="LI"||Y||(ee=c,c=c.parentNode,i=we),bn(c)&&((rt,Mt,Fe)=>!Mt&&Fe.nodeName.toLowerCase()===Ji(rt)&&rt.dom.isEmpty(Fe)&&((Ue,ot,Qt)=>{let Do=ot;for(;Do&&Do!==Ue&&Ae(Do.nextSibling);){const vn=Do.parentElement;if(!vn||(Ao=vn,!jo(rt.schema.getTextBlockElements(),Ao.nodeName.toLowerCase())))return il(vn);Do=vn}var Ao;return!1})(rt.getBody(),Fe))(t,G,ee))return((rt,Mt,Fe)=>{var Ue,ot,Qt;const Do=Mt(Ji(rt)),Ao=((vn,Tn)=>vn.dom.getParent(Tn,il))(rt,Fe);Ao&&(rt.dom.insertAfter(Do,Ao),Gy(rt,Do),((Qt=(ot=(Ue=Fe.parentElement)===null||Ue===void 0?void 0:Ue.childNodes)===null||ot===void 0?void 0:ot.length)!==null&&Qt!==void 0?Qt:0)>1&&rt.dom.remove(Fe))})(t,P,ee);if(/^(LI|DT|DD)$/.test(i)&&bn(c)&&u.isEmpty(ee))return void((rt,Mt,Fe,Ue,ot)=>{const Qt=rt.dom,Do=rt.selection.getRng(),Ao=Fe.parentNode;if(Fe===rt.getBody()||!Ao)return;var vn;pT(vn=Fe)&&pT(vn.parentNode)&&(ot="LI");const Tn=uc(Ue)?fT(Ue):void 0;let Bn=uc(Ue)&&Tn?Mt(ot,{style:fT(Ue)}):Mt(ot);if(Ef(Fe,Ue,!0)&&Ef(Fe,Ue,!1))if(gT(Fe,"LI")){const $n=vv(Fe);Qt.insertAfter(Bn,$n),(Yo=>{var Cn;return((Cn=Yo.parentNode)===null||Cn===void 0?void 0:Cn.firstChild)===Yo})(Fe)?Qt.remove($n):Qt.remove(Fe)}else Qt.replace(Bn,Fe);else if(Ef(Fe,Ue,!0))gT(Fe,"LI")?(Qt.insertAfter(Bn,vv(Fe)),Bn.appendChild(Qt.doc.createTextNode(" ")),Bn.appendChild(Fe)):Ao.insertBefore(Bn,Fe),Qt.remove(Ue);else if(Ef(Fe,Ue,!1))Qt.insertAfter(Bn,vv(Fe)),Qt.remove(Ue);else{Fe=vv(Fe);const $n=Do.cloneRange();$n.setStartAfter(Ue),$n.setEndAfter(Fe);const Yo=$n.extractContents();if(ot==="LI"&&((Cn,Qe)=>Cn.firstChild&&Cn.firstChild.nodeName==="LI")(Yo)){const Cn=et(No(Bn.children,Ze),gt(xo("br")));Bn=Yo.firstChild,Qt.insertAfter(Yo,Fe),_e(Cn,Qe=>xd(Ze(Bn),Qe)),Tn&&Bn.setAttribute("style",Tn)}else Qt.insertAfter(Yo,Fe),Qt.insertAfter(Bn,Fe);Qt.remove(Ue)}Gy(rt,Bn)})(t,P,c,ee,v);if(!(N||ee!==t.getBody()&&Ek(u,ee)))return;const je=ee.parentNode;let Pe;if(N)Pe=P(v),E.fold(()=>{us(k,Ze(Pe))},rt=>{Ai(rt,Ze(Pe))}),t.selection.setCursorLocation(Pe,0);else if(Hc(ee))Pe=id(ee),u.isEmpty(ee)&&Ck(ee),Yy(t,Pe),Gy(t,Pe);else if(O(!1))Pe=V();else if(O(!0)&&je){const rt=Ut.fromRangeStart(y),Mt=n2(rt),Fe=Ze(ee),Ue=Zx(Fe,rt,t.schema)?$3(Fe,rt,t.schema).bind(Qt=>F.from(Qt.getNode())):F.none();Pe=je.insertBefore(P(),ee);const ot=Sk(ee,"HR")||Mt?Pe:Ue.getOr(ee);Gy(t,ot)}else{const rt=(Fe=>{const Ue=Fe.cloneRange();return Ue.setStart(Fe.startContainer,xv(!0,Fe.startContainer,Fe.startOffset)),Ue.setEnd(Fe.endContainer,xv(!1,Fe.endContainer,Fe.endOffset)),Ue})(y).cloneRange();rt.setEndAfter(ee);const Mt=rt.extractContents();(Fe=>{_e(Pm(Ze(Fe),Ce),Ue=>{const ot=Ue.dom;ot.nodeValue=Li(ot.data)})})(Mt),(Fe=>{let Ue=Fe;do vo(Ue)&&(Ue.data=Ue.data.replace(/^[\r\n]+/,"")),Ue=Ue.firstChild;while(Ue)})(Mt),Pe=Mt.firstChild,u.insertAfter(Mt,ee),((Fe,Ue,ot)=>{var Qt;const Do=[];if(!ot)return;let Ao=ot;for(;Ao=Ao.firstChild;){if(Fe.isBlock(Ao))return;bn(Ao)&&!Ue[Ao.nodeName.toLowerCase()]&&Do.push(Ao)}let vn=Do.length;for(;vn--;)Ao=Do[vn],(!Ao.hasChildNodes()||Ao.firstChild===Ao.lastChild&&((Qt=Ao.firstChild)===null||Qt===void 0?void 0:Qt.nodeValue)===""||hT(Fe,Ao))&&Fe.remove(Ao)})(u,f,Pe),((Fe,Ue)=>{Ue.normalize();const ot=Ue.lastChild;(!ot||bn(ot)&&/^(left|right)$/gi.test(Fe.getStyle(ot,"float",!0)))&&Fe.add(Ue,"br")})(u,ee),u.isEmpty(ee)&&Ck(ee),Pe.normalize(),u.isEmpty(Pe)?(u.remove(Pe),V()):(Yy(t,Pe),Gy(t,Pe))}u.setAttrib(Pe,"id",""),t.dispatch("NewBlock",{newBlock:Pe})},fakeEventName:"insertParagraph"},KS=(t,o,n)=>{const a=t.dom.createRng();n?(a.setStartBefore(o),a.setEndBefore(o)):(a.setStartAfter(o),a.setEndAfter(o)),t.selection.setRng(a),i1(t,a)},sO=(t,o)=>{const n=Is("br");Ai(Ze(o),n),t.undoManager.add()},iO=(t,o)=>{lO(t.getBody(),o)||di(Ze(o),Is("br"));const n=Is("br");di(Ze(o),n),KS(t,n.dom,!1),t.undoManager.add()},lO=(t,o)=>{return n=Ut.after(o),!!fa(n.getNode())||Gt(t,Ut.after(o)).map(a=>fa(a.getNode())).getOr(!1);var n},zk=t=>t&&t.nodeName==="A"&&"href"in t,cO=t=>t.fold(So,zk,zk,So),dO=(t,o)=>{o.fold(go,Je(sO,t),Je(iO,t),go)},YS={insert:(t,o)=>{const n=(a=>{const i=Je(rp,a),c=Ut.fromRangeStart(a.selection.getRng());return vg(i,a.getBody(),c).filter(cO)})(t);n.isSome()?n.each(Je(dO,t)):((a,i)=>{const c=a.selection,d=a.dom,u=c.getRng();let f,y=!1;Ox(d,u).each(O=>{u.setStart(O.startContainer,O.startOffset),u.setEnd(O.endContainer,O.endOffset)});let v=u.startOffset,k=u.startContainer;if(bn(k)&&k.hasChildNodes()){const O=v>k.childNodes.length-1;k=k.childNodes[Math.min(v,k.childNodes.length-1)]||k,v=O&&vo(k)?k.data.length:0}let E=d.getParent(k,d.isBlock);const B=E&&E.parentNode?d.getParent(E.parentNode,d.isBlock):null,N=B?B.nodeName.toUpperCase():"",P=!(!i||!i.ctrlKey);N!=="LI"||P||(E=B),vo(k)&&v>=k.data.length&&(((O,V,G)=>{const Y=new Ws(V,G);let ae;const ee=O.getNonEmptyElements();for(;ae=Y.next();)if(ee[ae.nodeName.toLowerCase()]||vo(ae)&&ae.length>0)return!0;return!1})(a.schema,k,E||d.getRoot())||(f=d.create("br"),u.insertNode(f),u.setStartAfter(f),u.setEndAfter(f),y=!0)),f=d.create("br"),pu(d,u,f),KS(a,f,y),a.undoManager.add()})(t,o)},fakeEventName:"insertLineBreak"},bT=(t,o)=>_k(t).filter(n=>o.length>0&&vl(Ze(n),o)).isSome(),Kd=Dd([{br:[]},{block:[]},{none:[]}]),XS=(t,o)=>(n=>bT(n,ml(n)))(t),wv=t=>(o,n)=>(a=>_k(a).filter(i=>yc(Ze(i))).isSome())(o)===t,JS=(t,o)=>(n,a)=>(c=>_k(c).fold(Rt(""),d=>d.nodeName.toUpperCase()))(n)===t.toUpperCase()===o,yT=t=>{const o=Ky(t.dom,t.selection.getStart());return ue(o)},ab=t=>JS("pre",t),Tk=t=>(o,n)=>Pb(o)===t,uO=(t,o)=>(n=>bT(n,fi(n)))(t),Ak=(t,o)=>o,sb=t=>{const o=Ji(t),n=Ky(t.dom,t.selection.getStart());return $e(n)&&t.schema.isValidChild(n.nodeName,o)},mO=t=>{const o=t.selection.getRng(),n=Ze(o.startContainer),a=Ps(n,o.startOffset).map(i=>ks(i)&&!Tr(i));return o.collapsed&&a.getOr(!0)},Gc=(t,o)=>(n,a)=>fe(t,(i,c)=>i&&c(n,a),!0)?F.some(o):F.none(),Ok=(t,o,n)=>{if(!o.mode.isReadOnly()){if(o.selection.isCollapsed()||(a=>{a.execCommand("delete")})(o),$e(n)&&Cg(o,t.fakeEventName).isDefaultPrevented())return;t.insert(o,n),$e(n)&&Su(o,t.fakeEventName)}},Nk=(t,o)=>{if(t.mode.isReadOnly())return;const n=()=>Ok(YS,t,o),a=()=>Ok(GS,t,o),i=((c,d)=>ZC([Gc([XS],Kd.none()),Gc([ab(!0),yT],Kd.none()),Gc([JS("summary",!0)],Kd.br()),Gc([ab(!0),Tk(!1),Ak],Kd.br()),Gc([ab(!0),Tk(!1)],Kd.block()),Gc([ab(!0),Tk(!0),Ak],Kd.block()),Gc([ab(!0),Tk(!0)],Kd.br()),Gc([wv(!0),Ak],Kd.br()),Gc([wv(!0)],Kd.block()),Gc([uO],Kd.br()),Gc([Ak],Kd.br()),Gc([sb],Kd.block()),Gc([mO],Kd.block())],[c,!(!d||!d.shiftKey)]).getOr(Kd.none()))(t,o);switch(pi(t)){case"linebreak":i.fold(n,n,go);break;case"block":i.fold(a,a,go);break;case"invert":i.fold(a,n,go);break;default:i.fold(n,a,go)}},QS=ia(),vT=QS.os.isiOS()&&QS.browser.isSafari(),e4=(t,o)=>{var n;o.isDefaultPrevented()||(o.preventDefault(),(n=t.undoManager).typing&&(n.typing=!1,n.add()),t.undoManager.transact(()=>{Nk(t,o)}))},Mk=ia(),xT=t=>t.stopImmediatePropagation(),wT=t=>t.keyCode===hn.PAGE_UP||t.keyCode===hn.PAGE_DOWN,Dk=(t,o,n)=>{n&&!t.get()?o.on("NodeChange",xT,!0):!n&&t.get()&&o.off("NodeChange",xT),t.set(n)},t4=(t,o)=>{const n=o.container(),a=o.offset();return vo(n)?(n.insertData(a,t),F.some(Ut(n,a+t.length))):_h(o).map(i=>{const c=Oc(t);return o.isAtEnd()?di(i,c):Ai(i,c),Ut(c.dom,t.length)})},kT=Je(t4,ms),_T=Je(t4," "),CT=t=>o=>{t.selection.setRng(o.toRange()),t.nodeChanged()},gO=t=>{const o=Ut.fromRangeStart(t.selection.getRng()),n=Ze(t.getBody());if(t.selection.isCollapsed()){const a=Je(rp,t),i=Ut.fromRangeStart(t.selection.getRng());return vg(a,t.getBody(),i).bind((c=>d=>d.fold(u=>Xt(c.dom,Ut.before(u)),u=>Zt(u),u=>Ge(u),u=>Gt(c.dom,Ut.after(u))))(n)).map(c=>()=>((d,u,f)=>y=>rf(d,y,f)?kT(u):_T(u))(n,o,t.schema)(c).each(CT(t)))}return F.none()},o4=t=>{return Zs(Xn.browser.isFirefox()&&t.selection.isEditable()&&(o=t.dom,n=t.selection.getRng().startContainer,o.isEditable(o.getParent(n,"summary"))),()=>{const a=Ze(t.getBody());t.selection.isCollapsed()||t.getDoc().execCommand("Delete"),((i,c,d)=>rf(i,c,d)?kT(c):_T(c))(a,Ut.fromRangeStart(t.selection.getRng()),t.schema).each(CT(t))});var o,n},ST=t=>$0(t)?[{keyCode:hn.TAB,action:Qn(uv,t,!0)},{keyCode:hn.TAB,shiftKey:!0,action:Qn(uv,t,!1)}]:[],pO=t=>{if(t.addShortcut("Meta+P","","mcePrint"),iT(t),_c(t))return as(null);{const o=wf(t);return(n=>{n.on("beforeinput",a=>{n.selection.isEditable()&&!yo(a.getTargetRanges(),i=>!E3(n.dom,i))||a.preventDefault()})})(t),(n=>{n.on("keyup compositionstart",Je(em,n))})(t),((n,a)=>{n.on("keydown",i=>{i.isDefaultPrevented()||((c,d,u)=>{const f=Xn.os.isMacOS()||Xn.os.isiOS();Hy([{keyCode:hn.RIGHT,action:Qn(iS,c,!0)},{keyCode:hn.LEFT,action:Qn(iS,c,!1)},{keyCode:hn.UP,action:Qn(lS,c,!1)},{keyCode:hn.DOWN,action:Qn(lS,c,!0)},...f?[{keyCode:hn.UP,action:Qn(Py,c,!1),metaKey:!0,shiftKey:!0},{keyCode:hn.DOWN,action:Qn(Py,c,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:hn.RIGHT,action:Qn(Vz,c,!0)},{keyCode:hn.LEFT,action:Qn(Vz,c,!1)},{keyCode:hn.UP,action:Qn(wS,c,!1)},{keyCode:hn.DOWN,action:Qn(wS,c,!0)},{keyCode:hn.UP,action:Qn(wS,c,!1)},{keyCode:hn.UP,action:Qn(ck,c,!1)},{keyCode:hn.DOWN,action:Qn(ck,c,!0)},{keyCode:hn.RIGHT,action:Qn(uS,c,!0)},{keyCode:hn.LEFT,action:Qn(uS,c,!1)},{keyCode:hn.UP,action:Qn(mS,c,!1)},{keyCode:hn.DOWN,action:Qn(mS,c,!0)},{keyCode:hn.RIGHT,action:Qn(QC,c,d,!0)},{keyCode:hn.LEFT,action:Qn(QC,c,d,!1)},{keyCode:hn.RIGHT,ctrlKey:!f,altKey:f,action:Qn(W5,c,d)},{keyCode:hn.LEFT,ctrlKey:!f,altKey:f,action:Qn(G5,c,d)},{keyCode:hn.UP,action:Qn(dS,c,!1)},{keyCode:hn.DOWN,action:Qn(dS,c,!0)}],u).each(y=>{u.preventDefault()})})(n,a,i)})})(t,o),((n,a)=>{let i=!1;n.on("keydown",c=>{i=c.keyCode===hn.BACKSPACE,c.isDefaultPrevented()||((d,u,f)=>{const y=f.keyCode===hn.BACKSPACE?"deleteContentBackward":"deleteContentForward",v=d.selection.isCollapsed(),k=v?"character":"selection",E=B=>v?B?"word":"line":"selection";lv([{keyCode:hn.BACKSPACE,action:Qn(nS,d)},{keyCode:hn.BACKSPACE,action:Qn(IC,d,!1)},{keyCode:hn.DELETE,action:Qn(IC,d,!0)},{keyCode:hn.BACKSPACE,action:Qn(Uw,d,!1)},{keyCode:hn.DELETE,action:Qn(Uw,d,!0)},{keyCode:hn.BACKSPACE,action:Qn(eS,d,u,!1)},{keyCode:hn.DELETE,action:Qn(eS,d,u,!0)},{keyCode:hn.BACKSPACE,action:Qn(py,d,!1)},{keyCode:hn.DELETE,action:Qn(py,d,!0)},{keyCode:hn.BACKSPACE,action:Qn(Sf,d,!1,k)},{keyCode:hn.DELETE,action:Qn(Sf,d,!0,k)},...kk?[{keyCode:hn.BACKSPACE,altKey:!0,action:Qn(Sf,d,!1,E(!0))},{keyCode:hn.DELETE,altKey:!0,action:Qn(Sf,d,!0,E(!0))},{keyCode:hn.BACKSPACE,metaKey:!0,action:Qn(Sf,d,!1,E(!1))}]:[{keyCode:hn.BACKSPACE,ctrlKey:!0,action:Qn(Sf,d,!1,E(!0))},{keyCode:hn.DELETE,ctrlKey:!0,action:Qn(Sf,d,!0,E(!0))}],{keyCode:hn.BACKSPACE,action:Qn(yg,d,!1)},{keyCode:hn.DELETE,action:Qn(yg,d,!0)},{keyCode:hn.BACKSPACE,action:Qn(dp,d,!1)},{keyCode:hn.DELETE,action:Qn(dp,d,!0)},{keyCode:hn.BACKSPACE,action:Qn(Vw,d,!1)},{keyCode:hn.DELETE,action:Qn(Vw,d,!0)},{keyCode:hn.BACKSPACE,action:Qn(jw,d,!1)},{keyCode:hn.DELETE,action:Qn(jw,d,!0)},{keyCode:hn.BACKSPACE,action:Qn(cp,d,!1)},{keyCode:hn.DELETE,action:Qn(cp,d,!0)},{keyCode:hn.BACKSPACE,action:Qn(yf,d,!1)},{keyCode:hn.DELETE,action:Qn(yf,d,!0)}],f).filter(B=>d.selection.isEditable()).each(B=>{f.preventDefault(),Cg(d,y).isDefaultPrevented()||(B(),Su(d,y))})})(n,a,c)}),n.on("keyup",c=>{c.isDefaultPrevented()||((d,u,f)=>{Hy([{keyCode:hn.BACKSPACE,action:Qn(mz,d)},{keyCode:hn.DELETE,action:Qn(mz,d)},...kk?[{keyCode:hn.BACKSPACE,altKey:!0,action:Qn(kf,d)},{keyCode:hn.DELETE,altKey:!0,action:Qn(kf,d)},...f?[{keyCode:uT?224:91,action:Qn(kf,d)}]:[]]:[{keyCode:hn.BACKSPACE,ctrlKey:!0,action:Qn(kf,d)},{keyCode:hn.DELETE,ctrlKey:!0,action:Qn(kf,d)}]],u)})(n,c,i),i=!1})})(t,o),(n=>{let a=F.none();n.on("keydown",i=>{i.keyCode===hn.ENTER&&(vT&&(c=>{if(!c.collapsed)return!1;const d=c.startContainer;if(vo(d)){const u=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,f=d.data.charAt(c.startOffset-1);return u.test(f)}return!1})(n.selection.getRng())?(c=>{a=F.some(c.selection.getBookmark()),c.undoManager.add()})(n):e4(n,i))}),n.on("keyup",i=>{i.keyCode===hn.ENTER&&a.each(()=>((c,d)=>{c.undoManager.undo(),a.fold(go,u=>c.selection.moveToBookmark(u)),e4(c,d),a=F.none()})(n,i))})})(t),(n=>{n.on("keydown",a=>{a.isDefaultPrevented()||((i,c)=>{lv([{keyCode:hn.SPACEBAR,action:Qn(gO,i)},{keyCode:hn.SPACEBAR,action:Qn(o4,i)}],c).each(d=>{c.preventDefault(),Cg(i,"insertText",{data:" "}).isDefaultPrevented()||(d(),Su(i,"insertText",{data:" "}))})})(n,a)})})(t),(n=>{n.on("input",a=>{a.isComposing||(i=>{const c=Ze(i.getBody());i.selection.isCollapsed()&&w5(c,Ut.fromRangeStart(i.selection.getRng()),i.schema).each(d=>{i.selection.setRng(d.toRange())})})(n)})})(t),(n=>{n.on("keydown",a=>{a.isDefaultPrevented()||((i,c)=>{Hy([...ST(i)],c).each(d=>{c.preventDefault()})})(n,a)})})(t),((n,a)=>{n.on("keydown",i=>{i.isDefaultPrevented()||((c,d,u)=>{const f=Xn.os.isMacOS()||Xn.os.isiOS();Hy([{keyCode:hn.END,action:Qn(cS,c,!0)},{keyCode:hn.HOME,action:Qn(cS,c,!1)},...f?[]:[{keyCode:hn.HOME,action:Qn(Py,c,!1),ctrlKey:!0,shiftKey:!0},{keyCode:hn.END,action:Qn(Py,c,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:hn.END,action:Qn(gS,c,!0)},{keyCode:hn.HOME,action:Qn(gS,c,!1)},{keyCode:hn.END,action:Qn(ek,c,!0,d)},{keyCode:hn.HOME,action:Qn(ek,c,!1,d)}],u).each(y=>{u.preventDefault()})})(n,a,i)})})(t,o),((n,a)=>{if(Mk.os.isMacOS())return;const i=as(!1);n.on("keydown",c=>{wT(c)&&Dk(i,n,!0)}),n.on("keyup",c=>{c.isDefaultPrevented()||((d,u,f)=>{Hy([{keyCode:hn.PAGE_UP,action:Qn(ek,d,!1,u)},{keyCode:hn.PAGE_DOWN,action:Qn(ek,d,!0,u)}],f)})(n,a,c),wT(c)&&i.get()&&(Dk(i,n,!1),n.nodeChanged())})})(t,o),o}};class fO{constructor(o){let n;this.lastPath=[],this.editor=o;const a=this;"onselectionchange"in o.getDoc()||o.on("NodeChange click mouseup keyup focus",i=>{const c=o.selection.getRng(),d={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};i.type!=="nodechange"&&zx(d,n)||o.dispatch("SelectionChange"),n=d}),o.on("contextmenu",()=>{c1(o),o.dispatch("SelectionChange")}),o.on("SelectionChange",()=>{const i=o.selection.getStart(!0);i&&hl(o)&&!a.isSameElementPath(i)&&o.dom.isChildOf(i,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("mouseup",i=>{!i.isDefaultPrevented()&&hl(o)&&(o.selection.getNode().nodeName==="IMG"?bu.setEditorTimeout(o,()=>{o.nodeChanged()}):o.nodeChanged())})}nodeChanged(o={}){const n=this.editor,a=n.selection;let i;if(n.initialized&&a&&!L0(n)){const c=n.getBody();i=a.getStart(!0)||c,i.ownerDocument===n.getDoc()&&n.dom.isChildOf(i,c)||(i=c);const d=[];n.dom.getParent(i,u=>u===c||(d.push(u),!1)),n.dispatch("NodeChange",{...o,element:i,parents:d})}}isSameElementPath(o){let n;const a=this.editor,i=We(a.dom.getParents(o,Dt,a.getBody()));if(i.length===this.lastPath.length){for(n=i.length;n>=0&&i[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=i,!0}return this.lastPath=i,!1}}const Si=sd("image"),n4=sd("event"),Rk=t=>o=>{o[n4]=t},r4=Rk(0),a4=Rk(2),ET=Rk(1),zf=t=>{const o=t;return F.from(o[n4]).exists(n=>n===0)},kv=sd("mode"),_v=t=>o=>{o[kv]=t},Bk=(t,o)=>_v(o)(t),Fk=_v(0),Cv=_v(2),zT=_v(1),Sv=t=>o=>{const n=o;return F.from(n[kv]).exists(a=>a===t)},fp=Sv(0),Xy=Sv(1),Ev=["none","copy","link","move"],om=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],ib=()=>{const t=new window.DataTransfer;let o="move",n="all";const a={get dropEffect(){return o},set dropEffect(i){ao(Ev,i)&&(o=i)},get effectAllowed(){return n},set effectAllowed(i){zf(a)&&ao(om,i)&&(n=i)},get items(){return((i,c)=>({...c,get length(){return c.length},add:(d,u)=>{if(fp(i)){if(!Ve(d))return c.add(d);if(!bo(u))return c.add(d,u)}return null},remove:d=>{fp(i)&&c.remove(d)},clear:()=>{fp(i)&&c.clear()}}))(a,t.items)},get files(){return Xy(a)?Object.freeze({length:0,item:i=>null}):t.files},get types(){return t.types},setDragImage:(i,c,d)=>{var u;fp(a)&&(u={image:i,x:c,y:d},a[Si]=u,t.setDragImage(i,c,d))},getData:i=>Xy(a)?"":t.getData(i),setData:(i,c)=>{fp(a)&&t.setData(i,c)},clearData:i=>{fp(a)&&t.clearData(i)}};return Fk(a),a},s4=(t,o)=>t.setData("text/html",o),i4="x-tinymce/html",Lk=Rt(i4),Ik="<!-- "+i4+" -->",hO=t=>Ik+t,TT=t=>t.indexOf(Ik)!==-1,Jy="%MCEPASTEBIN%",l4=t=>t.dom.get("mcepastebin"),bO=t=>$e(t)&&t.id==="mcepastebin",AT=t=>t===Jy,OT=(t,o)=>(to.each(o,n=>{t=Mo(n,RegExp)?t.replace(n,""):t.replace(n[0],n[1])}),t),NT=t=>OT(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,n,a)=>n||a?ms:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),MT=(t,o)=>({content:t,cancelled:o}),c4=(t,o)=>(t.insertContent(o,{merge:H0(t),paste:!0}),!0),d4=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),yO=(t,o,n)=>!(t.selection.isCollapsed()||!d4(o))&&((a,i,c)=>(a.undoManager.extra(()=>{c(a,i)},()=>{a.execCommand("mceInsertLink",!1,i)}),!0))(t,o,n),vO=(t,o,n)=>!!((a,i)=>d4(i)&&yo(Tl(a),c=>Se(i.toLowerCase(),`.${c.toLowerCase()}`)))(t,o)&&((a,i,c)=>(a.undoManager.extra(()=>{c(a,i)},()=>{a.insertContent('<img src="'+i+'">')}),!0))(t,o,n),xO=(t=>{let o=0;return()=>"mceclip"+o++})(),DT=t=>{const o=ib();return s4(o,t),Cv(o),o},u4=(t,o,n,a,i)=>{const c=((d,u,f)=>((y,v,k)=>{const E=((N,P,O)=>N.dispatch("PastePreProcess",{content:P,internal:O}))(y,v,k),B=((N,P)=>{const O=ff({sanitize:hh(N),sandbox_iframes:U0(N),sandbox_iframes_exclusions:Zg(N),convert_unsafe_embeds:ix(N)},N.schema);O.addNodeFilter("meta",G=>{to.each(G,Y=>{Y.remove()})});const V=O.parse(P,{forced_root_block:!1,isRootContent:!0});return ep({validate:!0},N.schema).serialize(V)})(y,E.content);return y.hasEventListeners("PastePostProcess")&&!E.isDefaultPrevented()?((N,P,O)=>{const V=N.dom.create("div",{style:"display:none"},P),G=((Y,ae,ee)=>Y.dispatch("PastePostProcess",{node:ae,internal:ee}))(N,V,O);return MT(G.node.innerHTML,G.isDefaultPrevented())})(y,B,k):MT(B,E.isDefaultPrevented())})(d,u,f))(t,o,n);if(!c.cancelled){const d=c.content,u=()=>((f,y,v)=>{v||!Ip(f)?c4(f,y):((k,E)=>{to.each([yO,vO,c4],B=>!B(k,E,c4))})(f,y)})(t,d,a);i?Cg(t,"insertFromPaste",{dataTransfer:DT(d)}).isDefaultPrevented()||(u(),Su(t,"insertFromPaste")):u()}},zv=(t,o,n,a)=>{const i=n||TT(o);u4(t,(c=>c.replace(Ik,""))(o),i,!1,a)},Pk=(t,o,n)=>{const a=t.dom.encode(o).replace(/\r\n/g,`
`),i=((c,d,u)=>{const f=c.split(/\n\n/),y=((E,B)=>{let N="<"+E;const P=Gr(B,(O,V)=>V+'="'+Ru.encodeAllRaw(O)+'"');return P.length&&(N+=" "+P.join(" ")),N+">"})(d,u),v="</"+d+">",k=No(f,E=>E.split(/\n/).join("<br />"));return k.length===1?k[0]:No(k,E=>y+E+v).join("")})(Pa(a,Hp(t)),Ji(t),Mp(t));u4(t,i,!1,!0,n)},m4=t=>{const o={};if(t&&t.types)for(let n=0;n<t.types.length;n++){const a=t.types[n];try{o[a]=t.getData(a)}catch{o[a]=""}}return o},hp=(t,o)=>o in t&&t[o].length>0,g4=t=>hp(t,"text/html")||hp(t,"text/plain"),RT=(t,o,n)=>{const a=o.type==="paste"?o.clipboardData:o.dataTransfer;var i;if(Lp(t)&&a){const c=((d,u)=>{const f=u.items?at(Fo(u.items),v=>v.kind==="file"?[v.getAsFile()]:[]):[],y=u.files?Fo(u.files):[];return et(f.length>0?f:y,(v=>{const k=Tl(v);return E=>Te(E.type,"image/")&&yo(k,B=>(N=>{const P=N.toLowerCase(),O={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return to.hasOwn(O,P)?"image/"+O[P]:"image/"+P})(B)===E.type)})(d))})(t,a);if(c.length>0)return o.preventDefault(),(i=c,Promise.all(No(i,d=>Q2(d).then(u=>({file:d,uri:u}))))).then(d=>{n&&t.selection.setRng(n),_e(d,u=>{((f,y)=>{fw(y.uri).each(({data:v,type:k,base64Encoded:E})=>{const B=E?v:btoa(v),N=y.file,P=f.editorUpload.blobCache,O=P.getByData(B,k),V=O??((G,Y,ae,ee)=>{const we=xO(),je=gl(G)&&$e(ae.name),Pe=je?((Fe,Ue)=>{const ot=Ue.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return $e(ot)?Fe.dom.encode(ot[1]):void 0})(G,ae.name):we,rt=je?ae.name:void 0,Mt=Y.create(we,ae,ee,Pe,rt);return Y.add(Mt),Mt})(f,P,N,B);zv(f,`<img src="${V.blobUri()}">`,!1,!0)})})(t,u)})}),!0}return!1},p4=(t,o,n,a,i)=>{let c=NT(n);const d=hp(o,Lk())||TT(n),u=!d&&(y=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(y))(c),f=d4(c);(AT(c)||!c.length||u&&!f)&&(a=!0),(a||f)&&(c=hp(o,"text/plain")&&u?o["text/plain"]:(y=>{const v=hc(),k=ff({},v);let E="";const B=v.getVoidElements(),N=to.makeMap("script noscript style textarea video audio iframe object"," "),P=v.getBlockElements(),O=V=>{const G=V.name,Y=V;if(G!=="br"){if(G!=="wbr")if(B[G]&&(E+=" "),N[G])E+=" ";else{if(V.type===3&&(E+=V.value),!(V.name in v.getVoidElements())){let ae=V.firstChild;if(ae)do O(ae);while(ae=ae.next)}P[G]&&Y.next&&(E+=`
`,G==="p"&&(E+=`
`))}}else E+=`
`};return y=OT(y,[/<!\[[^\]]+\]>/g]),O(k.parse(y)),E})(c)),AT(c)||(a?Pk(t,c,i):zv(t,c,d,i))},BT=(t,o,n)=>{((a,i,c)=>{let d;a.on("keydown",u=>{(f=>hn.metaKeyPressed(f)&&f.keyCode===86||f.shiftKey&&f.keyCode===45)(u)&&!u.isDefaultPrevented()&&(d=u.shiftKey&&u.keyCode===86)}),a.on("paste",u=>{if(u.isDefaultPrevented()||(v=>{var k,E;return Xn.os.isAndroid()&&((E=(k=v.clipboardData)===null||k===void 0?void 0:k.items)===null||E===void 0?void 0:E.length)===0})(u))return;const f=c.get()==="text"||d;d=!1;const y=m4(u.clipboardData);!g4(y)&&RT(a,u,i.getLastRng()||a.selection.getRng())||(hp(y,"text/html")?(u.preventDefault(),p4(a,y,y["text/html"],f,!0)):hp(y,"text/plain")&&hp(y,"text/uri-list")?(u.preventDefault(),p4(a,y,y["text/plain"],f,!0)):(i.create(),bu.setEditorTimeout(a,()=>{const v=i.getHtml();i.remove(),p4(a,y,v,f,!1)},0)))})})(t,o,n),(a=>{const i=d=>Te(d,"webkit-fake-url"),c=d=>Te(d,"data:");a.parser.addNodeFilter("img",(d,u,f)=>{if(!Lp(a)&&(y=>{var v;return((v=y.data)===null||v===void 0?void 0:v.paste)===!0})(f))for(const y of d){const v=y.attr("src");Ve(v)&&!y.attr("data-mce-object")&&v!==Xn.transparentSrc&&(i(v)||!jp(a)&&c(v))&&y.remove()}})})(t)},FT=(t,o,n,a)=>{((i,c,d)=>{if(!i)return!1;try{return i.clearData(),i.setData("text/html",c),i.setData("text/plain",d),i.setData(Lk(),c),!0}catch{return!1}})(t.clipboardData,o.html,o.text)?(t.preventDefault(),a()):n(o.html,a)},LT=t=>(o,n)=>{const{dom:a,selection:i}=t,c=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=a.create("div",{contenteditable:"true"},o);a.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(d),a.add(t.getBody(),c);const u=i.getRng();d.focus();const f=a.createRng();f.selectNodeContents(d),i.setRng(f),bu.setEditorTimeout(t,()=>{i.setRng(u),a.remove(c),n()},0)},f4=t=>({html:hO(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),h4=t=>!t.selection.isCollapsed()||(o=>!!o.dom.getParent(o.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",o.getBody()))(t),IT=(t,o)=>{var n,a;return Oh.getCaretRangeFromPoint((n=o.clientX)!==null&&n!==void 0?n:0,(a=o.clientY)!==null&&a!==void 0?a:0,t.getDoc())},b4=(t,o)=>{t.focus(),o&&t.selection.setRng(o)},PT=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,HT=t=>to.trim(t).replace(PT,Ad).toLowerCase(),wO=(t,o,n)=>{const a=rx(t);if(n||a==="all"||!Xb(t))return o;const i=a?a.split(/[, ]/):[];if(i&&a!=="none"){const c=t.dom,d=t.selection.getNode();o=o.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(u,f,y,v)=>{const k=c.parseStyle(c.decode(y)),E={};for(let N=0;N<i.length;N++){const P=k[i[N]];let O=P,V=c.getStyle(d,i[N],!0);/color/.test(i[N])&&(O=HT(O),V=HT(V)),V!==O&&(E[i[N]]=P)}const B=c.serializeStyle(E,"span");return B?f+' style="'+B+'"'+v:f+v})}else o=o.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return o=o.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,d,u,f)=>d+' style="'+u+'"'+f),o},kO=t=>{const o=as(!1),n=as(Pp(t)?"text":"html"),a=(i=>{const c=as(null);return{create:()=>((d,u)=>{const{dom:f,selection:y}=d,v=d.getBody();u.set(y.getRng());const k=f.add(d.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Jy);Xn.browser.isFirefox()&&f.setStyle(k,"left",f.getStyle(v,"direction",!0)==="rtl"?65535:-65535),f.bind(k,"beforedeactivate focusin focusout",E=>{E.stopPropagation()}),k.focus(),y.select(k,!0)})(i,c),remove:()=>((d,u)=>{const f=d.dom;if(l4(d)){let y;const v=u.get();for(;y=l4(d);)f.remove(y),f.unbind(y);v&&d.selection.setRng(v)}u.set(null)})(i,c),getEl:()=>l4(i),getHtml:()=>(d=>{const u=d.dom,f=(E,B)=>{E.appendChild(B),u.remove(B,!0)},[y,...v]=et(d.getBody().childNodes,bO);_e(v,E=>{f(y,E)});const k=u.select("div[id=mcepastebin]",y);for(let E=k.length-1;E>=0;E--){const B=u.create("div");y.insertBefore(B,k[E]),f(B,k[E])}return y?y.innerHTML:""})(i),getLastRng:c.get}})(t);(i=>{(Xn.browser.isChromium()||Xn.browser.isSafari())&&((c,d)=>{c.on("PastePreProcess",u=>{u.content=d(c,u.content,u.internal)})})(i,wO)})(t),((i,c)=>{i.addCommand("mceTogglePlainTextPaste",()=>{((d,u)=>{u.get()==="text"?(u.set("html"),I_(d,!1)):(u.set("text"),I_(d,!0)),d.focus()})(i,c)}),i.addCommand("mceInsertClipboardContent",(d,u)=>{u.html&&zv(i,u.html,u.internal,!1),u.text&&Pk(i,u.text,!1)})})(t,n),(i=>{const c=f=>y=>{f(i,y)},d=Kb(i);ge(d)&&i.on("PastePreProcess",c(d));const u=Yb(i);ge(u)&&i.on("PastePostProcess",c(u))})(t),t.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),t.on("PreInit",()=>{(i=>{i.on("cut",(c=>d=>{!d.isDefaultPrevented()&&h4(c)&&c.selection.isEditable()&&FT(d,f4(c),LT(c),()=>{if(Xn.browser.isChromium()||Xn.browser.isFirefox()){const u=c.selection.getRng();bu.setEditorTimeout(c,()=>{c.selection.setRng(u),c.execCommand("Delete")},0)}else c.execCommand("Delete")})})(i)),i.on("copy",(c=>d=>{!d.isDefaultPrevented()&&h4(c)&&FT(d,f4(c),LT(c),go)})(i))})(t),((i,c)=>{C_(i)&&i.on("dragend dragover draggesture dragdrop drop drag",d=>{d.preventDefault(),d.stopPropagation()}),Lp(i)||i.on("drop",d=>{const u=d.dataTransfer;u&&(f=>yo(f.files,y=>/^image\//.test(y.type)))(u)&&d.preventDefault()}),i.on("drop",d=>{if(d.isDefaultPrevented())return;const u=IT(i,d);if(ue(u))return;const f=m4(d.dataTransfer),y=hp(f,Lk());if((!g4(f)||(N=>{const P=N["text/plain"];return!!P&&P.indexOf("file://")===0})(f))&&RT(i,d,u))return;const v=f[Lk()],k=v||f["text/html"]||f["text/plain"],E=((N,P,O,V)=>{const G=N.getParent(O,Y=>ha(P,Y));if(!Ae(N.getParent(O,"summary")))return!0;if(G&&jo(V,"text/html")){const Y=new DOMParser().parseFromString(V["text/html"],"text/html").body;return!Ae(Y.querySelector(G.nodeName.toLowerCase()))}return!1})(i.dom,i.schema,u.startContainer,f),B=c.get();B&&!E||k&&(d.preventDefault(),bu.setEditorTimeout(i,()=>{i.undoManager.transact(()=>{(v||B&&E)&&i.execCommand("Delete"),b4(i,u);const N=NT(k);f["text/html"]?zv(i,N,y,!0):Pk(i,N,!0)})}))}),i.on("dragstart",d=>{c.set(!0)}),i.on("dragover dragend",d=>{Lp(i)&&!c.get()&&(d.preventDefault(),b4(i,IT(i,d))),d.type==="dragend"&&c.set(!1)}),(d=>{d.on("input",u=>{const f=y=>Ae(y.querySelector("summary"));if(u.inputType==="deleteByDrag"){const y=et(d.dom.select("details"),f);_e(y,v=>{fa(v.firstChild)&&v.firstChild.remove();const k=d.dom.create("summary");k.appendChild(Gm().dom),v.prepend(k)})}})})(i)})(t,o),BT(t,a,n)})},_O=fa,jT=vo,Hk=t=>Kr(t.dom),y4=t=>o=>Wr(Ze(t),o),v4=(t,o)=>Bl(Ze(t),Hk,y4(o)),x4=(t,o,n)=>{const a=new Ws(t,o),i=n?a.next.bind(a):a.prev.bind(a);let c=t;for(let d=n?t:i();d&&!_O(d);d=i())Md(d)&&(c=d);return c},CO=t=>{const o=((n,a,i)=>{const c=Ut.fromRangeStart(n).getNode(),d=((v,k,E)=>Bl(Ze(v),B=>(N=>_a(N.dom))(B)||E.isBlock(ur(B)),y4(k)).getOr(Ze(k)).dom)(c,a,i),u=x4(c,d,!1),f=x4(c,d,!0),y=document.createRange();return v4(u,d).fold(()=>{jT(u)?y.setStart(u,0):y.setStartBefore(u)},v=>y.setStartBefore(v.dom)),v4(f,d).fold(()=>{jT(f)?y.setEnd(f,f.data.length):y.setEndAfter(f)},v=>y.setEndAfter(v.dom)),y})(t.selection.getRng(),t.getBody(),t.schema);t.selection.setRng(lw(o))};var Qy;(function(t){t.Before="before",t.After="after"})(Qy||(Qy={}));const VT=(t,o)=>Math.abs(t.left-o),SO=(t,o)=>Math.abs(t.right-o),w4=(t,o)=>(n=>fe(n,(a,i)=>a.fold(()=>F.some(i),c=>{const d=Math.min(i.left,c.left),u=Math.min(i.top,c.top),f=Math.max(i.right,c.right),y=Math.max(i.bottom,c.bottom);return F.some({top:u,right:f,bottom:y,left:d,width:f-d,height:y-u})}),F.none()))(et(t,n=>{return(a=o)>=(i=n).top&&a<=i.bottom;var a,i})).fold(()=>[[],t],n=>{const{pass:a,fail:i}=Ct(t,c=>((d,u)=>{const f=((y,v)=>Math.max(0,Math.min(y.bottom,v.bottom)-Math.max(y.top,v.top)))(d,u)/Math.min(d.height,u.height);return((y,v)=>y.top<v.bottom&&y.bottom>v.top)(d,u)&&f>.5})(c,n));return[a,i]}),$T=(t,o,n)=>o>t.left&&o<t.right?0:Math.min(Math.abs(t.left-o),Math.abs(t.right-o)),k4=(t,o,n,a)=>{const i=v=>Md(v.node)?F.some(v):bn(v.node)?k4(Fo(v.node.childNodes),o,n,!1):F.none(),c=(v,k)=>{const E=Oo(v,(B,N)=>k(B,o,n)-k(N,o,n));return on(E,i).map(B=>a&&!vo(B.node)&&E.length>1?((N,P,O)=>i(P).filter(V=>Math.abs(O(N,o,n)-O(V,o,n))<2&&vo(V.node)))(B,E[1],k).getOr(B):B)},[d,u]=w4(Yw(t),n),{pass:f,fail:y}=Ct(u,v=>v.top<n);return c(d,$T).orThunk(()=>c(y,Xf)).orThunk(()=>c(f,Xf))},Zi=(t,o,n)=>((a,i,c)=>{const d=Ze(a),u=xl(d),f=Fm(u,i,c).filter(y=>ci(d,y)).getOr(d);return((y,v,k,E)=>{const B=(N,P)=>{const O=et(N.dom.childNodes,gt(V=>bn(V)&&V.classList.contains("mce-drag-container")));return P.fold(()=>k4(O,k,E,!0),V=>{const G=et(O,Y=>Y!==V.dom);return k4(G,k,E,!0)}).orThunk(()=>(Wr(N,y)?F.none():le(N)).bind(V=>B(V,F.some(N))))};return B(v,F.none())})(d,f,i,c)})(t,o,n).filter(a=>vh(a.node)).map(a=>((i,c)=>({node:i.node,position:VT(i,c)<SO(i,c)?Qy.Before:Qy.After}))(a,o)),Rm=t=>{var o,n;const a=t.getBoundingClientRect(),i=t.ownerDocument,c=i.documentElement,d=i.defaultView;return{top:a.top+((o=d==null?void 0:d.scrollY)!==null&&o!==void 0?o:0)-c.clientTop,left:a.left+((n=d==null?void 0:d.scrollX)!==null&&n!==void 0?n:0)-c.clientLeft}},UT=t=>({target:t,srcElement:t}),EO=(t,o,n,a)=>{const i=((c,d)=>{const u=(f=>{const y=ib(),v=(k=>{const E=k;return F.from(E[kv])})(f);return Cv(f),r4(y),y.dropEffect=f.dropEffect,y.effectAllowed=f.effectAllowed,(k=>{const E=k;return F.from(E[Si])})(f).each(k=>y.setDragImage(k.image,k.x,k.y)),_e(f.types,k=>{k!=="Files"&&y.setData(k,f.getData(k))}),_e(f.files,k=>y.items.add(k)),(k=>{const E=k;return F.from(E[n4])})(f).each(k=>{((E,B)=>{Rk(B)(E)})(y,k)}),v.each(k=>{Bk(f,k),Bk(y,k)}),y})(c);return d==="dragstart"?(r4(u),Fk(u)):d==="drop"?(a4(u),Cv(u)):(ET(u),zT(u)),u})(n,t);return bo(a)?((c,d,u)=>{const f=Bt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:c,composedPath:f,initEvent:f,preventDefault:go,stopImmediatePropagation:go,stopPropagation:go,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:f,initMouseEvent:f,getModifierState:f,dataTransfer:u,...UT(d)}})(t,o,i):((c,d,u,f)=>({...d,dataTransfer:f,type:c,...UT(u)}))(t,a,o,i)},ZT=Kr,qT=((...t)=>o=>{for(let n=0;n<t.length;n++)if(t[n](o))return!0;return!1})(ZT,_a),e0=(t,o,n,a)=>{const i=t.dom,c=o.cloneNode(!0);i.setStyles(c,{width:n,height:a}),i.setAttrib(c,"data-mce-selected",null);const d=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:a}),i.setStyles(c,{margin:0,boxSizing:"border-box"}),d.appendChild(c),d},jk=(t,o)=>n=>()=>{const a=t==="left"?n.scrollX:n.scrollY;n.scroll({[t]:a+o,behavior:"smooth"})},nm=jk("left",-32),WT=jk("left",32),GT=jk("top",-32),_4=jk("top",32),C4=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},Tv=(t,o,n,a,i)=>{o==="dragstart"&&s4(a,t.dom.getOuterHTML(n));const c=EO(o,n,a,i);return t.dispatch(o,c)},S4=(t,o)=>{const n=Yt((i,c)=>((d,u,f)=>{d._selectionOverrides.hideFakeCaret(),Zi(d.getBody(),u,f).fold(()=>d.selection.placeCaretAt(u,f),y=>{const v=d._selectionOverrides.showCaret(1,y.node,y.position===Qy.Before,!1);v?d.selection.setRng(v):d.selection.placeCaretAt(u,f)})})(o,i,c),0);o.on("remove",n.cancel);const a=t;return i=>t.on(c=>{const d=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&d>10){const y=Tv(o,"dragstart",c.element,c.dataTransfer,i);if($e(y.dataTransfer)&&(c.dataTransfer=y.dataTransfer),y.isDefaultPrevented())return;c.dragging=!0,o.focus()}if(c.dragging){const y=i.currentTarget===o.getDoc().documentElement,v=((k,E)=>({pageX:E.pageX-k.relX,pageY:E.pageY+5}))(c,((k,E)=>{return B=(O=>O.inline?Rm(O.getBody()):{left:0,top:0})(k),N=(O=>{const V=O.getBody();return O.inline?{left:V.scrollLeft,top:V.scrollTop}:{left:0,top:0}})(k),P=((O,V)=>{if(V.target.ownerDocument!==O.getDoc()){const G=Rm(O.getContentAreaContainer()),Y=(ae=>{const ee=ae.getBody(),we=ae.getDoc().documentElement,je={left:ee.scrollLeft,top:ee.scrollTop},Pe={left:ee.scrollLeft||we.scrollLeft,top:ee.scrollTop||we.scrollTop};return ae.inline?je:Pe})(O);return{left:V.pageX-G.left+Y.left,top:V.pageY-G.top+Y.top}}return{left:V.pageX,top:V.pageY}})(k,E),{pageX:P.left-B.left+N.left,pageY:P.top-B.top+N.top};var B,N,P})(o,i));u=c.ghost,f=o.getBody(),u.parentNode!==f&&f.appendChild(u),((k,E,B,N,P,O,V,G,Y,ae,ee,we)=>{let je=0,Pe=0;k.style.left=E.pageX+"px",k.style.top=E.pageY+"px",E.pageX+B>P&&(je=E.pageX+B-P),E.pageY+N>O&&(Pe=E.pageY+N-O),k.style.width=B-je+"px",k.style.height=N-Pe+"px";const rt=Y.clientHeight,Mt=Y.clientWidth,Fe=V+Y.getBoundingClientRect().top,Ue=G+Y.getBoundingClientRect().left;ee.on(ot=>{ot.intervalId.clear(),ot.dragging&&we&&(V+8>=rt?ot.intervalId.set(_4(ae)):V-8<=0?ot.intervalId.set(GT(ae)):G+8>=Mt?ot.intervalId.set(WT(ae)):G-8<=0?ot.intervalId.set(nm(ae)):Fe+16>=window.innerHeight?ot.intervalId.set(_4(window)):Fe-16<=0?ot.intervalId.set(GT(window)):Ue+16>=window.innerWidth?ot.intervalId.set(WT(window)):Ue-16<=0&&ot.intervalId.set(nm(window)))})})(c.ghost,v,c.width,c.height,c.maxX,c.maxY,i.clientY,i.clientX,o.getContentAreaContainer(),o.getWin(),a,y),n.throttle(i.clientX,i.clientY)}var u,f})},Bm=(t,o,n)=>{t.on(a=>{a.intervalId.clear(),a.dragging&&n.fold(()=>Tv(o,"dragend",a.element,a.dataTransfer),i=>Tv(o,"dragend",a.element,a.dataTransfer,i))}),E4(t)},E4=t=>{t.on(o=>{o.intervalId.clear(),C4(o.ghost)}),t.clear()},KT=t=>{const o=cl(),n=Ar.DOM,a=document,i=((f,y)=>v=>{if((k=>k.button===0)(v)){const k=ke(y.dom.getParents(v.target),qT).getOr(null);if($e(k)&&((E,B,N)=>ZT(N)&&N!==B&&E.isEditable(N.parentElement))(y.dom,y.getBody(),k)){const E=y.dom.getPos(k),B=y.getBody(),N=y.getDoc().documentElement;f.set({element:k,dataTransfer:ib(),dragging:!1,screenX:v.screenX,screenY:v.screenY,maxX:(y.inline?B.scrollWidth:N.offsetWidth)-2,maxY:(y.inline?B.scrollHeight:N.offsetHeight)-2,relX:v.pageX-E.x,relY:v.pageY-E.y,width:k.offsetWidth,height:k.offsetHeight,ghost:e0(y,k,k.offsetWidth,k.offsetHeight),intervalId:Di(100)})}}})(o,t),c=S4(o,t),d=((f,y)=>v=>{f.on(k=>{var E;if(k.intervalId.clear(),k.dragging){if(((B,N,P)=>!ue(N)&&N!==P&&!B.dom.isChildOf(N,P)&&B.dom.isEditable(N))(y,(B=>{const N=B.getSel();if($e(N)){const P=N.getRangeAt(0).startContainer;return vo(P)?P.parentNode:P}return null})(y.selection),k.element)){const B=(E=y.getDoc().elementFromPoint(v.clientX,v.clientY))!==null&&E!==void 0?E:y.getBody();Tv(y,"drop",B,k.dataTransfer,v).isDefaultPrevented()||y.undoManager.transact(()=>{((N,P)=>{const O=N.getParent(P.parentNode,N.isBlock);C4(P),O&&O!==N.getRoot()&&N.isEmpty(O)&&Hu(Ze(O))})(y.dom,k.element),(N=>{const P=N.getData("text/html");return P===""?F.none():F.some(P)})(k.dataTransfer).each(N=>y.insertContent(N)),y._selectionOverrides.hideFakeCaret()})}Tv(y,"dragend",y.getBody(),k.dataTransfer,v)}}),E4(f)})(o,t),u=((f,y)=>v=>Bm(f,y,F.some(v)))(o,t);t.on("mousedown",i),t.on("mousemove",c),t.on("mouseup",d),n.bind(a,"mousemove",c),n.bind(a,"mouseup",u),t.on("remove",()=>{n.unbind(a,"mousemove",c),n.unbind(a,"mouseup",u)}),t.on("keydown",f=>{f.keyCode===hn.ESC&&Bm(o,t,F.none())})},Tf=Kr,Vk=(t,o)=>cf(t.getBody(),o),YT=t=>{const o=t.selection,n=t.dom,a=t.getBody(),i=$p(t,a,n.isBlock,()=>Nh(t)),c="sel-"+n.uniqueId(),d="data-mce-selected";let u;const f=O=>O!==a&&(Tf(O)||js(O))&&n.isChildOf(O,a)&&n.isEditable(O.parentNode),y=(O,V,G,Y=!0)=>t.dispatch("ShowCaret",{target:V,direction:O,before:G}).isDefaultPrevented()?null:(Y&&o.scrollIntoView(V,O===-1),i.show(G,V)),v=O=>ul(O)||Yf(O)||Ig(O),k=O=>v(O.startContainer)||v(O.endContainer),E=O=>{const V=t.schema.getVoidElements(),G=n.createRng(),Y=O.startContainer,ae=O.startOffset,ee=O.endContainer,we=O.endOffset;return jo(V,Y.nodeName.toLowerCase())?ae===0?G.setStartBefore(Y):G.setStartAfter(Y):G.setStart(Y,ae),jo(V,ee.nodeName.toLowerCase())?we===0?G.setEndBefore(ee):G.setEndAfter(ee):G.setEnd(ee,we),G},B=(O,V)=>{if(!O)return null;if(O.collapsed){if(!k(O)){const ee=V?1:-1,we=Gp(ee,a,O),je=we.getNode(!V);if($e(je)){if(vh(je))return y(ee,je,!!V&&!we.isAtEnd(),!1);if(jc(je)&&Kr(je.nextSibling)){const rt=n.createRng();return rt.setStart(je,0),rt.setEnd(je,0),rt}}const Pe=we.getNode(V);if($e(Pe)){if(vh(Pe))return y(ee,Pe,!V&&!we.isAtEnd(),!1);if(jc(Pe)&&Kr(Pe.previousSibling)){const rt=n.createRng();return rt.setStart(Pe,1),rt.setEnd(Pe,1),rt}}}return null}let G=O.startContainer,Y=O.startOffset;const ae=O.endOffset;if(vo(G)&&Y===0&&Tf(G.parentNode)&&(G=G.parentNode,Y=n.nodeIndex(G),G=G.parentNode),!bn(G))return null;if(ae===Y+1&&G===O.endContainer){const ee=G.childNodes[Y];if(f(ee))return(we=>{const je=we.cloneNode(!0),Pe=t.dispatch("ObjectSelected",{target:we,targetClone:je});if(Pe.isDefaultPrevented())return null;const rt=((Fe,Ue)=>{const ot=Ze(t.getBody()),Qt=t.getDoc(),Do=vd(ot,"#"+c).getOrThunk(()=>{const Tn=Rl('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Qt);return be(Tn,"id",c),us(ot,Tn),Tn}),Ao=n.createRng();Nc(Do),wd(Do,[Oc(ms,Qt),Ze(Ue),Oc(ms,Qt)]),Ao.setStart(Do.dom.firstChild,1),Ao.setEnd(Do.dom.lastChild,0),Ti(Do,{top:n.getPos(Fe,t.getBody()).y+"px"}),l1(Do);const vn=o.getSel();return vn&&(vn.removeAllRanges(),vn.addRange(Ao)),Ao})(we,Pe.targetClone),Mt=Ze(we);return _e(Ss(Ze(t.getBody()),`*[${d}]`),Fe=>{Wr(Mt,Fe)||ne(Fe,d)}),n.getAttrib(we,d)||we.setAttribute(d,"1"),u=we,P(),rt})(ee)}return null},N=()=>{u&&u.removeAttribute(d),vd(Ze(t.getBody()),"#"+c).each(ca),u=null},P=()=>{i.hide()};return _c(t)||(t.on("click",O=>{n.isEditable(O.target)||(O.preventDefault(),t.focus())}),t.on("blur NewBlock",N),t.on("ResizeWindow FullscreenStateChanged",i.reposition),t.on("tap",O=>{const V=O.target,G=Vk(t,V);Tf(G)?(O.preventDefault(),My(t,G).each(B)):f(V)&&My(t,V).each(B)},!0),t.on("mousedown",O=>{const V=O.target;if(V!==a&&V.nodeName!=="HTML"&&!n.isChildOf(V,a)||!((Y,ae,ee)=>{const we=Ze(Y.getBody()),je=Y.inline?we:Ze(xl(we).dom.documentElement),Pe=((rt,Mt,Fe,Ue)=>{const ot=(Qt=>Qt.dom.getBoundingClientRect())(Mt);return{x:Fe-(rt?ot.left+Mt.dom.clientLeft+Nw(Mt):0),y:Ue-(rt?ot.top+Mt.dom.clientTop+QE(Mt):0)}})(Y.inline,je,ae,ee);return((rt,Mt,Fe)=>{const Ue=W1(rt),ot=JE(rt);return Mt>=0&&Fe>=0&&Mt<=Ue&&Fe<=ot})(je,Pe.x,Pe.y)})(t,O.clientX,O.clientY))return;N(),P();const G=Vk(t,V);Tf(G)?(O.preventDefault(),My(t,G).each(B)):Zi(a,O.clientX,O.clientY).each(Y=>{var ae;O.preventDefault(),(ae=y(1,Y.node,Y.position===Qy.Before,!1))&&o.setRng(ae),Hs(G)?G.focus():t.getBody().focus()})}),t.on("keypress",O=>{hn.modifierPressed(O)||Tf(o.getNode())&&O.preventDefault()}),t.on("GetSelectionRange",O=>{let V=O.range;if(u){if(!u.parentNode)return void(u=null);V=V.cloneRange(),V.selectNode(u),O.range=V}}),t.on("SetSelectionRange",O=>{O.range=E(O.range);const V=B(O.range,O.forward);V&&(O.range=V)}),t.on("AfterSetSelectionRange",O=>{const V=O.range,G=V.startContainer.parentElement;var Y;k(V)||bn(Y=G)&&Y.id==="mcepastebin"||P(),(ae=>$e(ae)&&n.hasClass(ae,"mce-offscreen-selection"))(G)||N()}),(O=>{KT(O),mh(O)&&(V=>{const G=ee=>{if(!ee.isDefaultPrevented()){const we=ee.dataTransfer;we&&(ao(we.types,"Files")||we.files.length>0)&&(ee.preventDefault(),ee.type==="drop"&&hf(V,"Dropped file type is not supported"))}},Y=ee=>{u1(V,ee.target)&&G(ee)},ae=()=>{const ee=Ar.DOM,we=V.dom,je=document,Pe=V.inline?V.getBody():V.getDoc(),rt=["drop","dragover"];_e(rt,Mt=>{ee.bind(je,Mt,Y),we.bind(Pe,Mt,G)}),V.on("remove",()=>{_e(rt,Mt=>{ee.unbind(je,Mt,Y),we.unbind(Pe,Mt,G)})})};V.on("init",()=>{bu.setEditorTimeout(V,ae,0)})})(O)})(t),(O=>{const V=Yt(()=>{if(!O.removed&&O.getBody().contains(document.activeElement)){const G=O.selection.getRng();if(G.collapsed){const Y=Q1(O,G,!1);O.selection.setRng(Y)}}},0);O.on("focus",()=>{V.throttle()}),O.on("blur",()=>{V.cancel()})})(t),(O=>{O.on("init",()=>{O.on("focusin",V=>{const G=V.target;if(js(G)){const Y=cf(O.getBody(),G),ae=Kr(Y)?Y:G;O.selection.getNode()!==ae&&My(O,ae).each(ee=>O.selection.setRng(ee))}})})})(t)),{showCaret:y,showBlockCaretContainer:O=>{O.hasAttribute("data-mce-caret")&&(id(O),o.scrollIntoView(O))},hideFakeCaret:P,destroy:()=>{i.destroy(),u=null}}},XT=(t,o)=>{let n=o;for(let a=t.previousSibling;vo(a);a=a.previousSibling)n+=a.data.length;return n},z4=(t,o,n,a,i)=>{if(vo(n)&&(a<0||a>n.data.length))return[];const c=i&&vo(n)?[XT(n,a)]:[a];let d=n;for(;d!==o&&d.parentNode;)c.push(t.nodeIndex(d,i)),d=d.parentNode;return d===o?c.reverse():[]},T4=(t,o,n,a,i,c,d=!1)=>({start:z4(t,o,n,a,d),end:z4(t,o,i,c,d)}),JT=(t,o)=>{const n=o.slice(),a=n.pop();return mt(a)?fe(n,(i,c)=>i.bind(d=>F.from(d.childNodes[c])),F.some(t)).bind(i=>vo(i)&&(a<0||a>i.data.length)?F.none():F.some({node:i,offset:a})):F.none()},QT=(t,o)=>JT(t,o.start).bind(({node:n,offset:a})=>JT(t,o.end).map(({node:i,offset:c})=>{const d=document.createRange();return d.setStart(n,a),d.setEnd(i,c),d})),lb=(t,o,n)=>{if(o&&t.isEmpty(o)&&!n(o)){const a=o.parentNode;t.remove(o,vo(o.firstChild)&&tc(o.firstChild.data)),lb(t,a,n)}},Av=(t,o,n,a=!0)=>{const i=o.startContainer.parentNode,c=o.endContainer.parentNode;o.deleteContents(),a&&!n(o.startContainer)&&(vo(o.startContainer)&&o.startContainer.data.length===0&&t.remove(o.startContainer),vo(o.endContainer)&&o.endContainer.data.length===0&&t.remove(o.endContainer),lb(t,i,n),i!==c&&lb(t,c,n))},$k=(t,o)=>F.from(t.dom.getParent(o.startContainer,t.dom.isBlock)),Ov=(t,o,n)=>{const a=t.dynamicPatternsLookup({text:n,block:o});return{...t,blockPatterns:Bb(a).concat(t.blockPatterns),inlinePatterns:ym(a).concat(t.inlinePatterns)}},Uk=(t,o,n,a)=>{const i=t.createRng();return i.setStart(o,0),i.setEnd(n,a),i.toString()},eA=(t,o)=>t.create("span",{"data-mce-type":"bookmark",id:o}),Nv=(t,o)=>{const n=t.createRng();return n.setStartAfter(o.start),n.setEndBefore(o.end),n},tA=(t,o,n)=>{const a=QT(t.getRoot(),n).getOrDie("Unable to resolve path range"),i=a.startContainer,c=a.endContainer,d=a.endOffset===0?c:c.splitText(a.endOffset),u=a.startOffset===0?i:i.splitText(a.startOffset),f=u.parentNode;return{prefix:o,end:d.parentNode.insertBefore(eA(t,o+"-end"),d),start:f.insertBefore(eA(t,o+"-start"),u)}},Hl=(t,o,n)=>{lb(t,t.get(o.prefix+"-end"),n),lb(t,t.get(o.prefix+"-start"),n)},A4=t=>t.start.length===0,oA=(t,o,n,a)=>{const i=o.start;var c;return CS(t,a.container,a.offset,(c=i,(d,u)=>{const f=d.data.substring(0,u),y=f.lastIndexOf(c.charAt(c.length-1)),v=f.lastIndexOf(c);return v!==-1?v+c.length:y!==-1?y+1:-1}),n).bind(d=>{var u,f;const y=(f=(u=n.textContent)===null||u===void 0?void 0:u.indexOf(i))!==null&&f!==void 0?f:-1;if(y!==-1&&d.offset>=y+i.length){const v=t.createRng();return v.setStart(d.container,d.offset-i.length),v.setEnd(d.container,d.offset),F.some(v)}{const v=d.offset-i.length;return _S(d.container,v,n).map(k=>{const E=t.createRng();return E.setStart(k.container,k.offset),E.setEnd(d.container,d.offset),E}).filter(k=>k.toString()===i).orThunk(()=>oA(t,o,n,Gd(d.container,0)))}})},zO=(t,o,n,a)=>{const i=t.dom,c=i.getRoot(),d=n.pattern,u=n.position.container,f=n.position.offset;return _S(u,f-n.pattern.end.length,o).bind(y=>{const v=T4(i,c,y.container,y.offset,u,f,a);if(A4(d))return F.some({matches:[{pattern:d,startRng:v,endRng:v}],position:y});{const k=Zk(t,n.remainingPatterns,y.container,y.offset,o,a),E=k.getOr({matches:[],position:y}),B=E.position;return((P,O,V,G,Y,ae=!1)=>{if(O.start.length===0&&!ae){const ee=P.createRng();return ee.setStart(V,G),ee.setEnd(V,G),F.some(ee)}return kS(V,G,Y).bind(ee=>oA(P,O,Y,ee).bind(we=>{var je;return ae&&(we.endContainer===ee.container&&we.endOffset===ee.offset||ee.offset===0&&((je=we.endContainer.textContent)===null||je===void 0?void 0:je.length)===we.endOffset)?F.none():F.some(we)}))})(i,d,B.container,B.offset,o,k.isNone()).map(P=>{const O=((V,G,Y,ae=!1)=>T4(V,G,Y.startContainer,Y.startOffset,Y.endContainer,Y.endOffset,ae))(i,c,P,a);return{matches:E.matches.concat([{pattern:d,startRng:O,endRng:v}]),position:Gd(P.startContainer,P.startOffset)}})}})},Zk=(t,o,n,a,i,c)=>{const d=t.dom;return kS(n,a,d.getRoot()).bind(u=>{const f=Uk(d,i,n,a);for(let y=0;y<o.length;y++){const v=o[y];if(!Se(f,v.end))continue;const k=o.slice();k.splice(y,1);const E=zO(t,i,{pattern:v,remainingPatterns:k,position:u},c);if(E.isNone()&&a>0)return Zk(t,o,n,a-1,i,c);if(E.isSome())return E}return F.none()})},Mv=(t,o,n)=>{t.selection.setRng(n),o.type==="inline-format"?_e(o.format,a=>{t.formatter.apply(a)}):t.execCommand(o.cmd,!1,o.value)},nA=(t,o,n,a,i,c)=>{var d;return((u,f)=>{const y=_t(u,v=>yo(f,k=>v.pattern.start===k.pattern.start&&v.pattern.end===k.pattern.end));return u.length===f.length?y?u:f:u.length>f.length?u:f})(Zk(t,i.inlinePatterns,n,a,o,c).fold(()=>[],u=>u.matches),Zk(t,(d=i.inlinePatterns,Oo(d,(u,f)=>f.end.length-u.end.length)),n,a,o,c).fold(()=>[],u=>u.matches))},qk=(t,o)=>{if(o.length===0)return;const n=t.dom,a=t.selection.getBookmark(),i=((c,d)=>{const u=sd("mce_textpattern"),f=ye(d,(y,v)=>{const k=tA(c,u+`_end${y.length}`,v.endRng);return y.concat([{...v,endMarker:k}])},[]);return ye(f,(y,v)=>{const k=f.length-y.length-1,E=A4(v.pattern)?v.endMarker:tA(c,u+`_start${k}`,v.startRng);return y.concat([{...v,startMarker:E}])},[])})(n,o);_e(i,c=>{const d=n.getParent(c.startMarker.start,n.isBlock),u=f=>f===d;A4(c.pattern)?((f,y,v,k)=>{const E=Nv(f.dom,v);Av(f.dom,E,k),Mv(f,y,E)})(t,c.pattern,c.endMarker,u):((f,y,v,k,E)=>{const B=f.dom,N=Nv(B,k),P=Nv(B,v);Av(B,P,E),Av(B,N,E);const O={prefix:v.prefix,start:v.end,end:k.start},V=Nv(B,O);Mv(f,y,V)})(t,c.pattern,c.startMarker,c.endMarker,u),Hl(n,c.endMarker,u),Hl(n,c.startMarker,u)}),t.selection.moveToBookmark(a)},Wk=(t,o,n)=>((a,i,c)=>{if(vo(a)&&0>=a.length)return F.some(Gd(a,0));{const d=Iu(Qh);return F.from(d.forwards(a,0,uk(a),c)).map(u=>Gd(u.container,0))}})(o,0,o).map(a=>{const i=a.container;return Zz(i,n.start.length,o).each(c=>{const d=t.createRng();d.setStart(i,0),d.setEnd(c.container,c.offset),Av(t,d,u=>u===o)}),i}),rA=t=>(o,n)=>{const a=o.dom,i=n.pattern,c=QT(a.getRoot(),n.range).getOrDie("Unable to resolve path range");return $k(o,c).each(d=>{i.type==="block-format"?((u,f)=>{const y=f.get(u);return uo(y)&&vt(y).exists(v=>jo(v,"block"))})(i.format,o.formatter)&&o.undoManager.transact(()=>{t(o.dom,d,i),o.formatter.apply(i.format)}):i.type==="block-command"&&o.undoManager.transact(()=>{t(o.dom,d,i),o.execCommand(i.cmd,!1,i.value)})}),!0},aA=t=>(o,n)=>{const a=(c=>Oo(c,(d,u)=>u.start.length-d.start.length))(o),i=n.replace(ms," ");return ke(a,c=>t(c,n,i))},rm=(t,o)=>(n,a,i,c,d)=>{var u;d===void 0&&(d=(u=a.textContent)!==null&&u!==void 0?u:"");const f=n.dom,y=Ji(n);return f.is(a,y)?t(i.blockPatterns,d).map(v=>o&&to.trim(d).length===v.start.length?[]:[{pattern:v,range:T4(f,f.getRoot(),a,0,a,0,c)}]).getOr([]):[]},sA=rA((t,o,n)=>{Wk(t,o,n).each(a=>{const i=Ze(a),c=Ea(i);/^\s[^\s]/.test(c)&&Sl(i,c.slice(1))})}),TO=aA((t,o,n)=>o.indexOf(t.start)===0||n.indexOf(t.start)===0),O4=rm(TO,!0),iA=rA(Wk),Gk=aA((t,o,n)=>o===t.start||n===t.start),lA=rm(Gk,!1),N4=(t,o,n)=>{for(let a=0;a<t.length;a++)if(n(t[a],o))return!0;return!1},cA=t=>{const o=[",",".",";",":","!","?"],n=[32],a=()=>{return d=Jb(t).filter(f=>f.type!=="inline-command"&&f.type!=="block-command"||t.queryCommandSupported(f.cmd)),u=ph(t),{inlinePatterns:ym(d),blockPatterns:Bb(d),dynamicPatternsLookup:u};var d,u},i=()=>(d=>d.options.isSet("text_patterns_lookup"))(t);t.on("keydown",d=>{if(d.keyCode===13&&!hn.modifierPressed(d)&&t.selection.isCollapsed()&&t.selection.isEditable()){const u=ii(a(),"enter");(u.inlinePatterns.length>0||u.blockPatterns.length>0||i())&&((f,y)=>((v,k)=>{const E=v.selection.getRng();return $k(v,E).map(B=>{var N;const P=Math.max(0,E.startOffset),O=Ov(k,B,(N=B.textContent)!==null&&N!==void 0?N:"");return{inlineMatches:nA(v,B,E.startContainer,P,O,!0),blockMatches:O4(v,B,O,!0)}}).filter(({inlineMatches:B,blockMatches:N})=>N.length>0||B.length>0)})(f,y).fold(So,({inlineMatches:v,blockMatches:k})=>(f.undoManager.add(),f.undoManager.extra(()=>{f.execCommand("mceInsertNewLine")},()=>{(N=>{N.insertContent(Fi,{preserve_zwsp:!0})})(f),qk(f,v),((N,P)=>{if(P.length===0)return;const O=N.selection.getBookmark();_e(P,V=>sA(N,V)),N.selection.moveToBookmark(O)})(f,k);const E=f.selection.getRng(),B=kS(E.startContainer,E.startOffset,f.dom.getRoot());f.execCommand("mceInsertNewLine"),B.each(N=>{const P=N.container;P.data.charAt(N.offset-1)===_d&&(P.deleteData(N.offset-1,1),lb(f.dom,P.parentNode,O=>O===f.dom.getRoot()))})}),!0)))(t,u)&&d.preventDefault()}},!0),t.on("keydown",d=>{if(d.keyCode===32&&t.selection.isCollapsed()&&t.selection.isEditable()){const u=ii(a(),"space");(u.blockPatterns.length>0||i())&&((f,y)=>((v,k)=>{const E=v.selection.getRng();return $k(v,E).map(B=>{const N=Math.max(0,E.startOffset),P=Uk(v.dom,B,E.startContainer,N),O=Ov(k,B,P);return lA(v,B,O,!1,P)}).filter(B=>B.length>0)})(f,y).fold(So,v=>(f.undoManager.transact(()=>{((k,E)=>{_e(E,B=>iA(k,B))})(f,v)}),!0)))(t,u)&&d.preventDefault()}},!0);const c=()=>{if(t.selection.isCollapsed()&&t.selection.isEditable()){const d=ii(a(),"space");(d.inlinePatterns.length>0||i())&&((u,f)=>{const y=u.selection.getRng();$k(u,y).map(v=>{const k=Math.max(0,y.startOffset-1),E=Uk(u.dom,v,y.startContainer,k),B=Ov(f,v,E),N=nA(u,v,y.startContainer,k,B,!1);N.length>0&&u.undoManager.transact(()=>{qk(u,N)})})})(t,d)}};t.on("keyup",d=>{N4(n,d,(u,f)=>u===f.keyCode&&!hn.modifierPressed(f))&&c()}),t.on("keypress",d=>{N4(o,d,(u,f)=>u.charCodeAt(0)===f.charCode)&&bu.setEditorTimeout(t,c)})},AO=t=>{const o=to.each,n=hn.BACKSPACE,a=hn.DELETE,i=t.dom,c=t.selection,d=t.parser,u=Xn.browser,f=u.isFirefox(),y=u.isChromium()||u.isSafari(),v=Xn.deviceType.isiPhone()||Xn.deviceType.isiPad(),k=Xn.os.isMacOS()||Xn.os.isiOS(),E=(Fe,Ue)=>{try{t.getDoc().execCommand(Fe,!1,String(Ue))}catch{}},B=Fe=>Fe.isDefaultPrevented(),N=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},P=()=>{t.inline||i.bind(t.getDoc(),"mousedown mouseup",Fe=>{let Ue;if(Fe.target===t.getDoc().documentElement)if(Ue=c.getRng(),t.getBody().focus(),Fe.type==="mousedown"){if(ul(Ue.startContainer))return;c.placeCaretAt(Fe.clientX,Fe.clientY)}else c.setRng(Ue)})},O=()=>{Range.prototype.getClientRects||t.on("mousedown",Fe=>{if(!B(Fe)&&Fe.target.nodeName==="HTML"){const Ue=t.getBody();Ue.blur(),bu.setEditorTimeout(t,()=>{Ue.focus()})}})},V=()=>{const Fe=Wb(t);t.on("click",Ue=>{const ot=Ue.target;/^(IMG|HR)$/.test(ot.nodeName)&&i.isEditable(ot)&&(Ue.preventDefault(),t.selection.select(ot),t.nodeChanged()),ot.nodeName==="A"&&i.hasClass(ot,Fe)&&ot.childNodes.length===0&&i.isEditable(ot.parentNode)&&(Ue.preventDefault(),c.select(ot))})},G=()=>{t.on("keydown",Fe=>{if(!B(Fe)&&Fe.keyCode===n&&c.isCollapsed()&&c.getRng().startOffset===0){const Ue=c.getNode().previousSibling;if(Ue&&Ue.nodeName&&Ue.nodeName.toLowerCase()==="table")return Fe.preventDefault(),!1}return!0})},Y=()=>{I0(t)||t.on("BeforeExecCommand mousedown",()=>{E("StyleWithCSS",!1),E("enableInlineTableEditing",!1),tg(t)||E("enableObjectResizing",!1)})},ae=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ee=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},we=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",Fe=>{let Ue;Fe.target.nodeName==="HTML"&&(Ue=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(Ue),t.selection.normalize(),t.nodeChanged())}))},je=()=>{k&&t.on("keydown",Fe=>{!hn.metaKeyPressed(Fe)||Fe.shiftKey||Fe.keyCode!==37&&Fe.keyCode!==39||(Fe.preventDefault(),t.selection.getSel().modify("move",Fe.keyCode===37?"backward":"forward","lineboundary"))})},Pe=()=>{t.on("click",Fe=>{let Ue=Fe.target;do if(Ue.tagName==="A")return void Fe.preventDefault();while(Ue=Ue.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},rt=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",Fe=>{Fe.preventDefault()})})},Mt=go;return _c(t)?(y&&(P(),V(),rt(),N(),v&&(ee(),we(),Pe())),f&&(O(),Y(),ae(),je())):(t.on("keydown",Fe=>{if(B(Fe)||Fe.keyCode!==hn.BACKSPACE)return;let Ue=c.getRng();const ot=Ue.startContainer,Qt=Ue.startOffset,Do=i.getRoot();let Ao=ot;if(Ue.collapsed&&Qt===0){for(;Ao.parentNode&&Ao.parentNode.firstChild===Ao&&Ao.parentNode!==Do;)Ao=Ao.parentNode;Ao.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,Ao),Ue=i.createRng(),Ue.setStart(ot,0),Ue.setEnd(ot,0),c.setRng(Ue))}}),(()=>{const Fe=Ue=>{const ot=i.create("body"),Qt=Ue.cloneContents();return ot.appendChild(Qt),c.serializer.serialize(ot,{format:"html"})};t.on("keydown",Ue=>{const ot=Ue.keyCode;if(!B(Ue)&&(ot===a||ot===n)&&t.selection.isEditable()){const Qt=t.selection.isCollapsed(),Do=t.getBody();if(Qt&&!kl(t.schema,Do)||!Qt&&!(Ao=>{const vn=Fe(Ao),Tn=i.createRng();return Tn.selectNode(t.getBody()),vn===Fe(Tn)})(t.selection.getRng()))return;Ue.preventDefault(),t.setContent(""),Do.firstChild&&i.isBlock(Do.firstChild)?t.selection.setCursorLocation(Do.firstChild,0):t.selection.setCursorLocation(Do,0),t.nodeChanged()}})})(),Xn.windowsPhone||t.on("keyup focusin mouseup",Fe=>{hn.modifierPressed(Fe)||(Ue=>{const ot=Ue.getBody(),Qt=Ue.selection.getRng();return Qt.startContainer===Qt.endContainer&&Qt.startContainer===ot&&Qt.startOffset===0&&Qt.endOffset===ot.childNodes.length})(t)||c.normalize()},!0),y&&(P(),V(),t.on("init",()=>{E("DefaultParagraphSeparator",Ji(t))}),rt(),G(),d.addNodeFilter("br",Fe=>{let Ue=Fe.length;for(;Ue--;)Fe[Ue].attr("class")==="Apple-interchange-newline"&&Fe[Ue].remove()}),v?(ee(),we(),Pe()):N()),f&&(t.on("keydown",Fe=>{if(!B(Fe)&&Fe.keyCode===n){if(!t.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const Ue=c.getNode(),ot=Ue.previousSibling;if(Ue.nodeName==="HR")return i.remove(Ue),void Fe.preventDefault();ot&&ot.nodeName&&ot.nodeName.toLowerCase()==="hr"&&(i.remove(ot),Fe.preventDefault())}}}),O(),(()=>{const Fe=()=>{const ot=i.getAttribs(c.getStart().cloneNode(!1));return()=>{const Qt=c.getStart();Qt!==t.getBody()&&(i.setAttrib(Qt,"style",null),o(ot,Do=>{Qt.setAttributeNode(Do.cloneNode(!0))}))}},Ue=()=>!c.isCollapsed()&&i.getParent(c.getStart(),i.isBlock)!==i.getParent(c.getEnd(),i.isBlock);t.on("keypress",ot=>{let Qt;return!(!(B(ot)||ot.keyCode!==8&&ot.keyCode!==46)&&Ue()&&(Qt=Fe(),t.getDoc().execCommand("delete",!1),Qt(),ot.preventDefault(),1))}),i.bind(t.getDoc(),"cut",ot=>{if(!B(ot)&&Ue()){const Qt=Fe();bu.setEditorTimeout(t,()=>{Qt()})}})})(),Y(),t.on("SetContent ExecCommand",Fe=>{Fe.type!=="setcontent"&&Fe.command!=="mceInsertLink"||o(i.select("a:not([data-mce-block])"),Ue=>{var ot;let Qt=Ue.parentNode;const Do=i.getRoot();if((Qt==null?void 0:Qt.lastChild)===Ue){for(;Qt&&!i.isBlock(Qt);){if(((ot=Qt.parentNode)===null||ot===void 0?void 0:ot.lastChild)!==Qt||Qt===Do)return;Qt=Qt.parentNode}i.add(Qt,"br",{"data-mce-bogus":1})}})}),ae(),je(),G())),{refreshContentEditable:Mt,isHidden:()=>{if(!f||t.removed)return!1;const Fe=t.selection.getSel();return!Fe||!Fe.rangeCount||Fe.rangeCount===0}}},M4=Ar.DOM,D4=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,R4=t=>Ft(t,o=>bo(o)===!1),dA=t=>{const o=t.options.get,n=t.editorUpload.blobCache;return R4({allow_conditional_comments:o("allow_conditional_comments"),allow_html_data_urls:o("allow_html_data_urls"),allow_svg_data_urls:o("allow_svg_data_urls"),allow_html_in_named_anchor:o("allow_html_in_named_anchor"),allow_script_urls:o("allow_script_urls"),allow_mathml_annotation_encodings:o("allow_mathml_annotation_encodings"),allow_unsafe_link_target:o("allow_unsafe_link_target"),convert_unsafe_embeds:o("convert_unsafe_embeds"),convert_fonts_to_spans:o("convert_fonts_to_spans"),fix_list_elements:o("fix_list_elements"),font_size_legacy_values:o("font_size_legacy_values"),forced_root_block:o("forced_root_block"),forced_root_block_attrs:o("forced_root_block_attrs"),preserve_cdata:o("preserve_cdata"),inline_styles:o("inline_styles"),root_name:D4(t),sandbox_iframes:o("sandbox_iframes"),sandbox_iframes_exclusions:Zg(t),sanitize:o("xss_sanitization"),validate:!0,blob_cache:n,document:t.getDoc()})},Dv=t=>{const o=t.options.get;return R4({custom_elements:o("custom_elements"),extended_valid_elements:o("extended_valid_elements"),invalid_elements:o("invalid_elements"),invalid_styles:o("invalid_styles"),schema:o("schema"),valid_children:o("valid_children"),valid_classes:o("valid_classes"),valid_elements:o("valid_elements"),valid_styles:o("valid_styles"),verify_html:o("verify_html"),padd_empty_block_inline_children:o("format_empty_lines")})},Rv=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,Kk=t=>{const o=Rv(t),n=zl(t),a=t.contentCSS,i=()=>{o.unloadAll(a),t.inline||t.ui.styleSheetLoader.unloadAll(n)},c=()=>{t.removed?i():t.on("remove",i)};if(t.contentStyles.length>0){let f="";to.each(t.contentStyles,y=>{f+=y+`\r
`}),t.dom.addStyle(f)}const d=Promise.all(((f,y,v)=>{const{pass:k,fail:E}=Ct(y,P=>tinymce.Resource.has(Dw(P))),B=k.map(P=>{const O=tinymce.Resource.get(Dw(P));return Ve(O)?Promise.resolve(Rv(f).loadRawCss(P,O)):Promise.resolve()}),N=[...B,Rv(f).loadAll(E)];return f.inline?N:N.concat([f.ui.styleSheetLoader.loadAll(v)])})(t,a,n)).then(c).catch(c),u=ud(t);return u&&((f,y)=>{const v=Ze(f.getBody()),k=wl(_i(v)),E=Is("style");be(E,"type","text/css"),us(E,Oc(y)),us(k,E),f.on("remove",()=>{ca(E)})})(t,u),d},Yk=t=>{t.removed!==!0&&((o=>{_c(o)||o.load({initial:!0,format:"html"}),o.startContent=o.getContent({format:"raw"})})(t),(o=>{o.bindPendingEventDelegates(),o.initialized=!0,(a=>{a.dispatch("Init")})(o),o.focus(!0),(a=>{const i=a.dom.getRoot();a.inline||hl(a)&&a.selection.getStart(!0)!==i||Zt(i).each(c=>{const d=c.getNode(),u=oo(d)?Zt(d).getOr(c):c;a.selection.setRng(u.toRange())})})(o),o.nodeChanged({initial:!0});const n=gh(o);ge(n)&&n.call(o,o),(a=>{const i=ox(a);i&&bu.setEditorTimeout(a,()=>{let c;c=i===!0?a:a.editorManager.get(i),c&&!c.destroyed&&(c.focus(),c.selection.scrollIntoView())},100)})(o)})(t))},bp=t=>{const o=t.getElement();let n=t.getDoc();t.inline&&(M4.addClass(o,"mce-content-body"),t.contentDocument=n=document,t.contentWindow=window,t.bodyElement=o,t.contentAreaContainer=o);const a=t.getBody();a.disabled=!0,t.readonly=I0(t),t._editableRoot=ex(t),t.hasEditableRoot()&&(t.inline&&M4.getStyle(a,"position",!0)==="static"&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,t.editorUpload=nz(t),t.schema=hc(Dv(t)),t.dom=Ar(n,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:sh(t),referrerPolicy:Hb(t),onSetAttrib:d=>{t.dispatch("SetAttrib",d)}}),t.parser=(d=>{const u=ff(dA(d),d.schema);return u.addAttributeFilter("src,href,style,tabindex",(f,y)=>{const v=d.dom,k="data-mce-"+y;let E=f.length;for(;E--;){const B=f[E];let N=B.attr(y);if(N&&!B.attr(k)){if(N.indexOf("data:")===0||N.indexOf("blob:")===0)continue;y==="style"?(N=v.serializeStyle(v.parseStyle(N),B.name),N.length||(N=null),B.attr(k,N),B.attr(y,N)):y==="tabindex"?(B.attr(k,N),B.attr(y,null)):B.attr(k,d.convertURL(N,y,B.name))}}}),u.addNodeFilter("script",f=>{let y=f.length;for(;y--;){const v=f[y],k=v.attr("type")||"no/type";k.indexOf("mce-")!==0&&v.attr("type","mce-"+k)}}),rg(d)&&u.addNodeFilter("#cdata",f=>{var y;let v=f.length;for(;v--;){const k=f[v];k.type=8,k.name="#comment",k.value="[CDATA["+d.dom.encode((y=k.value)!==null&&y!==void 0?y:"")+"]]"}}),u.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",f=>{let y=f.length;const v=d.schema.getNonEmptyElements();for(;y--;){const k=f[y];k.isEmpty(v)&&k.getAll("br").length===0&&k.append(new kc("br",1))}}),u})(t),t.serializer=Aw((d=>{const u=d.options.get;return{...dA(d),...Dv(d),...R4({remove_trailing_brs:u("remove_trailing_brs"),pad_empty_with_br:u("pad_empty_with_br"),url_converter:u("url_converter"),url_converter_scope:u("url_converter_scope"),element_format:u("element_format"),entities:u("entities"),entity_encoding:u("entity_encoding"),indent:u("indent"),indent_after:u("indent_after"),indent_before:u("indent_before")})}})(t),t),t.selection=qh(t.dom,t.getWin(),t.serializer,t),t.annotator=f3(t),t.formatter=Fw(t),t.undoManager=Om(t),t._nodeChangeDispatcher=new fO(t),t._selectionOverrides=YT(t),(d=>{const u=cl(),f=as(!1),y=lo(v=>{d.dispatch("longpress",{...v,type:"longpress"}),f.set(!0)},400);d.on("touchstart",v=>{rS(v).each(k=>{y.cancel();const E={x:k.clientX,y:k.clientY,target:v.target};y.throttle(v),f.set(!1),u.set(E)})},!0),d.on("touchmove",v=>{y.cancel(),rS(v).each(k=>{u.on(E=>{((B,N)=>{const P=Math.abs(B.clientX-N.x),O=Math.abs(B.clientY-N.y);return P>5||O>5})(k,E)&&(u.clear(),f.set(!1),d.dispatch("longpresscancel"))})})},!0),d.on("touchend touchcancel",v=>{y.cancel(),v.type!=="touchcancel"&&u.get().filter(k=>k.target.isEqualNode(v.target)).each(()=>{f.get()?v.preventDefault():d.dispatch("tap",{...v,type:"tap"})})},!0)})(t),(d=>{(u=>{u.on("click",f=>{u.dom.getParent(f.target,"details")&&f.preventDefault()})})(d),(u=>{u.parser.addNodeFilter("details",f=>{const y=ax(u);_e(f,v=>{y==="expanded"?v.attr("open","open"):y==="collapsed"&&v.attr("open",null)})}),u.serializer.addNodeFilter("details",f=>{const y=sx(u);_e(f,v=>{y==="expanded"?v.attr("open","open"):y==="collapsed"&&v.attr("open",null)})})})(d)})(t),(d=>{const u="contenteditable",f=" "+to.trim(Ug(d))+" ",y=" "+to.trim(Vp(d))+" ",v=sS(f),k=sS(y),E=fh(d);E.length>0&&d.on("BeforeSetContent",B=>{((N,P,O)=>{let V=P.length,G=O.content;if(O.format!=="raw"){for(;V--;)G=G.replace(P[V],Lz(N,G,Vp(N)));O.content=G}})(d,E,B)}),d.parser.addAttributeFilter("class",B=>{let N=B.length;for(;N--;){const P=B[N];v(P)?P.attr(u,"true"):k(P)&&P.attr(u,"false")}}),d.serializer.addAttributeFilter(u,B=>{let N=B.length;for(;N--;){const P=B[N];if(!v(P)&&!k(P))continue;const O=P.attr("data-mce-content");E.length>0&&O?mp(E,O)?(P.name="#text",P.type=3,P.raw=!0,P.value=O):P.remove():P.attr(u,null)}})})(t),_c(t)||((d=>{d.on("mousedown",u=>{u.detail>=3&&(u.preventDefault(),CO(d))})})(t),(d=>{cA(d)})(t));const i=pO(t);((d,u)=>{d.addCommand("delete",()=>{((f,y)=>{Jh(f,y,!1).fold(()=>{f.selection.isEditable()&&(v1(f),lf(f))},$t)})(d,u)}),d.addCommand("forwardDelete",()=>{((f,y)=>{Jh(f,y,!0).fold(()=>{f.selection.isEditable()&&f2(f)},$t)})(d,u)})})(t,i),(d=>{d.on("NodeChange",()=>(u=>{const f=u.dom,y=u.selection,v=u.schema,k=v.getBlockElements(),E=y.getStart(),B=u.getBody();let N,P,O=null;const V=Ji(u);if(!E||!bn(E))return;const G=B.nodeName.toLowerCase();if(!v.isValidChild(G,V.toLowerCase())||((ae,ee,we)=>yo(H3(Ze(we),Ze(ee)),je=>rk(ae,je.dom)))(k,B,E))return;if(B.firstChild===B.lastChild&&fa(B.firstChild))return N=sk(u),N.appendChild(Gm().dom),B.replaceChild(N,B.firstChild),u.selection.setCursorLocation(N,0),void u.nodeChanged();let Y=B.firstChild;for(;Y;)if(bn(Y)&&In(v,Y),Fz(v,Y)){if(ak(k,Y)){P=Y,Y=Y.nextSibling,f.remove(P);continue}if(!N){if(!O&&u.hasFocus()&&(O=gz(u.selection.getRng(),()=>document.createElement("span"))),!Y.parentNode){Y=null;break}N=sk(u),B.insertBefore(N,Y)}P=Y,Y=Y.nextSibling,N.appendChild(P)}else N=null,Y=Y.nextSibling;O&&(u.selection.setRng(pz(O)),u.nodeChanged())})(d))})(t),(d=>{var u;const f=d.dom,y=Ji(d),v=(u=R0(d))!==null&&u!==void 0?u:"",k=(E,B)=>{if((O=>{if(Lw(O)){const V=O.keyCode;return!TC(O)&&(hn.metaKeyPressed(O)||O.altKey||V>=112&&V<=123||ao(zC,V))}return!1})(E))return;const N=d.getBody(),P=!(O=>Lw(O)&&!(TC(O)||O.type==="keyup"&&O.keyCode===229))(E)&&((O,V,G)=>{if(O.isEmpty(V,void 0,{skipBogus:!1,includeZwsp:!0})){const Y=V.firstElementChild;return!Y||!O.getStyle(V.firstElementChild,"padding-left")&&!O.getStyle(V.firstElementChild,"padding-right")&&G===Y.nodeName.toLowerCase()}return!1})(f,N,y);(f.getAttrib(N,J1)!==""!==P||B)&&(f.setAttrib(N,J1,P?v:null),((O,V)=>{O.dispatch("PlaceholderToggle",{state:V})})(d,P),d.on(P?"keydown":"keyup",k),d.off(P?"keyup":"keydown",k))};Ln(v)&&d.on("init",E=>{k(E,!0),d.on("change SetContent ExecCommand",k),d.on("paste",B=>bu.setEditorTimeout(d,()=>k(B)))})})(t),kO(t);const c=(d=>{const u=d;return(f=>yr(f.plugins,"rtc").bind(y=>F.from(y.setup)))(d).fold(()=>(u.rtcInstance=j1(d),F.none()),f=>(u.rtcInstance=(()=>{const y=Rt(null),v=Rt("");return{init:{bindEvents:go},undoManager:{beforeChange:go,add:y,undo:y,redo:y,clear:go,reset:go,hasUndo:So,hasRedo:So,transact:y,ignore:go,extra:go},formatter:{match:So,matchAll:Rt([]),matchNode:Rt(void 0),canApply:So,closest:v,apply:go,remove:go,toggle:go,formatChanged:Rt({unbind:go})},editor:{getContent:v,setContent:Rt({content:"",html:""}),insertContent:Rt(""),addVisual:go},selection:{getContent:v},autocompleter:{addDecoration:go,removeDecoration:go},raw:{getModel:Rt(F.none())}}})(),F.some(()=>f().then(y=>(u.rtcInstance=(v=>{const k=Y=>ut(Y)?Y:{},{init:E,undoManager:B,formatter:N,editor:P,selection:O,autocompleter:V,raw:G}=v;return{init:{bindEvents:E.bindEvents},undoManager:{beforeChange:B.beforeChange,add:B.add,undo:B.undo,redo:B.redo,clear:B.clear,reset:B.reset,hasUndo:B.hasUndo,hasRedo:B.hasRedo,transact:(Y,ae,ee)=>B.transact(ee),ignore:(Y,ae)=>B.ignore(ae),extra:(Y,ae,ee,we)=>B.extra(ee,we)},formatter:{match:(Y,ae,ee,we)=>N.match(Y,k(ae),we),matchAll:N.matchAll,matchNode:N.matchNode,canApply:Y=>N.canApply(Y),closest:Y=>N.closest(Y),apply:(Y,ae,ee)=>N.apply(Y,k(ae)),remove:(Y,ae,ee,we)=>N.remove(Y,k(ae)),toggle:(Y,ae,ee)=>N.toggle(Y,k(ae)),formatChanged:(Y,ae,ee,we,je)=>N.formatChanged(ae,ee,we,je)},editor:{getContent:Y=>P.getContent(Y),setContent:(Y,ae)=>({content:P.setContent(Y,ae),html:""}),insertContent:(Y,ae)=>(P.insertContent(Y),""),addVisual:P.addVisual},selection:{getContent:(Y,ae)=>O.getContent(ae)},autocompleter:{addDecoration:V.addDecoration,removeDecoration:V.removeDecoration},raw:{getModel:()=>F.some(G.getRawModel())}}})(y),y.rtc.isRemote)))))})(t);(d=>{const u=d.getDoc(),f=d.getBody();(k=>{k.dispatch("PreInit")})(d),P0(d)||(u.body.spellcheck=!1,M4.setAttrib(f,"spellcheck","false")),d.quirks=AO(d),(k=>{k.dispatch("PostRender")})(d);const y=lh(d);y!==void 0&&(f.dir=y);const v=__(d);v&&d.on("BeforeSetContent",k=>{to.each(v,E=>{k.content=k.content.replace(E,B=>"<!--mce:protected "+escape(B)+"-->")})}),d.on("SetContent",()=>{d.addVisual(d.getBody())}),d.on("compositionstart compositionend",k=>{d.composing=k.type==="compositionstart"})})(t),(d=>{const u=bh(d);Ve(qg(d))||!bo(u)&&(f=>(y=>y.toLowerCase()==="gpl")(f)||(y=>y.length>=64&&y.length<=255)(f)?"VALID":"INVALID")(u)!=="INVALID"||console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")})(t),c.fold(()=>{const d=(u=>{let f=!1;const y=setTimeout(()=>{f||u.setProgressState(!0)},500);return()=>{clearTimeout(y),f=!0,u.setProgressState(!1)}})(t);Kk(t).then(()=>{Yk(t),d()})},d=>{t.setProgressState(!0),Kk(t).then(()=>{d().then(u=>{t.setProgressState(!1),Yk(t),zy(t)},u=>{t.notificationManager.open({type:"error",text:String(u)}),Yk(t),zy(t)})})})},OO=Dt,B4=Ar.DOM,Bv=Ar.DOM,F4=(t,o)=>({editorContainer:t,iframeContainer:o,api:{}}),L4=t=>{const o=t.getElement();return t.inline?F4(null):(n=>{const a=Bv.create("div");return Bv.insertAfter(a,n),F4(a,a)})(o)},uA=async t=>{t.dispatch("ScriptsLoaded"),(n=>{const a=to.trim(O0(n)),i=n.ui.registry.getAll().icons,c={...q1.get("default").icons,...q1.get(a).icons};zt(c,(d,u)=>{jo(i,u)||n.ui.registry.addIcon(u,d)})})(t),(n=>{const a=$g(n);if(Ve(a)){const i=wu.get(a);n.theme=i(n,wu.urls[a])||{},ge(n.theme.init)&&n.theme.init(n,wu.urls[a]||n.documentBaseUrl.replace(/\/$/,""))}else n.theme={}})(t),(n=>{const a=Bp(n),i=Wh.get(a);n.model=i(n,Wh.urls[a])})(t),(n=>{const a=[];_e(ng(n),i=>{((c,d,u)=>{const f=Oy.get(u),y=Oy.urls[u]||c.documentBaseUrl.replace(/\/$/,"");if(u=to.trim(u),f&&to.inArray(d,u)===-1){if(c.plugins[u])return;try{const v=f(c,y)||{};c.plugins[u]=v,ge(v.init)&&(v.init(c,y),d.push(u))}catch(v){((k,E,B)=>{const N=ie.translate(["Failed to initialize plugin: {0}",E]);B_(k,"PluginLoadError",{message:N}),G1(N,B),hf(k,N)})(c,u,v)}}})(n,a,(c=>c.replace(/^\-/,""))(i))})})(t);const o=await(n=>{const a=n.getElement();return n.orgDisplay=a.style.display,Ve($g(n))?(i=>{const c=i.theme.renderUI;return c?c():L4(i)})(n):ge($g(n))?(i=>{const c=i.getElement(),d=$g(i)(i,c);return d.editorContainer.nodeType&&(d.editorContainer.id=d.editorContainer.id||i.id+"_parent"),d.iframeContainer&&d.iframeContainer.nodeType&&(d.iframeContainer.id=d.iframeContainer.id||i.id+"_iframecontainer"),d.height=d.iframeHeight?d.iframeHeight:c.offsetHeight,d})(n):L4(n)})(t);((n,a)=>{const i={show:F.from(a.show).getOr(go),hide:F.from(a.hide).getOr(go),isEnabled:F.from(a.isEnabled).getOr(Dt),setEnabled:c=>{c&&n.mode.get()==="readonly"||F.from(a.setEnabled).each(d=>d(c))}};n.ui={...n.ui,...i}})(t,F.from(o.api).getOr({})),t.editorContainer=o.editorContainer,(n=>{n.contentCSS=n.contentCSS.concat((a=>Rw(a,Dp(a)))(n),(a=>Rw(a,zl(a)))(n))})(t),t.inline?bp(t):((n,a)=>{((i,c)=>{const d=Xn.browser.isFirefox()?Gb(i):"Rich Text Area",u=i.translate(d),f=pn(Ze(i.getElement()),"tabindex").bind(wr),y=((v,k,E,B)=>{const N=Is("iframe");return B.each(P=>be(N,"tabindex",P)),lt(N,E),lt(N,{id:v+"_ifr",frameBorder:"0",allowTransparency:"true",title:k}),Ls(N,"tox-edit-area__iframe"),N})(i.id,u,T0(i),f).dom;y.onload=()=>{y.onload=null,i.dispatch("load")},i.contentAreaContainer=c.iframeContainer,i.iframeElement=y,i.iframeHTML=(v=>{let k=Pi(v)+"<html><head>";fu(v)!==v.documentBaseUrl&&(k+='<base href="'+v.documentBaseURI.getURI()+'" />'),k+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const E=A0(v),B=Lb(v),N=v.translate(Gb(v));return Ib(v)&&(k+='<meta http-equiv="Content-Security-Policy" content="'+Ib(v)+'" />'),k+=`</head><body id="${E}" class="mce-content-body ${B}" data-id="${v.id}" aria-label="${N}"><br></body></html>`,k})(i),B4.add(c.iframeContainer,y)})(n,a),a.editorContainer&&(a.editorContainer.style.display=n.orgDisplay,n.hidden=B4.isHidden(a.editorContainer)),n.getElement().style.display="none",B4.setAttrib(n.id,"aria-hidden","true"),n.getElement().style.visibility=n.orgVisibility,(i=>{const c=i.iframeElement,d=()=>{i.contentDocument=c.contentDocument,bp(i)};if(V0(i)||Xn.browser.isFirefox()){const f=i.getDoc();f.open(),f.write(i.iframeHTML),f.close(),d()}else{const f=(u=Ze(c),kd(u,"load",OO,()=>{f.unbind(),d()}));c.srcdoc=i.iframeHTML}var u})(n)})(t,{editorContainer:o.editorContainer,iframeContainer:o.iframeContainer})},cb=Ar.DOM,mA=t=>t.charAt(0)==="-",Xk=(t,o,n)=>F.from(o).filter(a=>Ln(a)&&!q1.has(a)).map(a=>({url:`${t.editorManager.baseURL}/icons/${a}/icons${n}.js`,name:F.some(a)})),I4=(t,o)=>{const n=ad.ScriptLoader,a=()=>{!t.removed&&(i=>{const c=$g(i);return!Ve(c)||$e(wu.get(c))})(t)&&(i=>{const c=Bp(i);return $e(Wh.get(c))})(t)&&uA(t)};((i,c)=>{const d=$g(i);if(Ve(d)&&!mA(d)&&!jo(wu.urls,d)){const u=Jv(i),f=u?i.documentBaseURI.toAbsolute(u):`themes/${d}/theme${c}.js`;wu.load(d,f).catch(()=>{((y,v,k)=>{Ny(y,"ThemeLoadError",Gh("theme",v,k))})(i,f,d)})}})(t,o),((i,c)=>{const d=Bp(i);if(d!=="plugin"&&!jo(Wh.urls,d)){const u=ch(i),f=Ve(u)?i.documentBaseURI.toAbsolute(u):`models/${d}/model${c}.js`;Wh.load(d,f).catch(()=>{((y,v,k)=>{Ny(y,"ModelLoadError",Gh("model",v,k))})(i,f,d)})}})(t,o),((i,c)=>{const d=Gl(c),u=D0(c);if(!ie.hasCode(d)&&d!=="en"){const f=Ln(u)?u:`${c.editorManager.baseURL}/langs/${d}.js`;i.add(f).catch(()=>{((y,v,k)=>{Ny(y,"LanguageLoadError",Gh("language",v,k))})(c,f,d)})}})(n,t),((i,c,d)=>{const u=Xk(c,"default",d),f=(y=>F.from(Yv(y)).filter(Ln).map(v=>({url:v,name:F.none()})))(c).orThunk(()=>Xk(c,O0(c),""));_e((y=>{const v=[],k=E=>{v.push(E)};for(let E=0;E<y.length;E++)y[E].each(k);return v})([u,f]),y=>{i.add(y.url).catch(()=>{((v,k,E)=>{Ny(v,"IconsLoadError",Gh("icons",k,E))})(c,y.url,y.name.getOrUndefined())})})})(n,t,o),((i,c)=>{const d=(u,f)=>{Oy.load(u,f).catch(()=>{((y,v,k)=>{Ny(y,"PluginLoadError",Gh("plugin",v,k))})(i,f,u)})};zt(qb(i),(u,f)=>{d(f,u),i.options.set("plugins",ng(i).concat(f))}),_e(ng(i),u=>{!(u=to.trim(u))||Oy.urls[u]||mA(u)||d(u,`plugins/${u}/plugin${c}.js`)})})(t,o),n.loadQueue().then(a,a)},Jk=ia().deviceType,P4=Jk.isPhone(),Qk=Jk.isTablet(),t0=t=>{if(ue(t))return[];{const o=uo(t)?t:t.split(/[ ,]/),n=No(o,Pt);return et(n,Ln)}},gA=(t,o)=>{const n=((c,d)=>{const u={},f={};return Vr(c,(y,v)=>ao(t,v),ar(u),ar(f)),{t:u,f}})(o);return a=n.t,i=n.f,{sections:Rt(a),options:Rt(i)};var a,i},H4=(t,o)=>jo(t.sections(),o),NO=(t,o)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:yr(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...o?{menubar:!1}:{}}),j4=(t,o)=>{var n;const a=(n=o.external_plugins)!==null&&n!==void 0?n:{};return t&&t.external_plugins?to.extend({},t.external_plugins,a):a},pA=(t,o,n,a,i)=>{var c;const d=t?{mobile:NO((c=i.mobile)!==null&&c!==void 0?c:{},o)}:{},u=gA(["mobile"],AS(d,i)),f=to.extend(n,a,u.options(),((y,v)=>y&&H4(v,"mobile"))(t,u)?((y,v,k={})=>{const E=y.sections(),B=yr(E,v).getOr({});return to.extend({},k,B)})(u,"mobile"):{},{external_plugins:j4(a,u.options())});return((y,v,k,E)=>{const B=t0(k.forced_plugins),N=t0(E.plugins),P=((G,Y)=>H4(G,Y)?G.sections()[Y]:{})(v,"mobile"),O=((G,Y,ae,ee)=>G&&H4(Y,"mobile")?ee:ae)(y,v,N,P.plugins?t0(P.plugins):N),V=((G,Y)=>[...t0(G),...t0(Y)])(B,O);return to.extend(E,{forced_plugins:B,plugins:V})})(t,u,a,f)},fA=t=>{(o=>{const n=a=>()=>{_e("left,center,right,justify".split(","),i=>{a!==i&&o.formatter.remove("align"+i)}),a!=="none"&&((i,c)=>{o.formatter.toggle(i,void 0),o.nodeChanged()})("align"+a)};o.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})})(t),(o=>{const n=a=>()=>{const i=o.selection,c=i.isCollapsed()?[o.dom.getParent(i.getNode(),o.dom.isBlock)]:i.getSelectedBlocks();return yo(c,d=>$e(o.formatter.matchNode(d,a)))};o.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")})(t)},MO=(t,o)=>{const n=t.selection,a=t.dom;return/^ | $/.test(o)?((i,c,d,u)=>{const f=Ze(i.getRoot());return d=cy(f,Ut.fromRangeStart(c),u)?d.replace(/^ /,"&nbsp;"):d.replace(/^&nbsp;/," "),dy(f,Ut.fromRangeEnd(c),u)?d.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):d.replace(/&nbsp;(<br( \/)?>)?$/," ")})(a,n.getRng(),o,t.schema):o},e_=(t,o)=>{if(t.selection.isEditable()){const{content:n,details:a}=(i=>{if(typeof i!="string"){const c=to.extend({paste:i.paste,data:{paste:i.paste}},i);return{content:i.content,details:c}}return{content:i,details:{}}})(o);hC(t,{...a,content:MO(t,n),format:"html",set:!1,selection:!0}).each(i=>{const c=((d,u,f)=>hg(d).editor.insertContent(u,f))(t,i.content,a);bC(t,c,i),t.addVisual()})}},DO={"font-size":"size","font-family":"face"},hA=xo("font"),V4=t=>(o,n)=>F.from(n).map(Ze).filter(Q).bind(a=>((i,c,d)=>Hh(Ze(d),u=>(f=>eu(f,i).orThunk(()=>hA(f)?yr(DO,i).bind(y=>pn(f,y)):F.none()))(u),u=>Wr(Ze(c),u)))(t,o,a.dom).or(((i,c)=>F.from(Ar.DOM.getStyle(c,i,!0)))(t,a.dom))).getOr(""),RO=V4("font-size"),BO=Ho(t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),V4("font-family")),o0=t=>Zt(t.getBody()).bind(o=>{const n=o.container();return F.from(vo(n)?n.parentNode:n)}),$4=(t,o)=>((n,a)=>(i=>F.from(i.selection.getRng()).bind(c=>{const d=i.getBody();return c.startContainer===d&&c.startOffset===0?F.none():F.from(i.selection.getStart(!0))}))(n).orThunk(Je(o0,n)).map(Ze).filter(Q).bind(a))(t,Uo(F.some,o)),bA=(t,o)=>{if(/^[0-9.]+$/.test(o)){const n=parseInt(o,10);if(n>=1&&n<=7){const a=(c=>to.explode(c.options.get("font_size_style_values")))(t),i=(c=>to.explode(c.options.get("font_size_classes")))(t);return i.length>0?i[n-1]||o:a[n-1]||o}return o}return o},yA=t=>{const o=t.split(/\s*,\s*/);return No(o,n=>n.indexOf(" ")===-1||Te(n,'"')||Te(n,"'")?n:`'${n}'`).join(",")},U4=(t,o)=>{if(t.mode.isReadOnly())return;const n=t.dom,a=t.selection.getRng(),i=o?t.selection.getStart():t.selection.getEnd(),c=o?a.startContainer:a.endContainer,d=Ky(n,c);if(!d||!d.isContentEditable)return;const u=o?Ai:di,f=Ji(t);((y,v,k,E)=>{const B=y.dom,N=O=>B.isBlock(O)&&O.parentElement===k,P=N(v)?v:B.getParent(E,N,k);return F.from(P).map(Ze)})(t,i,d,c).each(y=>{const v=mT(t,c,y.dom,d,!1,f);u(y,Ze(v)),t.selection.setCursorLocation(v,0),t.dispatch("NewBlock",{newBlock:v}),Su(t,"insertParagraph")})},t_=t=>{fA(t),(o=>{o.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const a=o.getDoc();let i;try{a.execCommand(n)}catch{i=!0}if(n!=="paste"||a.queryCommandEnabled(n)||(i=!0),i||!a.queryCommandSupported(n)){let c=o.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Xn.os.isMacOS()||Xn.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),o.notificationManager.open({text:c,type:"error"})}}})})(t),(o=>{o.editorCommands.addCommands({mceAddUndoLevel:()=>{o.undoManager.add()},mceEndUndoLevel:()=>{o.undoManager.add()},Undo:()=>{o.undoManager.undo()},Redo:()=>{o.undoManager.redo()}})})(t),(o=>{o.editorCommands.addCommands({mceSelectNodeDepth:(n,a,i)=>{let c=0;o.dom.getParent(o.selection.getNode(),d=>!bn(d)||c++!==i||(o.selection.select(d),!1),o.getBody())},mceSelectNode:(n,a,i)=>{o.selection.select(i)},selectAll:()=>{const n=o.dom.getParent(o.selection.getStart(),_a);if(n){const a=o.dom.createRng();a.selectNodeContents(n),o.selection.setRng(a)}}})})(t),(o=>{o.editorCommands.addCommands({mceCleanup:()=>{const n=o.selection.getBookmark();o.setContent(o.getContent()),o.selection.moveToBookmark(n)},insertImage:(n,a,i)=>{e_(o,o.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{o.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,a,i)=>{e_(o,o.dom.encode(i))},insertHTML:(n,a,i)=>{e_(o,i)},mceInsertContent:(n,a,i)=>{e_(o,i)},mceSetContent:(n,a,i)=>{o.setContent(i)},mceReplaceContent:(n,a,i)=>{o.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,o.selection.getContent({format:"text"})))},mceNewDocument:()=>{o.setContent(nx(o))}})})(t),(o=>{const n=(a,i,c)=>{if(o.mode.isReadOnly())return;const d=Ve(c)?{href:c}:c,u=o.dom.getParent(o.selection.getNode(),"a");ut(d)&&Ve(d.href)&&(d.href=d.href.replace(/ /g,"%20"),u&&d.href||o.formatter.remove("link"),d.href&&o.formatter.apply("link",d,u))};o.editorCommands.addCommands({unlink:()=>{if(o.selection.isEditable()){if(o.selection.isCollapsed()){const a=o.dom.getParent(o.selection.getStart(),"a");return void(a&&o.dom.remove(a,!0))}o.formatter.remove("link")}},mceInsertLink:n,createLink:n})})(t),(o=>{o.editorCommands.addCommands({Indent:()=>{(n=>{nk(n,"indent")})(o)},Outdent:()=>{oS(o)}}),o.editorCommands.addCommands({Outdent:()=>iv(o)},"state")})(t),(o=>{o.editorCommands.addCommands({InsertNewBlockBefore:()=>{(n=>{U4(n,!0)})(o)},InsertNewBlockAfter:()=>{(n=>{U4(n,!1)})(o)}})})(t),(o=>{o.editorCommands.addCommands({insertParagraph:()=>{Ok(GS,o)},mceInsertNewLine:(n,a,i)=>{Nk(o,i)},InsertLineBreak:(n,a,i)=>{Ok(YS,o)}})})(t),(o=>{(n=>{const a=(i,c)=>{n.formatter.toggle(i,c),n.nodeChanged()};n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":i=>{a(i)},"ForeColor,HiliteColor":(i,c,d)=>{a(i,{value:d})},BackColor:(i,c,d)=>{a("hilitecolor",{value:d})},FontName:(i,c,d)=>{((u,f)=>{const y=bA(u,f);u.formatter.toggle("fontname",{value:yA(y)}),u.nodeChanged()})(n,d)},FontSize:(i,c,d)=>{((u,f)=>{u.formatter.toggle("fontsize",{value:bA(u,f)}),u.nodeChanged()})(n,d)},LineHeight:(i,c,d)=>{((u,f)=>{u.formatter.toggle("lineheight",{value:String(f)}),u.nodeChanged()})(n,d)},Lang:(i,c,d)=>{var u;a(i,{value:d.code,customValue:(u=d.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:i=>{n.formatter.remove(i)},mceBlockQuote:()=>{a("blockquote")},FormatBlock:(i,c,d)=>{a(Ve(d)?d:"p")},mceToggleFormat:(i,c,d)=>{a(d)}})})(o),(n=>{const a=i=>n.formatter.match(i);n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":i=>a(i),mceBlockQuote:()=>a("blockquote")},"state"),n.editorCommands.addQueryValueHandler("FontName",()=>(i=>$4(i,c=>BO(i.getBody(),c.dom)).getOr(""))(n)),n.editorCommands.addQueryValueHandler("FontSize",()=>(i=>$4(i,c=>RO(i.getBody(),c.dom)).getOr(""))(n)),n.editorCommands.addQueryValueHandler("LineHeight",()=>(i=>$4(i,c=>{const d=Ze(i.getBody());return Hh(c,f=>eu(f,"line-height"),Je(Wr,d)).getOrThunk(()=>{const f=parseFloat(Fl(c,"line-height")),y=parseFloat(Fl(c,"font-size"));return String(f/y)})}).getOr(""))(n))})(o)})(t),(o=>{o.editorCommands.addCommands({mceRemoveNode:(n,a,i)=>{const c=i??o.selection.getNode();if(c!==o.getBody()){const d=o.selection.getBookmark();o.dom.remove(c,!0),o.selection.moveToBookmark(d)}},mcePrint:()=>{o.getWin().print()},mceFocus:(n,a,i)=>{((c,d)=>{c.removed||(d?Px(c):(u=>{const f=u.selection,y=u.getBody();let v=f.getRng();u.quirks.refreshContentEditable();const k=B=>{Fx(B).each(N=>{B.selection.setRng(N),v=N})};!Nh(u)&&u.hasEditableRoot()&&k(u);const E=((B,N)=>B.dom.getParent(N,P=>B.dom.getContentEditable(P)==="true"))(u,f.getNode());if(E&&u.dom.isChildOf(E,y))return((B,N)=>B.dom.getParent(N,P=>B.dom.getContentEditable(P)==="false")!==null)(u,E)||g1(y),g1(E),u.hasEditableRoot()||k(u),m1(u,v),void Px(u);u.inline||(Xn.browser.isOpera()||g1(y),u.getWin().focus()),(Xn.browser.isFirefox()||u.inline)&&(g1(y),m1(u,v)),Px(u)})(c))})(o,i===!0)},mceToggleVisualAid:()=>{o.hasVisual=!o.hasVisual,o.addVisual()}})})(t)},FO=["toggleview"],vA=t=>ao(FO,t.toLowerCase());class xA{constructor(o){this.commands={state:{},exec:{},value:{}},this.editor=o}execCommand(o,n=!1,a,i){const c=this.editor,d=o.toLowerCase(),u=i==null?void 0:i.skip_focus;if(c.removed||(d!=="mcefocus"&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)||u?(y=>{Fx(y).each(v=>y.selection.setRng(v))})(c):c.focus()),c.dispatch("BeforeExecCommand",{command:o,ui:n,value:a}).isDefaultPrevented()))return!1;const f=this.commands.exec[d];return!!ge(f)&&(f(d,n,a),c.dispatch("ExecCommand",{command:o,ui:n,value:a}),!0)}queryCommandState(o){if(!vA(o)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=o.toLowerCase(),a=this.commands.state[n];return!!ge(a)&&a(n)}queryCommandValue(o){if(!vA(o)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=o.toLowerCase(),a=this.commands.value[n];return ge(a)?a(n):""}addCommands(o,n="exec"){const a=this.commands;zt(o,(i,c)=>{_e(c.toLowerCase().split(","),d=>{a[n][d]=i})})}addCommand(o,n,a){const i=o.toLowerCase();this.commands.exec[i]=(c,d,u)=>n.call(a??this.editor,d,u)}queryCommandSupported(o){const n=o.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(o,n,a){this.commands.state[o.toLowerCase()]=()=>n.call(a??this.editor)}addQueryValueHandler(o,n,a){this.commands.value[o.toLowerCase()]=()=>n.call(a??this.editor)}}const Z4=(t,o,n)=>{try{t.getDoc().execCommand(o,!1,String(n))}catch{}},wA=(t,o)=>{t.dom.contentEditable="true"},LO=(t,o)=>{const n=Ze(t.getBody());((a,i,c)=>{Dl(a,i)&&!c?Cs(a,i):c&&Ls(a,i)})(n,"mce-content-readonly",o),o?((a=>{a.readonly=!0,a.selection.controlSelection.hideResizeRect(),a._selectionOverrides.hideFakeCaret(),(i=>{F.from(i.selection.getNode()).each(c=>{c.removeAttribute("data-mce-selected")})})(a)})(t),t.hasEditableRoot()&&wA(n)):((a,i)=>{a.readonly=!1,a.hasEditableRoot()&&wA(i),((c,d)=>{Z4(c,"StyleWithCSS",d),Z4(c,"enableInlineTableEditing",d),Z4(c,"enableObjectResizing",d)})(a,!1),W_(a)&&a.focus(),(c=>{c.selection.setRng(c.selection.getRng())})(a),a.nodeChanged()})(t,n)},n0=t=>t.readonly,IO=["copy"],PO=to.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class q4{static isNative(o){return!!PO[o.toLowerCase()]}constructor(o){this.bindings={},this.settings=o||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||So}fire(o,n){return this.dispatch(o,n)}dispatch(o,n){const a=o.toLowerCase(),i=Wf(a,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const c=this.bindings[a];if(c)for(let d=0,u=c.length;d<u;d++){const f=c[d];if(!f.removed){if(f.once&&this.off(a,f.func),i.isImmediatePropagationStopped())return i;if(f.func.call(this.scope,i)===!1)return i.preventDefault(),i}}return i}on(o,n,a,i){if(n===!1&&(n=So),n){const c={func:n,removed:!1};i&&to.extend(c,i);const d=o.toLowerCase().split(" ");let u=d.length;for(;u--;){const f=d[u];let y=this.bindings[f];y||(y=[],this.toggleEvent(f,!0)),y=a?[c,...y]:[...y,c],this.bindings[f]=y}}return this}off(o,n){if(o){const a=o.toLowerCase().split(" ");let i=a.length;for(;i--;){const c=a[i];let d=this.bindings[c];if(!c)return zt(this.bindings,(u,f)=>{this.toggleEvent(f,!1),delete this.bindings[f]}),this;if(d){if(n){const u=Ct(d,f=>f.func===n);d=u.fail,this.bindings[c]=d,_e(u.pass,f=>{f.removed=!0})}else d.length=0;d.length||(this.toggleEvent(o,!1),delete this.bindings[c])}}}else zt(this.bindings,(a,i)=>{this.toggleEvent(i,!1)}),this.bindings={};return this}once(o,n,a){return this.on(o,n,a,{once:!0})}has(o){o=o.toLowerCase();const n=this.bindings[o];return!(!n||n.length===0)}}const Na=t=>(t._eventDispatcher||(t._eventDispatcher=new q4({scope:t,toggleEvent:(o,n)=>{q4.isNative(o)&&t.toggleNativeEvent&&t.toggleNativeEvent(o,n)}})),t._eventDispatcher),o_={fire(t,o,n){return this.dispatch(t,o,n)},dispatch(t,o,n){const a=this;if(a.removed&&t!=="remove"&&t!=="detach")return Wf(t.toLowerCase(),o??{},a);const i=Na(a).dispatch(t,o);if(n!==!1&&a.parent){let c=a.parent();for(;c&&!i.isPropagationStopped();)c.dispatch(t,i,!1),c=c.parent?c.parent():void 0}return i},on(t,o,n){return Na(this).on(t,o,n)},off(t,o){return Na(this).off(t,o)},once(t,o){return Na(this).once(t,o)},hasEventListeners(t){return Na(this).has(t)}},r0=Ar.DOM;let Af;const Fv=(t,o)=>{if(o==="selectionchange")return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(o))return t.getDoc().documentElement;const n=B0(t);return n?(t.eventRoot||(t.eventRoot=r0.select(n)[0]),t.eventRoot):t.getBody()},n_=(t,o,n)=>{(a=>!a.hidden)(t)?t.dispatch(o,n):n0(t)&&((a,i)=>{if((c=>c.type==="click")(i)&&!hn.metaKeyPressed(i)){const c=Ze(i.target);((d,u)=>$l(u,"a",f=>Wr(f,Ze(d.getBody()))).bind(f=>pn(f,"href")))(a,c).each(d=>{if(i.preventDefault(),/^#/.test(d)){const u=a.dom.select(`${d},[name="${ga(d,"#")}"]`);u.length&&a.selection.scrollIntoView(u[0],!0)}else window.open(d,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else(c=>ao(IO,c.type))(i)&&a.dispatch(i.type,i)})(t,n)},kA=(t,o)=>{if(t.delegates||(t.delegates={}),t.delegates[o]||t.removed)return;const n=Fv(t,o);if(B0(t)){if(Af||(Af={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||Af&&(zt(Af,(i,c)=>{t.dom.unbind(Fv(t,c))}),Af=null)})),Af[o])return;const a=i=>{const c=i.target,d=t.editorManager.get();let u=d.length;for(;u--;){const f=d[u].getBody();(f===c||r0.isChildOf(c,f))&&n_(d[u],o,i)}};Af[o]=a,r0.bind(n,o,a)}else{const a=i=>{n_(t,o,i)};r0.bind(n,o,a),t.delegates[o]=a}},_A={...o_,bindPendingEventDelegates(){const t=this;to.each(t._pendingNativeEvents,o=>{kA(t,o)})},toggleNativeEvent(t,o){const n=this;t!=="focus"&&t!=="blur"&&(n.removed||(o?n.initialized?kA(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&n.delegates&&(n.dom.unbind(Fv(n,t),t,n.delegates[t]),delete n.delegates[t])))},unbindAllNativeEvents(){const t=this,o=t.getBody(),n=t.dom;t.delegates&&(zt(t.delegates,(a,i)=>{t.dom.unbind(Fv(t,i),i,a)}),delete t.delegates),!t.inline&&o&&n&&(o.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(o),n.unbind(t.getContainer()))}},CA=t=>Ve(t)?{value:t.split(/[ ,]/),valid:!0}:Ro(t,Ve)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},SA=(t,o)=>t+(Qr(o.message)?"":`. ${o.message}`),EA=t=>t.valid,Of=(t,o,n="")=>{const a=o(t);return ht(a)?a?{value:t,valid:!0}:{valid:!1,message:n}:a},HO=["design","readonly"],db=(t,o,n,a)=>{const i=n[o.get()],c=n[a];try{c.activate()}catch(d){return void console.error(`problem while activating editor mode ${a}:`,d)}i.deactivate(),i.editorReadOnly!==c.editorReadOnly&&LO(t,c.editorReadOnly),o.set(a),((d,u)=>{d.dispatch("SwitchMode",{mode:u})})(t,a)},ub=to.each,Nf=to.explode,W4={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},G4=to.makeMap("alt,ctrl,shift,meta,access"),zA=t=>{const o={},n=Xn.os.isMacOS()||Xn.os.isiOS();ub(Nf(t.toLowerCase(),"+"),c=>{(d=>d in G4)(c)?o[c]=!0:/^[0-9]{2,}$/.test(c)?o.keyCode=parseInt(c,10):(o.charCode=c.charCodeAt(0),o.keyCode=W4[c]||c.toUpperCase().charCodeAt(0))});const a=[o.keyCode];let i;for(i in G4)o[i]?a.push(i):o[i]=!1;return o.id=a.join(","),o.access&&(o.alt=!0,n?o.ctrl=!0:o.shift=!0),o.meta&&(n?o.meta=!0:(o.ctrl=!0,o.meta=!1)),o};class r_{constructor(o){this.shortcuts={},this.pendingPatterns=[],this.editor=o;const n=this;o.on("keyup keypress keydown",a=>{!n.hasModifier(a)&&!n.isFunctionKey(a)||a.isDefaultPrevented()||(ub(n.shortcuts,i=>{n.matchShortcut(a,i)&&(n.pendingPatterns=i.subpatterns.slice(0),a.type==="keydown"&&n.executeShortcutAction(i))}),n.matchShortcut(a,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&a.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(o,n,a,i){const c=this,d=c.normalizeCommandFunc(a);return ub(Nf(to.trim(o)),u=>{const f=c.createShortcut(u,n,d,i);c.shortcuts[f.id]=f}),!0}remove(o){const n=this.createShortcut(o);return!!this.shortcuts[n.id]&&(delete this.shortcuts[n.id],!0)}normalizeCommandFunc(o){const n=this,a=o;return typeof a=="string"?()=>{n.editor.execCommand(a,!1,null)}:to.isArray(a)?()=>{n.editor.execCommand(a[0],a[1],a[2])}:a}createShortcut(o,n,a,i){const c=to.map(Nf(o,">"),zA);return c[c.length-1]=to.extend(c[c.length-1],{func:a,scope:i||this.editor}),to.extend(c[0],{desc:this.editor.translate(n),subpatterns:c.slice(1)})}hasModifier(o){return o.altKey||o.ctrlKey||o.metaKey}isFunctionKey(o){return o.type==="keydown"&&o.keyCode>=112&&o.keyCode<=123}matchShortcut(o,n){return!!n&&n.ctrl===o.ctrlKey&&n.meta===o.metaKey&&n.alt===o.altKey&&n.shift===o.shiftKey&&!!(o.keyCode===n.keyCode||o.charCode&&o.charCode===n.charCode)&&(o.preventDefault(),!0)}executeShortcutAction(o){return o.func?o.func.call(o.scope):null}}const TA=()=>{const t=(()=>{const o={},n={},a={},i={},c={},d={},u={},f={},y={},v=(k,E)=>(B,N)=>{k[B.toLowerCase()]={...N,type:E}};return{addButton:v(o,"button"),addGroupToolbarButton:v(o,"grouptoolbarbutton"),addToggleButton:v(o,"togglebutton"),addMenuButton:v(o,"menubutton"),addSplitButton:v(o,"splitbutton"),addMenuItem:v(n,"menuitem"),addNestedMenuItem:v(n,"nestedmenuitem"),addToggleMenuItem:v(n,"togglemenuitem"),addAutocompleter:v(a,"autocompleter"),addContextMenu:v(c,"contextmenu"),addContextToolbar:v(d,"contexttoolbar"),addContextForm:v(d,"contextform"),addSidebar:v(f,"sidebar"),addView:v(y,"views"),addIcon:(k,E)=>i[k.toLowerCase()]=E,addContext:(k,E)=>u[k.toLowerCase()]=E,getAll:()=>({buttons:o,menuItems:n,icons:i,popups:a,contextMenus:c,contextToolbars:d,sidebars:f,views:y,contexts:u})}})();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,addContext:t.addContext,getAll:t.getAll}},Mf=Ar.DOM,K4=to.extend,Y4=to.each;class Lv{constructor(o,n,a){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,K4(this,_A);const i=this;this.id=o,this.hidden=!1;const c=((B,N)=>{const P=oO(N);return pA(P4||Qk,P4,P,B,P)})(a.defaultOptions,n);this.options=((B,N,P=N)=>{const O={},V={},G=(ae,ee,we)=>{const je=Of(ee,we);return EA(je)?(V[ae]=je.value,!0):(console.warn(SA(`Invalid value passed for the ${ae} option`,je)),!1)},Y=ae=>jo(O,ae);return{register:(ae,ee)=>{const we=(Pe=>Ve(Pe.processor))(ee)?(Pe=>{const rt=(()=>{switch(Pe){case"array":return uo;case"boolean":return ht;case"function":return ge;case"number":return mt;case"object":return ut;case"string":return Ve;case"string[]":return CA;case"object[]":return Mt=>Ro(Mt,ut);case"regexp":return Mt=>Mo(Mt,RegExp);default:return Dt}})();return Mt=>Of(Mt,rt,`The value must be a ${Pe}.`)})(ee.processor):ee.processor,je=((Pe,rt,Mt)=>{if(!bo(rt)){const Fe=Of(rt,Mt);if(EA(Fe))return Fe.value;console.error(SA(`Invalid default value passed for the "${Pe}" option`,Fe))}})(ae,ee.default,we);O[ae]={...ee,default:je,processor:we},yr(V,ae).orThunk(()=>yr(N,ae)).each(Pe=>G(ae,Pe,we))},isRegistered:Y,get:ae=>yr(V,ae).orThunk(()=>yr(O,ae).map(ee=>ee.default)).getOrUndefined(),set:(ae,ee)=>{if(Y(ae)){const we=O[ae];return we.immutable?(console.error(`"${ae}" is an immutable option and cannot be updated`),!1):G(ae,ee,we.processor)}return console.warn(`"${ae}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:ae=>{const ee=Y(ae);return ee&&delete V[ae],ee},isSet:ae=>jo(V,ae),debug:()=>{try{console.log(JSON.parse(JSON.stringify(P,(ae,ee)=>ht(ee)||mt(ee)||Ve(ee)||Ae(ee)||uo(ee)||ho(ee)?ee:Object.prototype.toString.call(ee))))}catch(ae){console.error(ae)}}}})(0,c,n),(B=>{const N=B.options.register;N("id",{processor:"string",default:B.id}),N("selector",{processor:"string"}),N("target",{processor:"object"}),N("suffix",{processor:"string"}),N("cache_suffix",{processor:"string"}),N("base_url",{processor:"string"}),N("referrer_policy",{processor:"string",default:""}),N("language_load",{processor:"boolean",default:!0}),N("inline",{processor:"boolean",default:!1}),N("iframe_attrs",{processor:"object",default:{}}),N("doctype",{processor:"string",default:"<!DOCTYPE html>"}),N("document_base_url",{processor:"string",default:B.documentBaseUrl}),N("body_id",{processor:Np(B,"tinymce"),default:"tinymce"}),N("body_class",{processor:Np(B),default:""}),N("content_security_policy",{processor:"string",default:""}),N("br_in_pre",{processor:"boolean",default:!0}),N("forced_root_block",{processor:P=>{const O=Ve(P)&&Ln(P);return O?{value:P,valid:O}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),N("forced_root_block_attrs",{processor:"object",default:{}}),N("newline_behavior",{processor:P=>{const O=ao(["block","linebreak","invert","default"],P);return O?{value:P,valid:O}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),N("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),N("no_newline_selector",{processor:"string",default:""}),N("keep_styles",{processor:"boolean",default:!0}),N("end_container_on_empty_block",{processor:P=>ht(P)||Ve(P)?{valid:!0,value:P}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),N("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),N("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),N("font_size_classes",{processor:"string",default:""}),N("automatic_uploads",{processor:"boolean",default:!0}),N("images_reuse_filename",{processor:"boolean",default:!1}),N("images_replace_blob_uris",{processor:"boolean",default:!0}),N("icons",{processor:"string",default:""}),N("icons_url",{processor:"string",default:""}),N("images_upload_url",{processor:"string",default:""}),N("images_upload_base_path",{processor:"string",default:""}),N("images_upload_credentials",{processor:"boolean",default:!1}),N("images_upload_handler",{processor:"function"}),N("language",{processor:"string",default:"en"}),N("language_url",{processor:"string",default:""}),N("entity_encoding",{processor:"string",default:"named"}),N("indent",{processor:"boolean",default:!0}),N("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),N("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),N("indent_use_margin",{processor:"boolean",default:!1}),N("indentation",{processor:"string",default:"40px"}),N("content_css",{processor:P=>{const O=P===!1||Ve(P)||Ro(P,Ve);return O?Ve(P)?{value:No(P.split(","),Pt),valid:O}:uo(P)?{value:P,valid:O}:P===!1?{value:[],valid:O}:{value:P,valid:O}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Fp(B)?[]:["default"]}),N("content_style",{processor:"string"}),N("content_css_cors",{processor:"boolean",default:!1}),N("font_css",{processor:P=>{const O=Ve(P)||Ro(P,Ve);return O?{value:uo(P)?P:No(P.split(","),Pt),valid:O}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),N("inline_boundaries",{processor:"boolean",default:!0}),N("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),N("object_resizing",{processor:P=>{const O=ht(P)||Ve(P);return O?P===!1||Qm.isiPhone()||Qm.isiPad()?{value:"",valid:O}:{value:P===!0?"table,img,figure.image,div,video,iframe":P,valid:O}:{valid:!1,message:"Must be boolean or a string"}},default:!Fb}),N("resize_img_proportional",{processor:"boolean",default:!0}),N("event_root",{processor:"string"}),N("service_message",{processor:"string"}),N("theme",{processor:P=>P===!1||Ve(P)||ge(P),default:"silver"}),N("theme_url",{processor:"string"}),N("formats",{processor:"object"}),N("format_empty_lines",{processor:"boolean",default:!1}),N("format_noneditable_selector",{processor:"string",default:""}),N("preview_styles",{processor:P=>{const O=P===!1||Ve(P);return O?{value:P===!1?"":P,valid:O}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),N("custom_ui_selector",{processor:"string",default:""}),N("hidden_input",{processor:"boolean",default:!0}),N("submit_patch",{processor:"boolean",default:!0}),N("encoding",{processor:"string"}),N("add_form_submit_trigger",{processor:"boolean",default:!0}),N("add_unload_trigger",{processor:"boolean",default:!0}),N("custom_undo_redo_levels",{processor:"number",default:0}),N("disable_nodechange",{processor:"boolean",default:!1}),N("readonly",{processor:"boolean",default:!1}),N("editable_root",{processor:"boolean",default:!0}),N("plugins",{processor:"string[]",default:[]}),N("external_plugins",{processor:"object"}),N("forced_plugins",{processor:"string[]"}),N("model",{processor:"string",default:B.hasPlugin("rtc")?"plugin":"dom"}),N("model_url",{processor:"string"}),N("block_unsupported_drop",{processor:"boolean",default:!0}),N("visual",{processor:"boolean",default:!0}),N("visual_table_class",{processor:"string",default:"mce-item-table"}),N("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),N("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),N("setup",{processor:"function"}),N("init_instance_callback",{processor:"function"}),N("url_converter",{processor:"function",default:B.convertURL}),N("url_converter_scope",{processor:"object",default:B}),N("urlconverter_callback",{processor:"function"}),N("allow_conditional_comments",{processor:"boolean",default:!1}),N("allow_html_data_urls",{processor:"boolean",default:!1}),N("allow_svg_data_urls",{processor:"boolean"}),N("allow_html_in_named_anchor",{processor:"boolean",default:!1}),N("allow_script_urls",{processor:"boolean",default:!1}),N("allow_unsafe_link_target",{processor:"boolean",default:!1}),N("allow_mathml_annotation_encodings",{processor:P=>{const O=Ro(P,Ve);return O?{value:P,valid:O}:{valid:!1,message:"Must be an array of strings."}},default:[]}),N("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),N("fix_list_elements",{processor:"boolean",default:!1}),N("preserve_cdata",{processor:"boolean",default:!1}),N("remove_trailing_brs",{processor:"boolean",default:!0}),N("pad_empty_with_br",{processor:"boolean",default:!1}),N("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),N("element_format",{processor:"string",default:"html"}),N("entities",{processor:"string"}),N("schema",{processor:"string",default:"html5"}),N("convert_urls",{processor:"boolean",default:!0}),N("relative_urls",{processor:"boolean",default:!0}),N("remove_script_host",{processor:"boolean",default:!0}),N("custom_elements",{processor:rh}),N("extended_valid_elements",{processor:"string"}),N("invalid_elements",{processor:"string"}),N("invalid_styles",{processor:rh}),N("valid_children",{processor:"string"}),N("valid_classes",{processor:rh}),N("valid_elements",{processor:"string"}),N("valid_styles",{processor:rh}),N("verify_html",{processor:"boolean",default:!0}),N("auto_focus",{processor:P=>Ve(P)||P===!0}),N("browser_spellcheck",{processor:"boolean",default:!1}),N("protect",{processor:"array"}),N("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),N("deprecation_warnings",{processor:"boolean",default:!0}),N("a11y_advanced_options",{processor:"boolean",default:!1}),N("api_key",{processor:"string"}),N("license_key",{processor:"string"}),N("paste_block_drop",{processor:"boolean",default:!1}),N("paste_data_images",{processor:"boolean",default:!0}),N("paste_preprocess",{processor:"function"}),N("paste_postprocess",{processor:"function"}),N("paste_webkit_styles",{processor:"string",default:"none"}),N("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),N("paste_merge_formats",{processor:"boolean",default:!0}),N("smart_paste",{processor:"boolean",default:!0}),N("paste_as_text",{processor:"boolean",default:!1}),N("paste_tab_spaces",{processor:"number",default:4}),N("text_patterns",{processor:P=>Ro(P,ut)||P===!1?{value:dd(P===!1?[]:P),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),N("text_patterns_lookup",{processor:P=>{return ge(P)?{value:(O=P,V=>{const G=O(V);return dd(G)}),valid:!0}:{valid:!1,message:"Must be a single function"};var O},default:P=>[]}),N("noneditable_class",{processor:"string",default:"mceNonEditable"}),N("editable_class",{processor:"string",default:"mceEditable"}),N("noneditable_regexp",{processor:P=>Ro(P,nh)?{value:P,valid:!0}:nh(P)?{value:[P],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),N("table_tab_navigation",{processor:"boolean",default:!0}),N("highlight_on_focus",{processor:"boolean",default:!0}),N("xss_sanitization",{processor:"boolean",default:!0}),N("details_initial_state",{processor:P=>{const O=ao(["inherited","collapsed","expanded"],P);return O?{value:P,valid:O}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),N("details_serialized_state",{processor:P=>{const O=ao(["inherited","collapsed","expanded"],P);return O?{value:P,valid:O}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),N("init_content_sync",{processor:"boolean",default:!1}),N("newdocument_content",{processor:"string",default:""}),N("sandbox_iframes",{processor:"boolean",default:!0}),N("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),N("convert_unsafe_embeds",{processor:"boolean",default:!0}),B.on("ScriptsLoaded",()=>{N("directionality",{processor:"string",default:ie.isRtl()?"rtl":void 0}),N("placeholder",{processor:"string",default:z0.getAttrib(B.getElement(),"placeholder")})})})(i);const d=this.options.get;d("deprecation_warnings")&&((B,N)=>{((P,O)=>{const V=GE(P),G=KE(O),Y=G.length>0,ae=V.length>0,ee=O.theme==="mobile";if(Y||ae||ee){const we=`
- `,je=ee?`

Themes:${we}mobile`:"",Pe=Y?`

Plugins:${we}${G.join(we)}`:"",rt=ae?`

Options:${we}${V.join(we)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+je+Pe+rt)}})(B,N),((P,O)=>{const V=$1(P),G=YE(O),Y=G.length>0,ae=V.length>0;if(Y||ae){const ee=`
- `,we=Y?`

Plugins:${ee}${G.map(XE).join(ee)}`:"",je=ae?`

Options:${ee}${V.join(ee)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+we+je)}})(B,N)})(n,c);const u=d("suffix");u&&(a.suffix=u),this.suffix=a.suffix;const f=d("base_url");f&&a._setBaseUrl(f),this.baseUri=a.baseURI;const y=Hb(i);y&&(ad.ScriptLoader._setReferrerPolicy(y),Ar.DOM.styleSheetLoader._setReferrerPolicy(y));const v=pl(i);$e(v)&&Ar.DOM.styleSheetLoader._setContentCssCors(v),Ie.languageLoad=d("language_load"),Ie.baseURL=a.baseURL,this.setDirty(!1),this.documentBaseURI=new pd(fu(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Fp(i),this.hasVisual=tx(i),this.shortcuts=new r_(this),this.editorCommands=new xA(this),t_(this);const k=d("cache_suffix");k&&(Xn.cacheSuffix=k.replace(/^[\?\&]+/,"")),this.ui={registry:TA(),styleSheetLoader:void 0,show:go,hide:go,setEnabled:go,isEnabled:Dt},this.mode=(B=>{const N=as("design"),P=as({design:{activate:go,deactivate:go,editorReadOnly:!1},readonly:{activate:go,deactivate:go,editorReadOnly:!0}});return(O=>{O.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",V=>{n0(O)&&V.preventDefault()}),O.on("BeforeExecCommand",V=>{V.command!=="Undo"&&V.command!=="Redo"||!n0(O)||V.preventDefault()}),O.on("input",V=>{if(!V.isComposing&&n0(O)){const G=O.undoManager.add();$e(G)&&O.undoManager.undo()}}),O.on("compositionend",()=>{if(n0(O)){const V=O.undoManager.add();$e(V)&&O.undoManager.undo()}})})(B),{isReadOnly:()=>n0(B),set:O=>((V,G,Y,ae)=>{if(ae!==Y.get()){if(!jo(G,ae))throw new Error(`Editor mode '${ae}' is invalid`);V.initialized?db(V,Y,G,ae):V.on("init",()=>db(V,Y,G,ae))}})(B,P.get(),N,O),get:()=>N.get(),register:(O,V)=>{P.set(((G,Y,ae)=>{if(ao(HO,Y))throw new Error(`Cannot override default mode ${Y}`);return{...G,[Y]:{...ae,deactivate:()=>{try{ae.deactivate()}catch(ee){console.error(`problem while deactivating editor mode ${Y}:`,ee)}}}}})(P.get(),O,V))}}})(i),a.dispatch("SetupEditor",{editor:this});const E=wm(i);ge(E)&&E.call(i,i)}render(){(o=>{const n=o.id;ie.setCode(Gl(o));const a=()=>{cb.unbind(window,"ready",a),o.render()};if(!rd.Event.domLoaded)return void cb.bind(window,"ready",a);if(!o.getElement())return;const i=Ze(o.getElement()),c=Re(i);o.on("remove",()=>{Vt(i.dom.attributes,u=>ne(i,u.name)),lt(i,c)}),o.ui.styleSheetLoader=((u,f)=>Mu.forElement(u,{contentCssCors:pl(f),referrerPolicy:Hb(f)}))(i,o),Fp(o)?o.inline=!0:(o.orgVisibility=o.getElement().style.visibility,o.getElement().style.visibility="hidden");const d=o.getElement().form||cb.getParent(n,"form");d&&(o.formElement=d,Ub(o)&&!xs(o.getElement())&&(cb.insertAfter(cb.create("input",{type:"hidden",name:n}),n),o.hasHiddenInput=!0),o.formEventDelegate=u=>{o.dispatch(u.type,u)},cb.bind(d,"submit reset",o.formEventDelegate),o.on("reset",()=>{o.resetContent()}),!Zb(o)||d.submit.nodeType||d.submit.length||d._mceOldSubmit||(d._mceOldSubmit=d.submit,d.submit=()=>(o.editorManager.triggerSave(),o.setDirty(!1),d._mceOldSubmit(d)))),o.windowManager=Mw(o),o.notificationManager=ez(o),(u=>u.options.get("encoding")==="xml")(o)&&o.on("GetContent",u=>{u.save&&(u.content=cb.encode(u.content))}),uh(o)&&o.on("submit",()=>{o.initialized&&o.save()}),F0(o)&&(o._beforeUnload=()=>{!o.initialized||o.destroyed||o.isHidden()||o.save({format:"raw",no_events:!0,set_dirty:!1})},o.editorManager.on("BeforeUnload",o._beforeUnload)),o.editorManager.add(o),I4(o,o.suffix)})(this)}focus(o){this.execCommand("mceFocus",!1,o)}hasFocus(){return Nh(this)}translate(o){return ie.translate(o)}getParam(o,n,a){const i=this.options;return i.isRegistered(o)||($e(a)?i.register(o,{processor:a,default:n}):i.register(o,{processor:Dt,default:n})),i.isSet(o)||bo(n)?i.get(o):n}hasPlugin(o,n){return!(!ao(ng(this),o)||n&&Oy.get(o)===void 0)}nodeChanged(o){this._nodeChangeDispatcher.nodeChanged(o)}addCommand(o,n,a){this.editorCommands.addCommand(o,n,a)}addQueryStateHandler(o,n,a){this.editorCommands.addQueryStateHandler(o,n,a)}addQueryValueHandler(o,n,a){this.editorCommands.addQueryValueHandler(o,n,a)}addShortcut(o,n,a,i){this.shortcuts.add(o,n,a,i)}execCommand(o,n,a,i){return this.editorCommands.execCommand(o,n,a,i)}queryCommandState(o){return this.editorCommands.queryCommandState(o)}queryCommandValue(o){return this.editorCommands.queryCommandValue(o)}queryCommandSupported(o){return this.editorCommands.queryCommandSupported(o)}show(){const o=this;o.hidden&&(o.hidden=!1,o.inline?o.getBody().contentEditable="true":(Mf.show(o.getContainer()),Mf.hide(o.id)),o.load(),o.dispatch("show"))}hide(){const o=this;o.hidden||(o.save(),o.inline?(o.getBody().contentEditable="false",o===o.editorManager.focusedEditor&&(o.editorManager.focusedEditor=null)):(Mf.hide(o.getContainer()),Mf.setStyle(o.id,"display",o.orgDisplay)),o.hidden=!0,o.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(o,n){this.dispatch("ProgressState",{state:o,time:n})}load(o={}){const n=this,a=n.getElement();if(n.removed)return"";if(a){const i={...o,load:!0},c=xs(a)?a.value:a.innerHTML,d=n.setContent(c,i);return i.no_events||n.dispatch("LoadContent",{...i,element:a}),d}return""}save(o={}){const n=this;let a=n.getElement();if(!a||!n.initialized||n.removed)return"";const i={...o,save:!0,element:a};let c=n.getContent(i);const d={...i,content:c};if(d.no_events||n.dispatch("SaveContent",d),d.format==="raw"&&n.dispatch("RawSaveContent",d),c=d.content,xs(a))a.value=c;else{!o.is_removing&&n.inline||(a.innerHTML=c);const u=Mf.getParent(n.id,"form");u&&Y4(u.elements,f=>f.name!==n.id||(f.value=c,!1))}return d.element=i.element=a=null,d.set_dirty!==!1&&n.setDirty(!1),c}setContent(o,n){return V1(this,o,n)}getContent(o){return((n,a={})=>{const i=((c,d)=>({...c,format:d,get:!0,getInner:!0}))(a,a.format?a.format:"html");return fC(n,i).fold(D,c=>{const d=((u,f)=>hg(u).editor.getContent(f))(n,c);return RE(n,d,c)})})(this,o)}insertContent(o,n){n&&(o=K4({content:o},n)),this.execCommand("mceInsertContent",!1,o)}resetContent(o){o===void 0?V1(this,this.startContent,{format:"raw"}):V1(this,o),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(o){const n=!this.isNotDirty;this.isNotDirty=!o,o&&o!==n&&this.dispatch("dirty")}getContainer(){const o=this;return o.container||(o.container=o.editorContainer||Mf.get(o.id+"_parent")),o.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Mf.get(this.id)),this.targetElm}getWin(){const o=this;if(!o.contentWindow){const n=o.iframeElement;n&&(o.contentWindow=n.contentWindow)}return o.contentWindow}getDoc(){const o=this;if(!o.contentDocument){const n=o.getWin();n&&(o.contentDocument=n.document)}return o.contentDocument}getBody(){var o,n;const a=this.getDoc();return(n=(o=this.bodyElement)!==null&&o!==void 0?o:a==null?void 0:a.body)!==null&&n!==void 0?n:null}convertURL(o,n,a){const i=this,c=i.options.get,d=k_(i);if(ge(d))return d.call(i,o,a,!0,n);if(!c("convert_urls")||a==="link"||ut(a)&&a.nodeName==="LINK"||o.indexOf("file:")===0||o.length===0)return o;const u=new pd(o);return u.protocol!=="http"&&u.protocol!=="https"&&u.protocol!==""?o:c("relative_urls")?i.documentBaseURI.toRelative(o):o=i.documentBaseURI.toAbsolute(o,c("remove_script_host"))}addVisual(o){((n,a)=>{((i,c)=>{Ui(i).editor.addVisual(c)})(n,a)})(this,o)}setEditableRoot(o){((n,a)=>{n._editableRoot!==a&&(n._editableRoot=a,n.getBody().contentEditable=String(n.hasEditableRoot()),n.nodeChanged(),((i,c)=>{i.dispatch("EditableRootStateChange",{state:c})})(n,a))})(this,o)}hasEditableRoot(){return this._editableRoot}remove(){(o=>{if(!o.removed){const{_selectionOverrides:n,editorUpload:a}=o,i=o.getBody(),c=o.getElement();i&&o.save({is_removing:!0}),o.removed=!0,o.unbindAllNativeEvents(),o.hasHiddenInput&&$e(c==null?void 0:c.nextSibling)&&U1.remove(c.nextSibling),(d=>{d.dispatch("remove")})(o),o.editorManager.remove(o),!o.inline&&i&&(d=>{U1.setStyle(d.id,"display",d.orgDisplay)})(o),(d=>{d.dispatch("detach")})(o),U1.remove(o.getContainer()),Z1(n),Z1(a),o.destroy()}})(this)}destroy(o){((n,a)=>{const{selection:i,dom:c}=n;n.destroyed||(a||n.removed?(a||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),Z1(i),Z1(c)),(d=>{const u=d.formElement;u&&(u._mceOldSubmit&&(u.submit=u._mceOldSubmit,delete u._mceOldSubmit),U1.unbind(u,"submit reset",d.formEventDelegate))})(n),(d=>{const u=d;u.contentAreaContainer=u.formElement=u.container=u.editorContainer=null,u.bodyElement=u.contentDocument=u.contentWindow=null,u.iframeElement=u.targetElm=null;const f=d.selection;if(f){const y=f.dom;u.selection=f.win=f.dom=y.doc=null}})(n),n.destroyed=!0):n.remove())})(this,o)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const mb=Ar.DOM,a0=to.each;let a_,X4=!1,Sc=[];const Iv=t=>{const o=t.type;a0(yp.get(),n=>{switch(o){case"scroll":n.dispatch("ScrollWindow",t);break;case"resize":n.dispatch("ResizeWindow",t)}})},AA=t=>{if(t!==X4){const o=Ar.DOM;t?(o.bind(window,"resize",Iv),o.bind(window,"scroll",Iv)):(o.unbind(window,"resize",Iv),o.unbind(window,"scroll",Iv)),X4=t}},OA=t=>{const o=Sc;return Sc=et(Sc,n=>t!==n),yp.activeEditor===t&&(yp.activeEditor=Sc.length>0?Sc[0]:null),yp.focusedEditor===t&&(yp.focusedEditor=null),o.length!==Sc.length},s_=document.compatMode!=="CSS1Compat",yp={...o_,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"4.1",releaseDate:"TBD",i18n:ie,activeEditor:null,focusedEditor:null,setup(){const t=this;let o="",n="",a=pd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)o=i.base||i.baseURL,n=i.suffix;else{const d=document.getElementsByTagName("script");for(let u=0;u<d.length;u++){const f=d[u].src||"";if(f==="")continue;const y=f.substring(f.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){y.indexOf(".min")!==-1&&(n=".min"),o=f.substring(0,f.lastIndexOf("/"));break}}if(!o&&document.currentScript){const u=document.currentScript.src;u.indexOf(".min")!==-1&&(n=".min"),o=u.substring(0,u.lastIndexOf("/"))}}var c;t.baseURL=new pd(a).toAbsolute(o),t.documentBaseURL=a,t.baseURI=new pd(t.baseURL),t.suffix=n,(c=t).on("AddEditor",Je(l5,c)),c.on("RemoveEditor",Je(c5,c))},overrideDefaults(t){const o=t.base_url;o&&this._setBaseUrl(o);const n=t.suffix;n&&(this.suffix=n),this.defaultOptions=t;const a=t.plugin_base_urls;a!==void 0&&zt(a,(i,c)=>{Ie.PluginManager.urls[c]=i})},init(t){const o=this;let n;const a=to.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let i=d=>{n=d};const c=()=>{let d=0;const u=[];let f;mb.unbind(window,"ready",c),(y=>{const v=t.onpageload;v&&v.apply(o,[])})(),f=_n((y=>Xn.browser.isIE()||Xn.browser.isEdge()?(G1("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):s_?(G1("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Ve(y.selector)?mb.select(y.selector):$e(y.target)?[y.target]:[])(t)),to.each(f,y=>{var v;(v=o.get(y.id))&&v.initialized&&!(v.getContainer()||v.getBody()).parentNode&&(OA(v),v.unbindAllNativeEvents(),v.destroy(!0),v.removed=!0)}),f=to.grep(f,y=>!o.get(y.id)),f.length===0?i([]):a0(f,y=>{((v,k)=>v.inline&&k.tagName.toLowerCase()in a)(t,y)?G1("Could not initialize inline editor on invalid inline target element",y):((v,k,E)=>{const B=new Lv(v,k,o);u.push(B),B.on("init",()=>{++d===f.length&&i(u)}),B.targetElm=B.targetElm||E,B.render()})((v=>{let k=v.id;return k||(k=yr(v,"name").filter(E=>!mb.get(E)).getOrThunk(mb.uniqueId),v.setAttribute("id",k)),k})(y),t,y)})};return mb.bind(window,"ready",c),new Promise(d=>{n?d(n):i=u=>{d(u)}})},get(t){return arguments.length===0?Sc.slice(0):Ve(t)?ke(Sc,o=>o.id===t).getOr(null):mt(t)&&Sc[t]?Sc[t]:null},add(t){const o=this,n=o.get(t.id);return n===t||(n===null&&Sc.push(t),AA(!0),o.activeEditor=t,o.dispatch("AddEditor",{editor:t}),a_||(a_=a=>{const i=o.dispatch("BeforeUnload");if(i.returnValue)return a.preventDefault(),a.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",a_))),t},createEditor(t,o){return this.add(new Lv(t,o,this))},remove(t){const o=this;let n;if(t){if(!Ve(t))return n=t,Ae(o.get(n.id))?null:(OA(n)&&o.dispatch("RemoveEditor",{editor:n}),Sc.length===0&&window.removeEventListener("beforeunload",a_),n.remove(),AA(Sc.length>0),n);a0(mb.select(t),a=>{n=o.get(a.id),n&&o.remove(n)})}else for(let a=Sc.length-1;a>=0;a--)o.remove(Sc[a])},execCommand(t,o,n){var a;const i=this,c=ut(n)?(a=n.id)!==null&&a!==void 0?a:n.index:n;switch(t){case"mceAddEditor":if(!i.get(c)){const d=n.options;new Lv(c,d,i).render()}return!0;case"mceRemoveEditor":{const d=i.get(c);return d&&d.remove(),!0}case"mceToggleEditor":{const d=i.get(c);return d?(d.isHidden()?d.show():d.hide(),!0):(i.execCommand("mceAddEditor",!1,n),!0)}}return!!i.activeEditor&&i.activeEditor.execCommand(t,o,n)},triggerSave:()=>{a0(Sc,t=>{t.save()})},addI18n:(t,o)=>{ie.add(t,o)},translate:t=>ie.translate(t),setActive(t){const o=this.activeEditor;this.activeEditor!==t&&(o&&o.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:o})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new pd(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new pd(this.baseURL)}};yp.setup();const NA=(()=>{const t=cl();return{FakeClipboardItem:o=>({items:o,types:Zo(o),getType:n=>yr(o,n).getOrUndefined()}),write:o=>{t.set(o)},read:()=>t.get().getOrUndefined(),clear:t.clear}})(),J4=Math.min,s0=Math.max,i_=Math.round,MA=(t,o,n)=>{let a=o.x,i=o.y;const c=t.w,d=t.h,u=o.w,f=o.h,y=(n||"").split("");return y[0]==="b"&&(i+=f),y[1]==="r"&&(a+=u),y[0]==="c"&&(i+=i_(f/2)),y[1]==="c"&&(a+=i_(u/2)),y[3]==="b"&&(i-=d),y[4]==="r"&&(a-=c),y[3]==="c"&&(i-=i_(d/2)),y[4]==="c"&&(a-=i_(c/2)),i0(a,i,c,d)},i0=(t,o,n,a)=>({x:t,y:o,w:n,h:a}),DA={inflate:(t,o,n)=>i0(t.x-o,t.y-n,t.w+2*o,t.h+2*n),relativePosition:MA,findBestRelativePosition:(t,o,n,a)=>{for(let i=0;i<a.length;i++){const c=MA(t,o,a[i]);if(c.x>=n.x&&c.x+c.w<=n.w+n.x&&c.y>=n.y&&c.y+c.h<=n.h+n.y)return a[i]}return null},intersect:(t,o)=>{const n=s0(t.x,o.x),a=s0(t.y,o.y),i=J4(t.x+t.w,o.x+o.w),c=J4(t.y+t.h,o.y+o.h);return i-n<0||c-a<0?null:i0(n,a,i-n,c-a)},clamp:(t,o,n)=>{let a=t.x,i=t.y,c=t.x+t.w,d=t.y+t.h;const u=o.x+o.w,f=o.y+o.h,y=s0(0,o.x-a),v=s0(0,o.y-i),k=s0(0,c-u),E=s0(0,d-f);return a+=y,i+=v,n&&(c+=y,d+=v,a-=k,i-=E),c-=k,d-=E,i0(a,i,c-a,d-i)},create:i0,fromClientRect:t=>i0(t.left,t.top,t.width,t.height)},RA=(()=>{const t={},o={},n={};return{load:(a,i)=>{const c=`Script at URL "${i}" failed to load`,d=`Script at URL "${i}" did not call \`tinymce.Resource.add('${a}', data)\` within 1 second`;if(t[a]!==void 0)return t[a];{const u=new Promise((f,y)=>{const v=((k,E,B=1e3)=>{let N=!1,P=null;const O=Y=>(...ae)=>{N||(N=!0,P!==null&&(clearTimeout(P),P=null),Y.apply(null,ae))},V=O(k),G=O(E);return{start:(...Y)=>{N||P!==null||(P=setTimeout(()=>G.apply(null,Y),B))},resolve:V,reject:G}})(f,y);o[a]=v.resolve,ad.ScriptLoader.loadScript(i).then(()=>v.start(d),()=>v.reject(c))});return t[a]=u,u}},add:(a,i)=>{o[a]!==void 0&&(o[a](i),delete o[a]),t[a]=Promise.resolve(i),n[a]=i},has:a=>a in n,get:a=>n[a],unload:a=>{delete t[a],delete n[a]}}})();let l0;try{const t="__storage_test__";l0=window.localStorage,l0.setItem(t,t),l0.removeItem(t)}catch{l0=(()=>{let o={},n=[];const a={getItem:i=>o[i]||null,setItem:(i,c)=>{n.push(i),o[i]=String(c)},key:i=>n[i],removeItem:i=>{n=n.filter(c=>c===i),delete o[i]},clear:()=>{n=[],o={}},length:0};return Object.defineProperty(a,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),a})()}const jO={geom:{Rect:DA},util:{Delay:bu,Tools:to,VK:hn,URI:pd,EventDispatcher:q4,Observable:o_,I18n:ie,LocalStorage:l0,ImageUploader:t=>{const o=oz(),n=bf(t,o);return{upload:(a,i=!0)=>n.upload(a,i?K1(t):void 0)}}},dom:{EventUtils:rd,TreeWalker:Ws,TextSeeker:Iu,DOMUtils:Ar,ScriptLoader:ad,RangeUtils:Oh,Serializer:Aw,StyleSheetLoader:Vf,ControlSelection:zm,BookmarkManager:n1,Selection:qh,Event:rd.Event},html:{Styles:au,Entities:Ru,Node:kc,Schema:hc,DomParser:ff,Writer:Mn,Serializer:ep},Env:Xn,AddOnManager:Ie,Annotator:f3,Formatter:Fw,UndoManager:Om,EditorCommands:xA,WindowManager:Mw,NotificationManager:ez,EditorObservable:_A,Shortcuts:r_,Editor:Lv,FocusManager:d1,EditorManager:yp,DOM:Ar.DOM,ScriptLoader:ad.ScriptLoader,PluginManager:Oy,ThemeManager:wu,ModelManager:Wh,IconManager:q1,Resource:RA,FakeClipboard:NA,trim:to.trim,isArray:to.isArray,is:to.is,toArray:to.toArray,makeMap:to.makeMap,each:to.each,map:to.map,grep:to.grep,inArray:to.inArray,extend:to.extend,walk:to.walk,resolve:to.resolve,explode:to.explode,_addCacheSuffix:to._addCacheSuffix},BA=to.extend(yp,jO);(t=>{window.tinymce=t,window.tinyMCE=t})(BA),(t=>{try{wo.exports=t}catch{}})(BA)})()})(gM);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){const wo=Object.getPrototypeOf,Jo=(e,r,s)=>{var l;return!!s(e,r.prototype)||((l=e.constructor)===null||l===void 0?void 0:l.name)===r.name},$o=e=>r=>(s=>{const l=typeof s;return s===null?"null":l==="object"&&Array.isArray(s)?"array":l==="object"&&Jo(s,String,(m,g)=>g.isPrototypeOf(m))?"string":l})(r)===e,sn=e=>r=>typeof r===e,Qo=e=>r=>e===r,mo=$o("string"),Wo=$o("object"),jt=e=>((r,s)=>Wo(r)&&Jo(r,s,(l,m)=>wo(l)===m))(e,Object),Co=$o("array"),Io=Qo(null),Go=sn("boolean"),gn=Qo(void 0),Mo=e=>e==null,Ve=e=>!Mo(e),ut=sn("function"),ho=sn("number"),uo=(e,r)=>{if(Co(e)){for(let s=0,l=e.length;s<l;++s)if(!r(e[s]))return!1;return!0}return!1},Ae=()=>{},ht=e=>()=>e(),bo=(e,r)=>(...s)=>e(r.apply(null,s)),ue=e=>()=>e,$e=e=>e,ge=(e,r)=>e===r;function mt(e,...r){return(...s)=>{const l=r.concat(s);return e.apply(null,l)}}const Ro=e=>r=>!e(r),go=e=>()=>{throw new Error(e)},Ho=e=>e(),Uo=ue(!1),Rt=ue(!0);class D{constructor(r,s){this.tag=r,this.value=s}static some(r){return new D(!0,r)}static none(){return D.singletonNone}fold(r,s){return this.tag?s(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?D.some(r(this.value)):D.none()}bind(r){return this.tag?r(this.value):D.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:D.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return Ve(r)?D.some(r):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const qe=Array.prototype.slice,Je=Array.prototype.indexOf,gt=Array.prototype.push,Bt=(e,r)=>Je.call(e,r),ct=(e,r)=>Bt(e,r)>-1,$t=(e,r)=>{for(let s=0,l=e.length;s<l;s++)if(r(e[s],s))return!0;return!1},So=(e,r)=>{const s=[];for(let l=0;l<e;l++)s.push(r(l));return s},Dt=(e,r)=>{const s=[];for(let l=0;l<e.length;l+=r){const m=qe.call(e,l,l+r);s.push(m)}return s},F=(e,r)=>{const s=e.length,l=new Array(s);for(let m=0;m<s;m++){const g=e[m];l[m]=r(g,m)}return l},Ot=(e,r)=>{for(let s=0,l=e.length;s<l;s++)r(e[s],s)},kt=(e,r)=>{const s=[],l=[];for(let m=0,g=e.length;m<g;m++){const h=e[m];(r(h,m)?s:l).push(h)}return{pass:s,fail:l}},ro=(e,r)=>{const s=[];for(let l=0,m=e.length;l<m;l++){const g=e[l];r(g,l)&&s.push(g)}return s},co=(e,r,s)=>(((l,m)=>{for(let g=l.length-1;g>=0;g--)m(l[g],g)})(e,(l,m)=>{s=r(s,l,m)}),s),ao=(e,r,s)=>(Ot(e,(l,m)=>{s=r(s,l,m)}),s),yo=(e,r)=>((s,l,m)=>{for(let g=0,h=s.length;g<h;g++){const x=s[g];if(l(x,g))return D.some(x);if(m(x,g))break}return D.none()})(e,r,Uo),No=(e,r)=>{for(let s=0,l=e.length;s<l;s++)if(r(e[s],s))return D.some(s);return D.none()},_e=e=>{const r=[];for(let s=0,l=e.length;s<l;++s){if(!Co(e[s]))throw new Error("Arr.flatten item "+s+" was not an array, input: "+e);gt.apply(r,e[s])}return r},Vt=(e,r)=>_e(F(e,r)),Ct=(e,r)=>{for(let s=0,l=e.length;s<l;++s)if(r(e[s],s)!==!0)return!1;return!0},et=e=>{const r=qe.call(e,0);return r.reverse(),r},ye=(e,r)=>ro(e,s=>!ct(r,s)),fe=(e,r)=>{const s={};for(let l=0,m=e.length;l<m;l++){const g=e[l];s[String(g)]=r(g,l)}return s},it=e=>[e],ke=(e,r)=>{const s=qe.call(e,0);return s.sort(r),s},he=(e,r)=>r>=0&&r<e.length?D.some(e[r]):D.none(),De=e=>he(e,0),at=e=>he(e,e.length-1),_t=ut(Array.from)?Array.from:e=>qe.call(e),We=(e,r)=>{for(let s=0;s<e.length;s++){const l=r(e[s],s);if(l.isSome())return l}return D.none()},dt=Object.keys,io=Object.hasOwnProperty,Oo=(e,r)=>{const s=dt(e);for(let l=0,m=s.length;l<m;l++){const g=s[l];r(e[g],g)}},tt=(e,r)=>vt(e,(s,l)=>({k:l,v:r(s,l)})),vt=(e,r)=>{const s={};return Oo(e,(l,m)=>{const g=r(l,m);s[g.k]=g.v}),s},_o=e=>(r,s)=>{e[s]=r},Fo=(e,r,s,l)=>{Oo(e,(m,g)=>{(r(m,g)?s:l)(m,g)})},on=(e,r)=>{const s={};return Fo(e,r,_o(s),Ae),s},_n=(e,r)=>{const s=[];return Oo(e,(l,m)=>{s.push(r(l,m))}),s},Zo=(e,r)=>{const s=dt(e);for(let l=0,m=s.length;l<m;l++){const g=s[l],h=e[g];if(r(h,g,e))return D.some(h)}return D.none()},Yn=e=>_n(e,$e),zt=(e,r)=>Xo(e,r)?D.from(e[r]):D.none(),Xo=(e,r)=>io.call(e,r),Kn=(e,r)=>Xo(e,r)&&e[r]!==void 0&&e[r]!==null,ar=(e,r,s=ge)=>e.exists(l=>s(l,r)),Vr=e=>{const r=[],s=l=>{r.push(l)};for(let l=0;l<e.length;l++)e[l].each(s);return r},Ft=(e,r,s)=>e.isSome()&&r.isSome()?D.some(s(e.getOrDie(),r.getOrDie())):D.none(),Gr=(e,r)=>e!=null?D.some(r(e)):D.none(),Nr=(e,r)=>e?D.some(r):D.none(),yr=(e,r,s)=>r===""||e.length>=r.length&&e.substr(s,s+r.length)===r,jo=(e,r)=>ls(e,r)?((s,l)=>s.substring(l))(e,r.length):e,$r=(e,r,s=0,l)=>{const m=e.indexOf(r,s);return m!==-1&&(!!gn(l)||m+r.length<=l)},ls=(e,r)=>yr(e,r,0),Fa=(e,r)=>yr(e,r,e.length-r.length),cs=(Yd=/^\s+|\s+$/g,e=>e.replace(Yd,"")),La=e=>e.length>0,es=e=>!La(e),ts=e=>e.style!==void 0&&ut(e.style.getPropertyValue),Fs=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},za=(e,r)=>{const s=document.createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return Fs(s.childNodes[0])},nt=(e,r)=>{const s=document.createElement(e);return Fs(s)},At=(e,r)=>{const s=document.createTextNode(e);return Fs(s)},pt=Fs,nn=typeof window<"u"?window:Function("return this;")(),vr=(e,r)=>((s,l)=>{let m=l??nn;for(let g=0;g<s.length&&m!=null;++g)m=m[s[g]];return m})(e.split("."),r),hr=Object.getPrototypeOf,Os=e=>{const r=vr("ownerDocument.defaultView",e);return Wo(e)&&((s=>((l,m)=>{const g=((h,x)=>vr(h,x))(l,m);if(g==null)throw new Error(l+" not available on this browser");return g})("HTMLElement",s))(r).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(hr(e).constructor.name))},ga=e=>e.dom.nodeName.toLowerCase(),xr=e=>r=>(s=>s.dom.nodeType)(r)===e,Te=e=>Se(e)&&Os(e.dom),Se=xr(1),Nt=xr(3),Pt=xr(9),xn=xr(11),Sn=e=>r=>Se(r)&&ga(r)===e,Ln=(e,r)=>{const s=e.dom;if(s.nodeType!==1)return!1;{const l=s;if(l.matches!==void 0)return l.matches(r);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(r);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(r);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},Qr=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,wr=(e,r)=>{const s=r===void 0?document:r.dom;return Qr(s)?D.none():D.from(s.querySelector(e)).map(pt)},dn=(e,r)=>e.dom===r.dom,Ee=(e,r)=>{const s=e.dom,l=r.dom;return s!==l&&s.contains(l)},Be=e=>pt(e.dom.ownerDocument),so=e=>Pt(e)?e:Be(e),Lo=e=>pt(so(e).dom.documentElement),Vo=e=>pt(so(e).dom.defaultView),qo=e=>D.from(e.dom.parentNode).map(pt),rn=e=>D.from(e.dom.parentElement).map(pt),un=e=>D.from(e.dom.offsetParent).map(pt),Nn=e=>F(e.dom.childNodes,pt),or=(e,r)=>{const s=e.dom.childNodes;return D.from(s[r]).map(pt)},_r=e=>or(e,0),wa=(e,r)=>({element:e,offset:r}),sa=(e,r)=>{const s=Nn(e);return s.length>0&&r<s.length?wa(s[r],0):wa(e,r)},Us=e=>xn(e)&&Ve(e.dom.host),ea=e=>pt(e.dom.getRootNode()),Cr=e=>Us(e)?e:pt(so(e).dom.body),Pr=e=>{const r=ea(e);return Us(r)?D.some(r):D.none()},Un=e=>pt(e.dom.host),Ma=e=>{const r=Nt(e)?e.dom.parentNode:e.dom;if(r==null||r.ownerDocument===null)return!1;const s=r.ownerDocument;return Pr(pt(r)).fold(()=>s.body.contains(r),(l=Ma,m=Un,g=>l(m(g))));var l,m},os=()=>zi(pt(document)),zi=e=>{const r=e.dom.body;if(r==null)throw new Error("Body is not available yet");return pt(r)},jl=(e,r,s)=>{if(!(mo(s)||Go(s)||ho(s)))throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",s,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(r,s+"")},wn=(e,r,s)=>{jl(e.dom,r,s)},ni=(e,r)=>{const s=e.dom;Oo(r,(l,m)=>{jl(s,m,l)})},ia=(e,r)=>{const s=e.dom.getAttribute(r);return s===null?void 0:s},Ga=(e,r)=>D.from(ia(e,r)),yl=(e,r)=>{const s=e.dom;return!(!s||!s.hasAttribute)&&s.hasAttribute(r)},Mr=(e,r)=>{e.dom.removeAttribute(r)},Xs=(e,r,s)=>{if(!mo(s))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",s,":: Element ",e),new Error("CSS value must be a string: "+s);ts(e)&&e.style.setProperty(r,s)},da=(e,r)=>{ts(e)&&e.style.removeProperty(r)},Dn=(e,r,s)=>{const l=e.dom;Xs(l,r,s)},Xn=(e,r)=>{const s=e.dom;Oo(r,(l,m)=>{Xs(s,m,l)})},Ml=(e,r)=>{const s=e.dom;Oo(r,(l,m)=>{l.fold(()=>{da(s,m)},g=>{Xs(s,m,g)})})},Ua=(e,r)=>{const s=e.dom,l=window.getComputedStyle(s).getPropertyValue(r);return l!==""||Ma(e)?l:ri(s,r)},ri=(e,r)=>ts(e)?e.style.getPropertyValue(r):"",to=(e,r)=>{const s=e.dom,l=ri(s,r);return D.from(l).filter(m=>m.length>0)},bi=e=>{const r={},s=e.dom;if(ts(s))for(let l=0;l<s.style.length;l++){const m=s.style.item(l);r[m]=s.style[m]}return r},Ns=(e,r,s)=>{const l=nt(e);return Dn(l,r,s),to(l,r).isSome()},qn=(e,r)=>{const s=e.dom;da(s,r),ar(Ga(e,"style").map(cs),"")&&Mr(e,"style")},Zs=e=>e.dom.offsetWidth,Vl=(e,r)=>{const s=m=>{const g=r(m);if(g<=0||g===null){const h=Ua(m,e);return parseFloat(h)||0}return g},l=(m,g)=>ao(g,(h,x)=>{const w=Ua(m,x),S=w===void 0?0:parseInt(w,10);return isNaN(S)?h:h+S},0);return{set:(m,g)=>{if(!ho(g)&&!g.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+g);const h=m.dom;ts(h)&&(h.style[e]=g+"px")},get:s,getOuter:s,aggregate:l,max:(m,g,h)=>{const x=l(m,h);return g>x?g-x:0}}},yi=Vl("height",e=>{const r=e.dom;return Ma(e)?r.getBoundingClientRect().height:r.offsetHeight}),Da=e=>yi.get(e),Js=e=>yi.getOuter(e),ur=(e,r)=>({left:e,top:r,translate:(s,l)=>ur(e+s,r+l)}),Ur=ur,ns=(e,r)=>e!==void 0?e:r!==void 0?r:0,ks=e=>{const r=e.dom.ownerDocument,s=r.body,l=r.defaultView,m=r.documentElement;if(s===e.dom)return Ur(s.offsetLeft,s.offsetTop);const g=ns(l==null?void 0:l.pageYOffset,m.scrollTop),h=ns(l==null?void 0:l.pageXOffset,m.scrollLeft),x=ns(m.clientTop,s.clientTop),w=ns(m.clientLeft,s.clientLeft);return Q(e).translate(h-w,g-x)},Q=e=>{const r=e.dom,s=r.ownerDocument.body;return s===r?Ur(s.offsetLeft,s.offsetTop):Ma(e)?(l=>{const m=l.getBoundingClientRect();return Ur(m.left,m.top)})(r):Ur(0,0)},Ce=Vl("width",e=>e.dom.offsetWidth),Xe=e=>Ce.get(e),Wt=e=>Ce.getOuter(e),xo=e=>{let r,s=!1;return(...l)=>(s||(s=!0,r=e.apply(null,l)),r)},X=()=>be(0,0),be=(e,r)=>({major:e,minor:r}),lt={nu:be,detect:(e,r)=>{const s=String(r).toLowerCase();return e.length===0?X():((l,m)=>{const g=((x,w)=>{for(let S=0;S<x.length;S++){const M=x[S];if(M.test(w))return M}})(l,m);if(!g)return{major:0,minor:0};const h=x=>Number(m.replace(g,"$"+x));return be(h(1),h(2))})(e,s)},unknown:X},Lt=(e,r)=>{const s=String(r).toLowerCase();return yo(e,l=>l.search(s))},pn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$=e=>r=>$r(r,e),ne=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>$r(e,"edge/")&&$r(e,"chrome")&&$r(e,"safari")&&$r(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,pn],search:e=>$r(e,"chrome")&&!$r(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>$r(e,"msie")||$r(e,"trident")},{name:"Opera",versionRegexes:[pn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$("firefox")},{name:"Safari",versionRegexes:[pn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>($r(e,"safari")||$r(e,"mobile/"))&&$r(e,"applewebkit")}],Re=[{name:"Windows",search:$("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>$r(e,"iphone")||$r(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$("linux"),versionRegexes:[]},{name:"Solaris",search:$("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],bt={browsers:ue(ne),oses:ue(Re)},Eo="Edge",nr="Chromium",la="Opera",_s="Firefox",Ls="Safari",ai=e=>{const r=e.current,s=e.version,l=m=>()=>r===m;return{current:r,version:s,isEdge:l(Eo),isChromium:l(nr),isIE:l("IE"),isOpera:l(la),isFirefox:l(_s),isSafari:l(Ls)}},Cs=()=>ai({current:void 0,version:lt.unknown()}),Dl=ai,Ac="Windows",Rl="Android",Is="Linux",Oc="macOS",Ze="Solaris",Fm="FreeBSD",lm="ChromeOS",vl=e=>{const r=e.current,s=e.version,l=m=>()=>r===m;return{current:r,version:s,isWindows:l(Ac),isiOS:l("iOS"),isAndroid:l(Rl),isMacOS:l(Oc),isLinux:l(Is),isSolaris:l(Ze),isFreeBSD:l(Fm),isChromeOS:l(lm)}},Lm=()=>vl({current:void 0,version:lt.unknown()}),Wr=vl,ci=e=>window.matchMedia(e).matches;var Yd;let xl=xo(()=>((e,r,s)=>{const l=bt.browsers(),m=bt.oses(),g=r.bind(w=>((S,M)=>We(M.brands,z=>{const L=z.brand.toLowerCase();return yo(S,U=>{var Z;return L===((Z=U.brand)===null||Z===void 0?void 0:Z.toLowerCase())}).map(U=>({current:U.name,version:lt.nu(parseInt(z.version,10),0)}))}))(l,w)).orThunk(()=>((w,S)=>Lt(w,S).map(M=>{const z=lt.detect(M.versionRegexes,S);return{current:M.name,version:z}}))(l,e)).fold(Cs,Dl),h=((w,S)=>Lt(w,S).map(M=>{const z=lt.detect(M.versionRegexes,S);return{current:M.name,version:z}}))(m,e).fold(Lm,Wr),x=((w,S,M,z)=>{const L=w.isiOS()&&/ipad/i.test(M)===!0,U=w.isiOS()&&!L,Z=w.isiOS()||w.isAndroid(),re=Z||z("(pointer:coarse)"),se=L||!U&&Z&&z("(min-device-width:768px)"),pe=U||Z&&!se,oe=S.isSafari()&&w.isiOS()&&/safari/i.test(M)===!1,te=!pe&&!se&&!oe;return{isiPad:ue(L),isiPhone:ue(U),isTablet:ue(se),isPhone:ue(pe),isTouch:ue(re),isAndroid:w.isAndroid,isiOS:w.isiOS,isWebView:ue(oe),isDesktop:ue(te)}})(h,g,e,s);return{browser:g,os:h,deviceType:x}})(window.navigator.userAgent,D.from(window.navigator.userAgentData),ci));const Ms=()=>xl(),vi=e=>{const r=pt((g=>{if(Ve(g.target)){const h=pt(g.target);if(Se(h)&&(x=>Ve(x.dom.shadowRoot))(h)&&g.composed&&g.composedPath){const x=g.composedPath();if(x)return De(x)}}return D.from(g.target)})(e).getOr(e.target)),s=()=>e.stopPropagation(),l=()=>e.preventDefault(),m=bo(l,s);return((g,h,x,w,S,M,z)=>({target:g,x:h,y:x,stop:w,prevent:S,kill:M,raw:z}))(r,e.clientX,e.clientY,s,l,m,e)},le=(e,r,s,l,m)=>{const g=((h,x)=>w=>{h(w)&&x(vi(w))})(s,l);return e.dom.addEventListener(r,g,m),{unbind:mt(ze,e,r,g,m)}},ze=(e,r,s,l)=>{e.dom.removeEventListener(r,s,l)},yt=(e,r)=>{qo(e).each(s=>{s.dom.insertBefore(r.dom,e.dom)})},no=(e,r)=>{(l=>D.from(l.dom.nextSibling).map(pt))(e).fold(()=>{qo(e).each(l=>{mr(l,r)})},l=>{yt(l,r)})},zn=(e,r)=>{_r(e).fold(()=>{mr(e,r)},s=>{e.dom.insertBefore(r.dom,s.dom)})},mr=(e,r)=>{e.dom.appendChild(r.dom)},Fr=(e,r)=>{Ot(r,s=>{mr(e,s)})},Ps=e=>{e.dom.textContent="",Ot(Nn(e),r=>{ua(r)})},ua=e=>{const r=e.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},ta=e=>{const r=e!==void 0?e.dom:document,s=r.body.scrollLeft||r.documentElement.scrollLeft,l=r.body.scrollTop||r.documentElement.scrollTop;return Ur(s,l)},Ds=(e,r,s)=>{const l=(s!==void 0?s.dom:document).defaultView;l&&l.scrollTo(e,r)},pa=(e,r,s,l)=>({x:e,y:r,width:s,height:l,right:e+s,bottom:r+l}),_i=e=>{const r=e===void 0?window:e,s=r.document,l=ta(pt(s));return(m=>{const g=m===void 0?window:m;return Ms().browser.isFirefox()?D.none():D.from(g.visualViewport)})(r).fold(()=>{const m=r.document.documentElement,g=m.clientWidth,h=m.clientHeight;return pa(l.left,l.top,g,h)},m=>pa(Math.max(m.pageLeft,l.left),Math.max(m.pageTop,l.top),m.width,m.height))},wl=()=>pt(document),Au=(e,r)=>e.view(r).fold(ue([]),s=>{const l=e.owner(s),m=Au(e,l);return[s].concat(m)});var Rs=Object.freeze({__proto__:null,view:e=>{var r;return(e.dom===document?D.none():D.from((r=e.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(pt)},owner:e=>Be(e)});const xi=e=>{const r=wl(),s=ta(r);return((m,g)=>{const h=g.owner(m),x=Au(g,h);return D.some(x)})(e,Rs).fold(mt(ks,e),m=>{const g=Q(e),h=co(m,(x,w)=>{const S=Q(w);return{left:x.left+S.left,top:x.top+S.top}},{left:0,top:0});return Ur(h.left+g.left+s.left,h.top+g.top+s.top)})},ka=(e,r,s,l)=>({x:e,y:r,width:s,height:l,right:e+s,bottom:r+l}),ds=e=>{const r=ks(e),s=Wt(e),l=Js(e);return ka(r.left,r.top,s,l)},Ia=e=>{const r=xi(e),s=Wt(e),l=Js(e);return ka(r.left,r.top,s,l)},Bl=(e,r)=>{const s=Math.max(e.x,r.x),l=Math.max(e.y,r.y),m=Math.min(e.right,r.right),g=Math.min(e.bottom,r.bottom);return ka(s,l,m-s,g-l)},rs=()=>_i(window),yn=e=>{let r=e;return{get:()=>r,set:s=>{r=s}}},vd=e=>{const r=yn(D.none()),s=()=>r.get().each(e);return{clear:()=>{s(),r.set(D.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:l=>{s(),r.set(D.some(l))}}},$l=()=>vd(e=>e.unbind()),Tr=()=>{const e=vd(Ae);return{...e,on:r=>e.get().each(r)}};var Xd=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Jd=e=>{const r=g=>g(e),s=ue(e),l=()=>m,m={tag:!0,inner:e,fold:(g,h)=>h(e),isValue:Rt,isError:Uo,map:g=>Dr.value(g(e)),mapError:l,bind:r,exists:r,forall:r,getOr:s,or:l,getOrThunk:s,orThunk:l,getOrDie:s,each:g=>{g(e)},toOptional:()=>D.some(e)};return m},Qd=e=>{const r=()=>s,s={tag:!1,inner:e,fold:(l,m)=>l(e),isValue:Uo,isError:Rt,map:r,mapError:l=>Dr.error(l(e)),bind:r,exists:Uo,forall:Rt,getOr:$e,or:$e,getOrThunk:Ho,orThunk:Ho,getOrDie:go(String(e)),each:Ae,toOptional:D.none};return s},Dr={value:Jd,error:Qd,fromOption:(e,r)=>e.fold(()=>Qd(r),Jd)};var Ti;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Ti||(Ti={}));const Fl=(e,r,s)=>e.stype===Ti.Error?r(e.serror):s(e.svalue),Im=e=>({stype:Ti.Value,svalue:e}),eu=e=>({stype:Ti.Error,serror:e}),al=Im,mc=eu,Ai=Fl,di=(e,r,s,l)=>({tag:"field",key:e,newKey:r,presence:s,prop:l}),xd=(e,r,s)=>{switch(e.tag){case"field":return r(e.key,e.newKey,e.presence,e.prop);case"custom":return s(e.newKey,e.instantiator)}},us=e=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const s={};for(let l=0;l<r.length;l++){const m=r[l];for(const g in m)Xo(m,g)&&(s[g]=e(s[g],m[g]))}return s},vs=us((e,r)=>jt(e)&&jt(r)?vs(e,r):r),wd=us((e,r)=>r),Nc=e=>({tag:"defaultedThunk",process:e}),ca=e=>Nc(ue(e)),Wi=e=>({tag:"mergeWithThunk",process:e}),Mc=e=>{const r=(l=>{const m=[],g=[];return Ot(l,h=>{Fl(h,x=>g.push(x),x=>m.push(x))}),{values:m,errors:g}})(e);return r.errors.length>0?(s=r.errors,bo(mc,_e)(s)):al(r.values);var s},Ll=e=>Wo(e)&&dt(e).length>100?" removed due to size":JSON.stringify(e,null,2),Dc=(e,r)=>mc([{path:e,getErrorInfo:r}]),kd=e=>({extract:(r,s)=>((l,m)=>l.stype===Ti.Error?m(l.serror):l)(e(s),l=>((m,g)=>Dc(m,ue(g)))(r,l)),toString:ue("val")}),_p=kd(al),gc=(e,r,s,l)=>l(zt(e,r).getOrThunk(()=>s(e))),Yc=(e,r,s,l,m)=>{const g=x=>m.extract(r.concat([l]),x),h=x=>x.fold(()=>al(D.none()),w=>((S,M)=>S.stype===Ti.Value?{stype:Ti.Value,svalue:M(S.svalue)}:S)(m.extract(r.concat([l]),w),D.some));switch(e.tag){case"required":return((x,w,S,M)=>zt(w,S).fold(()=>((z,L,U)=>Dc(z,()=>'Could not find valid *required* value for "'+L+'" in '+Ll(U)))(x,S,w),M))(r,s,l,g);case"defaultedThunk":return gc(s,l,e.process,g);case"option":return((x,w,S)=>S(zt(x,w)))(s,l,h);case"defaultedOptionThunk":return((x,w,S,M)=>M(zt(x,w).map(z=>z===!0?S(x):z)))(s,l,e.process,h);case"mergeWithThunk":return gc(s,l,ue({}),x=>{const w=vs(e.process(s),x);return g(w)})}},Xc=e=>({extract:(r,s)=>e().extract(r,s),toString:()=>e().toString()}),Jc=e=>dt(on(e,Ve)),sl=e=>{const r=Hn(e),s=co(e,(l,m)=>xd(m,g=>vs(l,{[g]:!0}),ue(l)),{});return{extract:(l,m)=>{const g=Go(m)?[]:Jc(m),h=ro(g,x=>!Kn(s,x));return h.length===0?r.extract(l,m):((x,w)=>Dc(x,()=>"There are unsupported fields: ["+w.join(", ")+"] specified"))(l,h)},toString:r.toString}},Hn=e=>({extract:(r,s)=>((l,m,g)=>{const h={},x=[];for(const w of g)xd(w,(S,M,z,L)=>{const U=Yc(z,l,m,S,L);Ai(U,Z=>{x.push(...Z)},Z=>{h[M]=Z})},(S,M)=>{h[S]=M(m)});return x.length>0?mc(x):al(h)})(r,s,e),toString:()=>`obj{
`+F(e,r=>xd(r,(s,l,m,g)=>s+" -> "+g.toString(),(s,l)=>"state("+s+")")).join(`
`)+"}"}),Rc=e=>({extract:(r,s)=>{const l=F(s,(m,g)=>e.extract(r.concat(["["+g+"]"]),m));return Mc(l)},toString:()=>"array("+e.toString()+")"}),Ou=(e,r)=>{const s=r!==void 0?r:$e;return{extract:(l,m)=>{const g=[];for(const h of e){const x=h.extract(l,m);if(x.stype===Ti.Value)return{stype:Ti.Value,svalue:s(x.svalue)};g.push(x)}return Mc(g)},toString:()=>"oneOf("+F(e,l=>l.toString()).join(", ")+")"}},Cp=(e,r)=>({extract:(s,l)=>{const m=dt(l),g=((h,x)=>Rc(kd(e)).extract(h,x))(s,m);return((h,x)=>h.stype===Ti.Value?x(h.svalue):h)(g,h=>{const x=F(h,w=>di(w,w,{tag:"required",process:{}},r));return Hn(x).extract(s,l)})},toString:()=>"setOf("+r.toString()+")"}),Pm=bo(Rc,Hn),Ss=ue(_p),tu=(e,r)=>kd(s=>{const l=typeof s;return e(s)?al(s):mc(`Expected type: ${r} but got: ${l}`)}),ou=tu(ho,"number"),qs=tu(mo,"string"),Ws=tu(Go,"boolean"),_d=tu(ut,"function"),ms=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(r=>ms(e[r]));default:return!1}},Ng=kd(e=>ms(e)?al(e):mc("Expected value to be acceptable for sending via postMessage")),Qc=(e,r)=>({extract:(s,l)=>zt(l,e).fold(()=>((m,g)=>Dc(m,()=>'Choice schema did not contain choice key: "'+g+'"'))(s,e),m=>((g,h,x,w)=>zt(x,w).fold(()=>((S,M,z)=>Dc(S,()=>'The chosen schema: "'+z+'" did not exist in branches: '+Ll(M)))(g,x,w),S=>S.extract(g.concat(["branch: "+w]),h)))(s,l,r,m)),toString:()=>"chooseOn("+e+"). Possible values: "+dt(r)}),tc=e=>kd(r=>e(r).fold(mc,al)),Nu=(e,r)=>Cp(s=>e(s).fold(eu,Im),r),Pa=(e,r,s)=>{return l=((m,g,h)=>((x,w)=>x.stype===Ti.Error?{stype:Ti.Error,serror:w(x.serror)}:x)(g.extract([m],h),x=>({input:h,errors:x})))(e,r,s),Fl(l,Dr.error,Dr.value);var l},Oi=e=>e.fold(r=>{throw new Error(bn(r))},$e),si=(e,r,s)=>Oi(Pa(e,r,s)),bn=e=>`Errors: 
`+(r=>{const s=r.length>10?r.slice(0,10).concat([{path:[],getErrorInfo:ue("... (only showing first ten failures)")}]):r;return F(s,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(e.errors).join(`
`)+`

Input object: `+Ll(e.input),Hs=(e,r)=>Qc(e,tt(r,Hn)),ed=(e,r)=>((s,l)=>{const m=xo(l);return{extract:(g,h)=>m().extract(g,h),toString:()=>m().toString()}})(0,r),Sa=di,ui=(e,r)=>({tag:"custom",newKey:e,instantiator:r}),oc=e=>tc(r=>ct(e,r)?Dr.value(r):Dr.error(`Unsupported value: "${r}", choose one of "${e.join(", ")}".`)),oo=e=>Sa(e,e,{tag:"required",process:{}},Ss()),Ni=(e,r)=>Sa(e,e,{tag:"required",process:{}},r),xs=e=>Ni(e,qs),vo=(e,r)=>Sa(e,e,{tag:"required",process:{}},oc(r)),Gi=e=>Ni(e,_d),td=(e,r)=>Sa(e,e,{tag:"required",process:{}},Hn(r)),od=(e,r)=>Sa(e,e,{tag:"required",process:{}},Pm(r)),wi=(e,r)=>Sa(e,e,{tag:"required",process:{}},Rc(r)),Lr=e=>Sa(e,e,{tag:"option",process:{}},Ss()),fa=(e,r)=>Sa(e,e,{tag:"option",process:{}},r),nu=e=>fa(e,ou),_a=e=>fa(e,qs),Kr=(e,r)=>fa(e,oc(r)),pc=e=>fa(e,_d),Mg=(e,r)=>fa(e,Rc(r)),js=(e,r)=>fa(e,Hn(r)),St=(e,r)=>Sa(e,e,ca(r),Ss()),il=(e,r,s)=>Sa(e,e,ca(r),s),Dg=(e,r)=>il(e,r,ou),gs=(e,r)=>il(e,r,qs),ll=(e,r,s)=>il(e,r,oc(s)),mi=(e,r)=>il(e,r,Ws),ps=(e,r)=>il(e,r,_d),kl=(e,r,s)=>il(e,r,Rc(s)),Qs=(e,r,s)=>il(e,r,Hn(s)),Mi=e=>{if(!Co(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const r=[],s={};return Ot(e,(l,m)=>{const g=dt(l);if(g.length!==1)throw new Error("one and only one name per case");const h=g[0],x=l[h];if(s[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Co(x))throw new Error("case arguments must be an array");r.push(h),s[h]=(...w)=>{const S=w.length;if(S!==x.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+x.length+" ("+x+"), got "+S);return{fold:(...M)=>{if(M.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+M.length);return M[m].apply(null,w)},match:M=>{const z=dt(M);if(r.length!==z.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+z.join(","));if(!Ct(r,L=>ct(z,L)))throw new Error("Not all branches were specified when using match. Specified: "+z.join(", ")+`
Required: `+r.join(", "));return M[h].apply(null,w)},log:M=>{console.log(M,{constructors:r,constructor:h,params:w})}}}}),s};Mi([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const as=(e,r)=>((s,l)=>({[s]:l}))(e,r),Di=e=>(r=>{const s={};return Ot(r,l=>{s[l.key]=l.value}),s})(e),cl=e=>ut(e)?e:Uo,Cd=(e,r,s)=>{let l=e.dom;const m=cl(s);for(;l.parentNode;){l=l.parentNode;const g=pt(l),h=r(g);if(h.isSome())return h;if(m(g))break}return D.none()},dl=(e,r,s)=>{const l=r(e),m=cl(s);return l.orThunk(()=>m(e)?D.none():Cd(e,r,m))},Sd=(e,r)=>dn(e.element,r.event.target),cm={can:Rt,abort:Uo,run:Ae},Ed=e=>{if(!Kn(e,"can")&&!Kn(e,"abort")&&!Kn(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...cm,...e}},Gs=ue,T=Gs("touchstart"),j=Gs("touchmove"),K=Gs("touchend"),Me=Gs("touchcancel"),Le=Gs("mousedown"),po=Gs("mousemove"),In=Gs("mouseout"),cr=Gs("mouseup"),Zn=Gs("mouseover"),kn=Gs("focusin"),ha=Gs("focusout"),Za=Gs("keydown"),Ki=Gs("keyup"),Ri=Gs("input"),fc=Gs("change"),Bc=Gs("click"),Vf=Gs("transitioncancel"),Mu=Gs("transitionend"),$f=Gs("transitionstart"),vb=Gs("selectstart"),Vs=e=>ue("alloy."+e),xb={tap:Vs("tap")},zd=Vs("focus"),dm=Vs("blur.post"),Sp=Vs("paste.post"),nd=Vs("receive"),_l=Vs("execute"),Fc=Vs("focus.item"),Du=xb.tap,um=Vs("longpress"),Hm=Vs("sandbox.close"),mm=Vs("typeahead.cancel"),Rg=Vs("system.init"),Uf=Vs("system.touchmove"),Ru=Vs("system.touchend"),gi=Vs("system.scroll"),ru=Vs("system.resize"),Ul=Vs("system.attached"),Lc=Vs("system.detached"),Td=Vs("system.dismissRequested"),wb=Vs("system.repositionRequested"),jm=Vs("focusmanager.shifted"),Bg=Vs("slotcontainer.visibility"),Vm=Vs("system.external.element.scroll"),$m=Vs("change.tab"),Ic=Vs("dismiss.tab"),gm=Vs("highlight"),pm=Vs("dehighlight"),Rr=(e,r)=>{Um(e,e.element,r,{})},An=(e,r,s)=>{Um(e,e.element,r,s)},Zl=e=>{Rr(e,_l())},hc=(e,r,s)=>{Um(e,r,s,{})},Um=(e,r,s,l)=>{const m={target:r,...l};e.getSystem().triggerEvent(s,r,m)},kb=(e,r,s,l)=>{e.getSystem().triggerEvent(s,r,l.event)},Ta=e=>Di(e),Pc=(e,r)=>({key:e,value:Ed({abort:r})}),Zf=e=>({key:e,value:Ed({run:(r,s)=>{s.event.prevent()}})}),Kt=(e,r)=>({key:e,value:Ed({run:r})}),Ep=(e,r,s)=>({key:e,value:Ed({run:(l,m)=>{r.apply(void 0,[l,m].concat(s))}})}),Ad=e=>r=>({key:e,value:Ed({run:(s,l)=>{Sd(s,l)&&r(s,l)}})}),au=(e,r,s)=>((l,m)=>Kt(l,(g,h)=>{g.getSystem().getByUid(m).each(x=>{kb(x,x.element,l,h)})}))(e,r.partUids[s]),qf=(e,r)=>Kt(e,(s,l)=>{const m=l.event,g=s.getSystem().getByDom(m.target).getOrThunk(()=>dl(m.target,h=>s.getSystem().getByDom(h).toOptional(),Uo).getOr(s));r(s,g,l)}),Bu=e=>Kt(e,(r,s)=>{s.cut()}),Wf=e=>Kt(e,(r,s)=>{s.stop()}),su=(e,r)=>Ad(e)(r),Aa=Ad(Ul()),nc=Ad(Lc()),iu=Ad(Rg()),lu=(Hu=_l(),e=>Kt(Hu,e)),rd=e=>F(e,r=>Fa(r,"/*")?r.substring(0,r.length-2):r),fm=(e,r)=>{const s=e.toString(),l=s.indexOf(")")+1,m=s.indexOf("("),g=s.substring(m+1,l-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:r,parameters:rd(g)}),e},rc=e=>({classes:gn(e.classes)?[]:e.classes,attributes:gn(e.attributes)?{}:e.attributes,styles:gn(e.styles)?{}:e.styles}),cu=(e,r,s)=>iu((l,m)=>{s(l,e,r)}),hm=e=>({key:e,value:void 0}),du=(e,r,s,l,m,g,h)=>{const x=M=>Kn(M,s)?M[s]():D.none(),w=tt(m,(M,z)=>((L,U,Z)=>((re,se,pe)=>{const oe=pe.toString(),te=oe.indexOf(")")+1,de=oe.indexOf("("),me=oe.substring(de+1,te-1).split(/,\s*/);return re.toFunctionAnnotation=()=>({name:se,parameters:rd(me.slice(0,1).concat(me.slice(3)))}),re})((re,...se)=>{const pe=[re].concat(se);return re.config({name:ue(L)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+L+". Using API: "+Z)},oe=>{const te=Array.prototype.slice.call(pe,1);return U.apply(void 0,[re,oe.config,oe.state].concat(te))})},Z,U))(s,M,z)),S={...tt(g,(M,z)=>fm(M,z)),...w,revoke:mt(hm,s),config:M=>{const z=si(s+"-config",e,M);return{key:s,value:{config:z,me:S,configAsRaw:xo(()=>si(s+"-config",e,M)),initialConfig:M,state:h}}},schema:ue(r),exhibit:(M,z)=>Ft(x(M),zt(l,"exhibit"),(L,U)=>U(z,L.config,L.state)).getOrThunk(()=>rc({})),name:ue(s),handlers:M=>x(M).map(z=>zt(l,"events").getOr(()=>({}))(z.config,z.state)).getOr({})};return S},ac={init:()=>Ci({readState:ue("No State required")})},Ci=e=>e,zo=e=>Di(e),Zm=sl([oo("fields"),oo("name"),St("active",{}),St("apis",{}),St("state",ac),St("extra",{})]),Ar=e=>{const r=si("Creating behaviour: "+e.name,Zm,e);return((s,l,m,g,h,x)=>{const w=sl(s),S=js(l,[(M=s,fa("config",sl(M)))]);var M;return du(w,S,l,m,g,h,x)})(r.fields,r.name,r.active,r.apis,r.extra,r.state)},_b=sl([oo("branchKey"),oo("branches"),oo("name"),St("active",{}),St("apis",{}),St("state",ac),St("extra",{})]),ad=e=>{const r=si("Creating behaviour: "+e.name,_b,e);return((s,l,m,g,h,x)=>{const w=s,S=js(l,[fa("config",s)]);return du(w,S,l,m,g,h,x)})(Hs(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},C=ue(void 0),R=(e,r)=>{const s=ia(e,r);return s===void 0||s===""?[]:s.split(" ")},W=e=>e.dom.classList!==void 0,ie=e=>R(e,"class"),Ie=(e,r)=>((s,l,m)=>{const g=R(s,l).concat([m]);return wn(s,l,g.join(" ")),!0})(e,"class",r),Yt=(e,r)=>((s,l,m)=>{const g=ro(R(s,l),h=>h!==m);return g.length>0?wn(s,l,g.join(" ")):Mr(s,l),!1})(e,"class",r),lo=(e,r)=>{W(e)?e.dom.classList.add(r):Ie(e,r)},tn=e=>{(W(e)?e.dom.classList:ie(e)).length===0&&Mr(e,"class")},ln=(e,r)=>{W(e)?e.dom.classList.remove(r):Yt(e,r),tn(e)},Rn=(e,r)=>W(e)&&e.dom.classList.contains(r),Zr=(e,r)=>{Ot(r,s=>{lo(e,s)})},Or=(e,r)=>{Ot(r,s=>{ln(e,s)})},Oa=e=>W(e)?(r=>{const s=r.dom.classList,l=new Array(s.length);for(let m=0;m<s.length;m++){const g=s.item(m);g!==null&&(l[m]=g)}return l})(e):ie(e),oa=(e,r,s,l,m)=>{const g=h=>h+"px";return{position:e,left:r.map(g),top:s.map(g),right:l.map(g),bottom:m.map(g)}},sc=(e,r)=>{Ml(e,(s=>({...s,position:D.some(s.position)}))(r))},Yi=e=>(ar(to(e,"position"),"fixed")?D.none():un(e)).orThunk(()=>{const r=nt("span");return qo(e).bind(s=>{mr(s,r);const l=un(r);return ua(r),l})}),Cl=e=>Yi(e).map(ks).getOrThunk(()=>Ur(0,0)),Fg=(e,r)=>{const s=e.element;lo(s,r.transitionClass),ln(s,r.fadeOutClass),lo(s,r.fadeInClass),r.onShow(e)},qm=(e,r)=>{const s=e.element;lo(s,r.transitionClass),ln(s,r.fadeInClass),lo(s,r.fadeOutClass),r.onHide(e)},Fu=(e,r)=>e.y>=r.y,sd=(e,r)=>e.bottom<=r.bottom,uu=(e,r,s)=>({location:"top",leftX:r,topY:s.bounds.y-e.y}),bc=(e,r,s)=>({location:"bottom",leftX:r,bottomY:e.bottom-s.bounds.bottom}),Lu=e=>e.box.x-e.win.x,Wm=(e,r,s)=>s.getInitialPos().map(l=>{const m=((g,h)=>{const x=h.optScrollEnv.fold(ue(g.bounds.y),w=>w.scrollElmTop+(g.bounds.y-w.currentScrollTop));return Ur(g.bounds.x,x)})(l,r);return{box:ka(m.left,m.top,Xe(e),Da(e)),location:l.location}}),Iu=(e,r,s,l,m)=>{const g=((x,w)=>{const S=w.optScrollEnv.fold(ue(x.y),M=>x.y+M.currentScrollTop-M.scrollElmTop);return Ur(x.x,S)})(r,s),h=ka(g.left,g.top,r.width,r.height);l.setInitialPos({style:bi(e),position:Ua(e,"position")||"static",bounds:h,location:m.location})},Yr=(e,r,s)=>s.getInitialPos().bind(l=>{var m;switch(s.clearInitialPos(),l.position){case"static":return D.some({morph:"static"});case"absolute":const g=Yi(e).getOr(os()),h=ds(g),x=(m=g.dom.scrollTop)!==null&&m!==void 0?m:0;return D.some({morph:"absolute",positionCss:oa("absolute",zt(l.style,"left").map(w=>r.x-h.x),zt(l.style,"top").map(w=>r.y-h.y+x),zt(l.style,"right").map(w=>h.right-r.right),zt(l.style,"bottom").map(w=>h.bottom-r.bottom))});default:return D.none()}}),Ea=e=>{switch(e.location){case"top":return D.some({morph:"fixed",positionCss:oa("fixed",D.some(e.leftX),D.some(e.topY),D.none(),D.none())});case"bottom":return D.some({morph:"fixed",positionCss:oa("fixed",D.some(e.leftX),D.none(),D.none(),D.some(e.bottomY))});default:return D.none()}},Sl=(e,r,s)=>{const l=e.element;return ar(to(l,"position"),"fixed")?((m,g,h)=>((x,w,S)=>Wm(x,w,S).filter(({box:M})=>((z,L,U)=>Ct(z,Z=>{switch(Z){case"bottom":return sd(L,U.bounds);case"top":return Fu(L,U.bounds)}}))(S.getModes(),M,w)).bind(({box:M})=>Yr(x,M,S)))(m,g,h).orThunk(()=>g.optScrollEnv.bind(x=>Wm(m,g,h)).bind(({box:x,location:w})=>{const S=rs(),M=Lu({win:S,box:x}),z=w==="top"?uu(S,M,g):bc(S,M,g);return Ea(z)})))(l,r,s):((m,g,h)=>{const x=ds(m),w=rs(),S=((M,z,L)=>{const U=z.win,Z=z.box,re=Lu(z);return We(M,se=>{switch(se){case"bottom":return sd(Z,L.bounds)?D.none():D.some(bc(U,re,L));case"top":return Fu(Z,L.bounds)?D.none():D.some(uu(U,re,L));default:return D.none()}}).getOr({location:"no-dock"})})(h.getModes(),{win:w,box:x},g);return S.location==="top"||S.location==="bottom"?(Iu(m,x,g,h,S),Ea(S)):D.none()})(l,r,s)},Bi=(e,r,s)=>{s.setDocked(!1),Ot(["left","right","top","bottom","position"],l=>qn(e.element,l)),r.onUndocked(e)},Od=(e,r,s,l)=>{const m=l.position==="fixed";s.setDocked(m),sc(e.element,l),(m?r.onDocked:r.onUndocked)(e)},zp=(e,r,s,l,m=!1)=>{r.contextual.each(g=>{g.lazyContext(e).each(h=>{const x=((w,S)=>w.y<S.bottom&&w.bottom>S.y)(h,l.bounds);x!==s.isVisible()&&(s.setVisible(x),m&&!x?(Zr(e.element,[g.fadeOutClass]),g.onHide(e)):(x?Fg:qm)(e,g))})})},Pu=(e,r,s,l,m)=>{zp(e,r,s,l,!0),Od(e,r,s,m.positionCss)},yc=(e,r,s)=>{e.getSystem().isConnected()&&((l,m,g)=>{const h=m.lazyViewport(l);zp(l,m,g,h),Sl(l,h,g).each(x=>{((w,S,M,z,L)=>{switch(L.morph){case"static":return Bi(w,S,M);case"absolute":return Od(w,S,M,L.positionCss);case"fixed":Pu(w,S,M,z,L)}})(l,m,g,h,x)})})(e,r,s)},b0=(e,r,s)=>{s.isDocked()&&((l,m,g)=>{const h=l.element;g.setDocked(!1);const x=m.lazyViewport(l);((w,S,M)=>{const z=w.element;return Wm(z,S,M).bind(({box:L})=>Yr(z,L,M))})(l,x,g).each(w=>{switch(w.morph){case"static":Bi(l,m,g);break;case"absolute":Od(l,m,g,w.positionCss)}}),g.setVisible(!0),m.contextual.each(w=>{Or(h,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(l)}),yc(l,m,g)})(e,r,s)},Lg=e=>(r,s,l)=>{const m=s.lazyViewport(r);((g,h,x,w)=>{const S=ds(g),M=rs(),z=w(M,Lu({win:M,box:S}),h);return z.location==="bottom"||z.location==="top"?(((L,U,Z,re,se)=>{re.getInitialPos().fold(()=>Iu(L,U,Z,re,se),()=>Ae)})(g,S,h,x,z),Ea(z)):D.none()})(r.element,m,l,e).each(g=>{Pu(r,s,l,m,g)})},Gf=Lg(uu),Gm=Lg(bc);var Hu,Fi=Object.freeze({__proto__:null,refresh:yc,reset:b0,isDocked:(e,r,s)=>s.isDocked(),getModes:(e,r,s)=>s.getModes(),setModes:(e,r,s,l)=>s.setModes(l),forceDockToTop:Gf,forceDockToBottom:Gm}),Kf=Object.freeze({__proto__:null,events:(e,r)=>Ta([su(Mu(),(s,l)=>{e.contextual.each(m=>{Rn(s.element,m.transitionClass)&&(Or(s.element,[m.transitionClass,m.fadeInClass]),(r.isVisible()?m.onShown:m.onHidden)(s)),l.stop()})}),Kt(gi(),(s,l)=>{yc(s,e,r)}),Kt(Vm(),(s,l)=>{yc(s,e,r)}),Kt(ru(),(s,l)=>{b0(s,e,r)})])});const Li=e=>e.dom.innerHTML,mu=(e,r)=>{const s=Be(e).dom,l=pt(s.createDocumentFragment()),m=((g,h)=>{const x=(h||document).createElement("div");return x.innerHTML=g,Nn(pt(x))})(r,s);Fr(l,m),Ps(e),mr(e,l)},bm=(e,r)=>pt(e.dom.cloneNode(r)),Hc=e=>(r=>{if(Us(r))return"#shadow-root";{const s=(l=>bm(l,!1))(r);return(l=>{const m=nt("div"),g=pt(l.dom.cloneNode(!0));return mr(m,g),Li(m)})(s)}})(e);var jc;(function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"})(jc||(jc={}));const ul=yn({}),y0=["alloy/data/Fields","alloy/debugging/Debugging"],Tp=(e,r,s)=>((l,m,g)=>{switch(zt(ul.get(),l).orThunk(()=>{const h=dt(ul.get());return We(h,x=>l.indexOf(x)>-1?D.some(ul.get()[x]):D.none())}).getOr(jc.NORMAL)){case jc.NORMAL:return g(Cb());case jc.LOGGING:{const h=((w,S)=>{const M=[],z=new Date().getTime();return{logEventCut:(L,U,Z)=>{M.push({outcome:"cut",target:U,purpose:Z})},logEventStopped:(L,U,Z)=>{M.push({outcome:"stopped",target:U,purpose:Z})},logNoParent:(L,U,Z)=>{M.push({outcome:"no-parent",target:U,purpose:Z})},logEventNoHandlers:(L,U)=>{M.push({outcome:"no-handlers-left",target:U})},logEventResponse:(L,U,Z)=>{M.push({outcome:"response",purpose:Z,target:U})},write:()=>{const L=new Date().getTime();ct(["mousemove","mouseover","mouseout",Rg()],w)||console.log(w,{event:w,time:L-z,target:S.dom,sequence:F(M,U=>ct(["cut","stopped","response"],U.outcome)?"{"+U.purpose+"} "+U.outcome+" at ("+Hc(U.target)+")":U.outcome)})}}})(l,m),x=g(h);return h.write(),x}case jc.STOP:return!0}})(e,r,s),Cb=ue({logEventCut:Ae,logEventStopped:Ae,logNoParent:Ae,logEventNoHandlers:Ae,logEventResponse:Ae,write:Ae}),Yf=ue([oo("menu"),oo("selectedMenu")]),Ig=ue([oo("item"),oo("selectedItem")]);ue(Hn(Ig().concat(Yf())));const id=ue(Hn(Ig())),v0=td("initSize",[oo("numColumns"),oo("numRows")]),ju=()=>td("markers",[oo("backgroundMenu")].concat(Yf()).concat(Ig())),ld=e=>td("markers",F(e,oo)),Pg=(e,r,s)=>((()=>{const l=new Error;if(l.stack!==void 0){const m=l.stack.split(`
`);yo(m,g=>g.indexOf("alloy")>0&&!$t(y0,h=>g.indexOf(h)>-1)).getOr("unknown")}})(),Sa(r,r,s,tc(l=>Dr.value((...m)=>l.apply(void 0,m))))),Hr=e=>Pg(0,e,ca(Ae)),El=e=>Pg(0,e,ca(D.none)),gu=e=>Pg(0,e,{tag:"required",process:{}}),Xf=e=>Pg(0,e,{tag:"required",process:{}}),Ha=(e,r)=>ui(e,ue(r)),Nd=e=>ui(e,$e),ql=ue(v0);var Jf=[js("contextual",[xs("fadeInClass"),xs("fadeOutClass"),xs("transitionClass"),Gi("lazyContext"),Hr("onShow"),Hr("onShown"),Hr("onHide"),Hr("onHidden")]),ps("lazyViewport",()=>({bounds:rs(),optScrollEnv:D.none()})),kl("modes",["top","bottom"],qs),Hr("onDocked"),Hr("onUndocked")];const ss=Ar({fields:Jf,name:"docking",active:Kf,apis:Fi,state:Object.freeze({__proto__:null,init:e=>{const r=yn(!1),s=yn(!0),l=Tr(),m=yn(e.modes);return Ci({isDocked:r.get,setDocked:r.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:s.get,setVisible:s.set,getModes:m.get,setModes:m.set,readState:()=>`docked:  ${r.get()}, visible: ${s.get()}, modes: ${m.get().join(",")}`})}})}),y_=Ta([((e,r)=>({key:e,value:Ed({can:(s,l)=>{const m=l.event,g=m.originator,h=m.target;return!((x,w,S)=>dn(w,x.element)&&!dn(w,S))(s,g,h)||(console.warn(zd()+` did not get interpreted by the desired target. 
Originator: `+Hc(g)+`
Target: `+Hc(h)+`
Check the `+zd()+" event handlers"),!1)}})}))(zd())]);var v_=Object.freeze({__proto__:null,events:y_});const Ap=(e,r,s,l)=>{const m=e+r;return m>l?s:m<s?l:m},vc=(e,r,s)=>Math.min(Math.max(e,r),s);let Qf=0;const cn=e=>{const r=new Date().getTime(),s=Math.floor(window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295*1e9);return Qf++,e+"_"+s+Qf+String(r)},qv=ue("alloy-id-"),Md=ue("data-alloy-id"),Sb=qv(),Eb=Md(),eh=(e,r)=>{Object.defineProperty(e.dom,Eb,{value:r,writable:!0})},Hg=e=>{const r=Se(e)?e.dom[Eb]:null;return D.from(r)},Vu=e=>cn(e),x_=$e,Km=e=>{const r=m=>`The component must be in a context to execute: ${m}`+(e?`
`+Hc(e().element)+" is not in context.":""),s=m=>()=>{throw new Error(r(m))},l=m=>()=>{console.warn(r(m))};return{debugInfo:ue("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:s("build"),buildOrPatch:s("buildOrPatch"),addToWorld:s("addToWorld"),removeFromWorld:s("removeFromWorld"),addToGui:s("addToGui"),removeFromGui:s("removeFromGui"),getByUid:s("getByUid"),getByDom:s("getByDom"),isConnected:Uo}},w_=Km(),Ym=cn("alloy-premade"),zb=e=>(Object.defineProperty(e.element.dom,Ym,{value:e.uid,writable:!0}),as(Ym,e)),x0=e=>zt(e,Ym),jg=e=>((r,s)=>{const l=s.toString(),m=l.indexOf(")")+1,g=l.indexOf("("),h=l.substring(g+1,m-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:rd(h.slice(1))}),r})((r,...s)=>e(r.getApis(),r,...s),e),Tb=(e,r)=>{const s={};return Oo(e,(l,m)=>{Oo(l,(g,h)=>{const x=zt(s,h).getOr([]);s[h]=x.concat([r(m,g)])})}),s},th=e=>e.cHandler,Wv=(e,r)=>({name:e,handler:r}),w0=(e,r)=>{const s={};return Ot(e,l=>{s[l.name()]=l.handlers(r)}),s},Gv=(e,r,s)=>{const l=r[s];return l?((m,g,h,x)=>{try{const w=ke(h,(S,M)=>{const z=S[g],L=M[g],U=x.indexOf(z),Z=x.indexOf(L);if(U===-1)throw new Error("The ordering for "+m+" does not have an entry for "+z+`.
Order specified: `+JSON.stringify(x,null,2));if(Z===-1)throw new Error("The ordering for "+m+" does not have an entry for "+L+`.
Order specified: `+JSON.stringify(x,null,2));return U<Z?-1:Z<U?1:0});return Dr.value(w)}catch(w){return Dr.error([w])}})("Event: "+s,"name",e,l).map(m=>(g=>({can:((w,S)=>(...M)=>ao(w,(z,L)=>z&&(U=>U.can)(L).apply(void 0,M),!0))(g),abort:((w,S)=>(...M)=>ao(w,(z,L)=>z||(U=>U.abort)(L).apply(void 0,M),!1))(g),run:(...w)=>{Ot(g,S=>{S.run.apply(void 0,w)})}}))(F(m,g=>g.handler))):((m,g)=>Dr.error(["The event ("+m+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(F(g,h=>h.name),null,2)]))(s,e)},Xm=(e,r)=>((s,l)=>{const m=(h=>{const x=[],w=[];return Ot(h,S=>{S.fold(M=>{x.push(M)},M=>{w.push(M)})}),{errors:x,values:w}})(s);return m.errors.length>0?(g=m.errors,Dr.error(_e(g))):((h,x)=>h.length===0?Dr.value(x):Dr.value(vs(x,wd.apply(void 0,h))))(m.values,l);var g})(_n(e,(s,l)=>(s.length===1?Dr.value(s[0].handler):Gv(s,r,l)).map(m=>{const g=(x=>{const w=(S=>ut(S)?{can:Rt,abort:Uo,run:S}:S)(x);return(S,M,...z)=>{const L=[S,M].concat(z);w.abort.apply(void 0,L)?M.stop():w.can.apply(void 0,L)&&w.run.apply(void 0,L)}})(m),h=s.length>1?ro(r[l],x=>$t(s,w=>w.name===x)).join(" > "):s[0].name;return as(l,((x,w)=>({handler:x,purpose:w}))(g,h))})),{}),cd="alloy.base.behaviour",Ut=Hn([Sa("dom","dom",{tag:"required",process:{}},Hn([oo("tag"),St("styles",{}),St("classes",[]),St("attributes",{}),Lr("value"),Lr("innerHtml")])),oo("components"),oo("uid"),St("events",{}),St("apis",{}),Sa("eventOrder","eventOrder",(Nb={[_l()]:["disabling",cd,"toggling","typeaheadevents"],[zd()]:[cd,"focusing","keying"],[Rg()]:[cd,"disabling","toggling","representing","tooltipping"],[Ri()]:[cd,"representing","streaming","invalidating"],[Lc()]:[cd,"representing","item-events","toolbar-button-events","tooltipping"],[Le()]:["focusing",cd,"item-type-events"],[T()]:["focusing",cd,"item-type-events"],[Zn()]:["item-type-events","tooltipping"],[nd()]:["receiving","reflecting","tooltipping"]},Wi(ue(Nb))),Ss()),Lr("domModification")]),Ab=e=>e.events,pu=e=>e.dom.value,Wl=(e,r)=>{if(r===void 0)throw new Error("Value.set was undefined");e.dom.value=r},k0=(e,r,s)=>{s.fold(()=>mr(e,r),l=>{dn(l,r)||(yt(l,r),ua(l))})},_0=(e,r,s)=>{const l=F(r,s),m=Nn(e);return Ot(m.slice(l.length),ua),l},C0=(e,r,s,l)=>{const m=or(e,r),g=l(s,m),h=((x,w,S)=>or(x,w).map(M=>{if(S.exists(z=>!dn(z,M))){const z=S.map(ga).getOr("span"),L=nt(z);return yt(M,L),L}return M}))(e,r,m);return k0(e,g.element,h),g},Ob=(e,r)=>{const s=dt(e),l=dt(r),m=ye(l,s),g=((h,x)=>{const w={},S={};return Fo(h,(M,z)=>!Xo(r,z)||M!==r[z],_o(w),_o(S)),{t:w,f:S}})(e).t;return{toRemove:m,toSet:g}},Kv=(e,r)=>{const s=r.filter(l=>ga(l)===e.tag&&!(m=>m.innerHtml.isSome()&&m.domChildren.length>0)(e)&&!(m=>Xo(m.dom,Ym))(l)).bind(l=>((m,g)=>{try{const h=((x,w)=>{const{class:S,style:M,...z}=(de=>ao(de.dom.attributes,(me,xe)=>(me[xe.name]=xe.value,me),{}))(w),{toSet:L,toRemove:U}=Ob(x.attributes,z),Z=bi(w),{toSet:re,toRemove:se}=Ob(x.styles,Z),pe=Oa(w),oe=ye(pe,x.classes),te=ye(x.classes,pe);return Ot(U,de=>Mr(w,de)),ni(w,L),Zr(w,te),Or(w,oe),Ot(se,de=>qn(w,de)),Xn(w,re),x.innerHtml.fold(()=>{const de=x.domChildren;((me,xe)=>{_0(me,xe,(Ke,wt)=>{const eo=or(me,wt);return k0(me,Ke,eo),Ke})})(w,de)},de=>{mu(w,de)}),(()=>{const de=w,me=x.value.getOrUndefined();me!==pu(de)&&Wl(de,me??"")})(),w})(m,g);return D.some(h)}catch{return D.none()}})(e,l)).getOrThunk(()=>(l=>{const m=nt(l.tag);ni(m,l.attributes),Zr(m,l.classes),Xn(m,l.styles),l.innerHtml.each(h=>mu(m,h));const g=l.domChildren;return Fr(m,g),l.value.each(h=>{Wl(m,h)}),m})(e));return eh(s,e.uid),s},S0=e=>{const r=(s=>{const l=zt(s,"behaviours").getOr({});return Vt(dt(l),m=>{const g=l[m];return Ve(g)?[g.me]:[]})})(e);return((s,l)=>((m,g)=>{const h=F(g,w=>js(w.name(),[oo("config"),St("state",ac)])),x=Pa("component.behaviours",Hn(h),m.behaviours).fold(w=>{throw new Error(bn(w)+`
Complete spec:
`+JSON.stringify(m,null,2))},$e);return{list:g,data:tt(x,w=>{const S=w.map(M=>({config:M.config,state:M.state.init(M.config)}));return ue(S)})}})(s,l))(e,r)},E0=(e,r)=>{const s=()=>L,l=yn(w_),m=Oi((U=>Pa("custom.definition",Ut,U))(e)),g=S0(e),h=(U=>U.list)(g),x=(U=>U.data)(g),w=((U,Z,re)=>{const se={...(pe=U).dom,uid:pe.uid,domChildren:F(pe.components,Ke=>Ke.element)};var pe;const oe=(Ke=>Ke.domModification.fold(()=>rc({}),rc))(U),te={"alloy.base.modification":oe},de=Z.length>0?((Ke,wt,eo,qt)=>{const Jt={...wt};Ot(eo,jr=>{Jt[jr.name()]=jr.exhibit(Ke,qt)});const ko=Tb(Jt,(jr,zs)=>({name:jr,modification:zs})),en=jr=>co(jr,(zs,Ts)=>({...Ts.modification,...zs}),{}),En=co(ko.classes,(jr,zs)=>zs.modification.concat(jr),[]),Fn=en(ko.attributes),ir=en(ko.styles);return rc({classes:En,attributes:Fn,styles:ir})})(re,te,Z,se):oe;return me=se,xe=de,{...me,attributes:{...me.attributes,...xe.attributes},styles:{...me.styles,...xe.styles},classes:me.classes.concat(xe.classes)};var me,xe})(m,h,x),S=Kv(w,r),M=((U,Z,re)=>{const se={"alloy.base.behaviour":Ab(U)};return((pe,oe,te,de)=>{const me=((xe,Ke,wt)=>{const eo={...wt,...w0(Ke,xe)};return Tb(eo,Wv)})(pe,te,de);return Xm(me,oe)})(re,U.eventOrder,Z,se).getOrDie()})(m,h,x),z=yn(m.components),L={uid:e.uid,getSystem:l.get,config:U=>{const Z=x;return(ut(Z[U.name()])?Z[U.name()]:()=>{throw new Error("Could not find "+U.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:U=>ut(x[U.name()]),spec:e,readState:U=>x[U]().map(Z=>Z.state.readState()).getOr("not enabled"),getApis:()=>m.apis,connect:U=>{l.set(U)},disconnect:()=>{l.set(Km(s))},element:S,syncComponents:()=>{const U=Nn(S),Z=Vt(U,re=>l.get().getByDom(re).fold(()=>[],it));z.set(Z)},components:z.get,events:M};return L},qa=e=>{const r=At(e);return Jm({element:r})},Jm=e=>{const r=si("external.component",sl([oo("element"),Lr("uid")]),e),s=yn(Km()),l=r.uid.getOrThunk(()=>Vu("external"));eh(r.element,l);const m={uid:l,getSystem:s.get,config:D.none,hasConfigured:Uo,connect:g=>{s.set(g)},disconnect:()=>{s.set(Km(()=>m))},getApis:()=>({}),element:r.element,spec:e,readState:ue("No state"),syncComponents:Ae,components:ue([]),events:{}};return zb(m)},Ii=Vu,oh=(e,r)=>x0(e).getOrThunk(()=>((s,l)=>{const{events:m,...g}=x_(s),h=((w,S)=>{const M=zt(w,"components").getOr([]);return S.fold(()=>F(M,Xi),z=>F(M,(L,U)=>oh(L,or(z,U))))})(g,l),x={...g,events:{...v_,...m},components:h};return Dr.value(E0(x,l))})((s=>Xo(s,"uid"))(e)?e:{uid:Ii(""),...e},r).getOrDie()),Xi=e=>oh(e,D.none()),xc=zb;var Nb,Mb=(e,r,s,l,m)=>e(s,l)?D.some(s):ut(m)&&m(s)?D.none():r(s,l,m);const Vg=(e,r,s)=>{let l=e.dom;const m=ut(s)?s:Uo;for(;l.parentNode;){l=l.parentNode;const g=pt(l);if(r(g))return D.some(g);if(m(g))break}return D.none()},Db=(e,r,s)=>Mb((l,m)=>m(l),Vg,e,r,s),$u=(e,r)=>yo(e.dom.childNodes,s=>r(pt(s))).map(pt),Rb=(e,r,s)=>Db(e,r,s).isSome(),Uu=(e,r,s)=>Vg(e,l=>Ln(l,r),s),ic=(e,r)=>((s,l)=>{const m=s.dom;return m.parentNode?$u(pt(m.parentNode),g=>!dn(s,g)&&Ln(g,r)):D.none()})(e),Dd=(e,r)=>$u(e,s=>Ln(s,r)),ws=(e,r)=>wr(r,e),Rd=(e,r,s)=>Mb((l,m)=>Ln(l,m),Uu,e,r,s),Op="aria-controls",Bb=()=>{const e=cn(Op);return{id:e,link:r=>{wn(r,Op,e)},unlink:r=>{Mr(r,Op)}}},ym=(e,r)=>Rb(r,s=>dn(s,e.element),Uo)||((s,l)=>(m=>Db(m,g=>{if(!Se(g))return!1;const h=ia(g,"id");return h!==void 0&&h.indexOf(Op)>-1}).bind(g=>{const h=ia(g,"id"),x=ea(g);return ws(x,`[${Op}="${h}"]`)}))(l).exists(m=>ym(s,m)))(e,r),ii=(e,r,s,l,m,g,h,x=!1)=>({x:e,y:r,bubble:s,direction:l,placement:m,restriction:g,label:`${h}-${m}`,alwaysFit:x}),dd=Mi([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Qm=dd.southeast,Fb=dd.southwest,z0=dd.northeast,nh=dd.northwest,mn=dd.south,rh=dd.north,Np=dd.east,T0=dd.west,Pi=(e,r)=>fe(["left","right","top","bottom"],s=>zt(r,s).map(l=>((m,g)=>{switch(g){case 1:return m.x;case 0:return m.x+m.width;case 2:return m.y;case 3:return m.y+m.height}})(e,l))),fu="layout",A0=e=>e.x,Lb=(e,r)=>e.x+e.width/2-r.width/2,Ib=(e,r)=>e.x+e.width-r.width,Pb=(e,r)=>e.y-r.height,Ji=e=>e.y+e.height,Mp=(e,r)=>e.y+e.height/2-r.height/2,pi=(e,r,s)=>ii(A0(e),Ji(e),s.southeast(),Qm(),"southeast",Pi(e,{left:1,top:3}),fu),fi=(e,r,s)=>ii(Ib(e,r),Ji(e),s.southwest(),Fb(),"southwest",Pi(e,{right:0,top:3}),fu),ml=(e,r,s)=>ii(A0(e),Pb(e,r),s.northeast(),z0(),"northeast",Pi(e,{left:1,bottom:2}),fu),Hi=(e,r,s)=>ii(Ib(e,r),Pb(e,r),s.northwest(),nh(),"northwest",Pi(e,{right:0,bottom:2}),fu),ji=(e,r,s)=>ii(Lb(e,r),Pb(e,r),s.north(),rh(),"north",Pi(e,{bottom:2}),fu),ei=(e,r,s)=>ii(Lb(e,r),Ji(e),s.south(),mn(),"south",Pi(e,{top:3}),fu),gl=(e,r,s)=>ii((l=>l.x+l.width)(e),Mp(e,r),s.east(),Np(),"east",Pi(e,{left:0}),fu),eg=(e,r,s)=>ii(((l,m)=>l.x-m.width)(e,r),Mp(e,r),s.west(),T0(),"west",Pi(e,{right:1}),fu),O0=()=>[pi,fi,ml,Hi,ei,ji,gl,eg],Yv=()=>[fi,pi,Hi,ml,ei,ji,gl,eg],Xv=()=>[ml,Hi,pi,fi,ji,ei],N0=()=>[Hi,ml,fi,pi,ji,ei],ah=()=>[pi,fi,ml,Hi,ei,ji],M0=()=>[fi,pi,Hi,ml,ei,ji];var sh=Object.freeze({__proto__:null,events:e=>Ta([Kt(nd(),(r,s)=>{const l=e.channels,m=dt(l),g=s,h=((x,w)=>w.universal?x:ro(x,S=>ct(w.channels,S)))(m,g);Ot(h,x=>{const w=l[x],S=w.schema,M=si("channel["+x+`] data
Receiver: `+Hc(r.element),S,g.data);w.onReceive(r,M)})})])}),Hb=[Ni("channels",Nu(Dr.value,sl([gu("onReceive"),St("schema",Ss())])))];const Gl=Ar({fields:Hb,name:"receiving",active:sh});var D0=Object.freeze({__proto__:null,exhibit:(e,r)=>rc({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const Il=(e,r=!1)=>e.dom.focus({preventScroll:r}),ih=e=>e.dom.blur(),Dp=e=>{const r=ea(e).dom;return e.dom===r.activeElement},ud=(e=wl())=>D.from(e.dom.activeElement).map(pt),zl=e=>ud(ea(e)).filter(r=>e.dom.contains(r.dom)),lh=(e,r)=>{const s=ea(r),l=ud(s).bind(g=>{const h=x=>dn(g,x);return h(r)?D.some(r):((x,w)=>{const S=M=>{for(let z=0;z<M.childNodes.length;z++){const L=pt(M.childNodes[z]);if(w(L))return D.some(L);const U=S(M.childNodes[z]);if(U.isSome())return U}return D.none()};return S(x.dom)})(r,h)}),m=e(r);return l.each(g=>{ud(s).filter(h=>dn(h,g)).fold(()=>{Il(g)},Ae)}),m},jb=Mi([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),tg=(e,r,s,l,m,g)=>{const h=r.rect,x=h.x-s,w=h.y-l,S=m-(x+h.width),M=g-(w+h.height),z=D.some(x),L=D.some(w),U=D.some(S),Z=D.some(M),re=D.none();return r.direction.fold(()=>oa(e,z,L,re,re),()=>oa(e,re,L,U,re),()=>oa(e,z,re,re,Z),()=>oa(e,re,re,U,Z),()=>oa(e,z,L,re,re),()=>oa(e,z,re,re,Z),()=>oa(e,z,L,re,re),()=>oa(e,re,L,U,re))},Rp=(e,r)=>e.fold(()=>{const s=r.rect;return oa("absolute",D.some(s.x),D.some(s.y),D.none(),D.none())},(s,l,m,g)=>tg("absolute",r,s,l,m,g),(s,l,m,g)=>tg("fixed",r,s,l,m,g)),R0=(e,r)=>{const s=mt(xi,r),l=e.fold(s,s,()=>{const h=ta();return xi(r).translate(-h.left,-h.top)}),m=Wt(r),g=Js(r);return ka(l.left,l.top,m,g)},B0=(e,r)=>r.fold(()=>e.fold(rs,rs,ka),s=>e.fold(ue(s),ue(s),()=>{const l=Vb(e,s.x,s.y);return ka(l.left,l.top,s.width,s.height)})),Vb=(e,r,s)=>{const l=Ur(r,s);return e.fold(ue(l),ue(l),()=>{const m=ta();return l.translate(-m.left,-m.top)})};jb.none;const $g=jb.relative,Jv=jb.fixed,Bp="data-alloy-placement",ch=e=>Ga(e,Bp),vm=Mi([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Qv=(e,r,s,l)=>{const m=e.bubble,g=m.offset,h=((de,me,xe)=>{const Ke=(ko,en)=>me[ko].map(En=>{const Fn=ko==="top"||ko==="bottom",ir=Fn?xe.top:xe.left,jr=(ko==="left"||ko==="top"?Math.max:Math.min)(En,en)+ir;return Fn?vc(jr,de.y,de.bottom):vc(jr,de.x,de.right)}).getOr(en),wt=Ke("left",de.x),eo=Ke("top",de.y),qt=Ke("right",de.right),Jt=Ke("bottom",de.bottom);return ka(wt,eo,qt-wt,Jt-eo)})(l,e.restriction,g),x=e.x+g.left,w=e.y+g.top,S=ka(x,w,r,s),{originInBounds:M,sizeInBounds:z,visibleW:L,visibleH:U}=((de,me)=>{const{x:xe,y:Ke,right:wt,bottom:eo}=me,{x:qt,y:Jt,right:ko,bottom:en,width:En,height:Fn}=de;return{originInBounds:qt>=xe&&qt<=wt&&Jt>=Ke&&Jt<=eo,sizeInBounds:ko<=wt&&ko>=xe&&en<=eo&&en>=Ke,visibleW:Math.min(En,qt>=xe?wt-qt:ko-xe),visibleH:Math.min(Fn,Jt>=Ke?eo-Jt:en-Ke)}})(S,h),Z=M&&z,re=Z?S:((de,me)=>{const{x:xe,y:Ke,right:wt,bottom:eo}=me,{x:qt,y:Jt,width:ko,height:en}=de,En=Math.max(xe,wt-ko),Fn=Math.max(Ke,eo-en),ir=vc(qt,xe,En),jr=vc(Jt,Ke,Fn),zs=Math.min(ir+ko,wt)-ir,Ts=Math.min(jr+en,eo)-jr;return ka(ir,jr,zs,Ts)})(S,h),se=re.width>0&&re.height>0,{maxWidth:pe,maxHeight:oe}=((de,me,xe)=>{const Ke=ue(me.bottom-xe.y),wt=ue(xe.bottom-me.y),eo=((en,En,Fn,ir)=>en.fold(En,En,ir,ir,En,ir,Fn,Fn))(de,wt,wt,Ke),qt=ue(me.right-xe.x),Jt=ue(xe.right-me.x);return{maxWidth:((en,En,Fn,ir)=>en.fold(En,ir,En,ir,Fn,Fn,En,ir))(de,Jt,Jt,qt),maxHeight:eo}})(e.direction,re,l),te={rect:re,maxHeight:oe,maxWidth:pe,direction:e.direction,placement:e.placement,classes:{on:m.classesOn,off:m.classesOff},layout:e.label,testY:w};return Z||e.alwaysFit?vm.fit(te):vm.nofit(te,L,U,se)},dh=Rt,Kl=(e,r,s)=>((l,m,g,h)=>le(l,m,g,h,!1))(e,r,dh,s),og=(e,r,s)=>((l,m,g,h)=>le(l,m,g,h,!0))(e,r,dh,s),$b=vi,Fp=["top","bottom","right","left"],Ub="data-alloy-transition-timer",Zb=(e,r,s,l,m,g)=>{const h=((x,w,S)=>S.exists(M=>{const z=x.mode;return z==="all"||M[z]!==w[z]}))(l,m,g);if(h||((x,w)=>((S,M)=>Ct(M,z=>Rn(S,z)))(x,w.classes))(e,l)){Dn(e,"position",s.position);const x=R0(r,e),w=Rp(r,{...m,rect:x}),S=fe(Fp,M=>w[M]);((M,z)=>{const L=U=>parseFloat(U).toFixed(3);return Zo(z,(U,Z)=>!((re,se,pe=ge)=>Ft(re,se,pe).getOr(re.isNone()&&se.isNone()))(M[Z].map(L),U.map(L))).isSome()})(s,S)&&(Ml(e,S),h&&((M,z)=>{Zr(M,z.classes),Ga(M,Ub).each(L=>{clearTimeout(parseInt(L,10)),Mr(M,Ub)}),((L,U)=>{const Z=$l(),re=$l();let se;const pe=me=>{var xe;const Ke=(xe=me.raw.pseudoElement)!==null&&xe!==void 0?xe:"";return dn(me.target,L)&&es(Ke)&&ct(Fp,me.raw.propertyName)},oe=me=>{if(Mo(me)||pe(me)){Z.clear(),re.clear();const xe=me==null?void 0:me.raw.type;(Mo(xe)||xe===Mu())&&(clearTimeout(se),Mr(L,Ub),Or(L,U.classes))}},te=Kl(L,$f(),me=>{pe(me)&&(te.unbind(),Z.set(Kl(L,Mu(),oe)),re.set(Kl(L,Vf(),oe)))}),de=(me=>{const xe=qt=>{const Jt=Ua(me,qt).split(/\s*,\s*/);return ro(Jt,La)},Ke=qt=>{if(mo(qt)&&/^[\d.]+/.test(qt)){const Jt=parseFloat(qt);return Fa(qt,"ms")?Jt:1e3*Jt}return 0},wt=xe("transition-delay"),eo=xe("transition-duration");return ao(eo,(qt,Jt,ko)=>{const en=Ke(wt[ko])+Ke(Jt);return Math.max(qt,en)},0)})(L);requestAnimationFrame(()=>{se=setTimeout(oe,de+17),wn(L,Ub,se)})})(M,z)})(e,l),Zs(e))}else Or(e,l.classes)},uh=(e,r)=>{((s,l)=>{const m=yi.max(s,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Dn(s,"max-height",m+"px")})(e,Math.floor(r))},F0=ue((e,r)=>{uh(e,r),Xn(e,{"overflow-x":"hidden","overflow-y":"auto"})}),xm=ue((e,r)=>{uh(e,r)}),L0=(e,r,s)=>e[r]===void 0?s:e[r],I0=(e,r,s,l)=>{const m=((g,h,x,w)=>{qn(h,"max-height"),qn(h,"max-width");const S={width:Wt(M=h),height:Js(M)};var M;return((z,L,U,Z,re,se)=>{const pe=Z.width,oe=Z.height,te=(de,me,xe,Ke,wt)=>{const eo=de(U,Z,re,z,se),qt=Qv(eo,pe,oe,se);return qt.fold(ue(qt),(Jt,ko,en,En)=>(wt===En?en>Ke||ko>xe:!wt&&En)?qt:vm.nofit(me,xe,Ke,wt))};return ao(L,(de,me)=>{const xe=mt(te,me);return de.fold(ue(de),xe)},vm.nofit({rect:U,maxHeight:Z.height,maxWidth:Z.width,direction:Qm(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:U.y},-1,-1,!1)).fold($e,$e)})(h,w.preference,g,S,x,w.bounds)})(e,r,s,l);return((g,h,x)=>{const w=Rp(x.origin,h);x.transition.each(S=>{Zb(g,x.origin,w,S,h,x.lastPlacement)}),sc(g,w)})(r,m,l),((g,h)=>{((x,w)=>{wn(x,Bp,w)})(g,h.placement)})(r,m),((g,h)=>{const x=h.classes;Or(g,x.off),Zr(g,x.on)})(r,m),((g,h,x)=>{(0,x.maxHeightFunction)(g,h.maxHeight)})(r,m,l),((g,h,x)=>{(0,x.maxWidthFunction)(g,h.maxWidth)})(r,m,l),{layout:m.layout,placement:m.placement}},ex=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],pl=(e,r,s,l=1)=>{const m=e*l,g=r*l,h=w=>zt(s,w).getOr([]),x=(w,S,M)=>{const z=ye(ex,M);return{offset:Ur(w,S),classesOn:Vt(M,h),classesOff:Vt(z,h)}};return{southeast:()=>x(-e,r,["top","alignLeft"]),southwest:()=>x(e,r,["top","alignRight"]),south:()=>x(-e/2,r,["top","alignCentre"]),northeast:()=>x(-e,-r,["bottom","alignLeft"]),northwest:()=>x(e,-r,["bottom","alignRight"]),north:()=>x(-e/2,-r,["bottom","alignCentre"]),east:()=>x(e,-r/2,["valignCentre","left"]),west:()=>x(-e,-r/2,["valignCentre","right"]),insetNortheast:()=>x(m,g,["top","alignLeft","inset"]),insetNorthwest:()=>x(-m,g,["top","alignRight","inset"]),insetNorth:()=>x(-m/2,g,["top","alignCentre","inset"]),insetSoutheast:()=>x(m,-g,["bottom","alignLeft","inset"]),insetSouthwest:()=>x(-m,-g,["bottom","alignRight","inset"]),insetSouth:()=>x(-m/2,-g,["bottom","alignCentre","inset"]),insetEast:()=>x(-m,-g/2,["valignCentre","right","inset"]),insetWest:()=>x(m,-g/2,["valignCentre","left","inset"])}},ng=()=>pl(0,0,{}),qb=$e,mh=(e,r)=>s=>tx(s)==="rtl"?r:e,tx=e=>Ua(e,"direction")==="rtl"?"rtl":"ltr";var hu;(function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"})(hu||(hu={}));const Wb="data-alloy-vertical-dir",Gb=e=>Rb(e,r=>Se(r)&&ia(r,"data-alloy-vertical-dir")===hu.BottomToTop),wm=()=>js("layouts",[oo("onLtr"),oo("onRtl"),Lr("onBottomLtr"),Lr("onBottomRtl")]),gh=(e,r,s,l,m,g,h)=>{const x=h.map(Gb).getOr(!1),w=r.layouts.map(L=>L.onLtr(e)),S=r.layouts.map(L=>L.onRtl(e)),M=x?r.layouts.bind(L=>L.onBottomLtr.map(U=>U(e))).or(w).getOr(m):w.getOr(s),z=x?r.layouts.bind(L=>L.onBottomRtl.map(U=>U(e))).or(S).getOr(g):S.getOr(l);return mh(M,z)(e)};var k_=[oo("hotspot"),Lr("bubble"),St("overrides",{}),wm(),Ha("placement",(e,r,s)=>{const l=r.hotspot,m=R0(s,l.element),g=gh(e.element,r,ah(),M0(),Xv(),N0(),D.some(r.hotspot.element));return D.some(qb({anchorBox:m,bubble:r.bubble.getOr(ng()),overrides:r.overrides,layouts:g}))})],ox=[oo("x"),oo("y"),St("height",0),St("width",0),St("bubble",ng()),St("overrides",{}),wm(),Ha("placement",(e,r,s)=>{const l=Vb(s,r.x,r.y),m=ka(l.left,l.top,r.width,r.height),g=gh(e.element,r,O0(),Yv(),O0(),Yv(),D.none());return D.some(qb({anchorBox:m,bubble:r.bubble,overrides:r.overrides,layouts:g}))})];const P0=Mi([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),__=e=>e.fold($e,(r,s,l)=>r.translate(-s,-l)),C_=e=>e.fold($e,$e),Lp=e=>ao(e,(r,s)=>r.translate(s.left,s.top),Ur(0,0)),Kb=e=>{const r=F(e,C_);return Lp(r)},Yb=P0.screen,nx=P0.absolute,rx=(e,r,s)=>{const l=Be(e.element),m=ta(l),g=((h,x,w)=>{const S=Vo(w.root).dom;return D.from(S.frameElement).map(pt).filter(M=>{const z=Be(M),L=Be(h.element);return dn(z,L)}).map(ks)})(e,0,s).getOr(m);return nx(g,m.left,m.top)},Xb=(e,r,s,l)=>{const m=Yb(Ur(e,r));return D.some(((g,h,x)=>({point:g,width:h,height:x}))(m,s,l))},H0=(e,r,s,l,m)=>e.map(g=>{const h=[r,g.point],x=(w=()=>Kb(h),S=()=>Kb(h),M=()=>(te=>{const de=F(te,__);return Lp(de)})(h),l.fold(w,S,M));var w,S,M;const z=(re=x.left,se=x.top,pe=g.width,oe=g.height,{x:re,y:se,width:pe,height:oe}),L=s.showAbove?Xv():ah(),U=s.showAbove?N0():M0(),Z=gh(m,s,L,U,L,U,D.none());var re,se,pe,oe;return qb({anchorBox:z,bubble:s.bubble.getOr(ng()),overrides:s.overrides,layouts:Z})});var Ip=[oo("node"),oo("root"),Lr("bubble"),wm(),St("overrides",{}),St("showAbove",!1),Ha("placement",(e,r,s)=>{const l=rx(e,0,r);return r.node.filter(Ma).bind(m=>{const g=m.dom.getBoundingClientRect(),h=Xb(g.left,g.top,g.width,g.height),x=r.node.getOr(e.element);return H0(h,l,r,s,x)})})];const Pp=(e,r,s,l)=>({start:e,soffset:r,finish:s,foffset:l}),Hp=Mi([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),jp=(Hp.before,Hp.on,Hp.after,e=>e.fold($e,$e,$e)),Jb=Mi([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ph={domRange:Jb.domRange,relative:Jb.relative,exact:Jb.exact,exactFromRange:e=>Jb.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const r=(s=>s.match({domRange:l=>pt(l.startContainer),relative:(l,m)=>jp(l),exact:(l,m,g,h)=>l}))(e);return Vo(r)},range:Pp},Vp=(e,r,s)=>{const l=e.document.createRange();var m;return m=l,r.fold(g=>{m.setStartBefore(g.dom)},(g,h)=>{m.setStart(g.dom,h)},g=>{m.setStartAfter(g.dom)}),((g,h)=>{h.fold(x=>{g.setEndBefore(x.dom)},(x,w)=>{g.setEnd(x.dom,w)},x=>{g.setEndAfter(x.dom)})})(l,s),l},Ug=(e,r,s,l,m)=>{const g=e.document.createRange();return g.setStart(r.dom,s),g.setEnd(l.dom,m),g},fh=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),rg=Mi([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),j0=(e,r,s)=>r(pt(s.startContainer),s.startOffset,pt(s.endContainer),s.endOffset),hh=(e,r)=>((s,l)=>{const m=((g,h)=>h.match({domRange:x=>({ltr:ue(x),rtl:D.none}),relative:(x,w)=>({ltr:xo(()=>Vp(g,x,w)),rtl:xo(()=>D.some(Vp(g,w,x)))}),exact:(x,w,S,M)=>({ltr:xo(()=>Ug(g,x,w,S,M)),rtl:xo(()=>D.some(Ug(g,S,M,x,w)))})}))(s,l);return((g,h)=>{const x=h.ltr();return x.collapsed?h.rtl().filter(w=>w.collapsed===!1).map(w=>rg.rtl(pt(w.endContainer),w.endOffset,pt(w.startContainer),w.startOffset)).getOrThunk(()=>j0(0,rg.ltr,x)):j0(0,rg.ltr,x)})(0,m)})(e,r).match({ltr:(s,l,m,g)=>{const h=e.document.createRange();return h.setStart(s.dom,l),h.setEnd(m.dom,g),h},rtl:(s,l,m,g)=>{const h=e.document.createRange();return h.setStart(m.dom,g),h.setEnd(s.dom,l),h}});rg.ltr,rg.rtl;const V0=(e,r,s)=>ro(((l,m)=>{const g=ut(m)?m:Uo;let h=l.dom;const x=[];for(;h.parentNode!==null&&h.parentNode!==void 0;){const w=h.parentNode,S=pt(w);if(x.push(S),g(S)===!0)break;h=w}return x})(e,s),r),Tl=(e,r)=>((s,l)=>{const m=l===void 0?document:l.dom;return Qr(m)?[]:F(m.querySelectorAll(s),pt)})(r,e),$0=e=>{if(e.rangeCount>0){const r=e.getRangeAt(0),s=e.getRangeAt(e.rangeCount-1);return D.some(Pp(pt(r.startContainer),r.startOffset,pt(s.endContainer),s.endOffset))}return D.none()},ax=e=>{if(e.anchorNode===null||e.focusNode===null)return $0(e);{const r=pt(e.anchorNode),s=pt(e.focusNode);return((l,m,g,h)=>{const x=((S,M,z,L)=>{const U=Be(S).dom.createRange();return U.setStart(S.dom,M),U.setEnd(z.dom,L),U})(l,m,g,h),w=dn(l,g)&&m===h;return x.collapsed&&!w})(r,e.anchorOffset,s,e.focusOffset)?D.some(Pp(r,e.anchorOffset,s,e.focusOffset)):$0(e)}},sx=(e,r)=>(s=>{const l=s.getClientRects(),m=l.length>0?l[0]:s.getBoundingClientRect();return m.width>0||m.height>0?D.some(m).map(fh):D.none()})(hh(e,r)),U0=((e,r)=>{const s=l=>e(l)?D.from(l.dom.nodeValue):D.none();return{get:l=>{if(!e(l))throw new Error("Can only get text value of a text node");return s(l).getOr("")},getOption:s,set:(l,m)=>{if(!e(l))throw new Error("Can only set raw text value of a text node");l.dom.nodeValue=m}}})(Nt),Zg=(e,r)=>({element:e,offset:r}),ix=(e,r)=>Nt(e)?Zg(e,r):((s,l)=>{const m=Nn(s);if(m.length===0)return Zg(s,l);if(l<m.length)return Zg(m[l],0);{const g=m[m.length-1],h=Nt(g)?(x=>U0.get(x))(g).length:Nn(g).length;return Zg(g,h)}})(e,r),bh=e=>e.foffset!==void 0,qg=(e,r)=>r.getSelection.getOrThunk(()=>()=>(s=>(l=>D.from(l.getSelection()))(s).filter(l=>l.rangeCount>0).bind(ax))(e))().map(s=>{if(bh(s)){const l=ix(s.start,s.soffset),m=ix(s.finish,s.foffset);return ph.range(l.element,l.offset,m.element,m.offset)}return s});var lx=[Lr("getSelection"),oo("root"),Lr("bubble"),wm(),St("overrides",{}),St("showAbove",!1),Ha("placement",(e,r,s)=>{const l=Vo(r.root).dom,m=rx(e,0,r),g=qg(l,r).bind(x=>{if(bh(x))return((S,M)=>(z=>{const L=z.getBoundingClientRect();return L.width>0||L.height>0?D.some(L).map(fh):D.none()})(hh(S,M)))(l,ph.exactFromRange(x)).orThunk(()=>{const S=At("\uFEFF");yt(x.start,S);const M=sx(l,ph.exact(S,0,S,1));return ua(S),M}).bind(S=>Xb(S.left,S.top,S.width,S.height));{const w=tt(x,M=>M.dom.getBoundingClientRect()),S={left:Math.min(w.firstCell.left,w.lastCell.left),right:Math.max(w.firstCell.right,w.lastCell.right),top:Math.min(w.firstCell.top,w.lastCell.top),bottom:Math.max(w.firstCell.bottom,w.lastCell.bottom)};return Xb(S.left,S.top,S.right-S.left,S.bottom-S.top)}}),h=qg(l,r).bind(x=>bh(x)?Se(x.start)?D.some(x.start):rn(x.start):D.some(x.firstCell)).getOr(e.element);return H0(g,m,r,s,h)})];const Wg="link-layout",Qb=e=>e.x+e.width,Z0=(e,r)=>e.x-r.width,ag=(e,r)=>e.y-r.height+e.height,yh=e=>e.y,cx=(e,r,s)=>ii(Qb(e),yh(e),s.southeast(),Qm(),"southeast",Pi(e,{left:0,top:2}),Wg),sg=(e,r,s)=>ii(Z0(e,r),yh(e),s.southwest(),Fb(),"southwest",Pi(e,{right:1,top:2}),Wg),dx=(e,r,s)=>ii(Qb(e),ag(e,r),s.northeast(),z0(),"northeast",Pi(e,{left:0,bottom:3}),Wg),q0=(e,r,s)=>ii(Z0(e,r),ag(e,r),s.northwest(),nh(),"northwest",Pi(e,{right:1,bottom:3}),Wg),ux=()=>[cx,sg,dx,q0],W0=()=>[sg,cx,q0,dx];var $p=[oo("item"),wm(),St("overrides",{}),Ha("placement",(e,r,s)=>{const l=R0(s,r.item.element),m=gh(e.element,r,ux(),W0(),ux(),W0(),D.none());return D.some(qb({anchorBox:l,bubble:ng(),overrides:r.overrides,layouts:m}))})],Up=Hs("type",{selection:lx,node:Ip,hotspot:k_,submenu:$p,makeshift:ox});const Gg=[wi("classes",qs),ll("mode","all",["all","layout","placement"])],vh=[St("useFixed",Uo),Lr("getBounds")],Bd=[Ni("anchor",Up),js("transition",Gg)],Zu=(e,r,s,l,m,g)=>{const h=si("placement.info",Hn(Bd),m),x=h.anchor,w=l.element,S=s.get(l.uid);lh(()=>{Dn(w,"position","fixed");const M=to(w,"visibility");Dn(w,"visibility","hidden");const z=r.useFixed()?(()=>{const L=document.documentElement;return Jv(0,0,L.clientWidth,L.clientHeight)})():(L=>{const U=ks(L.element),Z=L.element.dom.getBoundingClientRect();return $g(U.left,U.top,Z.width,Z.height)})(e);x.placement(e,x,z).each(L=>{const U=g.orThunk(()=>r.getBounds.map(Ho)),Z=((re,se,pe,oe,te,de)=>((me,xe,Ke,wt,eo,qt,Jt,ko)=>{const en=L0(Jt,"maxHeightFunction",F0()),En=L0(Jt,"maxWidthFunction",Ae),Fn=me.anchorBox,ir=me.origin,jr={bounds:B0(ir,qt),origin:ir,preference:wt,maxHeightFunction:en,maxWidthFunction:En,lastPlacement:eo,transition:ko};return I0(Fn,xe,Ke,jr)})(((me,xe)=>((Ke,wt)=>({anchorBox:Ke,origin:wt}))(me,xe))(se.anchorBox,re),oe.element,se.bubble,se.layouts,te,pe,se.overrides,de))(z,L,U,l,S,h.transition);s.set(l.uid,Z)}),M.fold(()=>{qn(w,"visibility")},L=>{Dn(w,"visibility",L)}),to(w,"left").isNone()&&to(w,"top").isNone()&&to(w,"right").isNone()&&to(w,"bottom").isNone()&&ar(to(w,"position"),"fixed")&&qn(w,"position")},w)};var xh=Object.freeze({__proto__:null,position:(e,r,s,l,m)=>{const g=D.none();Zu(e,r,s,l,m,g)},positionWithinBounds:Zu,getMode:(e,r,s)=>r.useFixed()?"fixed":"absolute",reset:(e,r,s,l)=>{const m=l.element;Ot(["position","left","right","top","bottom"],g=>qn(m,g)),(g=>{Mr(g,Bp)})(m),s.clear(l.uid)}});const fl=Ar({fields:vh,name:"positioning",active:D0,apis:xh,state:Object.freeze({__proto__:null,init:()=>{let e={};return Ci({readState:()=>e,clear:r=>{Ve(r)?delete e[r]:e={}},set:(r,s)=>{e[r]=s},get:r=>zt(e,r)})}})}),Zp=e=>e.getSystem().isConnected(),qp=e=>{Rr(e,Lc());const r=e.components();Ot(r,qp)},wh=e=>{const r=e.components();Ot(r,wh),Rr(e,Ul())},mx=(e,r)=>{e.getSystem().addToWorld(r),Ma(e.element)&&wh(r)},G0=e=>{qp(e),e.getSystem().removeFromWorld(e)},ig=(e,r)=>{mr(e.element,r.element)},Vc=(e,r)=>{kh(e,r,mr)},kh=(e,r,s)=>{e.getSystem().addToWorld(r),s(e.element,r.element),Ma(e.element)&&wh(r),e.syncComponents()},km=e=>{qp(e),ua(e.element),e.getSystem().removeFromWorld(e)},Pl=e=>{const r=qo(e.element).bind(s=>e.getSystem().getByDom(s).toOptional());km(e),r.each(s=>{s.syncComponents()})},Fd=e=>{const r=e.components();Ot(r,km),Ps(e.element),e.syncComponents()},Wp=(e,r)=>{K0(e,r,mr)},Kg=(e,r)=>{K0(e,r,no)},K0=(e,r,s)=>{s(e,r.element);const l=Nn(r.element);Ot(l,m=>{r.getByDom(m).each(wh)})},gx=e=>{const r=Nn(e.element);Ot(r,s=>{e.getByDom(s).each(qp)}),ua(e.element)},lg=(e,r,s,l)=>{s.get().each(h=>{Fd(e)});const m=r.getAttachPoint(e);Vc(m,e);const g=e.getSystem().build(l);return Vc(e,g),s.set(g),g},Yg=(e,r,s,l)=>{const m=lg(e,r,s,l);return r.onOpen(e,m),m},ey=(e,r,s)=>{s.get().each(l=>{Fd(e),Pl(e),r.onClose(e,l),s.clear()})},Y0=(e,r,s)=>s.isOpen(),Gp=(e,r,s)=>{const l=r.getAttachPoint(e);Dn(e.element,"position",fl.getMode(l)),((m,g,h,x)=>{to(m.element,g).fold(()=>{Mr(m.element,h)},w=>{wn(m.element,h,w)}),Dn(m.element,g,"hidden")})(e,"visibility",r.cloakVisibilityAttr)},_h=(e,r,s)=>{(l=>$t(["top","left","right","bottom"],m=>to(l,m).isSome()))(e.element)||qn(e.element,"position"),((l,m,g)=>{Ga(l.element,g).fold(()=>qn(l.element,m),h=>Dn(l.element,m,h))})(e,"visibility",r.cloakVisibilityAttr)};var ty=Object.freeze({__proto__:null,cloak:Gp,decloak:_h,open:Yg,openWhileCloaked:(e,r,s,l,m)=>{Gp(e,r),Yg(e,r,s,l),m(),_h(e,r)},close:ey,isOpen:Y0,isPartOf:(e,r,s,l)=>Y0(0,0,s)&&s.get().exists(m=>r.isPartOf(e,m,l)),getState:(e,r,s)=>s.get(),setContent:(e,r,s,l)=>s.get().map(()=>lg(e,r,s,l))}),Kp=Object.freeze({__proto__:null,events:(e,r)=>Ta([Kt(Hm(),(s,l)=>{ey(s,e,r)})])}),Qi=[Hr("onOpen"),Hr("onClose"),oo("isPartOf"),oo("getAttachPoint"),St("cloakVisibilityAttr","data-precloak-visibility")],S_=Object.freeze({__proto__:null,init:()=>{const e=Tr(),r=ue("not-implemented");return Ci({readState:r,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Sr=Ar({fields:Qi,name:"sandboxing",active:Kp,apis:ty,state:S_}),p=ue("dismiss.popups"),b=ue("reposition.popups"),_=ue("mouse.released"),A=sl([St("isExtraPart",Uo),js("fireEventInstead",[St("event",Td())])]),I=e=>{const r=si("Dismissal",A,e);return{[p()]:{schema:sl([oo("target")]),onReceive:(s,l)=>{Sr.isOpen(s)&&(Sr.isPartOf(s,l.target)||r.isExtraPart(s,l.target)||r.fireEventInstead.fold(()=>Sr.close(s),m=>Rr(s,m.event)))}}}},H=sl([js("fireEventInstead",[St("event",wb())]),Gi("doReposition")]),q=e=>{const r=si("Reposition",H,e);return{[b()]:{onReceive:s=>{Sr.isOpen(s)&&r.fireEventInstead.fold(()=>r.doReposition(s),l=>Rr(s,l.event))}}}},J=(e,r,s)=>{r.store.manager.onLoad(e,r,s)},ce=(e,r,s)=>{r.store.manager.onUnload(e,r,s)};var Ne=Object.freeze({__proto__:null,onLoad:J,onUnload:ce,setValue:(e,r,s,l)=>{r.store.manager.setValue(e,r,s,l)},getValue:(e,r,s)=>r.store.manager.getValue(e,r,s),getState:(e,r,s)=>s}),Ye=Object.freeze({__proto__:null,events:(e,r)=>{const s=e.resetOnDom?[Aa((l,m)=>{J(l,e,r)}),nc((l,m)=>{ce(l,e,r)})]:[cu(e,r,J)];return Ta(s)}});const ve=()=>{const e=yn(null);return Ci({set:e.set,get:e.get,isNotSet:()=>e.get()===null,clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},Oe=()=>{const e=yn({}),r=yn({});return Ci({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:r.get()}),lookup:s=>zt(e.get(),s).orThunk(()=>zt(r.get(),s)),update:s=>{const l=e.get(),m=r.get(),g={},h={};Ot(s,x=>{g[x.value]=x,zt(x,"meta").each(w=>{zt(w,"text").each(S=>{h[S]=x})})}),e.set({...l,...g}),r.set({...m,...h})},clear:()=>{e.set({}),r.set({})}})};var He=Object.freeze({__proto__:null,memory:ve,dataset:Oe,manual:()=>Ci({readState:Ae}),init:e=>e.store.manager.state(e)});const ft=(e,r,s,l)=>{const m=r.store;s.update([l]),m.setValue(e,l),r.onSetValue(e,l)};var xt=[Lr("initialValue"),oo("getFallbackEntry"),oo("getDataKey"),oo("setValue"),Ha("manager",{setValue:ft,getValue:(e,r,s)=>{const l=r.store,m=l.getDataKey(e);return s.lookup(m).getOrThunk(()=>l.getFallbackEntry(m))},onLoad:(e,r,s)=>{r.store.initialValue.each(l=>{ft(e,r,s,l)})},onUnload:(e,r,s)=>{s.clear()},state:Oe})],Gt=[oo("getValue"),St("setValue",Ae),Lr("initialValue"),Ha("manager",{setValue:(e,r,s,l)=>{r.store.setValue(e,l),r.onSetValue(e,l)},getValue:(e,r,s)=>r.store.getValue(e),onLoad:(e,r,s)=>{r.store.initialValue.each(l=>{r.store.setValue(e,l)})},onUnload:Ae,state:ac.init})],Xt=[Lr("initialValue"),Ha("manager",{setValue:(e,r,s,l)=>{s.set(l),r.onSetValue(e,l)},getValue:(e,r,s)=>s.get(),onLoad:(e,r,s)=>{r.store.initialValue.each(l=>{s.isNotSet()&&s.set(l)})},onUnload:(e,r,s)=>{s.clear()},state:ve})],Zt=[il("store",{mode:"memory"},Hs("mode",{memory:Xt,manual:Gt,dataset:xt})),Hr("onSetValue"),St("resetOnDom",!1)];const Ge=Ar({fields:Zt,name:"representing",active:Ye,apis:Ne,extra:{setValueFrom:(e,r)=>{const s=Ge.getValue(r);Ge.setValue(e,s)}},state:He}),fo=(e,r)=>Qs(e,{},F(r,s=>{return l=s.name(),m="Cannot configure "+s.name()+" for "+e,Sa(l,l,{tag:"option",process:{}},kd(g=>mc("The field: "+l+" is forbidden. "+m)));var l,m}).concat([ui("dump",$e)])),To=e=>e.dump,Bo=(e,r)=>({...zo(r),...e.dump}),On=fo,Vn=Bo,na="placeholder",er=Mi([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Er=e=>Xo(e,"uiType"),dr=(e,r,s,l)=>((m,g,h,x)=>Er(h)&&h.uiType===na?((w,S,M,z)=>w.exists(L=>L!==M.owner)?er.single(!0,ue(M)):zt(z,M.name).fold(()=>{throw new Error("Unknown placeholder component: "+M.name+`
Known: [`+dt(z)+`]
Namespace: `+w.getOr("none")+`
Spec: `+JSON.stringify(M,null,2))},L=>L.replace()))(m,0,h,x):er.single(!1,ue(h)))(e,0,s,l).fold((m,g)=>{const h=Er(s)?g(r,s.config,s.validated):g(r),x=zt(h,"components").getOr([]),w=Vt(x,S=>dr(e,r,S,l));return[{...h,components:w}]},(m,g)=>{if(Er(s)){const h=g(r,s.config,s.validated);return s.validated.preprocess.getOr($e)(h)}return g(r)}),Ca=er.single,ti=er.multiple,el=ue(na),ki=Mi([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Yl=St("factory",{sketch:$e}),tl=St("schema",[]),Vi=oo("name"),qu=Sa("pname","pname",Nc(e=>"<alloy."+cn(e.name)+">"),Ss()),Wu=ui("schema",()=>[Lr("preprocess")]),_m=St("defaults",ue({})),cg=St("overrides",ue({})),Ch=Hn([Yl,tl,Vi,qu,_m,cg]),Cm=Hn([Yl,tl,Vi,_m,cg]),X0=Hn([Yl,tl,Vi,qu,_m,cg]),c3=Hn([Yl,Wu,Vi,oo("unit"),qu,_m,cg]),px=e=>e.fold(D.some,D.none,D.some,D.some),fx=e=>{const r=s=>s.name;return e.fold(r,r,r,r)},oy=(e,r)=>s=>{const l=si("Converting part type",r,s);return e(l)},hl=oy(ki.required,Ch),Ld=oy(ki.external,Cm),Id=oy(ki.optional,X0),Yp=oy(ki.group,c3),J0=ue("entirety");var d3=Object.freeze({__proto__:null,required:hl,external:Ld,optional:Id,group:Yp,asNamedPart:px,name:fx,asCommon:e=>e.fold($e,$e,$e,$e),original:J0});const E_=(e,r,s,l)=>vs(r.defaults(e,s,l),s,{uid:e.partUids[r.name]},r.overrides(e,s,l)),hx=(e,r)=>{const s={};return Ot(r,l=>{px(l).each(m=>{const g=z_(e,m.pname);s[m.name]=h=>{const x=si("Part: "+m.name+" in "+e,Hn(m.schema),h);return{...g,config:h,validated:x}}})}),s},z_=(e,r)=>({uiType:el(),owner:e,name:r}),Xp=(e,r,s)=>({uiType:el(),owner:e,name:r,config:s,validated:{}}),bx=e=>Vt(e,r=>r.fold(D.none,D.some,D.none,D.none).map(s=>td(s.name,s.schema.concat([Nd(J0())]))).toArray()),T_=e=>F(e,fx),dg=(e,r,s)=>((l,m,g)=>{const h={},x={};return Ot(g,w=>{w.fold(S=>{h[S.pname]=Ca(!0,(M,z,L)=>S.factory.sketch(E_(M,S,z,L)))},S=>{const M=m.parts[S.name];x[S.name]=ue(S.factory.sketch(E_(m,S,M[J0()]),M))},S=>{h[S.pname]=Ca(!1,(M,z,L)=>S.factory.sketch(E_(M,S,z,L)))},S=>{h[S.pname]=ti(!0,(M,z,L)=>{const U=M[S.name];return F(U,Z=>S.factory.sketch(vs(S.defaults(M,Z,L),Z,S.overrides(M,Z))))})})}),{internals:ue(h),externals:ue(x)}})(0,r,s),Q0=(e,r,s)=>((l,m,g,h)=>{const x=tt(h,(S,M)=>((z,L)=>{let U=!1;return{name:ue(z),required:()=>L.fold((Z,re)=>Z,(Z,re)=>Z),used:()=>U,replace:()=>{if(U)throw new Error("Trying to use the same placeholder more than once: "+z);return U=!0,L}}})(M,S)),w=((S,M,z,L)=>Vt(z,U=>dr(S,M,U,L)))(l,m,g,x);return Oo(x,S=>{if(S.used()===!1&&S.required())throw new Error("Placeholder: "+S.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(m.components,null,2))}),w})(D.some(e),r,r.components,s),ja=(e,r,s)=>{const l=r.partUids[s];return e.getSystem().getByUid(l).toOptional()},Sm=(e,r,s)=>ja(e,r,s).getOrDie("Could not find part: "+s),A_=(e,r,s)=>{const l={},m=r.partUids,g=e.getSystem();return Ot(s,h=>{l[h]=ue(g.getByUid(m[h]))}),l},e1=(e,r)=>{const s=e.getSystem();return tt(r.partUids,(l,m)=>ue(s.getByUid(l)))},yx=e=>dt(e.partUids),Gu=(e,r,s)=>{const l={},m=r.partUids,g=e.getSystem();return Ot(s,h=>{l[h]=ue(g.getByUid(m[h]).getOrDie())}),l},Pd=(e,r)=>{const s=T_(r);return Di(F(s,l=>({key:l,value:e+"-"+l})))},$i=e=>Sa("partUids","partUids",Wi(r=>Pd(r.uid,e)),Ss());var O_=Object.freeze({__proto__:null,generate:hx,generateOne:Xp,schemas:bx,names:T_,substitutes:dg,components:Q0,defaultUids:Pd,defaultUidsSchema:$i,getAllParts:e1,getAllPartNames:yx,getPart:ja,getPartOrDie:Sm,getParts:A_,getPartsOrDie:Gu});const N_=(e,r,s,l,m)=>{const g=((h,x)=>(h.length>0?[td("parts",h)]:[]).concat([oo("uid"),St("dom",{}),St("components",[]),Nd("originalSpec"),St("debug.sketcher",{})]).concat(x))(l,m);return si(e+" [SpecSchema]",sl(g.concat(r)),s)},t1=(e,r,s,l,m)=>{const g=Sh(m),h=bx(s),x=$i(s),w=N_(e,r,g,h,[x]),S=dg(0,w,s);return l(w,Q0(e,w,S.internals()),g,S.externals())},Sh=e=>(r=>Xo(r,"uid"))(e)?e:{...e,uid:Vu("uid")},u3=sl([oo("name"),oo("factory"),oo("configFields"),St("apis",{}),St("extraApis",{})]),m3=sl([oo("name"),oo("factory"),oo("configFields"),oo("partFields"),St("apis",{}),St("extraApis",{})]),Hd=e=>{const r=si("Sketcher for "+e.name,u3,e),s=tt(r.apis,jg),l=tt(r.extraApis,(m,g)=>fm(m,g));return{name:r.name,configFields:r.configFields,sketch:m=>((g,h,x,w)=>{const S=Sh(w);return x(N_(g,h,S,[],[]),S)})(r.name,r.configFields,r.factory,m),...s,...l}},Xl=e=>{const r=si("Sketcher for "+e.name,m3,e),s=hx(r.name,r.partFields),l=tt(r.apis,jg),m=tt(r.extraApis,(g,h)=>fm(g,h));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:g=>t1(r.name,r.configFields,r.partFields,r.factory,g),parts:s,...l,...m}},Eh=e=>Sn("input")(e)&&ia(e,"type")!=="radio"||Sn("textarea")(e);var JA=Object.freeze({__proto__:null,getCurrent:(e,r,s)=>r.find(e)});const QA=[oo("find")],qr=Ar({fields:QA,name:"composing",apis:JA}),g3=["input","button","textarea","select"],M_=(e,r,s)=>{(r.disabled()?D_:wx)(e,r)},vx=(e,r)=>r.useNative===!0&&ct(g3,ga(e.element)),xx=e=>{wn(e.element,"disabled","disabled")},p3=e=>{Mr(e.element,"disabled")},zh=e=>{wn(e.element,"aria-disabled","true")},o1=e=>{wn(e.element,"aria-disabled","false")},D_=(e,r,s)=>{r.disableClass.each(l=>{lo(e.element,l)}),(vx(e,r)?xx:zh)(e),r.onDisabled(e)},wx=(e,r,s)=>{r.disableClass.each(l=>{ln(e.element,l)}),(vx(e,r)?p3:o1)(e),r.onEnabled(e)},R_=(e,r)=>vx(e,r)?(s=>yl(s.element,"disabled"))(e):(s=>ia(s.element,"aria-disabled")==="true")(e);var e5=Object.freeze({__proto__:null,enable:wx,disable:D_,isDisabled:R_,onLoad:M_,set:(e,r,s,l)=>{(l?D_:wx)(e,r)}}),f3=Object.freeze({__proto__:null,exhibit:(e,r)=>rc({classes:r.disabled()?r.disableClass.toArray():[]}),events:(e,r)=>Ta([Pc(_l(),(s,l)=>R_(s,e)),cu(e,r,M_)])}),n1=[ps("disabled",Uo),St("useNative",!0),Lr("disableClass"),Hr("onDisabled"),Hr("onEnabled")];const Wn=Ar({fields:n1,name:"disabling",active:f3,apis:e5}),B_=(e,r,s,l)=>{const m=Tl(e.element,"."+r.highlightClass);Ot(m,g=>{$t(l,h=>dn(h.element,g))||(ln(g,r.highlightClass),e.getSystem().getByDom(g).each(h=>{r.onDehighlight(e,h),Rr(h,pm())}))})},ny=(e,r,s,l)=>{B_(e,r,0,[l]),kx(e,r,s,l)||(lo(l.element,r.highlightClass),r.onHighlight(e,l),Rr(l,gm()))},kx=(e,r,s,l)=>Rn(l.element,r.highlightClass),F_=(e,r,s)=>ws(e.element,"."+r.itemClass).bind(l=>e.getSystem().getByDom(l).toOptional()),L_=(e,r,s)=>{const l=Tl(e.element,"."+r.itemClass);return(l.length>0?D.some(l[l.length-1]):D.none()).bind(m=>e.getSystem().getByDom(m).toOptional())},_x=(e,r,s,l)=>{const m=Tl(e.element,"."+r.itemClass);return No(m,g=>Rn(g,r.highlightClass)).bind(g=>{const h=Ap(g,l,0,m.length-1);return e.getSystem().getByDom(m[h]).toOptional()})},I_=(e,r,s)=>{const l=Tl(e.element,"."+r.itemClass);return Vr(F(l,m=>e.getSystem().getByDom(m).toOptional()))};var hn=Object.freeze({__proto__:null,dehighlightAll:(e,r,s)=>B_(e,r,0,[]),dehighlight:(e,r,s,l)=>{kx(e,r,s,l)&&(ln(l.element,r.highlightClass),r.onDehighlight(e,l),Rr(l,pm()))},highlight:ny,highlightFirst:(e,r,s)=>{F_(e,r).each(l=>{ny(e,r,s,l)})},highlightLast:(e,r,s)=>{L_(e,r).each(l=>{ny(e,r,s,l)})},highlightAt:(e,r,s,l)=>{((m,g,h,x)=>{const w=Tl(m.element,"."+g.itemClass);return D.from(w[x]).fold(()=>Dr.error(new Error("No element found with index "+x)),m.getSystem().getByDom)})(e,r,0,l).fold(m=>{throw m},m=>{ny(e,r,s,m)})},highlightBy:(e,r,s,l)=>{const m=I_(e,r);yo(m,l).each(g=>{ny(e,r,s,g)})},isHighlighted:kx,getHighlighted:(e,r,s)=>ws(e.element,"."+r.highlightClass).bind(l=>e.getSystem().getByDom(l).toOptional()),getFirst:F_,getLast:L_,getPrevious:(e,r,s)=>_x(e,r,0,-1),getNext:(e,r,s)=>_x(e,r,0,1),getCandidates:I_}),Th=[oo("highlightClass"),oo("itemClass"),Hr("onHighlight"),Hr("onDehighlight")];const ba=Ar({fields:Th,name:"highlighting",apis:hn}),Cx=[8],Em=[9],zm=[13],r1=[27],wc=[32],Jp=[37],ry=[38],a1=[39],Qp=[40],Xg=(e,r,s)=>{const l=et(e.slice(0,r)),m=et(e.slice(r+1));return yo(l.concat(m),s)},Sx=(e,r,s)=>{const l=et(e.slice(0,r));return yo(l,s)},ay=(e,r,s)=>{const l=e.slice(0,r),m=e.slice(r+1);return yo(m.concat(l),s)},Ex=(e,r,s)=>{const l=e.slice(r+1);return yo(l,s)},Xr=e=>r=>{const s=r.raw;return ct(e,s.which)},Ku=e=>r=>Ct(e,s=>s(r)),Jg=e=>e.raw.shiftKey===!0,t5=e=>e.raw.ctrlKey===!0,s1=Ro(Jg),ra=(e,r)=>({matches:e,classification:r}),zx=(e,r,s)=>{r.exists(l=>s.exists(m=>dn(m,l)))||An(e,jm(),{prevFocus:r,newFocus:s})},Tx=()=>{const e=r=>zl(r.element);return{get:e,set:(r,s)=>{const l=e(r);r.getSystem().triggerFocus(s,r.element);const m=e(r);zx(r,l,m)}}},o5=()=>{const e=r=>ba.getHighlighted(r).map(s=>s.element);return{get:e,set:(r,s)=>{const l=e(r);r.getSystem().getByDom(s).fold(Ae,g=>{ba.highlight(r,g)});const m=e(r);zx(r,l,m)}}};var Ah;(function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"})(Ah||(Ah={}));const ef=(e,r,s,l,m)=>{const g=(x,w,S,M,z)=>{return(L=S(x,w,M,z),U=w.event,yo(L,Z=>Z.matches(U)).map(Z=>Z.classification)).bind(Z=>Z(x,w,M,z));var L,U},h={schema:()=>e.concat([St("focusManager",Tx()),il("focusInside","onFocus",tc(x=>ct(["onFocus","onEnterOrSpace","onApi"],x)?Dr.value(x):Dr.error("Invalid value for focusInside"))),Ha("handler",h),Ha("state",r),Ha("sendFocusIn",m)]),processKey:g,toEvents:(x,w)=>{const S=x.focusInside!==Ah.OnFocusMode?D.none():m(x).map(z=>Kt(zd(),(L,U)=>{z(L,x,w),U.stop()})),M=[Kt(Za(),(z,L)=>{g(z,L,s,x,w).fold(()=>{((U,Z)=>{const re=Xr(wc.concat(zm))(Z.event);x.focusInside===Ah.OnEnterOrSpaceMode&&re&&Sd(U,Z)&&m(x).each(se=>{se(U,x,w),Z.stop()})})(z,L)},U=>{L.stop()})}),Kt(Ki(),(z,L)=>{g(z,L,l,x,w).each(U=>{L.stop()})})];return Ta(S.toArray().concat(M))}};return h},Ax=e=>{const r=[Lr("onEscape"),Lr("onEnter"),St("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),St("firstTabstop",0),St("useTabstopAt",Rt),Lr("visibilitySelector")].concat([e]),s=(M,z)=>{const L=M.visibilitySelector.bind(U=>Rd(z,U)).getOr(z);return Da(L)>0},l=(M,z)=>z.focusManager.get(M).bind(L=>Rd(L,z.selector)),m=(M,z,L)=>{((U,Z)=>{const re=Tl(U.element,Z.selector),se=ro(re,pe=>s(Z,pe));return D.from(se[Z.firstTabstop])})(M,z).each(U=>{z.focusManager.set(M,U)})},g=(M,z,L,U)=>{const Z=Tl(M.element,L.selector);return l(M,L).bind(re=>No(Z,mt(dn,re)).bind(se=>((pe,oe,te,de,me)=>me(oe,te,xe=>((Ke,wt)=>s(Ke,wt)&&Ke.useTabstopAt(wt))(de,xe)).fold(()=>de.cyclic?D.some(!0):D.none(),xe=>(de.focusManager.set(pe,xe),D.some(!0))))(M,Z,se,L,U)))},h=(M,z,L)=>{const U=L.cyclic?Xg:Sx;return g(M,0,L,U)},x=(M,z,L)=>{const U=L.cyclic?ay:Ex;return g(M,0,L,U)},w=ue([ra(Ku([Jg,Xr(Em)]),h),ra(Xr(Em),x),ra(Ku([s1,Xr(zm)]),(M,z,L)=>L.onEnter.bind(U=>U(M,z)))]),S=ue([ra(Xr(r1),(M,z,L)=>L.onEscape.bind(U=>U(M,z))),ra(Xr(Em),(M,z,L)=>l(M,L).filter(U=>!L.useTabstopAt(U)).bind(U=>((Z=>(re=>qo(re))(Z).bind(_r).exists(re=>dn(re,Z)))(U)?h:x)(M,z,L)))]);return ef(r,ac.init,w,S,()=>D.some(m))};var h3=Ax(ui("cyclic",Uo)),Ox=Ax(ui("cyclic",Rt));const tf=(e,r,s)=>Eh(s)&&Xr(wc)(r.event)?D.none():((l,m,g)=>(hc(l,g,_l()),D.some(!0)))(e,0,s),Qg=(e,r)=>D.some(!0),Oh=[St("execute",tf),St("useSpace",!1),St("useEnter",!0),St("useControlEnter",!1),St("useDown",!1)],b3=(e,r,s)=>s.execute(e,r,e.element);var y3=ef(Oh,ac.init,(e,r,s,l)=>{const m=s.useSpace&&!Eh(e.element)?wc:[],g=s.useEnter?zm:[],h=s.useDown?Qp:[],x=m.concat(g).concat(h);return[ra(Xr(x),b3)].concat(s.useControlEnter?[ra(Ku([t5,Xr(zm)]),b3)]:[])},(e,r,s,l)=>s.useSpace&&!Eh(e.element)?[ra(Xr(wc),Qg)]:[],()=>D.none());const P_=()=>{const e=Tr();return Ci({readState:()=>e.get().map(r=>({numRows:String(r.numRows),numColumns:String(r.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(r,s)=>{e.set({numRows:r,numColumns:s})},getNumRows:()=>e.get().map(r=>r.numRows),getNumColumns:()=>e.get().map(r=>r.numColumns)})};var n5=Object.freeze({__proto__:null,flatgrid:P_,init:e=>e.state(e)});const Nx=e=>(r,s,l,m)=>{const g=e(r.element);return v3(g,r,s,l,m)},Mx=(e,r)=>{const s=mh(e,r);return Nx(s)},Dx=(e,r)=>{const s=mh(r,e);return Nx(s)},Rx=e=>(r,s,l,m)=>v3(e,r,s,l,m),v3=(e,r,s,l,m)=>l.focusManager.get(r).bind(g=>e(r.element,g,l,m)).map(g=>(l.focusManager.set(r,g),!0)),H_=Rx,x3=Rx,sy=Rx,j_=e=>!(r=>r.offsetWidth<=0&&r.offsetHeight<=0)(e.dom),V_=(e,r,s)=>{const l=Tl(e,s);return((m,g)=>No(m,h=>dn(h,r)).map(h=>({index:h,candidates:m})))(ro(l,j_))},$_=(e,r)=>No(e,s=>dn(r,s)),w3=(e,r,s,l)=>l(Math.floor(r/s),r%s).bind(m=>{const g=m.row*s+m.column;return g>=0&&g<e.length?D.some(e[g]):D.none()}),k3=(e,r,s,l,m)=>w3(e,r,l,(g,h)=>{const x=g===s-1?e.length-g*l:l,w=Ap(h,m,0,x-1);return D.some({row:g,column:w})}),_3=(e,r,s,l,m)=>w3(e,r,l,(g,h)=>{const x=Ap(g,m,0,s-1),w=x===s-1?e.length-x*l:l,S=vc(h,0,w-1);return D.some({row:x,column:S})}),r5=[oo("selector"),St("execute",tf),El("onEscape"),St("captureTab",!1),ql()],i1=(e,r,s)=>{ws(e.element,r.selector).each(l=>{r.focusManager.set(e,l)})},l1=e=>(r,s,l,m)=>V_(r,s,l.selector).bind(g=>e(g.candidates,g.index,m.getNumRows().getOr(l.initSize.numRows),m.getNumColumns().getOr(l.initSize.numColumns))),U_=(e,r,s)=>s.captureTab?D.some(!0):D.none(),Bx=l1((e,r,s,l)=>k3(e,r,s,l,-1)),Z_=l1((e,r,s,l)=>k3(e,r,s,l,1)),a5=l1((e,r,s,l)=>_3(e,r,s,l,-1)),C3=l1((e,r,s,l)=>_3(e,r,s,l,1)),S3=ue([ra(Xr(Jp),Mx(Bx,Z_)),ra(Xr(a1),Dx(Bx,Z_)),ra(Xr(ry),H_(a5)),ra(Xr(Qp),x3(C3)),ra(Ku([Jg,Xr(Em)]),U_),ra(Ku([s1,Xr(Em)]),U_),ra(Xr(wc.concat(zm)),(e,r,s,l)=>((m,g)=>g.focusManager.get(m).bind(h=>Rd(h,g.selector)))(e,s).bind(m=>s.execute(e,r,m)))]),s5=ue([ra(Xr(r1),(e,r,s)=>s.onEscape(e,r)),ra(Xr(wc),Qg)]);var i5=ef(r5,P_,S3,s5,()=>D.some(i1));const c1=(e,r,s,l,m)=>{const g=(h,x,w)=>m(h,x,l,0,w.length-1,w[x],S=>{return M=w[S],ga(M)==="button"&&ia(M,"disabled")==="disabled"?g(h,S,w):D.from(w[S]);var M});return V_(e,s,r).bind(h=>{const x=h.index,w=h.candidates;return g(x,x,w)})},Fx=(e,r,s,l)=>c1(e,r,s,l,(m,g,h,x,w,S,M)=>{const z=vc(g+h,x,w);return z===m?D.from(S):M(z)}),d1=(e,r,s,l)=>c1(e,r,s,l,(m,g,h,x,w,S,M)=>{const z=Ap(g,h,x,w);return z===m?D.none():M(z)}),bu=[oo("selector"),St("getInitial",D.none),St("execute",tf),El("onEscape"),St("executeOnMove",!1),St("allowVertical",!0),St("allowHorizontal",!0),St("cycles",!0)],of=(e,r,s)=>((l,m)=>m.focusManager.get(l).bind(g=>Rd(g,m.selector)))(e,s).bind(l=>s.execute(e,r,l)),q_=(e,r,s)=>{r.getInitial(e).orThunk(()=>ws(e.element,r.selector)).each(l=>{r.focusManager.set(e,l)})},Lx=(e,r,s)=>(s.cycles?d1:Fx)(e,s.selector,r,-1),u1=(e,r,s)=>(s.cycles?d1:Fx)(e,s.selector,r,1),Ix=e=>(r,s,l,m)=>e(r,s,l,m).bind(()=>l.executeOnMove?of(r,s,l):D.some(!0)),l5=ue([ra(Xr(wc),Qg),ra(Xr(r1),(e,r,s)=>s.onEscape(e,r))]);var c5=ef(bu,ac.init,(e,r,s,l)=>{const m=[...s.allowHorizontal?Jp:[]].concat(s.allowVertical?ry:[]),g=[...s.allowHorizontal?a1:[]].concat(s.allowVertical?Qp:[]);return[ra(Xr(m),Ix(Mx(Lx,u1))),ra(Xr(g),Ix(Dx(Lx,u1))),ra(Xr(zm),of),ra(Xr(wc),of)]},l5,()=>D.some(q_));const m1=(e,r,s)=>D.from(e[r]).bind(l=>D.from(l[s]).map(m=>({rowIndex:r,columnIndex:s,cell:m}))),g1=(e,r,s,l)=>{const m=e[r].length,g=Ap(s,l,0,m-1);return m1(e,r,g)},Nh=(e,r,s,l)=>{const m=Ap(s,l,0,e.length-1),g=e[m].length,h=vc(r,0,g-1);return m1(e,m,h)},W_=(e,r,s,l)=>{const m=e[r].length,g=vc(s+l,0,m-1);return m1(e,r,g)},Px=(e,r,s,l)=>{const m=vc(s+l,0,e.length-1),g=e[m].length,h=vc(r,0,g-1);return m1(e,m,h)},E3=[td("selectors",[oo("row"),oo("cell")]),St("cycles",!0),St("previousSelector",D.none),St("execute",tf)],z3=(e,r,s)=>{r.previousSelector(e).orThunk(()=>{const l=r.selectors;return ws(e.element,l.cell)}).each(l=>{r.focusManager.set(e,l)})},p1=(e,r)=>(s,l,m)=>{const g=m.cycles?e:r;return Rd(l,m.selectors.row).bind(h=>{const x=Tl(h,m.selectors.cell);return $_(x,l).bind(w=>{const S=Tl(s,m.selectors.row);return $_(S,h).bind(M=>{const z=((L,U)=>F(L,Z=>Tl(Z,U.selectors.cell)))(S,m);return g(z,M,w).map(L=>L.cell)})})})},G_=p1((e,r,s)=>g1(e,r,s,-1),(e,r,s)=>W_(e,r,s,-1)),K_=p1((e,r,s)=>g1(e,r,s,1),(e,r,s)=>W_(e,r,s,1)),Y_=p1((e,r,s)=>Nh(e,s,r,-1),(e,r,s)=>Px(e,s,r,-1)),d5=p1((e,r,s)=>Nh(e,s,r,1),(e,r,s)=>Px(e,s,r,1)),Hx=ue([ra(Xr(Jp),Mx(G_,K_)),ra(Xr(a1),Dx(G_,K_)),ra(Xr(ry),H_(Y_)),ra(Xr(Qp),x3(d5)),ra(Xr(wc.concat(zm)),(e,r,s)=>zl(e.element).bind(l=>s.execute(e,r,l)))]),u5=ue([ra(Xr(wc),Qg)]);var T3=ef(E3,ac.init,Hx,u5,()=>D.some(z3));const kc=[oo("selector"),St("execute",tf),St("moveOnTab",!1)],A3=(e,r,s)=>s.focusManager.get(e).bind(l=>s.execute(e,r,l)),O3=(e,r,s)=>{ws(e.element,r.selector).each(l=>{r.focusManager.set(e,l)})},X_=(e,r,s)=>d1(e,s.selector,r,-1),J_=(e,r,s)=>d1(e,s.selector,r,1),N3=ue([ra(Xr(ry),sy(X_)),ra(Xr(Qp),sy(J_)),ra(Ku([Jg,Xr(Em)]),(e,r,s,l)=>s.moveOnTab?sy(X_)(e,r,s,l):D.none()),ra(Ku([s1,Xr(Em)]),(e,r,s,l)=>s.moveOnTab?sy(J_)(e,r,s,l):D.none()),ra(Xr(zm),A3),ra(Xr(wc),A3)]),m5=ue([ra(Xr(wc),Qg)]);var g5=ef(kc,ac.init,N3,m5,()=>D.some(O3));const p5=[El("onSpace"),El("onEnter"),El("onShiftEnter"),El("onLeft"),El("onRight"),El("onTab"),El("onShiftTab"),El("onUp"),El("onDown"),El("onEscape"),St("stopSpaceKeyup",!1),Lr("focusIn")];var f5=ef(p5,ac.init,(e,r,s)=>[ra(Xr(wc),s.onSpace),ra(Ku([s1,Xr(zm)]),s.onEnter),ra(Ku([Jg,Xr(zm)]),s.onShiftEnter),ra(Ku([Jg,Xr(Em)]),s.onShiftTab),ra(Ku([s1,Xr(Em)]),s.onTab),ra(Xr(ry),s.onUp),ra(Xr(Qp),s.onDown),ra(Xr(Jp),s.onLeft),ra(Xr(a1),s.onRight),ra(Xr(wc),s.onSpace)],(e,r,s)=>[...s.stopSpaceKeyup?[ra(Xr(wc),Qg)]:[],ra(Xr(r1),s.onEscape)],e=>e.focusIn);const M3=h3.schema(),h5=Ox.schema(),b5=c5.schema(),D3=i5.schema(),R3=T3.schema(),B3=y3.schema(),y5=g5.schema(),F3=f5.schema(),Mn=ad({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:M3,cyclic:h5,flow:b5,flatgrid:D3,matrix:R3,execution:B3,menu:y5,special:F3}),name:"keying",active:{events:(e,r)=>e.handler.toEvents(e,r)},apis:{focusIn:(e,r,s)=>{r.sendFocusIn(r).fold(()=>{e.getSystem().triggerFocus(e.element,e.element)},l=>{l(e,r,s)})},setGridSize:(e,r,s,l,m)=>{(g=>Kn(g,"setGridSize"))(s)?s.setGridSize(l,m):console.error("Layout does not support setGridSize")}},state:n5}),ep=(e,r)=>{lh(()=>{((s,l,m)=>{const g=s.components();(w=>{Ot(w.components(),S=>ua(S.element)),Ps(w.element),w.syncComponents()})(s);const h=m(l),x=ye(g,h);Ot(x,w=>{qp(w),s.getSystem().removeFromWorld(w)}),Ot(h,w=>{Zp(w)?ig(s,w):(s.getSystem().addToWorld(w),ig(s,w),Ma(s.element)&&wh(w))}),s.syncComponents()})(e,r,()=>F(r,e.getSystem().build))},e.element)},Q_=(e,r)=>{lh(()=>{((s,l,m)=>{const g=s.components(),h=Vt(l,S=>x0(S).toArray());Ot(g,S=>{ct(h,S)||G0(S)});const x=((S,M,z)=>_0(S,M,(L,U)=>C0(S,U,L,z)))(e.element,r,e.getSystem().buildOrPatch),w=ye(g,x);Ot(w,S=>{Zp(S)&&G0(S)}),Ot(x,S=>{Zp(S)||mx(s,S)}),s.syncComponents()})(e,r)},e.element)},L3=(e,r,s,l)=>{G0(r);const m=C0(e.element,s,l,e.getSystem().buildOrPatch);mx(e,m),e.syncComponents()},jx=(e,r,s)=>{const l=e.getSystem().build(s);kh(e,l,r)},iy=(e,r,s,l)=>{Pl(r),jx(e,(m,g)=>((h,x,w)=>{or(h,w).fold(()=>{mr(h,x)},S=>{yt(S,x)})})(m,g,s),l)},f1=(e,r)=>e.components(),e2=(e,r,s,l,m)=>{const g=f1(e);return D.from(g[l]).map(h=>(m.fold(()=>Pl(h),x=>{(r.reuseDom?L3:iy)(e,h,l,x)}),h))};var t2=Object.freeze({__proto__:null,append:(e,r,s,l)=>{jx(e,mr,l)},prepend:(e,r,s,l)=>{jx(e,zn,l)},remove:(e,r,s,l)=>{const m=f1(e);yo(m,h=>dn(l.element,h.element)).each(Pl)},replaceAt:e2,replaceBy:(e,r,s,l,m)=>{const g=f1(e);return No(g,l).bind(h=>e2(e,r,0,h,m))},set:(e,r,s,l)=>(r.reuseDom?Q_:ep)(e,l),contents:f1});const rr=Ar({fields:[mi("reuseDom",!0)],name:"replacing",apis:t2}),pr=(e,r)=>{const s=((l,m)=>{const g=Ta(m);return Ar({fields:[oo("enabled")],name:l,active:{events:ue(g)}})})(e,r);return{key:e,value:{config:{},me:s,configAsRaw:ue({}),initialConfig:{},state:ac}}},tp=(e,r)=>{r.ignore||(Il(e.element),r.onFocus(e))};var I3=Object.freeze({__proto__:null,focus:tp,blur:(e,r)=>{r.ignore||ih(e.element)},isFocused:e=>Dp(e.element)}),P3=Object.freeze({__proto__:null,exhibit:(e,r)=>{const s=r.ignore?{}:{attributes:{tabindex:"-1"}};return rc(s)},events:e=>Ta([Kt(zd(),(r,s)=>{tp(r,e),s.stop()})].concat(e.stopMousedown?[Kt(Le(),(r,s)=>{s.event.prevent()})]:[]))}),v5=[Hr("onFocus"),St("stopMousedown",!1),St("ignore",!1)];const Jn=Ar({fields:v5,name:"focusing",active:P3,apis:I3}),op=(e,r,s,l)=>{const m=s.get();s.set(l),((g,h,x)=>{h.toggleClass.each(w=>{x.get()?lo(g.element,w):ln(g.element,w)})})(e,r,s),((g,h,x)=>{const w=h.aria;w.update(g,w,x.get())})(e,r,s),m!==l&&r.onToggled(e,l)},ly=(e,r,s)=>{op(e,r,s,!s.get())},o2=(e,r,s)=>{op(e,r,s,r.selected)};var n2=Object.freeze({__proto__:null,onLoad:o2,toggle:ly,isOn:(e,r,s)=>s.get(),on:(e,r,s)=>{op(e,r,s,!0)},off:(e,r,s)=>{op(e,r,s,!1)},set:op}),nf=Object.freeze({__proto__:null,exhibit:()=>rc({}),events:(e,r)=>{const s=(l=e,m=r,g=ly,lu(x=>{g(x,l,m)}));var l,m,g;const h=cu(e,r,o2);return Ta(_e([e.toggleOnExecute?[s]:[],[h]]))}});const np=(e,r,s)=>{wn(e.element,"aria-expanded",s)};var H3=[St("selected",!1),Lr("toggleClass"),St("toggleOnExecute",!0),Hr("onToggled"),il("aria",{mode:"none"},Hs("mode",{pressed:[St("syncWithExpanded",!1),Ha("update",(e,r,s)=>{wn(e.element,"aria-pressed",s),r.syncWithExpanded&&np(e,0,s)})],checked:[Ha("update",(e,r,s)=>{wn(e.element,"aria-checked",s)})],expanded:[Ha("update",np)],selected:[Ha("update",(e,r,s)=>{wn(e.element,"aria-selected",s)})],none:[Ha("update",Ae)]}))];const gr=Ar({fields:H3,name:"toggling",active:nf,apis:n2,state:{init:()=>{const e=yn(!1);return{get:()=>e.get(),set:r=>e.set(r),clear:()=>e.set(!1),readState:()=>e.get()}}}}),Vx=()=>{const e=(r,s)=>{s.stop(),Zl(r)};return[Kt(Bc(),e),Kt(Du(),e),Bu(T()),Bu(Le())]},h1=e=>Ta(_e([e.map(r=>lu((s,l)=>{r(s),l.stop()})).toArray(),Vx()])),r2="alloy.item-hover",a2="alloy.item-focus",$x="alloy.item-toggled",s2=e=>{(zl(e.element).isNone()||Jn.isFocused(e))&&(Jn.isFocused(e)||Jn.focus(e),An(e,r2,{item:e}))},j3=e=>{An(e,a2,{item:e})},V3=ue(r2),x5=ue(a2),Ux=ue($x),i2=e=>e.role.fold(()=>e.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),$e),Zx=[oo("data"),oo("components"),oo("dom"),St("hasSubmenu",!1),Lr("toggling"),Lr("role"),On("itemBehaviours",[gr,Jn,Mn,Ge]),St("ignoreFocus",!1),St("domModification",{}),Ha("builder",e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:i2(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Vn(e.itemBehaviours,[e.toggling.fold(gr.revoke,r=>gr.config(((s,l)=>({aria:{mode:l?"selected":"checked"},...on(s,(m,g)=>g!=="exclusive"),onToggled:(m,g)=>{ut(s.onToggled)&&s.onToggled(m,g),((h,x)=>{An(h,$x,{item:h,state:x})})(m,g)}}))(r,e.role.exists(s=>s==="option")))),Jn.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:r=>{j3(r)}}),Mn.config({mode:"execution"}),Ge.config({store:{mode:"memory",initialValue:e.data}}),pr("item-type-events",[...Vx(),Kt(Zn(),s2),Kt(Fc(),Jn.focus)])]),components:e.components,eventOrder:e.eventOrder})),St("eventOrder",{})],$3=[oo("dom"),oo("components"),Ha("builder",e=>({dom:e.dom,components:e.components,events:Ta([Wf(Fc())])}))],l2=ue("item-widget"),qx=ue([hl({name:"widget",overrides:e=>({behaviours:zo([Ge.config({store:{mode:"manual",getValue:r=>e.data,setValue:Ae}})])})})]),U3=[oo("uid"),oo("data"),oo("components"),oo("dom"),St("autofocus",!1),St("ignoreFocus",!1),On("widgetBehaviours",[Ge,Jn,Mn]),St("domModification",{}),$i(qx()),Ha("builder",e=>{const r=dg(l2(),e,qx()),s=Q0(l2(),e,r.internals()),l=g=>ja(g,e,"widget").map(h=>(Mn.focusIn(h),h)),m=(g,h)=>(Eh(h.event.target)||e.autofocus&&h.setSource(g.element),D.none());return{dom:e.dom,components:s,domModification:e.domModification,events:Ta([lu((g,h)=>{l(g).each(x=>{h.stop()})}),Kt(Zn(),s2),Kt(Fc(),(g,h)=>{e.autofocus?l(g):Jn.focus(g)})]),behaviours:Vn(e.widgetBehaviours,[Ge.config({store:{mode:"memory",initialValue:e.data}}),Jn.config({ignore:e.ignoreFocus,onFocus:g=>{j3(g)}}),Mn.config({mode:"special",focusIn:e.autofocus?g=>{l(g)}:C(),onLeft:m,onRight:m,onEscape:(g,h)=>Jn.isFocused(g)||e.autofocus?(e.autofocus&&h.setSource(g.element),D.none()):(Jn.focus(g),D.some(!0))})])}})],Z3=Hs("type",{widget:U3,item:Zx,separator:$3}),q3=ue([Yp({factory:{sketch:e=>{const r=si("menu.spec item",Z3,e);return r.builder(r)}},name:"items",unit:"item",defaults:(e,r)=>Xo(r,"uid")?r:{...r,uid:Vu("item")},overrides:(e,r)=>({type:r.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),c2=ue([_a("role"),oo("value"),oo("items"),oo("dom"),oo("components"),St("eventOrder",{}),fo("menuBehaviours",[ba,Ge,qr,Mn]),il("movement",{mode:"menu",moveOnTab:!0},Hs("mode",{grid:[ql(),Ha("config",(e,r)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:e.focusManager}))],matrix:[Ha("config",(e,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+e.markers.item},previousSelector:r.previousSelector,focusManager:e.focusManager})),oo("rowSelector"),St("previousSelector",D.none)],menu:[St("moveOnTab",!0),Ha("config",(e,r)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:r.moveOnTab,focusManager:e.focusManager}))]})),Ni("markers",id()),St("fakeFocus",!1),St("focusManager",Tx()),Hr("onHighlight"),Hr("onDehighlight"),St("showMenuRole",!0)]),d2=ue("alloy.menu-focus"),rf=Xl({name:"Menu",configFields:c2(),partFields:q3(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Bo(e.menuBehaviours,[ba.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),Ge.config({store:{mode:"memory",initialValue:e.value}}),qr.config({find:D.some}),Mn.config(e.movement.config(e,e.movement))]),events:Ta([Kt(x5(),(m,g)=>{const h=g.event;m.getSystem().getByDom(h.target).each(x=>{ba.highlight(m,x),g.stop(),An(m,d2(),{menu:m,item:x})})}),Kt(V3(),(m,g)=>{const h=g.event.item;ba.highlight(m,h)}),Kt(Ux(),(m,g)=>{const{item:h,state:x}=g.event;x&&ia(h.element,"role")==="menuitemradio"&&((w,S)=>{const M=Tl(w.element,'[role="menuitemradio"][aria-checked="true"]');Ot(M,z=>{dn(z,S.element)||w.getSystem().getByDom(z).each(L=>{gr.off(L)})})})(m,h)})]),components:r,eventOrder:e.eventOrder,...e.showMenuRole?{domModification:{attributes:{role:e.role.getOr("menu")}}}:{}})}),cy=(e,r,s,l)=>zt(s,l).bind(m=>zt(e,m).bind(g=>{const h=cy(e,r,s,g);return D.some([g].concat(h))})).getOr([]),dy=e=>e.type==="prepared"?D.some(e.menu):D.none(),u2=()=>{const e=yn({}),r=yn({}),s=yn({}),l=Tr(),m=yn({}),g=w=>h(w).bind(dy),h=w=>zt(r.get(),w),x=w=>zt(e.get(),w);return{setMenuBuilt:(w,S)=>{r.set({...r.get(),[w]:{type:"prepared",menu:S}})},setContents:(w,S,M,z)=>{l.set(w),e.set(M),r.set(S),m.set(z);const L=((U,Z)=>{const re={};Oo(U,(te,de)=>{Ot(te,me=>{re[me]=de})});const se=Z,pe=vt(Z,(te,de)=>({k:te,v:de})),oe=tt(pe,(te,de)=>[de].concat(cy(re,se,pe,de)));return tt(re,te=>zt(oe,te).getOr([te]))})(z,M);s.set(L)},expand:w=>zt(e.get(),w).map(S=>{const M=zt(s.get(),w).getOr([]);return[S].concat(M)}),refresh:w=>zt(s.get(),w),collapse:w=>zt(s.get(),w).bind(S=>S.length>1?D.some(S.slice(1)):D.none()),lookupMenu:h,lookupItem:x,otherMenus:w=>{const S=m.get();return ye(dt(S),w)},getPrimary:()=>l.get().bind(g),getMenus:()=>r.get(),clear:()=>{e.set({}),r.set({}),s.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(w,S)=>{const M=ro(x(w).toArray(),z=>g(z).isSome());return zt(s.get(),w).bind(z=>{const L=et(M.concat(z));return(U=>{const Z=[];for(let re=0;re<U.length;re++){const se=U[re];if(!se.isSome())return D.none();Z.push(se.getOrDie())}return D.some(Z)})(Vt(L,(U,Z)=>((re,se,pe)=>g(re).bind(oe=>(te=>Zo(e.get(),(de,me)=>de===te))(re).bind(te=>se(te).map(de=>({triggeredMenu:oe,triggeringItem:de,triggeringPath:pe})))))(U,S,L.slice(0,Z+1)).fold(()=>ar(l.get(),U)?[]:[D.none()],re=>[D.some(re)])))})}}},W3=dy,m2=cn("tiered-menu-item-highlight"),g2=cn("tiered-menu-item-dehighlight");var lc;(function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"})(lc||(lc={}));const w5=ue("collapse-item"),af=Hd({name:"TieredMenu",configFields:[Xf("onExecute"),Xf("onEscape"),gu("onOpenMenu"),gu("onOpenSubmenu"),Hr("onRepositionMenu"),Hr("onCollapseMenu"),St("highlightOnOpen",lc.HighlightMenuAndItem),td("data",[oo("primary"),oo("menus"),oo("expansions")]),St("fakeFocus",!1),Hr("onHighlightItem"),Hr("onDehighlightItem"),Hr("onHover"),ju(),oo("dom"),St("navigateOnHover",!0),St("stayInDom",!1),fo("tmenuBehaviours",[Mn,ba,qr,rr]),St("eventOrder",{})],apis:{collapseMenu:(e,r)=>{e.collapseMenu(r)},highlightPrimary:(e,r)=>{e.highlightPrimary(r)},repositionMenus:(e,r)=>{e.repositionMenus(r)}},factory:(e,r)=>{const s=Tr(),l=u2(),m=te=>Ge.getValue(te).value,g=te=>tt(e.data.menus,(de,me)=>Vt(de.items,xe=>xe.type==="separator"?[]:[xe.data.value])),h=ba.highlight,x=(te,de)=>{h(te,de),ba.getHighlighted(de).orThunk(()=>ba.getFirst(de)).each(me=>{e.fakeFocus?ba.highlight(de,me):hc(te,me.element,Fc())})},w=(te,de)=>Vr(F(de,me=>te.lookupMenu(me).bind(xe=>xe.type==="prepared"?D.some(xe.menu):D.none()))),S=(te,de,me)=>{const xe=w(de,de.otherMenus(me));Ot(xe,Ke=>{Or(Ke.element,[e.markers.backgroundMenu]),e.stayInDom||rr.remove(te,Ke)})},M=(te,de)=>{const me=(xe=>s.get().getOrThunk(()=>{const Ke={},wt=Tl(xe.element,`.${e.markers.item}`),eo=ro(wt,qt=>ia(qt,"aria-haspopup")==="true");return Ot(eo,qt=>{xe.getSystem().getByDom(qt).each(Jt=>{const ko=m(Jt);Ke[ko]=Jt})}),s.set(Ke),Ke}))(te);Oo(me,(xe,Ke)=>{const wt=ct(de,Ke);wn(xe.element,"aria-expanded",wt)})},z=(te,de,me)=>D.from(me[0]).bind(xe=>de.lookupMenu(xe).bind(Ke=>{if(Ke.type==="notbuilt")return D.none();{const wt=Ke.menu,eo=w(de,me.slice(1));return Ot(eo,qt=>{lo(qt.element,e.markers.backgroundMenu)}),Ma(wt.element)||rr.append(te,xc(wt)),Or(wt.element,[e.markers.backgroundMenu]),x(te,wt),S(te,de,me),D.some(wt)}}));let L;(function(te){te[te.HighlightSubmenu=0]="HighlightSubmenu",te[te.HighlightParent=1]="HighlightParent"})(L||(L={}));const U=(te,de,me=L.HighlightSubmenu)=>{if(de.hasConfigured(Wn)&&Wn.isDisabled(de))return D.some(de);{const xe=m(de);return l.expand(xe).bind(Ke=>(M(te,Ke),D.from(Ke[0]).bind(wt=>l.lookupMenu(wt).bind(eo=>{const qt=((Jt,ko,en)=>{if(en.type==="notbuilt"){const En=Jt.getSystem().build(en.nbMenu());return l.setMenuBuilt(ko,En),En}return en.menu})(te,wt,eo);return Ma(qt.element)||rr.append(te,xc(qt)),e.onOpenSubmenu(te,de,qt,et(Ke)),me===L.HighlightSubmenu?(ba.highlightFirst(qt),z(te,l,Ke)):(ba.dehighlightAll(qt),D.some(de))}))))}},Z=(te,de)=>{const me=m(de);return l.collapse(me).bind(xe=>(M(te,xe),z(te,l,xe).map(Ke=>(e.onCollapseMenu(te,de,Ke),Ke))))},re=te=>(de,me)=>Rd(me.getSource(),`.${e.markers.item}`).bind(xe=>de.getSystem().getByDom(xe).toOptional().bind(Ke=>te(de,Ke).map(Rt))),se=Ta([Kt(d2(),(te,de)=>{const me=de.event.item;l.lookupItem(m(me)).each(()=>{const xe=de.event.menu;ba.highlight(te,xe);const Ke=m(de.event.item);l.refresh(Ke).each(wt=>S(te,l,wt))})}),lu((te,de)=>{const me=de.event.target;te.getSystem().getByDom(me).each(xe=>{m(xe).indexOf("collapse-item")===0&&Z(te,xe),U(te,xe,L.HighlightSubmenu).fold(()=>{e.onExecute(te,xe)},Ae)})}),Aa((te,de)=>{(me=>{const xe=((wt,eo,qt)=>tt(qt,(Jt,ko)=>{const en=()=>rf.sketch({...Jt,value:ko,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(En,Fn)=>{An(En,m2,{menuComp:En,itemComp:Fn})},onDehighlight:(En,Fn)=>{An(En,g2,{menuComp:En,itemComp:Fn})},focusManager:e.fakeFocus?o5():Tx()});return ko===eo?{type:"prepared",menu:wt.getSystem().build(en())}:{type:"notbuilt",nbMenu:en}}))(me,e.data.primary,e.data.menus),Ke=g();return l.setContents(e.data.primary,xe,e.data.expansions,Ke),l.getPrimary()})(te).each(me=>{rr.append(te,xc(me)),e.onOpenMenu(te,me),e.highlightOnOpen===lc.HighlightMenuAndItem?x(te,me):e.highlightOnOpen===lc.HighlightJustMenu&&h(te,me)})}),Kt(m2,(te,de)=>{e.onHighlightItem(te,de.event.menuComp,de.event.itemComp)}),Kt(g2,(te,de)=>{e.onDehighlightItem(te,de.event.menuComp,de.event.itemComp)}),...e.navigateOnHover?[Kt(V3(),(te,de)=>{const me=de.event.item;((xe,Ke)=>{const wt=m(Ke);l.refresh(wt).bind(eo=>(M(xe,eo),z(xe,l,eo)))})(te,me),U(te,me,L.HighlightParent),e.onHover(te,me)})]:[]]),pe=te=>ba.getHighlighted(te).bind(ba.getHighlighted),oe={collapseMenu:te=>{pe(te).each(de=>{Z(te,de)})},highlightPrimary:te=>{l.getPrimary().each(de=>{x(te,de)})},repositionMenus:te=>{l.getPrimary().bind(me=>pe(te).bind(xe=>{const Ke=m(xe),wt=Yn(l.getMenus()),eo=Vr(F(wt,W3));return l.getTriggeringPath(Ke,qt=>((Jt,ko,en)=>We(ko,En=>{if(!En.getSystem().isConnected())return D.none();const Fn=ba.getCandidates(En);return yo(Fn,ir=>m(ir)===en)}))(0,eo,qt))}).map(xe=>({primary:me,triggeringPath:xe}))).fold(()=>{(me=>D.from(me.components()[0]).filter(xe=>ia(xe.element,"role")==="menu"))(te).each(me=>{e.onRepositionMenu(te,me,[])})},({primary:me,triggeringPath:xe})=>{e.onRepositionMenu(te,me,xe)})}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Bo(e.tmenuBehaviours,[Mn.config({mode:"special",onRight:re((te,de)=>Eh(de.element)?D.none():U(te,de,L.HighlightSubmenu)),onLeft:re((te,de)=>Eh(de.element)?D.none():Z(te,de)),onEscape:re((te,de)=>Z(te,de).orThunk(()=>e.onEscape(te,de).map(()=>te))),focusIn:(te,de)=>{l.getPrimary().each(me=>{hc(te,me.element,Fc())})}}),ba.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),qr.config({find:te=>ba.getHighlighted(te)}),rr.config({})]),eventOrder:e.eventOrder,apis:oe,events:se}},extraApis:{tieredData:(e,r,s)=>({primary:e,menus:r,expansions:s}),singleData:(e,r)=>({primary:e,menus:as(e,r),expansions:{}}),collapseItem:e=>({value:cn(w5()),meta:{text:e}})}}),fs=Hd({name:"InlineView",configFields:[oo("lazySink"),Hr("onShow"),Hr("onHide"),pc("onEscape"),fo("inlineBehaviours",[Sr,Ge,Gl]),js("fireDismissalEventInstead",[St("event",Td())]),js("fireRepositionEventInstead",[St("event",wb())]),St("getRelated",D.none),St("isExtraPart",Uo),St("eventOrder",D.none)],factory:(e,r)=>{const s=(h,x,w,S)=>{const M=e.lazySink(h).getOrDie();Sr.openWhileCloaked(h,x,()=>fl.positionWithinBounds(M,h,w,S())),Ge.setValue(h,D.some({mode:"position",config:w,getBounds:S}))},l=(h,x,w,S)=>{const M=((z,L,U,Z,re)=>{const se=()=>z.lazySink(L),pe=Z.type==="horizontal"?{layouts:{onLtr:()=>ah(),onRtl:()=>M0()}}:{},oe=te=>(de=>de.length===2)(te)?pe:{};return af.sketch({dom:{tag:"div"},data:Z.data,markers:Z.menu.markers,highlightOnOpen:Z.menu.highlightOnOpen,fakeFocus:Z.menu.fakeFocus,onEscape:()=>(Sr.close(L),z.onEscape.map(te=>te(L)),D.some(!0)),onExecute:()=>D.some(!0),onOpenMenu:(te,de)=>{fl.positionWithinBounds(se().getOrDie(),de,U,re())},onOpenSubmenu:(te,de,me,xe)=>{const Ke=se().getOrDie();fl.position(Ke,me,{anchor:{type:"submenu",item:de,...oe(xe)}})},onRepositionMenu:(te,de,me)=>{const xe=se().getOrDie();fl.positionWithinBounds(xe,de,U,re()),Ot(me,Ke=>{const wt=oe(Ke.triggeringPath);fl.position(xe,Ke.triggeredMenu,{anchor:{type:"submenu",item:Ke.triggeringItem,...wt}})})}})})(e,h,x,w,S);Sr.open(h,M),Ge.setValue(h,D.some({mode:"menu",menu:M}))},m=h=>{Sr.isOpen(h)&&Ge.getValue(h).each(x=>{switch(x.mode){case"menu":Sr.getState(h).each(af.repositionMenus);break;case"position":const w=e.lazySink(h).getOrDie();fl.positionWithinBounds(w,h,x.config,x.getBounds())}})},g={setContent:(h,x)=>{Sr.setContent(h,x)},showAt:(h,x,w)=>{const S=D.none;s(h,x,w,S)},showWithinBounds:s,showMenuAt:(h,x,w)=>{l(h,x,w,D.none)},showMenuWithinBounds:l,hide:h=>{Sr.isOpen(h)&&(Ge.setValue(h,D.none()),Sr.close(h))},getContent:h=>Sr.getState(h),reposition:m,isOpen:Sr.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Bo(e.inlineBehaviours,[Sr.config({isPartOf:(h,x,w)=>ym(x,w)||((S,M)=>e.getRelated(S).exists(z=>ym(z,M)))(h,w),getAttachPoint:h=>e.lazySink(h).getOrDie(),onOpen:h=>{e.onShow(h)},onClose:h=>{e.onHide(h)}}),Ge.config({store:{mode:"memory",initialValue:D.none()}}),Gl.config({channels:{...I({isExtraPart:r.isExtraPart,...e.fireDismissalEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({})}),...q({...e.fireRepositionEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({}),doReposition:m})}})]),eventOrder:e.eventOrder,apis:g}},apis:{showAt:(e,r,s,l)=>{e.showAt(r,s,l)},showWithinBounds:(e,r,s,l,m)=>{e.showWithinBounds(r,s,l,m)},showMenuAt:(e,r,s,l)=>{e.showMenuAt(r,s,l)},showMenuWithinBounds:(e,r,s,l,m)=>{e.showMenuWithinBounds(r,s,l,m)},hide:(e,r)=>{e.hide(r)},isOpen:(e,r)=>e.isOpen(r),getContent:(e,r)=>e.getContent(r),setContent:(e,r,s)=>{e.setContent(r,s)},reposition:(e,r)=>{e.reposition(r)}}});var md,Mh,Wx=tinymce.util.Tools.resolve("tinymce.util.Delay"),Dh=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),G3=tinymce.util.Tools.resolve("tinymce.EditorManager"),uy=tinymce.util.Tools.resolve("tinymce.Env");(function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"})(md||(md={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(Mh||(Mh={}));const Va=e=>r=>r.options.get(e),b1=e=>r=>D.from(e(r)),sf=e=>{const r=uy.deviceType.isPhone(),s=uy.deviceType.isTablet()||r,l=e.options.register,m=h=>mo(h)||h===!1,g=h=>mo(h)||ho(h);l("skin",{processor:h=>mo(h)||h===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:g,default:Math.max(e.getElement().offsetHeight,400)}),l("width",{processor:g,default:Dh.DOM.getStyle(e.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:h=>mo(h)||Go(h),default:!r}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:h=>Go(h)||mo(h)||Co(h)?{value:h,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),So(9,h=>{l("toolbar"+(h+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:s?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:Mh.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:e.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:m,default:"#top"}),l("anchor_bottom",{processor:m,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:h=>h==="both"||Go(h),default:!uy.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},K3=Va("readonly"),rp=Va("height"),Gx=Va("width"),ug=b1(Va("min_width")),gd=b1(Va("min_height")),y1=b1(Va("max_width")),Kx=b1(Va("max_height")),p2=b1(Va("style_formats")),v1=Va("style_formats_merge"),f2=Va("style_formats_autohide"),Y3=Va("content_langs"),x1=Va("removed_menuitems"),lf=Va("toolbar_mode"),h2=Va("toolbar_groups"),Yx=Va("toolbar_location"),X3=Va("fixed_toolbar_container"),b2=Va("fixed_toolbar_container_target"),y2=Va("toolbar_persist"),Xx=Va("toolbar_sticky_offset"),my=Va("menubar"),Rh=Va("toolbar"),v2=Va("file_picker_callback"),x2=Va("file_picker_validator_handler"),Jx=Va("font_size_input_default_unit"),w2=Va("file_picker_types"),k2=Va("typeahead_urls"),Qx=Va("anchor_top"),_2=Va("anchor_bottom"),J3=Va("draggable_modal"),C2=Va("statusbar"),ew=Va("elementpath"),tw=Va("branding"),S2=Va("resize"),Q3=Va("paste_as_text"),ow=Va("sidebar_show"),eE=Va("promotion"),E2=Va("help_accessibility"),nw=Va("default_font_stack"),gy=e=>e.options.get("skin")===!1,w1=e=>e.options.get("menubar")!==!1,z2=e=>{const r=e.options.get("skin_url");if(gy(e))return r;if(r)return e.documentBaseURI.toAbsolute(r);{const s=e.options.get("skin");return G3.baseURL+"/skins/ui/"+s}},py=e=>D.from(e.options.get("skin_url")),cf=e=>e.options.get("line_height_formats").split(" "),rw=e=>{const r=Rh(e),s=mo(r),l=Co(r)&&r.length>0;return!Bh(e)&&(l||s||r===!0)},T2=e=>{const r=So(9,l=>e.options.get("toolbar"+(l+1))),s=ro(r,mo);return Nr(s.length>0,s)},Bh=e=>T2(e).fold(()=>{const r=Rh(e);return uo(r,mo)&&r.length>0},Rt),aw=e=>Yx(e)===Mh.bottom,A2=e=>{var r;if(!e.inline)return D.none();const s=(r=X3(e))!==null&&r!==void 0?r:"";if(s.length>0)return ws(os(),s);const l=b2(e);return Ve(l)?D.some(pt(l)):D.none()},Fh=e=>e.inline&&A2(e).isSome(),sw=e=>A2(e).getOrThunk(()=>Cr(ea(pt(e.getElement())))),k1=e=>e.inline&&!w1(e)&&!rw(e)&&!Bh(e),Lh=e=>(e.options.get("toolbar_sticky")||e.inline)&&!Fh(e)&&!k1(e),Yu=e=>!Fh(e)&&e.options.get("ui_mode")==="split",tE=e=>{const r=e.options.get("menu");return tt(r,s=>({...s,items:s.items}))};var O2=Object.freeze({__proto__:null,get ToolbarMode(){return md},get ToolbarLocation(){return Mh},register:sf,getSkinUrl:z2,getSkinUrlOption:py,isReadOnly:K3,isSkinDisabled:gy,getHeightOption:rp,getWidthOption:Gx,getMinWidthOption:ug,getMinHeightOption:gd,getMaxWidthOption:y1,getMaxHeightOption:Kx,getUserStyleFormats:p2,shouldMergeStyleFormats:v1,shouldAutoHideStyleFormats:f2,getLineHeightFormats:cf,getContentLanguages:Y3,getRemovedMenuItems:x1,isMenubarEnabled:w1,isMultipleToolbars:Bh,isToolbarEnabled:rw,isToolbarPersist:y2,getMultipleToolbarsOption:T2,getUiContainer:sw,useFixedContainer:Fh,isSplitUiMode:Yu,getToolbarMode:lf,isDraggableModal:J3,isDistractionFree:k1,isStickyToolbar:Lh,getStickyToolbarOffset:Xx,getToolbarLocation:Yx,isToolbarLocationBottom:aw,getToolbarGroups:h2,getMenus:tE,getMenubar:my,getToolbar:Rh,getFilePickerCallback:v2,getFilePickerTypes:w2,useTypeaheadUrls:k2,getAnchorTop:Qx,getAnchorBottom:_2,getFilePickerValidatorHandler:x2,getFontSizeInputDefaultUnit:Jx,useStatusBar:C2,useElementPath:ew,promotionEnabled:eE,useBranding:tw,getResize:S2,getPasteAsText:Q3,getSidebarShow:ow,useHelpAccessibility:E2,getDefaultFontStack:nw});const N2=["visible","hidden","clip"],iw=e=>cs(e).length>0&&!ct(N2,e),lw=e=>{if(Te(e)){const r=Ua(e,"overflow-x"),s=Ua(e,"overflow-y");return iw(r)||iw(s)}return!1},df=(e,r)=>Yu(e)?((s,l)=>{const m=V0(l,lw),g=m.length===0?Pr(l).map(Un).map(h=>V0(h,lw)).getOr([]):m;return De(g).map(h=>({element:h,others:g.slice(1),isFullscreen:()=>(x=>x.plugins.fullscreen&&x.plugins.fullscreen.isFullscreen())(s)}))})(e,r):D.none(),Ih=e=>{const r=[...F(e.others,ds),rs()];return e.isFullscreen()?rs():((s,l)=>ao(l,(m,g)=>Bl(m,g),s))(ds(e.element),r)},ol=Hd({name:"Button",factory:e=>{const r=h1(e.action),s=e.dom.tag,l=m=>zt(e.dom,"attributes").bind(g=>zt(g,m));return{uid:e.uid,dom:e.dom,components:e.components,events:r,behaviours:Vn(e.buttonBehaviours,[Jn.config({}),Mn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:s==="button"?{type:l("type").getOr("button"),...l("role").map(m=>({role:m})).getOr({})}:{role:e.role.getOr(l("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[St("uid",void 0),oo("dom"),St("components",[]),On("buttonBehaviours",[Jn,Mn]),Lr("action"),Lr("role"),St("eventOrder",{})]}),mg=e=>{const r=za(e),s=Nn(r),l=(h=>{const x=h.dom.attributes!==void 0?h.dom.attributes:[];return ao(x,(w,S)=>S.name==="class"?w:{...w,[S.name]:S.value},{})})(r),m=(h=>Array.prototype.slice.call(h.dom.classList,0))(r),g=s.length===0?{}:{innerHtml:Li(r)};return{tag:ga(r),classes:m,attributes:l,...g}},ya=e=>{const r=(s=>s.uid!==void 0)(e)&&Kn(e,"uid")?e.uid:Vu("memento");return{get:s=>s.getSystem().getByUid(r).getOrDie(),getOpt:s=>s.getSystem().getByUid(r).toOptional(),asSpec:()=>({...e,uid:r})}};var k5=Object.freeze({__proto__:null,exhibit:(e,r)=>rc({attributes:Di([{key:r.tabAttr,value:"true"}])})}),M2=[St("tabAttr","data-alloy-tabstop")];const hs=Ar({fields:M2,name:"tabstopping",active:k5}),_1=cn("tooltip.exclusive"),Ph=cn("tooltip.show"),fy=cn("tooltip.hide"),Hh=cn("tooltip.immediateHide"),jh=cn("tooltip.immediateShow"),D2=(e,r,s)=>{e.getSystem().broadcastOn([_1],{})};var R2=Object.freeze({__proto__:null,hideAllExclusive:D2,immediateOpenClose:(e,r,s,l)=>Rr(e,l?jh:Hh),isEnabled:(e,r,s)=>s.isEnabled(),setComponents:(e,r,s,l)=>{s.getTooltip().each(m=>{m.getSystem().isConnected()&&rr.set(m,l)})},setEnabled:(e,r,s,l)=>s.setEnabled(l)}),cw=Object.freeze({__proto__:null,events:(e,r)=>{const s=g=>{r.getTooltip().each(h=>{h.getSystem().isConnected()&&(Pl(h),e.onHide(g,h),r.clearTooltip())}),r.clearTimer()},l=g=>{if(!r.isShowing()&&r.isEnabled()){D2(g);const h=e.lazySink(g).getOrDie(),x=g.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Ta(e.mode==="normal"?[Kt(Zn(),w=>{Rr(g,Ph)}),Kt(In(),w=>{Rr(g,fy)})]:[]),behaviours:zo([rr.config({})])});r.setTooltip(x),Vc(h,x),e.onShow(g,x),fl.position(h,x,{anchor:e.anchor(g)})}},m=g=>{r.getTooltip().each(h=>{const x=e.lazySink(g).getOrDie();fl.position(x,h,{anchor:e.anchor(g)})})};return Ta(_e([[iu(g=>{e.onSetup(g)}),Kt(Ph,g=>{r.resetTimer(()=>{l(g)},e.delayForShow())}),Kt(fy,g=>{r.resetTimer(()=>{s(g)},e.delayForHide())}),Kt(jh,g=>{r.resetTimer(()=>{l(g)},0)}),Kt(Hh,g=>{r.resetTimer(()=>{s(g)},0)}),Kt(nd(),(g,h)=>{const x=h;x.universal||ct(x.channels,_1)&&s(g)}),nc(g=>{s(g)})],(()=>{switch(e.mode){case"normal":return[Kt(kn(),g=>{Rr(g,jh)}),Kt(dm(),g=>{Rr(g,Hh)}),Kt(Zn(),g=>{Rr(g,Ph)}),Kt(In(),g=>{Rr(g,fy)})];case"follow-highlight":return[Kt(gm(),(g,h)=>{Rr(g,Ph)}),Kt(pm(),g=>{Rr(g,fy)})];case"children-normal":return[Kt(kn(),(g,h)=>{zl(g.element).each(x=>{Ln(h.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Rr(g,jh)},w=>{r.isShowing()&&(e.onShow(g,w),m(g))})})}),Kt(dm(),g=>{zl(g.element).fold(()=>{Rr(g,Hh)},Ae)}),Kt(Zn(),g=>{ws(g.element,"[data-mce-tooltip]:hover").each(h=>{r.getTooltip().fold(()=>{Rr(g,Ph)},x=>{r.isShowing()&&(e.onShow(g,x),m(g))})})}),Kt(In(),g=>{ws(g.element,"[data-mce-tooltip]:hover").fold(()=>{Rr(g,fy)},Ae)})];default:return[Kt(kn(),(g,h)=>{zl(g.element).each(x=>{Ln(h.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Rr(g,jh)},w=>{r.isShowing()&&(e.onShow(g,w),m(g))})})}),Kt(dm(),g=>{zl(g.element).fold(()=>{Rr(g,Hh)},Ae)})]}})()]))}}),oE=[oo("lazySink"),oo("tooltipDom"),St("exclusive",!0),St("tooltipComponents",[]),ps("delayForShow",ue(300)),ps("delayForHide",ue(300)),ps("onSetup",Ae),ll("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),St("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:ue([ei,ji,pi,ml,fi,Hi]),onRtl:ue([ei,ji,pi,ml,fi,Hi])},bubble:pl(0,-2,{})})),Hr("onHide"),Hr("onShow")],gg=Object.freeze({__proto__:null,init:()=>{const e=yn(!0),r=Tr(),s=Tr(),l=()=>{r.on(clearTimeout)},m=ue("not-implemented");return Ci({getTooltip:s.get,isShowing:s.isSet,setTooltip:s.set,clearTooltip:s.clear,clearTimer:l,resetTimer:(g,h)=>{l(),r.set(setTimeout(g,h))},readState:m,isEnabled:()=>e.get(),setEnabled:g=>e.set(g)})}});const Bs=Ar({fields:oE,name:"tooltipping",active:cw,state:gg,apis:R2}),{entries:hy,setPrototypeOf:B2,isFrozen:F2,getPrototypeOf:L2,getOwnPropertyDescriptor:I2}=Object;/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */let{freeze:$c,seal:yu,create:P2}=Object,{apply:dw,construct:H2}=typeof Reflect<"u"&&Reflect;$c||($c=function(e){return e}),yu||(yu=function(e){return e}),dw||(dw=function(e,r,s){return e.apply(r,s)}),H2||(H2=function(e,r){return new e(...r)});const C1=jd(Array.prototype.forEach),j2=jd(Array.prototype.pop),by=jd(Array.prototype.push),uf=jd(String.prototype.toLowerCase),uw=jd(String.prototype.toString),V2=jd(String.prototype.match),yy=jd(String.prototype.replace),nE=jd(String.prototype.indexOf),rE=jd(String.prototype.trim),Xu=jd(Object.prototype.hasOwnProperty),Uc=jd(RegExp.prototype.test),Vh=(mw=TypeError,function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return H2(mw,r)});var mw;function jd(e){return function(r){for(var s=arguments.length,l=new Array(s>1?s-1:0),m=1;m<s;m++)l[m-1]=arguments[m];return dw(e,r,l)}}function Wa(e,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uf;B2&&B2(e,null);let l=r.length;for(;l--;){let m=r[l];if(typeof m=="string"){const g=s(m);g!==m&&(F2(r)||(r[l]=g),m=g)}e[m]=!0}return e}function aE(e){for(let r=0;r<e.length;r++)Xu(e,r)||(e[r]=null);return e}function ap(e){const r=P2(null);for(const[s,l]of hy(e))Xu(e,s)&&(Array.isArray(l)?r[s]=aE(l):l&&typeof l=="object"&&l.constructor===Object?r[s]=ap(l):r[s]=l);return r}function vy(e,r){for(;e!==null;){const s=I2(e,r);if(s){if(s.get)return jd(s.get);if(typeof s.value=="function")return jd(s.value)}e=L2(e)}return function(){return null}}const $2=$c(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),sp=$c(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U2=$c(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Z2=$c(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xy=$c(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),sE=$c(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q2=$c(["#text"]),W2=$c(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),S1=$c(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G2=$c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),E1=$c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),iE=yu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),lE=yu(/<%[\w\W]*|[\w\W]*%>/gm),cE=yu(/\${[\w\W]*}/gm),dE=yu(/^data-[\-\w.\u00B7-\uFFFF]/),_5=yu(/^aria-[\-\w]+$/),K2=yu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),z1=yu(/^(?:\w+script|data):/i),uE=yu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),T1=yu(/^html$/i),mE=yu(/^[a-z][.\w]*(-[.\w]+)+$/i);var gE=Object.freeze({__proto__:null,MUSTACHE_EXPR:iE,ERB_EXPR:lE,TMPLIT_EXPR:cE,DATA_ATTR:dE,ARIA_ATTR:_5,IS_ALLOWED_URI:K2,IS_SCRIPT_OR_DATA:z1,ATTR_WHITESPACE:uE,DOCTYPE_NAME:T1,CUSTOM_ELEMENT:mE});const pE=function(){return typeof window>"u"?null:window};var fE=function e(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pE();const s=Tt=>e(Tt);if(s.version="3.1.7",s.removed=[],!r||!r.document||r.document.nodeType!==9)return s.isSupported=!1,s;let{document:l}=r;const m=l,g=m.currentScript,{DocumentFragment:h,HTMLTemplateElement:x,Node:w,Element:S,NodeFilter:M,NamedNodeMap:z=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:L,DOMParser:U,trustedTypes:Z}=r,re=S.prototype,se=vy(re,"cloneNode"),pe=vy(re,"remove"),oe=vy(re,"nextSibling"),te=vy(re,"childNodes"),de=vy(re,"parentNode");if(typeof x=="function"){const Tt=l.createElement("template");Tt.content&&Tt.content.ownerDocument&&(l=Tt.content.ownerDocument)}let me,xe="";const{implementation:Ke,createNodeIterator:wt,createDocumentFragment:eo,getElementsByTagName:qt}=l,{importNode:Jt}=m;let ko={};s.isSupported=typeof hy=="function"&&typeof de=="function"&&Ke&&Ke.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:en,ERB_EXPR:En,TMPLIT_EXPR:Fn,DATA_ATTR:ir,ARIA_ATTR:jr,IS_SCRIPT_OR_DATA:zs,ATTR_WHITESPACE:Ts,CUSTOM_ELEMENT:xa}=gE;let{IS_ALLOWED_URI:Jr}=gE,jn=null;const Ja=Wa({},[...$2,...sp,...U2,...xy,...q2]);let Ba=null;const ec=Wa({},[...W2,...S1,...G2,...E1]);let Qa=Object.seal(P2(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),qi=null,rl=null,m0=!0,Uv=!0,WA=!1,GA=!0,g0=!1,p0=!0,If=!1,u_=!1,m_=!1,pb=!1,g_=!1,p_=!1,r3=!0,a3=!1,f_=!0,f0=!1,fb={},aa=null;const h0=Wa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let kp=null;const oN=Wa({},["audio","video","img","source","image","track"]);let e6=null;const nN=Wa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),KA="http://www.w3.org/1998/Math/MathML",YA="http://www.w3.org/2000/svg",hb="http://www.w3.org/1999/xhtml";let h_=hb,t6=!1,o6=null;const T7=Wa({},[KA,YA,hb],uw);let s3=null;const A7=["application/xhtml+xml","text/html"];let Kc=null,b_=null;const O7=l.createElement("form"),rN=function(Tt){return Tt instanceof RegExp||Tt instanceof Function},n6=function(){let Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!b_||b_!==Tt){if(Tt&&typeof Tt=="object"||(Tt={}),Tt=ap(Tt),s3=A7.indexOf(Tt.PARSER_MEDIA_TYPE)===-1?"text/html":Tt.PARSER_MEDIA_TYPE,Kc=s3==="application/xhtml+xml"?uw:uf,jn=Xu(Tt,"ALLOWED_TAGS")?Wa({},Tt.ALLOWED_TAGS,Kc):Ja,Ba=Xu(Tt,"ALLOWED_ATTR")?Wa({},Tt.ALLOWED_ATTR,Kc):ec,o6=Xu(Tt,"ALLOWED_NAMESPACES")?Wa({},Tt.ALLOWED_NAMESPACES,uw):T7,e6=Xu(Tt,"ADD_URI_SAFE_ATTR")?Wa(ap(nN),Tt.ADD_URI_SAFE_ATTR,Kc):nN,kp=Xu(Tt,"ADD_DATA_URI_TAGS")?Wa(ap(oN),Tt.ADD_DATA_URI_TAGS,Kc):oN,aa=Xu(Tt,"FORBID_CONTENTS")?Wa({},Tt.FORBID_CONTENTS,Kc):h0,qi=Xu(Tt,"FORBID_TAGS")?Wa({},Tt.FORBID_TAGS,Kc):{},rl=Xu(Tt,"FORBID_ATTR")?Wa({},Tt.FORBID_ATTR,Kc):{},fb=!!Xu(Tt,"USE_PROFILES")&&Tt.USE_PROFILES,m0=Tt.ALLOW_ARIA_ATTR!==!1,Uv=Tt.ALLOW_DATA_ATTR!==!1,WA=Tt.ALLOW_UNKNOWN_PROTOCOLS||!1,GA=Tt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,g0=Tt.SAFE_FOR_TEMPLATES||!1,p0=Tt.SAFE_FOR_XML!==!1,If=Tt.WHOLE_DOCUMENT||!1,pb=Tt.RETURN_DOM||!1,g_=Tt.RETURN_DOM_FRAGMENT||!1,p_=Tt.RETURN_TRUSTED_TYPE||!1,m_=Tt.FORCE_BODY||!1,r3=Tt.SANITIZE_DOM!==!1,a3=Tt.SANITIZE_NAMED_PROPS||!1,f_=Tt.KEEP_CONTENT!==!1,f0=Tt.IN_PLACE||!1,Jr=Tt.ALLOWED_URI_REGEXP||K2,h_=Tt.NAMESPACE||hb,Qa=Tt.CUSTOM_ELEMENT_HANDLING||{},Tt.CUSTOM_ELEMENT_HANDLING&&rN(Tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Qa.tagNameCheck=Tt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Tt.CUSTOM_ELEMENT_HANDLING&&rN(Tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Qa.attributeNameCheck=Tt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Tt.CUSTOM_ELEMENT_HANDLING&&typeof Tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Qa.allowCustomizedBuiltInElements=Tt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),g0&&(Uv=!1),g_&&(pb=!0),fb&&(jn=Wa({},q2),Ba=[],fb.html===!0&&(Wa(jn,$2),Wa(Ba,W2)),fb.svg===!0&&(Wa(jn,sp),Wa(Ba,S1),Wa(Ba,E1)),fb.svgFilters===!0&&(Wa(jn,U2),Wa(Ba,S1),Wa(Ba,E1)),fb.mathMl===!0&&(Wa(jn,xy),Wa(Ba,G2),Wa(Ba,E1))),Tt.ADD_TAGS&&(jn===Ja&&(jn=ap(jn)),Wa(jn,Tt.ADD_TAGS,Kc)),Tt.ADD_ATTR&&(Ba===ec&&(Ba=ap(Ba)),Wa(Ba,Tt.ADD_ATTR,Kc)),Tt.ADD_URI_SAFE_ATTR&&Wa(e6,Tt.ADD_URI_SAFE_ATTR,Kc),Tt.FORBID_CONTENTS&&(aa===h0&&(aa=ap(aa)),Wa(aa,Tt.FORBID_CONTENTS,Kc)),f_&&(jn["#text"]=!0),If&&Wa(jn,["html","head","body"]),jn.table&&(Wa(jn,["tbody"]),delete qi.tbody),Tt.TRUSTED_TYPES_POLICY){if(typeof Tt.TRUSTED_TYPES_POLICY.createHTML!="function")throw Vh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Tt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Vh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');me=Tt.TRUSTED_TYPES_POLICY,xe=me.createHTML("")}else me===void 0&&(me=function(Br,lr){if(typeof Br!="object"||typeof Br.createPolicy!="function")return null;let As=null;const oi="data-tt-policy-suffix";lr&&lr.hasAttribute(oi)&&(As=lr.getAttribute(oi));const is="dompurify"+(As?"#"+As:"");try{return Br.createPolicy(is,{createHTML:Tc=>Tc,createScriptURL:Tc=>Tc})}catch{return console.warn("TrustedTypes policy "+is+" could not be created."),null}}(Z,g)),me!==null&&typeof xe=="string"&&(xe=me.createHTML(""));$c&&$c(Tt),b_=Tt}},aN=Wa({},["mi","mo","mn","ms","mtext"]),sN=Wa({},["annotation-xml"]),N7=Wa({},["title","style","font","a","script"]),iN=Wa({},[...sp,...U2,...Z2]),lN=Wa({},[...xy,...sE]),Pf=function(Tt){by(s.removed,{element:Tt});try{de(Tt).removeChild(Tt)}catch{pe(Tt)}},i3=function(Tt,Br){try{by(s.removed,{attribute:Br.getAttributeNode(Tt),from:Br})}catch{by(s.removed,{attribute:null,from:Br})}if(Br.removeAttribute(Tt),Tt==="is"&&!Ba[Tt])if(pb||g_)try{Pf(Br)}catch{}else try{Br.setAttribute(Tt,"")}catch{}},cN=function(Tt){let Br=null,lr=null;if(m_)Tt="<remove></remove>"+Tt;else{const is=V2(Tt,/^[\r\n\t ]+/);lr=is&&is[0]}s3==="application/xhtml+xml"&&h_===hb&&(Tt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Tt+"</body></html>");const As=me?me.createHTML(Tt):Tt;if(h_===hb)try{Br=new U().parseFromString(As,s3)}catch{}if(!Br||!Br.documentElement){Br=Ke.createDocument(h_,"template",null);try{Br.documentElement.innerHTML=t6?xe:As}catch{}}const oi=Br.body||Br.documentElement;return Tt&&lr&&oi.insertBefore(l.createTextNode(lr),oi.childNodes[0]||null),h_===hb?qt.call(Br,If?"html":"body")[0]:If?Br.documentElement:oi},dN=function(Tt){return wt.call(Tt.ownerDocument||Tt,Tt,M.SHOW_ELEMENT|M.SHOW_COMMENT|M.SHOW_TEXT|M.SHOW_PROCESSING_INSTRUCTION|M.SHOW_CDATA_SECTION,null)},uN=function(Tt){return Tt instanceof L&&(typeof Tt.nodeName!="string"||typeof Tt.textContent!="string"||typeof Tt.removeChild!="function"||!(Tt.attributes instanceof z)||typeof Tt.removeAttribute!="function"||typeof Tt.setAttribute!="function"||typeof Tt.namespaceURI!="string"||typeof Tt.insertBefore!="function"||typeof Tt.hasChildNodes!="function")},mN=function(Tt){return typeof w=="function"&&Tt instanceof w},bb=function(Tt,Br,lr){ko[Tt]&&C1(ko[Tt],As=>{As.call(s,Br,lr,b_)})},gN=function(Tt){let Br=null;if(bb("beforeSanitizeElements",Tt,null),uN(Tt))return Pf(Tt),!0;const lr=Kc(Tt.nodeName);if(bb("uponSanitizeElement",Tt,{tagName:lr,allowedTags:jn}),Tt.hasChildNodes()&&!mN(Tt.firstElementChild)&&Uc(/<[/\w]/g,Tt.innerHTML)&&Uc(/<[/\w]/g,Tt.textContent)||Tt.nodeType===7||p0&&Tt.nodeType===8&&Uc(/<[/\w]/g,Tt.data))return Pf(Tt),!0;if(!jn[lr]||qi[lr]){if(!qi[lr]&&fN(lr)&&(Qa.tagNameCheck instanceof RegExp&&Uc(Qa.tagNameCheck,lr)||Qa.tagNameCheck instanceof Function&&Qa.tagNameCheck(lr)))return!1;if(f_&&!aa[lr]){const As=de(Tt)||Tt.parentNode,oi=te(Tt)||Tt.childNodes;if(oi&&As)for(let is=oi.length-1;is>=0;--is){const Tc=se(oi[is],!0);Tc.__removalCount=(Tt.__removalCount||0)+1,As.insertBefore(Tc,oe(Tt))}}return Pf(Tt),!0}return Tt instanceof S&&!function(As){let oi=de(As);oi&&oi.tagName||(oi={namespaceURI:h_,tagName:"template"});const is=uf(As.tagName),Tc=uf(oi.tagName);return!!o6[As.namespaceURI]&&(As.namespaceURI===YA?oi.namespaceURI===hb?is==="svg":oi.namespaceURI===KA?is==="svg"&&(Tc==="annotation-xml"||aN[Tc]):!!iN[is]:As.namespaceURI===KA?oi.namespaceURI===hb?is==="math":oi.namespaceURI===YA?is==="math"&&sN[Tc]:!!lN[is]:As.namespaceURI===hb?!(oi.namespaceURI===YA&&!sN[Tc])&&!(oi.namespaceURI===KA&&!aN[Tc])&&!lN[is]&&(N7[is]||!iN[is]):!(s3!=="application/xhtml+xml"||!o6[As.namespaceURI]))}(Tt)?(Pf(Tt),!0):lr!=="noscript"&&lr!=="noembed"&&lr!=="noframes"||!Uc(/<\/no(script|embed|frames)/i,Tt.innerHTML)?(g0&&Tt.nodeType===3&&(Br=Tt.textContent,C1([en,En,Fn],As=>{Br=yy(Br,As," ")}),Tt.textContent!==Br&&(by(s.removed,{element:Tt.cloneNode()}),Tt.textContent=Br)),bb("afterSanitizeElements",Tt,null),!1):(Pf(Tt),!0)},pN=function(Tt,Br,lr){if(r3&&(Br==="id"||Br==="name")&&(lr in l||lr in O7))return!1;if(!(Uv&&!rl[Br]&&Uc(ir,Br))){if(!(m0&&Uc(jr,Br))){if(!Ba[Br]||rl[Br]){if(!(fN(Tt)&&(Qa.tagNameCheck instanceof RegExp&&Uc(Qa.tagNameCheck,Tt)||Qa.tagNameCheck instanceof Function&&Qa.tagNameCheck(Tt))&&(Qa.attributeNameCheck instanceof RegExp&&Uc(Qa.attributeNameCheck,Br)||Qa.attributeNameCheck instanceof Function&&Qa.attributeNameCheck(Br))||Br==="is"&&Qa.allowCustomizedBuiltInElements&&(Qa.tagNameCheck instanceof RegExp&&Uc(Qa.tagNameCheck,lr)||Qa.tagNameCheck instanceof Function&&Qa.tagNameCheck(lr))))return!1}else if(!e6[Br]){if(!Uc(Jr,yy(lr,Ts,""))){if((Br!=="src"&&Br!=="xlink:href"&&Br!=="href"||Tt==="script"||nE(lr,"data:")!==0||!kp[Tt])&&!(WA&&!Uc(zs,yy(lr,Ts,"")))){if(lr)return!1}}}}}return!0},fN=function(Tt){return Tt!=="annotation-xml"&&V2(Tt,xa)},hN=function(Tt){bb("beforeSanitizeAttributes",Tt,null);const{attributes:Br}=Tt;if(!Br)return;const lr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ba};let As=Br.length;for(;As--;){const oi=Br[As],{name:is,namespaceURI:Tc,value:yb}=oi,Hf=Kc(is);let yd=is==="value"?yb:rE(yb);const D7=yd;if(lr.attrName=Hf,lr.attrValue=yd,lr.keepAttr=!0,lr.forceKeepAttr=void 0,bb("uponSanitizeAttribute",Tt,lr),yd=lr.attrValue,lr.forceKeepAttr)continue;if(!lr.keepAttr){i3(is,Tt);continue}if(!GA&&Uc(/\/>/i,yd)){i3(is,Tt);continue}g0&&C1([en,En,Fn],yN=>{yd=yy(yd,yN," ")});const bN=Kc(Tt.nodeName);if(pN(bN,Hf,yd))if(!a3||Hf!=="id"&&Hf!=="name"||(i3(is,Tt),yd="user-content-"+yd),p0&&Uc(/((--!?|])>)|<\/(style|title)/i,yd))i3(is,Tt);else{if(me&&typeof Z=="object"&&typeof Z.getAttributeType=="function"&&!Tc)switch(Z.getAttributeType(bN,Hf)){case"TrustedHTML":yd=me.createHTML(yd);break;case"TrustedScriptURL":yd=me.createScriptURL(yd)}if(yd!==D7)try{Tc?Tt.setAttributeNS(Tc,is,yd):Tt.setAttribute(is,yd),uN(Tt)?Pf(Tt):j2(s.removed)}catch{}}else i3(is,Tt)}bb("afterSanitizeAttributes",Tt,null)},M7=function Tt(Br){let lr=null;const As=dN(Br);for(bb("beforeSanitizeShadowDOM",Br,null);lr=As.nextNode();)bb("uponSanitizeShadowNode",lr,null),gN(lr)||(lr.content instanceof h&&Tt(lr.content),hN(lr));bb("afterSanitizeShadowDOM",Br,null)};return s.sanitize=function(Tt){let Br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},lr=null,As=null,oi=null,is=null;if(t6=!Tt,t6&&(Tt="<!-->"),typeof Tt!="string"&&!mN(Tt)){if(typeof Tt.toString!="function")throw Vh("toString is not a function");if(typeof(Tt=Tt.toString())!="string")throw Vh("dirty is not a string, aborting")}if(!s.isSupported)return Tt;if(u_||n6(Br),s.removed=[],typeof Tt=="string"&&(f0=!1),f0){if(Tt.nodeName){const Hf=Kc(Tt.nodeName);if(!jn[Hf]||qi[Hf])throw Vh("root node is forbidden and cannot be sanitized in-place")}}else if(Tt instanceof w)lr=cN("<!---->"),As=lr.ownerDocument.importNode(Tt,!0),As.nodeType===1&&As.nodeName==="BODY"||As.nodeName==="HTML"?lr=As:lr.appendChild(As);else{if(!pb&&!g0&&!If&&Tt.indexOf("<")===-1)return me&&p_?me.createHTML(Tt):Tt;if(lr=cN(Tt),!lr)return pb?null:p_?xe:""}lr&&m_&&Pf(lr.firstChild);const Tc=dN(f0?Tt:lr);for(;oi=Tc.nextNode();)gN(oi)||(oi.content instanceof h&&M7(oi.content),hN(oi));if(f0)return Tt;if(pb){if(g_)for(is=eo.call(lr.ownerDocument);lr.firstChild;)is.appendChild(lr.firstChild);else is=lr;return(Ba.shadowroot||Ba.shadowrootmode)&&(is=Jt.call(m,is,!0)),is}let yb=If?lr.outerHTML:lr.innerHTML;return If&&jn["!doctype"]&&lr.ownerDocument&&lr.ownerDocument.doctype&&lr.ownerDocument.doctype.name&&Uc(T1,lr.ownerDocument.doctype.name)&&(yb="<!DOCTYPE "+lr.ownerDocument.doctype.name+`>
`+yb),g0&&C1([en,En,Fn],Hf=>{yb=yy(yb,Hf," ")}),me&&p_?me.createHTML(yb):yb},s.setConfig=function(){n6(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),u_=!0},s.clearConfig=function(){b_=null,u_=!1},s.isValidAttribute=function(Tt,Br,lr){b_||n6({});const As=Kc(Tt),oi=Kc(Br);return pN(As,oi,lr)},s.addHook=function(Tt,Br){typeof Br=="function"&&(ko[Tt]=ko[Tt]||[],by(ko[Tt],Br))},s.removeHook=function(Tt){if(ko[Tt])return j2(ko[Tt])},s.removeHooks=function(Tt){ko[Tt]&&(ko[Tt]=[])},s.removeAllHooks=function(){ko={}},s}();const Y2=e=>fE().sanitize(e);var Vd=tinymce.util.Tools.resolve("tinymce.util.I18n");const hE={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},X2="temporary-placeholder",gw=e=>()=>zt(e,X2).getOr("!not found!"),pw=(e,r)=>{const s=e.toLowerCase();if(Vd.isRtl()){const l=((m,g)=>Fa(m,g)?m:((h,x)=>h+x)(m,g))(s,"-rtl");return Xo(r,l)?l:s}return s},bE=(e,r)=>zt(r,pw(e,r)),fw=(e,r)=>{const s=r();return bE(e,s).getOrThunk(gw(s))},J2=()=>pr("add-focusable",[Aa(e=>{Dd(e.element,"svg").each(r=>wn(r,"focusable","false"))})]),Q2=(e,r,s,l)=>{var m,g;const h=(w=>!!Vd.isRtl()&&Xo(hE,w))(r)?["tox-icon--flip"]:[],x=zt(s,pw(r,s)).or(l).getOrThunk(gw(s));return{dom:{tag:e.tag,attributes:(m=e.attributes)!==null&&m!==void 0?m:{},classes:e.classes.concat(h),innerHtml:x},behaviours:zo([...(g=e.behaviours)!==null&&g!==void 0?g:[],J2()])}},vu=(e,r,s,l=D.none())=>Q2(r,e,s(),l),yE={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},hw=Hd({name:"Notification",factory:e=>{const r=cn("notification-text"),s=ya({dom:mg(`<p id=${r}>${Y2(e.backstageProvider.translate(e.text))}</p>`),behaviours:zo([rr.config({})])}),l=z=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${z}%`}}}),m=z=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${z}%`}}),g=ya({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},m(0)],behaviours:zo([rr.config({})])}),h={updateProgress:(z,L)=>{z.getSystem().isConnected()&&g.getOpt(z).each(U=>{rr.set(U,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(L)]},m(L)])})},updateText:(z,L)=>{if(z.getSystem().isConnected()){const U=s.get(z);rr.set(U,[qa(L)])}}},x=_e([e.icon.toArray(),e.level.toArray(),e.level.bind(z=>D.from(yE[z])).toArray()]),w=ya(ol.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":e.backstageProvider.translate("Close")}},components:[vu("close",{tag:"span",classes:["tox-icon"]},e.iconProvider)],buttonBehaviours:zo([hs.config({}),Bs.config({...e.backstageProvider.tooltips.getConfig({tooltipText:e.backstageProvider.translate("Close")})})]),action:z=>{e.onAction(z)}})),S=((z,L,U)=>{const Z=U(),re=yo(z,se=>Xo(Z,pw(se,Z)));return Q2({tag:"div",classes:["tox-notification__icon"]},re.getOr(X2),Z,D.none())})(x,0,e.iconProvider),M=[S,{dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:zo([rr.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":r},classes:e.level.map(z=>["tox-notification","tox-notification--in",`tox-notification--${z}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:zo([hs.config({}),Jn.config({}),Mn.config({mode:"special",onEscape:z=>(e.onAction(z),D.some(!0))})]),components:M.concat(e.progress?[g.asSpec()]:[]).concat([w.asSpec()]),apis:h}},configFields:[Lr("level"),oo("progress"),Lr("icon"),oo("onAction"),oo("text"),oo("iconProvider"),oo("backstageProvider")],apis:{updateProgress:(e,r,s)=>{e.updateProgress(r,s)},updateText:(e,r,s)=>{e.updateText(r,s)}}});var vE=(e,r,s,l)=>{const m=r.backstage.shared,g=()=>pt(e.queryCommandValue("ToggleView")===""?e.getContentAreaContainer():e.getContainer()),h=()=>{const w=ds(g());return D.some(w)},x=w=>{h().each(S=>{Ot(w,M=>{qn(M.element,"width"),Xe(M.element)>S.width&&Dn(M.element,"width",S.width+"px")})})};return{open:(w,S,M)=>{const z=()=>{l.on(Z=>{S();const re=M();(se=>{rr.remove(se,L),U()})(Z),((se,pe)=>{Nn(se.element).length===0?((oe,te)=>{fs.hide(oe),l.clear(),te&&e.focus()})(se,pe):((oe,te)=>{te&&Mn.focusIn(oe)})(se,pe)})(Z,re)})},L=Xi(hw.sketch({text:w.text,level:ct(["success","error","warning","warn","info"],w.type)?w.type:void 0,progress:w.progressBar===!0,icon:w.icon,onAction:z,iconProvider:m.providers.icons,backstageProvider:m.providers}));if(l.isSet()){const Z=xc(L);l.on(re=>{rr.append(re,Z),fs.reposition(re),ss.refresh(re),x(re.components())})}else{const Z=Xi(fs.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:m.getSink,fireDismissalEventInstead:{},...m.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:zo([Mn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),rr.config({}),...Lh(e)&&!m.header.isPositionedAtTop()?[]:[ss.config({contextual:{lazyContext:()=>D.some(ds(g())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:oe=>df(e,oe.element).map(te=>({bounds:Ih(te),optScrollEnv:D.some({currentScrollTop:te.element.dom.scrollTop,scrollElmTop:ks(te.element).top})})).getOrThunk(()=>({bounds:rs(),optScrollEnv:D.none()}))})]])})),re=xc(L),se={maxHeightFunction:xm()},pe={...m.anchors.banner(),overrides:se};l.set(Z),s.add(Z),fs.showWithinBounds(Z,re,{anchor:pe},h)}ho(w.timeout)&&w.timeout>0&&Wx.setEditorTimeout(e,()=>{z()},w.timeout);const U=()=>{l.on(Z=>{fs.reposition(Z),ss.refresh(Z),x(Z.components())})};return{close:z,reposition:U,text:Z=>{hw.updateText(L,Z)},settings:w,getEl:()=>L.element.dom,progressBar:{value:Z=>{hw.updateProgress(L,Z)}}}},close:w=>{w.close()},getArgs:w=>w.settings}},eC;(function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(eC||(eC={}));var Tm=eC;const bw="tox-menu-nav__js",wy="tox-collection__item",tC="tox-swatch",xE={normal:bw,color:tC},wE="tox-collection__item--enabled",kE="tox-collection__item-icon",oC="tox-collection__item-label",Zc="tox-collection__item-caret",cc="tox-collection__item--active",nC="tox-collection__item-container",yw="tox-collection__item-container--row",vw=e=>zt(xE,e).getOr(bw),xw=e=>e==="color"?"tox-swatches":"tox-menu",ww=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:xw(e),tieredMenu:"tox-tiered-menu"}),Am=e=>{const r=ww(e);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:vw(e)}},kw=(e,r,s)=>{const l=ww(s);return{tag:"div",classes:_e([[l.menu,`tox-menu-${r}-column`],e?[l.hasIcons]:[]])}},rC=[rf.parts.items({})],A1=(e,r,s)=>{const l=ww(s);return{dom:{tag:"div",classes:_e([[l.tieredMenu]])},markers:Am(s)}},ky=ue([Lr("data"),St("inputAttributes",{}),St("inputStyles",{}),St("tag","input"),St("inputClasses",[]),Hr("onSetValue"),St("styles",{}),St("eventOrder",{}),fo("inputBehaviours",[Ge,Jn]),St("selectOnFocus",!0)]),_E=e=>zo([Jn.config({onFocus:e.selectOnFocus?r=>{const s=r.element,l=pu(s);s.dom.setSelectionRange(0,l.length)}:Ae})]),C5=e=>({..._E(e),...Bo(e.inputBehaviours,[Ge.config({store:{mode:"manual",...e.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>pu(r.element),setValue:(r,s)=>{pu(r.element)!==s&&Wl(r.element,s)}},onSetValue:e.onSetValue})])}),Ju=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),Al=Hd({name:"Input",configFields:ky(),factory:(e,r)=>({uid:e.uid,dom:Ju(e),components:[],behaviours:C5(e),eventOrder:e.eventOrder})}),_y=cn("refetch-trigger-event"),aC=cn("redirect-menu-item-interaction"),$d="tox-menu__searcher",Ra=e=>ws(e.element,`.${$d}`).bind(r=>e.getSystem().getByDom(r).toOptional()),CE=Ra,mf=e=>({fetchPattern:Ge.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),O1=e=>{const r=(m,g)=>(g.cut(),D.none()),s=(m,g)=>{const h={interactionEvent:g.event,eventType:g.event.raw.type};return An(m,aC,h),D.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[wy]},components:[Al.sketch({inputClasses:[$d,"tox-textfield"],inputAttributes:{...e.placeholder.map(m=>({placeholder:e.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:zo([pr(l,[Kt(Ri(),m=>{Rr(m,_y)}),Kt(Za(),(m,g)=>{g.event.raw.key==="Escape"&&g.stop()})]),Mn.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:s,onEscape:s,onUp:s,onDown:s})]),eventOrder:{keydown:[l,Mn.name()]}})]}},N1="tox-collection--results__js",_w=e=>{var r;return e.dom?{...e,dom:{...e.dom,attributes:{...(r=e.dom.attributes)!==null&&r!==void 0?r:{},id:cn("aria-item-search-result-id"),"aria-selected":"false"}}}:e},M1=(e,r)=>s=>{const l=Dt(s,r);return F(l,m=>({dom:e,components:m}))},SE=(e,r)=>{const s=[];let l=[];return Ot(e,(m,g)=>{r(m,g)?(l.length>0&&s.push(l),l=[],(Xo(m.dom,"innerHtml")||m.components&&m.components.length>0)&&l.push(m)):l.push(m)}),l.length>0&&s.push(l),F(s,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},D1=(e,r,s)=>rf.parts.items({preprocess:l=>{const m=F(l,s);return e!=="auto"&&e>1?M1({tag:"div",classes:["tox-collection__group"]},e)(m):SE(m,(g,h)=>r[h].type==="separator")}}),EE=(e,r,s=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[D1(e,r,$e)]}),R1=e=>$t(e,r=>"icon"in r&&r.icon!==void 0),pg=e=>(console.error(bn(e)),console.log(e),D.none()),sC=(e,r,s,l,m)=>{const g=(h=s,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[rf.parts.items({preprocess:x=>SE(x,(w,S)=>h[S].type==="separator")})]});var h;return{value:e,dom:g.dom,components:g.components,items:s}},Cw=(e,r,s,l,m)=>{if(m.menuType==="color"){const g=(h=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[rf.parts.items({preprocess:h!=="auto"?M1({tag:"div",classes:["tox-swatches__row"]},h):$e})]}]}))(l);return{value:e,dom:g.dom,components:g.components,items:s}}if(m.menuType==="normal"&&l==="auto"){const g=EE(l,s);return{value:e,dom:g.dom,components:g.components,items:s}}if(m.menuType==="normal"||m.menuType==="searchable"){const g=m.menuType!=="searchable"?EE(l,s):m.searchMode.searchMode==="search-with-field"?((h,x,w)=>{const S=cn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(h===1?["tox-collection--list"]:["tox-collection--grid"])},components:[O1({i18n:Vd.translate,placeholder:w.placeholder}),{dom:{tag:"div",classes:[...h===1?["tox-collection--list"]:["tox-collection--grid"],N1],attributes:{id:S}},components:[D1(h,x,_w)]}]}})(l,s,m.searchMode):((h,x,w=!0)=>{const S=cn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",N1].concat(h===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:S}},components:[D1(h,x,_w)]}})(l,s);return{value:e,dom:g.dom,components:g.components,items:s}}if(m.menuType==="listpreview"&&l!=="auto"){const g=(h=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[rf.parts.items({preprocess:M1({tag:"div",classes:["tox-collection__group"]},h)})]}))(l);return{value:e,dom:g.dom,components:g.components,items:s}}return{value:e,dom:kw(r,l,m.menuType),components:rC,items:s}},Ks=xs("type"),iC=xs("name"),lC=xs("label"),ip=xs("text"),zE=xs("title"),TE=xs("icon"),Cy=xs("value"),S5=Gi("fetch"),E5=Gi("getSubmenuItems"),$h=Gi("onAction"),z5=Gi("onItemAction"),gf=ps("onSetup",()=>Ae),T5=_a("name"),fg=_a("text"),AE=_a("role"),xu=_a("icon"),B1=_a("tooltip"),cC=_a("label"),dC=_a("shortcut"),OE=pc("select"),pd=mi("active",!1),A5=mi("borderless",!1),Ud=mi("enabled",!0),F1=mi("primary",!1),uC=e=>St("columns",e),Sw=St("meta",{}),Ew=ps("onAction",Ae),pf=e=>gs("type",e),mC=e=>Sa("name","name",Nc(()=>cn(`${e}-name`)),qs),NE=Hn([Ks,fg]),O5=Hn([pf("autocompleteitem"),pd,Ud,Sw,Cy,fg,xu]),Sy=[Ud,B1,xu,fg,gf,gs("context","mode:design")],ME=Hn([Ks,$h,dC].concat(Sy)),gC=e=>Pa("toolbarbutton",ME,e),ff=[pd].concat(Sy),DE=Hn(ff.concat([Ks,$h,dC])),pC=e=>Pa("ToggleButton",DE,e),fC=[ps("predicate",Uo),ll("scope","node",["node","editor"]),ll("position","selection",["node","selection","line"])],RE=Sy.concat([pf("contextformbutton"),F1,$h,ui("original",$e)]),hC=ff.concat([pf("contextformbutton"),F1,$h,ui("original",$e)]),bC=Sy.concat([pf("contextformbutton")]),yC=ff.concat([pf("contextformtogglebutton")]),BE=Hs("type",{contextformbutton:RE,contextformtogglebutton:hC}),N5=Hn([pf("contextform"),ps("initValue",ue("")),cC,wi("commands",BE),fa("launch",Hs("type",{contextformbutton:bC,contextformtogglebutton:yC}))].concat(fC)),FE=Hn([pf("contexttoolbar"),xs("items")].concat(fC)),M5=[Ks,xs("src"),_a("alt"),kl("classes",[],qs)],LE=Hn(M5),IE=[Ks,ip,T5,kl("classes",["tox-collection__item-label"],qs)],PE=Hn(IE),HE=Xc(()=>Qc("type",{cardimage:LE,cardtext:PE,cardcontainer:D5})),D5=Hn([Ks,gs("direction","horizontal"),gs("align","left"),gs("valign","middle"),wi("items",HE)]),Uh=[Ud,fg,AE,dC,Sa("value","value",Nc(()=>cn("menuitem-value")),Ss()),Sw,gs("context","mode:design")],R5=Hn([Ks,cC,wi("items",HE),gf,Ew].concat(Uh)),B5=Hn([Ks,pd,xu].concat(Uh)),L1=[Ks,xs("fancytype"),Ew],jE=[St("initData",{})].concat(L1),VE=[pc("select"),Qs("initData",{},[mi("allowCustomColors",!0),gs("storageKey","default"),Mg("colors",Ss())])].concat(L1),F5=Hs("fancytype",{inserttable:jE,colorswatch:VE}),L5=Hn([Ks,gf,Ew,xu].concat(Uh)),zw=Hn([Ks,E5,gf,xu].concat(Uh)),vC=Hn([Ks,xu,pd,gf,$h].concat(Uh)),I1=(e,r,s)=>{const l=Tl(e.element,"."+s);if(l.length>0){const m=No(l,g=>{const h=g.dom.getBoundingClientRect().top,x=l[0].dom.getBoundingClientRect().top;return Math.abs(h-x)>r}).getOr(l.length);return D.some({numColumns:m,numRows:Math.ceil(l.length/m)})}return D.none()},Ey=e=>((r,s)=>zo([pr(r,s)]))(cn("unnamed-events"),e),Tw=e=>Wn.config({disabled:e,disableClass:"tox-collection__item--state-disabled"}),Zh=e=>Wn.config({disabled:e}),P1=e=>Wn.config({disabled:e,disableClass:"tox-tbtn--disabled"}),H1=e=>Wn.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),j1=(e,r)=>{const s=e.getApi(r);return l=>{l(s)}},_c=(e,r)=>Aa(s=>{j1(e,s)(l=>{const m=e.onSetup(l);ut(m)&&r.set(m)})}),hg=(e,r)=>nc(s=>j1(e,s)(r.get())),Ui="silver.uistate",zy=(e,r)=>{const s=e.mainUi.outerContainer.element,l=[e.mainUi.mothership,...e.uiMotherships];r==="setDisabled"&&Ot(l,m=>{m.broadcastOn([p()],{target:s})}),Ot(l,m=>{m.broadcastOn([Ui],r)})},xC=(e,r)=>{e.on("init SwitchMode",s=>{zy(r,s.type)}),e.on("NodeChange",s=>{e.ui.isEnabled()?zy(r,s.type):zy(r,"setDisabled")}),K3(e)&&e.mode.set("readonly")},li=e=>Gl.config({channels:{[Ui]:{onReceive:(r,s)=>{if(s==="setDisabled"||s==="setEnabled")return void Wn.set(r,s==="setDisabled");const{contextType:l,shouldDisable:m}=e();(l!=="mode"||ct(["switchmode","init"],s))&&Wn.set(r,m)}}}}),$E=(e,r)=>lu((s,l)=>{j1(e,s)(e.onAction),e.triggersSubmenu||r!==Tm.CLOSE_ON_EXECUTE||(s.getSystem().isConnected()&&Rr(s,Hm()),l.stop())}),UE={[_l()]:["disabling","alloy.base.behaviour","toggling","item-events"]},qh=Vr,Ty=(e,r,s,l)=>{const m=yn(Ae);return{type:"item",dom:r.dom,components:qh(r.optComponents),data:e.data,eventOrder:UE,hasSubmenu:e.triggersSubmenu,itemBehaviours:zo([pr("item-events",[$E(e,s),_c(e,m),hg(e,m)]),Tw(()=>!e.enabled||l.checkUiComponentContext(e.context).shouldDisable),li(()=>l.checkUiComponentContext(e.context)),rr.config({})].concat(e.itemBehaviours))}},Ay=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),Aw=e=>{const r=uy.os.isMacOS()||uy.os.isiOS(),s=r?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=e.split("+"),m=F(l,g=>{const h=g.toLowerCase().trim();return Xo(s,h)?s[h]:g});return r?m.join(""):m.join("+")},V1=(e,r,s=[kE])=>vu(e,{tag:"div",classes:s},r),ZE=e=>({dom:{tag:"div",classes:[oC]},components:[qa(Vd.translate(e))]}),qE=(e,r)=>({dom:{tag:"div",classes:r,innerHtml:e}}),I5=(e,r)=>({dom:{tag:"div",classes:[oC]},components:[{dom:{tag:e.tag,styles:e.styles},components:[qa(Vd.translate(r))]}]}),WE=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[qa(Aw(e))]}),wC=e=>V1("checkmark",e,["tox-collection__item-checkmark"]),GE=e=>{const r=e.map(s=>({attributes:{id:cn("menu-item"),"aria-label":Vd.translate(s)}})).getOr({});return{tag:"div",classes:[bw,wy],...r}},$1=(e,r,s,l=D.none())=>e.presets==="color"?((m,g,h)=>{const x=m.value,w=m.iconContent.map(M=>((z,L,U)=>{const Z=L();return bE(z,Z).or(U).getOrThunk(gw(Z))})(M,g.icons,h)),S=m.ariaLabel.map(M=>({"aria-label":g.translate(M),"data-mce-name":M})).getOr({});return{dom:(()=>{const M=tC,z=w.getOr(""),L={tag:"div",attributes:S,classes:[M]};return x==="custom"?{...L,tag:"button",classes:[...L.classes,"tox-swatches__picker-btn"],innerHtml:z}:x==="remove"?{...L,classes:[...L.classes,"tox-swatch--remove"],innerHtml:z}:Ve(x)?{...L,attributes:{...L.attributes,"data-mce-color":x},styles:{"background-color":x},innerHtml:z}:L})(),optComponents:[]}})(e,r,l):((m,g,h,x)=>{const w={tag:"div",classes:[kE]},S=h?m.iconContent.map(U=>vu(U,w,g.icons,x)).orThunk(()=>D.some({dom:w})):D.none(),M=m.checkMark,z=D.from(m.meta).fold(()=>ZE,U=>Xo(U,"style")?mt(I5,U.style):ZE),L=m.htmlContent.fold(()=>m.textContent.map(z),U=>D.some(qE(U,[oC])));return{dom:GE(m.ariaLabel),optComponents:[S,L,m.shortcutContent.map(WE),M,m.caret]}})(e,r,s,l),kC=(e,r,s)=>zt(e,"tooltipWorker").map(l=>[Bs.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:m=>({type:"submenu",item:m,overrides:{maxHeightFunction:xm}}),mode:"follow-highlight",onShow:(m,g)=>{l(h=>{Bs.setComponents(m,[Jm({element:pt(h)})])})}})]).getOrThunk(()=>s.map(l=>[Bs.config({...r.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),KE=(e,r)=>{const s=(l=>Dh.DOM.encode(l))(Vd.translate(e));if(r.length>0){const l=new RegExp((m=>m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(r),"gi");return s.replace(l,m=>`<span class="tox-autocompleter-highlight">${m}</span>`)}return s},YE=(e,r)=>F(e,s=>{switch(s.type){case"cardcontainer":return((g,h)=>{const x=g.direction==="vertical"?"tox-collection__item-container--column":yw,w=g.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[nC,x,w,(()=>{switch(g.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:h}})(s,YE(s.items,r));case"cardimage":return((g,h,x)=>({dom:{tag:"img",classes:h,attributes:{src:g,alt:x.getOr("")}}}))(s.src,s.classes,s.alt);case"cardtext":const l=s.name.exists(g=>ct(r.cardText.highlightOn,g)),m=l?D.from(r.cardText.matchText).getOr(""):"";return qE(KE(s.text,m),s.classes)}}),XE=hx(l2(),qx()),U1=e=>({value:_C(e)}),Z1=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,q1=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Wh=e=>Z1.test(e)||q1.test(e),_C=e=>jo(e,"#").toUpperCase(),Ow=e=>{const r=e.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},W1=e=>{const r=Ow(e.red)+Ow(e.green)+Ow(e.blue);return U1(r)},JE=Math.min,QE=Math.max,Nw=Math.round,ez=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Oy=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,wu=(e,r,s,l)=>({red:e,green:r,blue:s,alpha:l}),Mw=e=>{const r=parseInt(e,10);return r.toString()===e&&r>=0&&r<=255},CC=e=>{let r,s,l;const m=(e.hue||0)%360;let g=e.saturation/100,h=e.value/100;if(g=QE(0,JE(g,1)),h=QE(0,JE(h,1)),g===0)return r=s=l=Nw(255*h),wu(r,s,l,1);const x=m/60,w=h*g,S=w*(1-Math.abs(x%2-1)),M=h-w;switch(Math.floor(x)){case 0:r=w,s=S,l=0;break;case 1:r=S,s=w,l=0;break;case 2:r=0,s=w,l=S;break;case 3:r=0,s=S,l=w;break;case 4:r=S,s=0,l=w;break;case 5:r=w,s=0,l=S;break;default:r=s=l=0}return r=Nw(255*(r+M)),s=Nw(255*(s+M)),l=Nw(255*(l+M)),wu(r,s,l,1)},hf=e=>{const r=(g=>{const h=(w=>({value:w.value.replace(Z1,(M,z,L,U)=>z+z+L+L+U+U)}))(g),x=q1.exec(h.value);return x===null?["FFFFFF","FF","FF","FF"]:x})(e),s=parseInt(r[1],16),l=parseInt(r[2],16),m=parseInt(r[3],16);return wu(s,l,m,1)},Ny=(e,r,s,l)=>{const m=parseInt(e,10),g=parseInt(r,10),h=parseInt(s,10),x=parseFloat(l);return wu(m,g,h,x)},Gh=e=>{const r=ez.exec(e);if(r!==null)return D.some(Ny(r[1],r[2],r[3],"1"));const s=Oy.exec(e);return s!==null?D.some(Ny(s[1],s[2],s[3],s[4])):D.none()},G1=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Dw=wu(255,0,0,1),Rw=(e,r)=>{e.dispatch("ResizeContent",r)},tz=(e,r)=>{e.dispatch("TextColorChange",r)},oz=(e,r)=>e.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),Bw=(e,r)=>()=>{e(),r()},dc=e=>bf(e,"NodeChange",r=>{r.setEnabled(e.selection.isEditable())}),K1=(e,r)=>s=>{const l=dc(e)(s),m=((g,h)=>x=>{const w=$l(),S=()=>{x.setActive(g.formatter.match(h));const M=g.formatter.formatChanged(h,x.setActive);w.set(M)};return g.initialized?S():g.once("init",S),()=>{g.off("init",S),w.clear()}})(e,r)(s);return()=>{l(),m()}},bf=(e,r,s)=>l=>{const m=()=>s(l),g=()=>{s(l),e.on(r,m)};return e.initialized?g():e.once("init",g),()=>{e.off("init",g),e.off(r,m)}},nz=e=>r=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("mceToggleFormat",!1,r.format)})},qc=(e,r)=>()=>e.execCommand(r);var Qu=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const rz={},az=e=>zt(rz,e).getOrThunk(()=>{const r=`tinymce-custom-colors-${e}`,s=Qu.getItem(r);if(Mo(s)){const m=Qu.getItem("tinymce-custom-colors");Qu.setItem(r,Ve(m)?m:"[]")}const l=((m,g=10)=>{const h=Qu.getItem(m),x=mo(h)?JSON.parse(h):[],w=g-(S=x).length<0?S.slice(0,g):S;var S;const M=z=>{w.splice(z,1)};return{add:z=>{((L,U)=>{const Z=Bt(L,U);return Z===-1?D.none():D.some(Z)})(w,z).each(M),w.unshift(z),w.length>g&&w.pop(),Qu.setItem(m,JSON.stringify(w))},state:()=>w.slice(0)}})(r,10);return rz[e]=l,l}),Y1=(e,r)=>{az(e).add(r)},Cc=(e,r,s)=>({hue:e,saturation:r,value:s}),X1=e=>{let r=0,s=0,l=0;const m=e.red/255,g=e.green/255,h=e.blue/255,x=Math.min(m,Math.min(g,h)),w=Math.max(m,Math.max(g,h));return x===w?(l=x,Cc(0,0,100*l)):(r=m===x?3:h===x?1:5,r=60*(r-(m===x?g-h:h===x?m-g:h-m)/(w-x)),s=(w-x)/w,l=w,Cc(Math.round(r),Math.round(100*s),Math.round(100*l)))},SC=e=>W1(CC(e)),P5=e=>{return(r=e,Wh(r)?D.some({value:_C(r)}):D.none()).orThunk(()=>Gh(e).map(W1)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const l=s.getContext("2d");l.clearRect(0,0,s.width,s.height),l.fillStyle="#FFFFFF",l.fillStyle=e,l.fillRect(0,0,1,1);const m=l.getImageData(0,0,1,1).data,g=m[0],h=m[1],x=m[2],w=m[3];return W1(wu(g,h,x,w))});var r},EC="forecolor",Fw="hilitecolor",sz=e=>{const r=[];for(let s=0;s<e.length;s+=2)r.push({text:e[s+1],value:"#"+P5(e[s]).value,icon:"checkmark",type:"choiceitem"});return r},Om=e=>r=>r.options.get(e),zC="#000000",J1=(e,r)=>r===EC&&e.options.isSet("color_map_foreground")?Om("color_map_foreground")(e):r===Fw&&e.options.isSet("color_map_background")?Om("color_map_background")(e):Om("color_map")(e),Lw=(e,r="default")=>Math.max(5,Math.ceil(Math.sqrt(J1(e,r).length))),TC=(e,r)=>{const s=Om("color_cols")(e),l=Lw(e,r);return s===Lw(e)?l:s},iz=(e,r="default")=>Math.round(r===EC?Om("color_cols_foreground")(e):r===Fw?Om("color_cols_background")(e):Om("color_cols")(e)),Iw=Om("custom_colors"),lz=Om("color_default_foreground"),cz=Om("color_default_background"),AC=(e,r)=>{const s=pt(e.selection.getStart()),l=r==="hilitecolor"?dl(s,m=>{if(Se(m)){const g=Ua(m,"background-color");return Nr(Gh(g).exists(h=>h.alpha!==0),g)}return D.none()}).getOr("rgba(0, 0, 0, 0)"):Ua(s,"color");return Gh(l).map(m=>"#"+W1(m).value)},dz=e=>{const r="choiceitem",s={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[s,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[s]},OC=(e,r,s,l)=>{s==="custom"?My(e)(m=>{m.each(g=>{Y1(r,g),e.execCommand("mceApplyTextcolor",r,g),l(g)})},AC(e,r).getOr(zC)):s==="remove"?(l(""),e.execCommand("mceRemoveTextcolor",r)):(l(s),e.execCommand("mceApplyTextcolor",r,s))},Pw=(e,r,s)=>e.concat((l=>F(az(l).state(),m=>({type:"choiceitem",text:m,icon:"checkmark",value:m})))(r).concat(dz(s))),NC=(e,r,s)=>l=>{l(Pw(e,r,s))},Hw=(e,r,s)=>{const l=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(l,s)},jw=(e,r)=>{e.setTooltip(r)},MC=(e,r)=>s=>{const l=AC(e,r);return ar(l,s.toUpperCase())},DC=(e,r,s)=>{if(es(s))return r==="forecolor"?"Text color":"Background color";const l=r==="forecolor"?"Text color {0}":"Background color {0}",m=Pw(J1(e,r),r,!1),g=yo(m,h=>h.value===s).getOr({text:""}).text;return e.translate([l,e.translate(g)])},Vw=(e,r,s,l)=>{e.ui.registry.addSplitButton(r,{tooltip:DC(e,s,l.get()),presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:MC(e,s),columns:iz(e,s),fetch:NC(J1(e,s),s,Iw(e)),onAction:m=>{OC(e,s,l.get(),Ae)},onItemAction:(m,g)=>{OC(e,s,g,h=>{l.set(h),tz(e,{name:r,color:h})})},onSetup:m=>{Hw(m,r,l.get());const g=h=>{h.name===r&&(Hw(m,h.name,h.color),jw(m,DC(e,s,h.color)))};return e.on("TextColorChange",g),Bw(dc(e)(m),()=>{e.off("TextColorChange",g)})}})},bg=(e,r,s,l,m)=>{e.ui.registry.addNestedMenuItem(r,{text:l,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:g=>(jw(g,DC(e,s,m.get())),Hw(g,r,m.get()),dc(e)(g)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:MC(e,s),initData:{storageKey:s},onAction:g=>{OC(e,s,g.value,h=>{m.set(h),tz(e,{name:r,color:h})})}}]})},My=e=>(r,s)=>{let l=!1;const m={colorpicker:s};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:m,onAction:(g,h)=>{h.name==="hex-valid"&&(l=h.value)},onSubmit:g=>{const h=g.getData().colorpicker;l?(r(D.from(h)),g.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",h]))},onClose:Ae,onCancel:()=>{r(D.none())}})},Q1=(e,r,s,l,m,g,h,x)=>{const w=R1(r),S=H5(r,s,l,m!=="color"?"normal":"color",g,h,x);return Cw(e,w,S,l,{menuType:m})},H5=(e,r,s,l,m,g,h)=>Vr(F(e,x=>{return x.type==="choiceitem"?(w=x,Pa("choicemenuitem",B5,w)).fold(pg,S=>D.some(((M,z,L,U,Z,re,se,pe=!0)=>{const oe=$1({presets:L,textContent:z?M.text:D.none(),htmlContent:D.none(),ariaLabel:M.text,iconContent:M.icon,shortcutContent:z?M.shortcut:D.none(),checkMark:z?D.some(wC(se.icons)):D.none(),caret:D.none(),value:M.value},se,pe),te=M.text.filter(ue(!z)).map(de=>Bs.config(se.tooltips.getConfig({tooltipText:se.translate(de)})));return vs(Ty({context:M.context,data:Ay(M),enabled:M.enabled,getApi:de=>({setActive:me=>{gr.set(de,me)},isActive:()=>gr.isOn(de),isEnabled:()=>!Wn.isDisabled(de),setEnabled:me=>Wn.set(de,!me)}),onAction:de=>U(M.value),onSetup:de=>(de.setActive(Z),Ae),triggersSubmenu:!1,itemBehaviours:[...te.toArray()]},oe,re,se),{toggling:{toggleClass:wE,toggleOnExecute:!1,selected:M.active,exclusive:!0}})})(S,s===1,l,r,g(S.value),m,h,R1(e)))):D.none();var w})),$w=(e,r)=>{const s=Am(r);return e===1?{mode:"menu",moveOnTab:!0}:e==="auto"?{mode:"grid",selector:"."+s.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(r==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:l=>r==="color"?ws(l.element,"[aria-checked=true]"):D.none()}},RC=cn("cell-over"),Uw=cn("cell-execute"),BC=(e,r,s)=>{const l=g=>An(g,Uw,{row:e,col:r}),m=(g,h)=>{h.stop(),l(g)};return Xi({dom:{tag:"div",attributes:{role:"button","aria-label":s}},behaviours:zo([pr("insert-table-picker-cell",[Kt(Zn(),Jn.focus),Kt(_l(),l),Kt(Bc(),m),Kt(Du(),m)]),gr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Jn.config({onFocus:g=>An(g,RC,{row:e,col:r})})])})},FC=e=>Vt(e,r=>F(r,xc)),Zd=(e,r)=>qa(`${r}x${e}`),uz={inserttable:(e,r)=>{const s=(h=>(x,w)=>h.shared.providers.translate(["{0} columns, {1} rows",w,x]))(r),l=((h,x,w)=>{const S=[];for(let M=0;M<10;M++){const z=[];for(let L=0;L<10;L++){const U=h(M+1,L+1);z.push(BC(M,L,U))}S.push(z)}return S})(s),m=Zd(0,0),g=ya({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[m],behaviours:zo([rr.config({})])});return{type:"widget",data:{value:cn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[XE.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:FC(l).concat(g.asSpec()),behaviours:zo([pr("insert-table-picker",[Aa(h=>{rr.set(g.get(h),[m])}),qf(RC,(h,x,w)=>{const{row:S,col:M}=w.event;((z,L,U,Z,re)=>{for(let se=0;se<10;se++)for(let pe=0;pe<10;pe++)gr.set(z[se][pe],se<=L&&pe<=U)})(l,S,M),rr.set(g.get(h),[Zd(S+1,M+1)])}),qf(Uw,(h,x,w)=>{const{row:S,col:M}=w.event;Rr(h,Hm()),e.onAction({numRows:S+1,numColumns:M+1})})]),Mn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,r)=>{const s=((h,x)=>{const w=h.initData.allowCustomColors&&x.colorinput.hasCustomColors();return h.initData.colors.fold(()=>Pw(x.colorinput.getColors(h.initData.storageKey),h.initData.storageKey,w),S=>S.concat(dz(w)))})(e,r),l=r.colorinput.getColorCols(e.initData.storageKey),m="color",g={...Q1(cn("menu-value"),s,h=>{e.onAction({value:h})},l,m,Tm.CLOSE_ON_EXECUTE,e.select.getOr(Uo),r.shared.providers),markers:Am(m),movement:$w(l,m),showMenuRole:!1};return{type:"widget",data:{value:cn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[XE.widget(rf.sketch(g))]}}},LC=e=>({type:"separator",dom:{tag:"div",classes:[wy,"tox-collection__group-heading"]},components:e.text.map(qa).toArray()});var j5=Object.freeze({__proto__:null,getCoupled:(e,r,s,l)=>s.getOrCreate(e,r,l),getExistingCoupled:(e,r,s,l)=>s.getExisting(e,r,l)}),mz=[Ni("others",Nu(Dr.value,Ss()))],IC=Object.freeze({__proto__:null,init:()=>{const e={},r=(l,m)=>{if(dt(l.others).length===0)throw new Error("Cannot find any known coupled components");return zt(e,m)},s=ue({});return Ci({readState:s,getExisting:(l,m,g)=>r(m,g).orThunk(()=>(zt(m.others,g).getOrDie("No information found for coupled component: "+g),D.none())),getOrCreate:(l,m,g)=>r(m,g).getOrThunk(()=>{const h=zt(m.others,g).getOrDie("No information found for coupled component: "+g)(l),x=l.getSystem().build(h);return e[g]=x,x})})}});const Ys=Ar({fields:mz,name:"coupling",apis:j5,state:IC}),Zw=e=>{let r=D.none(),s=[];const l=h=>{m()?g(h):s.push(h)},m=()=>r.isSome(),g=h=>{r.each(x=>{setTimeout(()=>{h(x)},0)})};return e(h=>{m()||(r=D.some(h),Ot(s,g),s=[])}),{get:l,map:h=>Zw(x=>{l(w=>{x(h(w))})}),isReady:m}},gz={nu:Zw,pure:e=>Zw(r=>{r(e)})},pz=e=>{setTimeout(()=>{throw e},0)},yf=e=>{const r=s=>{e().then(s,pz)};return{map:s=>yf(()=>e().then(s)),bind:s=>yf(()=>e().then(l=>s(l).toPromise())),anonBind:s=>yf(()=>e().then(()=>s.toPromise())),toLazy:()=>gz.nu(r),toCached:()=>{let s=null;return yf(()=>(s===null&&(s=e()),s))},toPromise:e,get:r}},yg=e=>yf(()=>new Promise(e)),qd=e=>yf(()=>Promise.resolve(e)),PC=ue("sink"),HC=ue(Id({name:PC(),overrides:ue({dom:{tag:"div"},behaviours:zo([fl.config({useFixed:Rt})]),events:Ta([Bu(Za()),Bu(Le()),Bu(Bc())])})})),jC=(e,r)=>{const s=e.getHotspot(r).getOr(r),l="hotspot",m=e.getAnchorOverrides();return e.layouts.fold(()=>({type:l,hotspot:s,overrides:m}),g=>({type:l,hotspot:s,overrides:m,layouts:g}))},Kh=(e,r,s,l,m,g,h)=>((w,S,M,z,L,U,Z)=>{const re=((pe,oe,te)=>(0,pe.fetch)(te).map(oe))(w,S,z),se=$C(z,w);return re.map(pe=>pe.bind(oe=>{const te=oe.menus[oe.primary];return D.from(te).each(de=>{w.listRole.each(me=>{de.role=me})}),D.from(af.sketch({...U.menu(),uid:Vu(""),data:oe,highlightOnOpen:Z,onOpenMenu:(de,me)=>{const xe=se().getOrDie();fl.position(xe,me,{anchor:M}),Sr.decloak(L)},onOpenSubmenu:(de,me,xe)=>{const Ke=se().getOrDie();fl.position(Ke,xe,{anchor:{type:"submenu",item:me}}),Sr.decloak(L)},onRepositionMenu:(de,me,xe)=>{const Ke=se().getOrDie();fl.position(Ke,me,{anchor:M}),Ot(xe,wt=>{fl.position(Ke,wt.triggeredMenu,{anchor:{type:"submenu",item:wt.triggeringItem}})})},onEscape:()=>(Jn.focus(z),Sr.close(L),D.some(!0))}))}))})(e,r,jC(e,s),s,l,m,h).map(w=>(w.fold(()=>{Sr.isOpen(l)&&Sr.close(l)},S=>{Sr.cloak(l),Sr.open(l,S),g(l)}),l)),V5=(e,r,s,l,m,g,h)=>(Sr.close(l),qd(l)),VC=(e,r,s,l,m,g)=>{const h=Ys.getCoupled(s,"sandbox");return(Sr.isOpen(h)?V5:Kh)(e,r,s,h,l,m,g)},$C=(e,r)=>e.getSystem().getByUid(r.uid+"-"+PC()).map(s=>()=>Dr.value(s)).getOrThunk(()=>r.lazySink.fold(()=>()=>Dr.error(new Error("No internal sink is specified, nor could an external sink be found")),s=>()=>s(e))),UC=e=>{Sr.getState(e).each(r=>{af.repositionMenus(r)})},ev=(e,r,s)=>{const l=Bb(),m=$C(r,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:l.id}},behaviours:Vn(e.sandboxBehaviours,[Ge.config({store:{mode:"memory",initialValue:r}}),Sr.config({onOpen:(g,h)=>{const x=jC(e,r);l.link(r.element),e.matchWidth&&((w,S,M)=>{const z=qr.getCurrent(S).getOr(S),L=Xe(w.element);M?Dn(z.element,"min-width",L+"px"):((U,Z)=>{Ce.set(U,Z)})(z.element,L)})(x.hotspot,h,e.useMinWidth),e.onOpen(x,g,h),s!==void 0&&s.onOpen!==void 0&&s.onOpen(g,h)},onClose:(g,h)=>{l.unlink(r.element),m().getOr(h).element.dom.dispatchEvent(new window.FocusEvent("focusout")),s!==void 0&&s.onClose!==void 0&&s.onClose(g,h)},isPartOf:(g,h,x)=>ym(h,x)||ym(r,x),getAttachPoint:()=>m().getOrDie()}),qr.config({find:g=>Sr.getState(g).bind(h=>qr.getCurrent(h))}),Gl.config({channels:{...I({isExtraPart:Uo}),...q({doReposition:UC})}})])}},ZC=e=>{const r=Ys.getCoupled(e,"sandbox");UC(r)},Jl=()=>[St("sandboxClasses",[]),On("sandboxBehaviours",[qr,Gl,Sr,Ge])],fz=ue([oo("dom"),oo("fetch"),Hr("onOpen"),El("onExecute"),St("getHotspot",D.some),St("getAnchorOverrides",ue({})),wm(),fo("dropdownBehaviours",[gr,Ys,Mn,Jn]),oo("toggleClass"),St("eventOrder",{}),Lr("lazySink"),St("matchWidth",!1),St("useMinWidth",!1),Lr("role"),Lr("listRole")].concat(Jl())),$5=ue([Ld({schema:[ju(),St("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),HC()]),Wd=Xl({name:"Dropdown",configFields:fz(),partFields:$5(),factory:(e,r,s,l)=>{const m=w=>{Sr.getState(w).each(S=>{af.highlightPrimary(S)})},g=(w,S,M)=>VC(e,$e,w,l,S,M),h={expand:w=>{gr.isOn(w)||g(w,Ae,lc.HighlightNone).get(Ae)},open:w=>{gr.isOn(w)||g(w,Ae,lc.HighlightMenuAndItem).get(Ae)},refetch:w=>Ys.getExistingCoupled(w,"sandbox").fold(()=>g(w,Ae,lc.HighlightMenuAndItem).map(Ae),S=>Kh(e,$e,w,S,l,Ae,lc.HighlightMenuAndItem).map(Ae)),isOpen:gr.isOn,close:w=>{gr.isOn(w)&&g(w,Ae,lc.HighlightMenuAndItem).get(Ae)},repositionMenus:w=>{gr.isOn(w)&&ZC(w)}},x=(w,S)=>(Zl(w),D.some(!0));return{uid:e.uid,dom:e.dom,components:r,behaviours:Bo(e.dropdownBehaviours,[gr.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Ys.config({others:{sandbox:w=>ev(e,w,{onOpen:()=>gr.on(w),onClose:()=>gr.off(w)})}}),Mn.config({mode:"special",onSpace:x,onEnter:x,onDown:(w,S)=>{if(Wd.isOpen(w)){const M=Ys.getCoupled(w,"sandbox");m(M)}else Wd.open(w);return D.some(!0)},onEscape:(w,S)=>Wd.isOpen(w)?(Wd.close(w),D.some(!0)):D.none()}),Jn.config({})]),events:h1(D.some(w=>{g(w,m,lc.HighlightMenuAndItem).get(Ae)})),eventOrder:{...e.eventOrder,[_l()]:["disabling","toggling","alloy.base.behaviour"]},apis:h,domModification:{attributes:{"aria-haspopup":e.listRole.getOr("true"),...e.role.fold(()=>({}),w=>({role:w})),...e.dom.tag==="button"?{type:zt(e.dom,"attributes").bind(w=>zt(w,"type")).getOr("button")}:{}}}}},apis:{open:(e,r)=>e.open(r),refetch:(e,r)=>e.refetch(r),expand:(e,r)=>e.expand(r),close:(e,r)=>e.close(r),isOpen:(e,r)=>e.isOpen(r),repositionMenus:(e,r)=>e.repositionMenus(r)}}),qC=(e,r,s)=>{CE(e).each(l=>{var m;((g,h)=>{Ga(h.element,"id").each(x=>wn(g.element,"aria-activedescendant",x))})(l,s),(Rn((m=r).element,N1)?D.some(m.element):ws(m.element,"."+N1)).each(g=>{Ga(g,"id").each(h=>wn(l.element,"aria-controls",h))})}),wn(s.element,"aria-selected","true")},U5=(e,r,s)=>{wn(s.element,"aria-selected","false")},Z5=e=>Ys.getExistingCoupled(e,"sandbox").bind(Ra).map(mf).map(r=>r.fetchPattern).getOr("");var qw;(function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"})(qw||(qw={}));const hz=(e,r,s,l,m)=>{const g=s.shared.providers,h=w=>m?{...w,shortcut:D.none(),icon:w.text.isSome()?D.none():w.icon}:w;switch(e.type){case"menuitem":return(x=e,Pa("menuitem",L5,x)).fold(pg,w=>D.some(((S,M,z,L=!0)=>{const U=$1({presets:"normal",iconContent:S.icon,textContent:S.text,htmlContent:D.none(),ariaLabel:S.text,caret:D.none(),checkMark:D.none(),shortcutContent:S.shortcut},z,L);return Ty({context:S.context,data:Ay(S),getApi:Z=>({isEnabled:()=>!Wn.isDisabled(Z),setEnabled:re=>Wn.set(Z,!re)}),enabled:S.enabled,onAction:S.onAction,onSetup:S.onSetup,triggersSubmenu:!1,itemBehaviours:[]},U,M,z)})(h(w),r,g,l)));case"nestedmenuitem":return(w=>Pa("nestedmenuitem",zw,w))(e).fold(pg,w=>D.some(((S,M,z,L=!0,U=!1)=>{const Z=U?(re=z.icons,V1("chevron-down",re,[Zc])):(pe=>V1("chevron-right",pe,[Zc]))(z.icons);var re;const se=$1({presets:"normal",iconContent:S.icon,textContent:S.text,htmlContent:D.none(),ariaLabel:S.text,caret:D.some(Z),checkMark:D.none(),shortcutContent:S.shortcut},z,L);return Ty({context:S.context,data:Ay(S),getApi:pe=>({isEnabled:()=>!Wn.isDisabled(pe),setEnabled:oe=>Wn.set(pe,!oe),setIconFill:(oe,te)=>{ws(pe.element,`svg path[class="${oe}"], rect[class="${oe}"]`).each(de=>{wn(de,"fill",te)})},setTooltip:oe=>{const te=z.translate(oe);wn(pe.element,"aria-label",te)}}),enabled:S.enabled,onAction:Ae,onSetup:S.onSetup,triggersSubmenu:!0,itemBehaviours:[]},se,M,z)})(h(w),r,g,l,m)));case"togglemenuitem":return(w=>Pa("togglemenuitem",vC,w))(e).fold(pg,w=>D.some(((S,M,z,L=!0)=>{const U=$1({iconContent:S.icon,textContent:S.text,htmlContent:D.none(),ariaLabel:S.text,checkMark:D.some(wC(z.icons)),caret:D.none(),shortcutContent:S.shortcut,presets:"normal",meta:S.meta},z,L);return vs(Ty({context:S.context,data:Ay(S),enabled:S.enabled,getApi:Z=>({setActive:re=>{gr.set(Z,re)},isActive:()=>gr.isOn(Z),isEnabled:()=>!Wn.isDisabled(Z),setEnabled:re=>Wn.set(Z,!re)}),onAction:S.onAction,onSetup:S.onSetup,triggersSubmenu:!1,itemBehaviours:[]},U,M,z),{toggling:{toggleClass:wE,toggleOnExecute:!1,selected:S.active},role:S.role.getOrUndefined()})})(h(w),r,g,l)));case"separator":return(w=>Pa("separatormenuitem",NE,w))(e).fold(pg,w=>D.some(LC(w)));case"fancymenuitem":return(w=>Pa("fancymenuitem",F5,w))(e).fold(pg,w=>((S,M)=>zt(uz,S.fancytype).map(z=>z(S,M)))(w,s));default:return console.error("Unknown item in general menu",e),D.none()}var x},vg=(e,r,s,l,m,g,h)=>{const x=l===1,w=!x||R1(e);return Vr(F(e,S=>{switch(S.type){case"separator":return(M=S,Pa("Autocompleter.Separator",NE,M)).fold(pg,z=>D.some(LC(z)));case"cardmenuitem":return(z=>Pa("cardmenuitem",R5,z))(S).fold(pg,z=>D.some(((L,U,Z,re)=>{const se={dom:GE(L.label),optComponents:[D.some({dom:{tag:"div",classes:[nC,yw]},components:YE(L.items,re)})]};return Ty({context:"mode:design",data:Ay({text:D.none(),...L}),enabled:L.enabled,getApi:pe=>({isEnabled:()=>!Wn.isDisabled(pe),setEnabled:oe=>{Wn.set(pe,!oe),Ot(Tl(pe.element,"*"),te=>{pe.getSystem().getByDom(te).each(de=>{de.hasConfigured(Wn)&&Wn.set(de,!oe)})})}}),onAction:L.onAction,onSetup:L.onSetup,triggersSubmenu:!1,itemBehaviours:D.from(re.itemBehaviours).getOr([])},se,U,Z.providers)})({...z,onAction:L=>{z.onAction(L),s(z.value,z.meta)}},m,g,{itemBehaviours:kC(z.meta,g,D.none()),cardText:{matchText:r,highlightOn:h}})));default:return(z=>Pa("Autocompleter.Item",O5,z))(S).fold(pg,z=>D.some(((L,U,Z,re,se,pe,oe,te=!0)=>{const de=$1({presets:re,textContent:D.none(),htmlContent:Z?L.text.map(xe=>KE(xe,U)):D.none(),ariaLabel:L.text,iconContent:L.icon,shortcutContent:D.none(),checkMark:D.none(),caret:D.none(),value:L.value},oe.providers,te,L.icon),me=L.text.filter(xe=>!Z&&xe!=="");return Ty({context:"mode:design",data:Ay(L),enabled:L.enabled,getApi:ue({}),onAction:xe=>se(L.value,L.meta),onSetup:ue(Ae),triggersSubmenu:!1,itemBehaviours:kC(L,oe,me)},de,pe,oe.providers)})(z,r,x,"normal",s,m,g,w)))}var M}))},Ww=(e,r,s,l,m,g)=>{const h=R1(r),x=Vr(F(r,S=>{const M=z=>hz(z,s,l,(L=>m?!Xo(L,"text"):h)(z),m);return S.type==="nestedmenuitem"&&S.getSubmenuItems().length<=0?M({...S,enabled:!1}):M(S)})),w=(S=>S.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:S})(g);return(m?sC:Cw)(e,h,x,1,w)},Gw=e=>af.singleData(e.value,e),Kw=e=>Pp(pt(e.startContainer),e.startOffset,pt(e.endContainer),e.endOffset),WC=(e,r)=>{const s=cn("autocompleter"),l=yn(!1),m=yn(!1),g=Tr(),h=Xi(fs.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:s}},components:[],fireDismissalEventInstead:{},inlineBehaviours:zo([pr("dismissAutocompleter",[Kt(Td(),()=>z()),Kt(gm(),(Z,re)=>{Ga(re.event.target,"id").each(se=>wn(pt(e.getBody()),"aria-activedescendant",se))})])]),lazySink:r.getSink})),x=()=>fs.isOpen(h),w=m.get,S=()=>{if(x()){fs.hide(h),e.dom.remove(s,!1);const Z=pt(e.getBody());Ga(Z,"aria-owns").filter(re=>re===s).each(()=>{Mr(Z,"aria-owns"),Mr(Z,"aria-activedescendant")})}},M=()=>fs.getContent(h).bind(Z=>he(Z.components(),0)),z=()=>e.execCommand("mceAutocompleterClose"),L=Z=>{const re=(se=>{const pe=We(se,oe=>D.from(oe.columns)).getOr(1);return Vt(se,oe=>{const te=oe.items;return vg(te,oe.matchText,(de,me)=>{const xe={hide:()=>z(),reload:Ke=>{S(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:Ke})}};e.execCommand("mceAutocompleterRefreshActiveRange"),g.get().each(Ke=>{l.set(!0),oe.onAction(xe,Ke,de,me),l.set(!1)})},pe,Tm.BUBBLE_TO_SANDBOX,r,oe.highlightOn)})})(Z);re.length>0?(((se,pe)=>{const oe=We(se,te=>D.from(te.columns)).getOr(1);fs.showMenuAt(h,{anchor:{type:"selection",getSelection:()=>g.get().map(Kw),root:pt(e.getBody())}},((te,de,me,xe)=>{const Ke=$w(de,xe),wt=Am(xe);return{data:Gw({...te,movement:Ke,menuBehaviours:Ey(de!=="auto"?[]:[Aa((eo,qt)=>{I1(eo,4,wt.item).each(({numColumns:Jt,numRows:ko})=>{Mn.setGridSize(eo,ko,Jt)})})])}),menu:{markers:Am(xe),fakeFocus:me===qw.ContentFocus}}})(Cw("autocompleter-value",!0,pe,oe,{menuType:"normal"}),oe,qw.ContentFocus,"normal")),M().each(ba.highlightFirst)})(Z,re),wn(pt(e.getBody()),"aria-owns",s),e.inline||U()):S()},U=()=>{e.dom.get(s)&&e.dom.remove(s,!1);const Z=e.getDoc().documentElement,re=e.selection.getNode(),se=(pe=>bm(pe,!0))(h.element);Xn(se,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${re.offsetTop}px`,left:`${re.offsetLeft}px`}),e.dom.add(Z,se.dom),ws(se,'[role="menu"]').each(pe=>{qn(pe,"position"),qn(pe,"max-height")})};e.on("AutocompleterStart",({lookupData:Z})=>{m.set(!0),l.set(!1),L(Z)}),e.on("AutocompleterUpdate",({lookupData:Z})=>L(Z)),e.on("AutocompleterUpdateActiveRange",({range:Z})=>g.set(Z)),e.on("AutocompleterEnd",()=>{S(),m.set(!1),l.set(!1),g.clear()}),((Z,re)=>{const se=(oe,te)=>{An(oe,Za(),{raw:te})},pe=()=>Z.getMenu().bind(ba.getHighlighted);re.on("keydown",oe=>{const te=oe.which;Z.isActive()&&(Z.isMenuOpen()?te===13?(pe().each(Zl),oe.preventDefault()):te===40?(pe().fold(()=>{Z.getMenu().each(ba.highlightFirst)},de=>{se(de,oe)}),oe.preventDefault(),oe.stopImmediatePropagation()):te!==37&&te!==38&&te!==39||pe().each(de=>{se(de,oe),oe.preventDefault(),oe.stopImmediatePropagation()}):te!==13&&te!==38&&te!==40||Z.cancelIfNecessary())}),re.on("NodeChange",()=>{!Z.isActive()||Z.isProcessingAction()||re.queryCommandState("mceAutoCompleterInRange")||Z.cancelIfNecessary()})})({cancelIfNecessary:z,isMenuOpen:x,isActive:w,isProcessingAction:l.get,getMenu:M},e)},tv=(e,r,s)=>Rd(e,r,s).isSome(),bz=(e,r)=>{let s=null;return{cancel:()=>{s!==null&&(clearTimeout(s),s=null)},schedule:(...l)=>{s=setTimeout(()=>{e.apply(null,l),s=null},r)}}},yz=e=>{const r=e.raw;return r.touches===void 0||r.touches.length!==1?D.none():D.some(r.touches[0])},vz=(e,r)=>{const s={stopBackspace:!0,...r},l=(z=>{const L=Tr(),U=yn(!1),Z=bz(se=>{z.triggerEvent(um(),se),U.set(!0)},400),re=Di([{key:T(),value:se=>(yz(se).each(pe=>{Z.cancel();const oe={x:pe.clientX,y:pe.clientY,target:se.target};Z.schedule(se),U.set(!1),L.set(oe)}),D.none())},{key:j(),value:se=>(Z.cancel(),yz(se).each(pe=>{L.on(oe=>{((te,de)=>{const me=Math.abs(te.clientX-de.x),xe=Math.abs(te.clientY-de.y);return me>5||xe>5})(pe,oe)&&L.clear()})}),D.none())},{key:K(),value:se=>(Z.cancel(),L.get().filter(pe=>dn(pe.target,se.target)).map(pe=>U.get()?(se.prevent(),!1):z.triggerEvent(Du(),se)))}]);return{fireIfReady:(se,pe)=>zt(re,pe).bind(oe=>oe(se))}})(s),m=F(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),z=>Kl(e,z,L=>{l.fireIfReady(L,z).each(U=>{U&&L.kill()}),s.triggerEvent(z,L)&&L.kill()})),g=Tr(),h=Kl(e,"paste",z=>{l.fireIfReady(z,"paste").each(L=>{L&&z.kill()}),s.triggerEvent("paste",z)&&z.kill(),g.set(setTimeout(()=>{s.triggerEvent(Sp(),z)},0))}),x=Kl(e,"keydown",z=>{s.triggerEvent("keydown",z)?z.kill():s.stopBackspace&&(L=>L.raw.which===Cx[0]&&!ct(["input","textarea"],ga(L.target))&&!tv(L.target,'[contenteditable="true"]'))(z)&&z.prevent()}),w=Kl(e,"focusin",z=>{s.triggerEvent("focusin",z)&&z.kill()}),S=Tr(),M=Kl(e,"focusout",z=>{s.triggerEvent("focusout",z)&&z.kill(),S.set(setTimeout(()=>{s.triggerEvent(dm(),z)},0))});return{unbind:()=>{Ot(m,z=>{z.unbind()}),x.unbind(),w.unbind(),M.unbind(),h.unbind(),g.on(clearTimeout),S.on(clearTimeout)}}},Nm=(e,r)=>{const s=zt(e,"target").getOr(r);return yn(s)},vf=Mi([{stopped:[]},{resume:["element"]},{complete:[]}]),xz=(e,r,s,l,m,g)=>{const h=e(r,l),x=((w,S)=>{const M=yn(!1),z=yn(!1);return{stop:()=>{M.set(!0)},cut:()=>{z.set(!0)},isStopped:M.get,isCut:z.get,event:w,setSource:S.set,getSource:S.get}})(s,m);return h.fold(()=>(g.logEventNoHandlers(r,l),vf.complete()),w=>{const S=w.descHandler;return th(S)(x),x.isStopped()?(g.logEventStopped(r,w.element,S.purpose),vf.stopped()):x.isCut()?(g.logEventCut(r,w.element,S.purpose),vf.complete()):qo(w.element).fold(()=>(g.logNoParent(r,w.element,S.purpose),vf.complete()),M=>(g.logEventResponse(r,w.element,S.purpose),vf.resume(M)))})},wz=(e,r,s,l,m,g)=>xz(e,r,s,l,m,g).fold(Rt,h=>wz(e,r,s,h,m,g),Uo),GC=(e,r,s,l,m)=>{const g=Nm(s,l);return wz(e,r,s,l,g,m)},kz=()=>{const e=(()=>{const l={};return{registerId:(m,g,h)=>{Oo(h,(x,w)=>{const S=l[w]!==void 0?l[w]:{};S[g]=((M,z)=>({cHandler:mt.apply(void 0,[M.handler].concat(z)),purpose:M.purpose}))(x,m),l[w]=S})},unregisterId:m=>{Oo(l,(g,h)=>{Xo(g,m)&&delete g[m]})},filterByType:m=>zt(l,m).map(g=>_n(g,(h,x)=>((w,S)=>({id:w,descHandler:S}))(x,h))).getOr([]),find:(m,g,h)=>zt(l,g).bind(x=>dl(h,w=>((S,M)=>Hg(M).bind(z=>zt(S,z)).map(z=>((L,U)=>({element:L,descHandler:U}))(M,z)))(x,w),m))}})(),r={},s=l=>{Hg(l.element).each(m=>{delete r[m],e.unregisterId(m)})};return{find:(l,m,g)=>e.find(l,m,g),filter:l=>e.filterByType(l),register:l=>{const m=(h=>{const x=h.element;return Hg(x).getOrThunk(()=>((w,S)=>{const M=cn(Sb+"uid-");return eh(S,M),M})(0,h.element))})(l);Kn(r,m)&&((h,x)=>{const w=r[x];if(w!==h)throw new Error('The tagId "'+x+'" is already used by: '+Hc(w.element)+`
Cannot use it for: `+Hc(h.element)+`
The conflicting element is`+(Ma(w.element)?" ":" not ")+"already in the DOM");s(h)})(l,m);const g=[l];e.registerId(g,m,l.events),r[m]=l},unregister:s,getById:l=>zt(r,l)}},ku=Hd({name:"Container",factory:e=>{const{attributes:r,...s}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...s},components:e.components,behaviours:To(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[St("components",[]),fo("containerBehaviours",[]),St("events",{}),St("domModification",{}),St("eventOrder",{})]}),Dy=e=>{const r=se=>qo(e.element).fold(Rt,pe=>dn(se,pe)),s=kz(),l=(se,pe)=>s.find(r,se,pe),m=vz(e.element,{triggerEvent:(se,pe)=>Tp(se,pe.target,oe=>((te,de,me,xe)=>GC(te,de,me,me.target,xe))(l,se,pe,oe))}),g={debugInfo:ue("real"),triggerEvent:(se,pe,oe)=>{Tp(se,pe,te=>GC(l,se,oe,pe,te))},triggerFocus:(se,pe)=>{Hg(se).fold(()=>{Il(se)},oe=>{Tp(zd(),se,te=>(((de,me,xe,Ke,wt)=>{const eo=Nm(xe,Ke);xz(de,me,xe,Ke,eo,wt)})(l,zd(),{originator:pe,kill:Ae,prevent:Ae,target:se},se,te),!1))})},triggerEscape:(se,pe)=>{g.triggerEvent("keydown",se.element,pe.event)},getByUid:se=>Z(se),getByDom:se=>re(se),build:Xi,buildOrPatch:oh,addToGui:se=>{w(se)},removeFromGui:se=>{S(se)},addToWorld:se=>{h(se)},removeFromWorld:se=>{x(se)},broadcast:se=>{z(se)},broadcastOn:(se,pe)=>{L(se,pe)},broadcastEvent:(se,pe)=>{U(se,pe)},isConnected:Rt},h=se=>{se.connect(g),Nt(se.element)||(s.register(se),Ot(se.components(),h),g.triggerEvent(Rg(),se.element,{target:se.element}))},x=se=>{Nt(se.element)||(Ot(se.components(),x),s.unregister(se)),se.disconnect()},w=se=>{Vc(e,se)},S=se=>{Pl(se)},M=se=>{const pe=s.filter(nd());Ot(pe,oe=>{const te=oe.descHandler;th(te)(se)})},z=se=>{M({universal:!0,data:se})},L=(se,pe)=>{M({universal:!1,channels:se,data:pe})},U=(se,pe)=>((oe,te,de)=>{const me=(xe=>{const Ke=yn(!1);return{stop:()=>{Ke.set(!0)},cut:Ae,isStopped:Ke.get,isCut:Uo,event:xe,setSource:go("Cannot set source of a broadcasted event"),getSource:go("Cannot get source of a broadcasted event")}})(te);return Ot(oe,xe=>{const Ke=xe.descHandler;th(Ke)(me)}),me.isStopped()})(s.filter(se),pe),Z=se=>s.getById(se).fold(()=>Dr.error(new Error('Could not find component with uid: "'+se+'" in system.')),Dr.value),re=se=>{const pe=Hg(se).getOr("not found");return Z(pe)};return h(e),{root:e,element:e.element,destroy:()=>{m.unbind(),ua(e.element)},add:w,remove:S,getByUid:Z,getByDom:re,addToWorld:h,removeFromWorld:x,broadcast:z,broadcastOn:L,broadcastEvent:U}},ov=ue([St("prefix","form-field"),fo("fieldBehaviours",[qr,Ge])]),nv=ue([Id({schema:[oo("dom")],name:"label"}),Id({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[oo("text")],name:"aria-descriptor"}),hl({factory:{sketch:e=>{const r=((s,l)=>{const m={};return Oo(s,(g,h)=>{ct(l,h)||(m[h]=g)}),m})(e,["factory"]);return e.factory.sketch(r)}},schema:[oo("factory")],name:"field"})]),va=Xl({name:"FormField",configFields:ov(),partFields:nv(),factory:(e,r,s,l)=>{const m=Bo(e.fieldBehaviours,[qr.config({find:x=>ja(x,e,"field")}),Ge.config({store:{mode:"manual",getValue:x=>qr.getCurrent(x).bind(Ge.getValue),setValue:(x,w)=>{qr.getCurrent(x).each(S=>{Ge.setValue(S,w)})}}})]),g=Ta([Aa((x,w)=>{const S=A_(x,e,["label","field","aria-descriptor"]);S.field().each(M=>{const z=cn(e.prefix);S.label().each(L=>{wn(L.element,"for",z),wn(M.element,"id",z)}),S["aria-descriptor"]().each(L=>{const U=cn(e.prefix);wn(L.element,"id",U),wn(M.element,"aria-describedby",U)})})})]),h={getField:x=>ja(x,e,"field"),getLabel:x=>ja(x,e,"label")};return{uid:e.uid,dom:e.dom,components:r,behaviours:m,events:g,apis:h}},apis:{getField:(e,r)=>e.getField(r),getLabel:(e,r)=>e.getLabel(r)}});var _z=tinymce.util.Tools.resolve("tinymce.html.Entities");const Ry=(e,r,s,l)=>{const m=Cz(e,r,s,l);return va.sketch(m)},Cz=(e,r,s,l)=>({dom:Sz(s),components:e.toArray().concat([r]),fieldBehaviours:zo(l)}),Sz=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),xf=(e,r)=>va.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[qa(r.translate(e))]}),Wc=cn("form-component-change"),By=cn("form-close"),lp=cn("form-cancel"),Mm=cn("form-action"),rv=cn("form-submit"),Yw=cn("form-block"),Yh=cn("form-unblock"),KC=cn("form-tabchange"),Ez=cn("form-resize"),q5=(e,r,s)=>{const l=e.label.map(z=>xf(z,r)),m=r.icons(),g=z=>(L,U)=>{Rd(U.event.target,"[data-collection-item-value]").each(Z=>{z(L,U,Z,ia(Z,"data-collection-item-value"))})},h=g((z,L,U,Z)=>{L.stop(),r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()||An(z,Mm,{name:e.name,value:Z})}),x=[Kt(Zn(),g((z,L,U)=>{Il(U,!0)})),Kt(Bc(),h),Kt(Du(),h),Kt(kn(),g((z,L,U)=>{ws(z.element,"."+cc).each(Z=>{ln(Z,cc)}),lo(U,cc)})),Kt(ha(),g(z=>{ws(z.element,"."+cc).each(L=>{ln(L,cc),ih(L)})})),lu(g((z,L,U,Z)=>{An(z,Mm,{name:e.name,value:Z})}))],w=(z,L)=>F(Tl(z.element,".tox-collection__item"),L),S=va.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:$e},behaviours:zo([Wn.config({disabled:()=>r.checkUiComponentContext(e.context).shouldDisable,onDisabled:z=>{w(z,L=>{lo(L,"tox-collection__item--state-disabled"),wn(L,"aria-disabled",!0)})},onEnabled:z=>{w(z,L=>{ln(L,"tox-collection__item--state-disabled"),Mr(L,"aria-disabled")})}}),li(()=>r.checkUiComponentContext(e.context)),rr.config({}),Bs.config({...r.tooltips.getConfig({tooltipText:"",onShow:z=>{ws(z.element,"."+cc+"[data-mce-tooltip]").each(L=>{Ga(L,"data-mce-tooltip").each(U=>{Bs.setComponents(z,r.tooltips.getComponents({tooltipText:U}))})})}}),mode:"children-keyboard-focus",anchor:z=>({type:"node",node:ws(z.element,"."+cc).orThunk(()=>wr(".tox-collection__item")),root:z.element,layouts:{onLtr:ue([ei,ji,pi,ml,fi,Hi]),onRtl:ue([ei,ji,pi,ml,fi,Hi])},bubble:pl(0,-2,{})})}),Ge.config({store:{mode:"memory",initialValue:s.getOr([])},onSetValue:(z,L)=>{((U,Z)=>{const re=r.checkUiComponentContext("mode:design").shouldDisable||r.isDisabled()?" tox-collection__item--state-disabled":"",se=F(Z,te=>{const de=Vd.translate(te.text),me=e.columns===1?`<div class="tox-collection__item-label">${de}</div>`:"",xe=`<div class="tox-collection__item-icon">${(eo=>{var qt;return(qt=m[eo])!==null&&qt!==void 0?qt:eo})(te.icon)}</div>`,Ke={_:" "," - ":" ","-":" "},wt=de.replace(/\_| \- |\-/g,eo=>Ke[eo]);return`<div data-mce-tooltip="${wt}" class="tox-collection__item${re}" tabindex="-1" data-collection-item-value="${_z.encodeAllRaw(te.value)}" aria-label="${wt}">${xe}${me}</div>`}),pe=e.columns!=="auto"&&e.columns>1?Dt(se,e.columns):[se],oe=F(pe,te=>`<div class="tox-collection__group">${te.join("")}</div>`);mu(U.element,oe.join(""))})(z,L),e.columns==="auto"&&I1(z,5,"tox-collection__item").each(({numRows:U,numColumns:Z})=>{Mn.setGridSize(z,U,Z)}),Rr(z,Ez)}}),hs.config({}),Mn.config((M=e.columns,M===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:M==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${wy}`}})),pr("collection-events",x)]),eventOrder:{[_l()]:["disabling","alloy.base.behaviour","collection-events"],[kn()]:["collection-events","tooltipping"]}});var M;return Ry(l,S,["tox-form__group--collection"],[])},zz=["input","textarea"],YC=e=>{const r=ga(e);return ct(zz,r)},Xw=(e,r)=>{const s=r.getRoot(e).getOr(e.element);ln(s,r.invalidClass),r.notify.each(l=>{YC(e.element)&&wn(e.element,"aria-invalid",!1),l.getContainer(e).each(m=>{mu(m,l.validHtml)}),l.onValid(e)})},xg=(e,r,s,l)=>{const m=r.getRoot(e).getOr(e.element);lo(m,r.invalidClass),r.notify.each(g=>{YC(e.element)&&wn(e.element,"aria-invalid",!0),g.getContainer(e).each(h=>{mu(h,l)}),g.onInvalid(e,l)})},Jw=(e,r,s)=>r.validator.fold(()=>qd(Dr.value(!0)),l=>l.validate(e)),Qw=(e,r,s)=>(r.notify.each(l=>{l.onValidate(e)}),Jw(e,r).map(l=>e.getSystem().isConnected()?l.fold(m=>(xg(e,r,0,m),Dr.error(m)),m=>(Xw(e,r),Dr.value(m))):Dr.error("No longer in system")));var Tz=Object.freeze({__proto__:null,markValid:Xw,markInvalid:xg,query:Jw,run:Qw,isInvalid:(e,r)=>{const s=r.getRoot(e).getOr(e.element);return Rn(s,r.invalidClass)}}),XC=Object.freeze({__proto__:null,events:(e,r)=>e.validator.map(s=>Ta([Kt(s.onEvent,l=>{Qw(l,e).get($e)})].concat(s.validateOnLoad?[Aa(l=>{Qw(l,e).get(Ae)})]:[]))).getOr({})}),Az=[oo("invalidClass"),St("getRoot",D.none),js("notify",[St("aria","alert"),St("getContainer",D.none),St("validHtml",""),Hr("onValid"),Hr("onInvalid"),Hr("onValidate")]),js("validator",[oo("validate"),St("onEvent","input"),St("validateOnLoad",!0)])];const _u=Ar({fields:Az,name:"invalidating",active:XC,apis:Tz,extra:{validation:e=>r=>{const s=Ge.getValue(r);return qd(e(s))}}}),Fy=Ar({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Ta([Pc(vb(),Rt)]),exhibit:()=>rc({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),JC=cn("color-input-change"),Oz=cn("color-swatch-change"),QC=cn("color-picker-cancel"),Nz=Id({schema:[oo("dom")],name:"label"}),wf=e=>Id({name:e+"-edge",overrides:r=>r.model.manager.edgeActions[e].fold(()=>({}),s=>({events:Ta([Ep(T(),(l,m,g)=>s(l,g),[r]),Ep(Le(),(l,m,g)=>s(l,g),[r]),Ep(po(),(l,m,g)=>{g.mouseIsDown.get()&&s(l,g)},[r])])}))}),W5=wf("top-left"),G5=wf("top"),ek=wf("top-right"),Mz=wf("right"),Dz=wf("bottom-right"),eS=wf("bottom"),Rz=wf("bottom-left"),K5=wf("left"),Bz=hl({name:"thumb",defaults:ue({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Ta([au(T(),e,"spectrum"),au(j(),e,"spectrum"),au(K(),e,"spectrum"),au(Le(),e,"spectrum"),au(po(),e,"spectrum"),au(cr(),e,"spectrum")])})}),av=e=>Jg(e.event);var Y5=[Nz,K5,Mz,G5,eS,W5,ek,Rz,Dz,Bz,hl({schema:[ui("mouseIsDown",()=>yn(!1))],name:"spectrum",overrides:e=>{const r=e.model.manager,s=(l,m)=>r.getValueFromEvent(m).map(g=>r.setValueFrom(l,e,g));return{behaviours:zo([Mn.config({mode:"special",onLeft:(l,m)=>r.onLeft(l,e,av(m)),onRight:(l,m)=>r.onRight(l,e,av(m)),onUp:(l,m)=>r.onUp(l,e,av(m)),onDown:(l,m)=>r.onDown(l,e,av(m))}),hs.config({}),Jn.config({})]),events:Ta([Kt(T(),s),Kt(j(),s),Kt(Le(),s),Kt(po(),(l,m)=>{e.mouseIsDown.get()&&s(l,m)})])}}})];const Ly=ue("slider.change.value"),tk=e=>{const r=e.event.raw;if((s=>s.type.indexOf("touch")!==-1)(r)){const s=r;return s.touches!==void 0&&s.touches.length===1?D.some(s.touches[0]).map(l=>Ur(l.clientX,l.clientY)):D.none()}{const s=r;return s.clientX!==void 0?D.some(s).map(l=>Ur(l.clientX,l.clientY)):D.none()}},Xh=e=>e.model.minX,cp=e=>e.model.minY,kf=e=>e.model.minX-1,Iy=e=>e.model.minY-1,dp=e=>e.model.maxX,up=e=>e.model.maxY,sv=e=>e.model.maxX+1,iv=e=>e.model.maxY+1,tS=(e,r,s)=>r(e)-s(e),ok=e=>tS(e,dp,Xh),nk=e=>tS(e,up,cp),oS=e=>ok(e)/2,nS=e=>nk(e)/2,Jh=(e,r)=>r?e.stepSize*e.speedMultiplier:e.stepSize,rS=e=>e.snapToGrid,rk=e=>e.snapStart,Fz=e=>e.rounded,ak=(e,r)=>e[r+"-edge"]!==void 0,sk=e=>ak(e,"left"),aS=e=>ak(e,"right"),sS=e=>ak(e,"top"),Lz=e=>ak(e,"bottom"),mp=e=>e.model.value.get(),gp=(e,r)=>({x:e,y:r}),em=(e,r)=>{An(e,Ly(),{value:r})},ik=(e,r,s,l)=>e<r?e:e>s?s:e===r?r-1:Math.max(r,e-l),lk=(e,r,s,l)=>e>s?e:e<r?r:e===s?s+1:Math.min(s,e+l),iS=(e,r,s)=>Math.max(r,Math.min(s,e)),lS=e=>{const{min:r,max:s,range:l,value:m,step:g,snap:h,snapStart:x,rounded:w,hasMinEdge:S,hasMaxEdge:M,minBound:z,maxBound:L,screenRange:U}=e,Z=S?r-1:r,re=M?s+1:s;if(m<z)return Z;if(m>L)return re;{const se=((oe,te,de)=>Math.min(de,Math.max(oe,te))-te)(m,z,L),pe=iS(se/U*l+r,Z,re);return h&&pe>=r&&pe<=s?((oe,te,de,me,xe)=>xe.fold(()=>{const Ke=oe-te,wt=Math.round(Ke/me)*me;return iS(te+wt,te-1,de+1)},Ke=>{const wt=(oe-Ke)%me,eo=Math.round(wt/me),qt=Math.floor((oe-Ke)/me),Jt=Math.floor((de-Ke)/me),ko=Ke+Math.min(Jt,qt+eo)*me;return Math.max(Ke,ko)}))(pe,r,s,g,x):w?Math.round(pe):pe}},cS=e=>{const{min:r,max:s,range:l,value:m,hasMinEdge:g,hasMaxEdge:h,maxBound:x,maxOffset:w,centerMinEdge:S,centerMaxEdge:M}=e;return m<r?g?0:S:m>s?h?x:M:(m-r)/l*w},Py="top",Iz="right",dS="bottom",ck="left",Dm=e=>e.element.dom.getBoundingClientRect(),Cu=(e,r)=>e[r],Qn=e=>{const r=Dm(e);return Cu(r,ck)},Hy=e=>{const r=Dm(e);return Cu(r,Iz)},lv=e=>{const r=Dm(e);return Cu(r,Py)},uS=e=>{const r=Dm(e);return Cu(r,dS)},mS=e=>{const r=Dm(e);return Cu(r,"width")},gS=e=>{const r=Dm(e);return Cu(r,"height")},pS=(e,r,s)=>(e+r)/2-s,jy=(e,r)=>{const s=Dm(e),l=Dm(r),m=Cu(s,ck),g=Cu(s,Iz),h=Cu(l,ck);return pS(m,g,h)},fS=(e,r)=>{const s=Dm(e),l=Dm(r),m=Cu(s,Py),g=Cu(s,dS),h=Cu(l,Py);return pS(m,g,h)},cv=(e,r)=>{An(e,Ly(),{value:r})},dv=(e,r,s)=>{const l={min:Xh(r),max:dp(r),range:ok(r),value:s,step:Jh(r),snap:rS(r),snapStart:rk(r),rounded:Fz(r),hasMinEdge:sk(r),hasMaxEdge:aS(r),minBound:Qn(e),maxBound:Hy(e),screenRange:mS(e)};return lS(l)},hS=e=>(r,s,l)=>((m,g,h,x)=>{const w=(m>0?lk:ik)(mp(h),Xh(h),dp(h),Jh(h,x));return cv(g,w),D.some(w)})(e,r,s,l).map(Rt),bS=(e,r,s,l,m,g)=>{const h=((x,w,S,M,z)=>{const L=mS(x),U=M.bind(se=>D.some(jy(se,x))).getOr(0),Z=z.bind(se=>D.some(jy(se,x))).getOr(L),re={min:Xh(w),max:dp(w),range:ok(w),value:S,hasMinEdge:sk(w),hasMaxEdge:aS(w),minBound:Qn(x),minOffset:0,maxBound:Hy(x),maxOffset:L,centerMinEdge:U,centerMaxEdge:Z};return cS(re)})(r,g,s,l,m);return Qn(r)-Qn(e)+h},X5=hS(-1),Pz=hS(1),J5=D.none,Q5=D.none,Hz={"top-left":D.none(),top:D.none(),"top-right":D.none(),right:D.some((e,r)=>{em(e,sv(r))}),"bottom-right":D.none(),bottom:D.none(),"bottom-left":D.none(),left:D.some((e,r)=>{em(e,kf(r))})};var eO=Object.freeze({__proto__:null,setValueFrom:(e,r,s)=>{const l=dv(e,r,s);return cv(e,l),l},setToMin:(e,r)=>{const s=Xh(r);cv(e,s)},setToMax:(e,r)=>{const s=dp(r);cv(e,s)},findValueOfOffset:dv,getValueFromEvent:e=>tk(e).map(r=>r.left),findPositionOfValue:bS,setPositionFromValue:(e,r,s,l)=>{const m=mp(s),g=bS(e,l.getSpectrum(e),m,l.getLeftEdge(e),l.getRightEdge(e),s),h=Xe(r.element)/2;Dn(r.element,"left",g-h+"px")},onLeft:X5,onRight:Pz,onUp:J5,onDown:Q5,edgeActions:Hz});const dk=(e,r)=>{An(e,Ly(),{value:r})},yS=(e,r,s)=>{const l={min:cp(r),max:up(r),range:nk(r),value:s,step:Jh(r),snap:rS(r),snapStart:rk(r),rounded:Fz(r),hasMinEdge:sS(r),hasMaxEdge:Lz(r),minBound:lv(e),maxBound:uS(e),screenRange:gS(e)};return lS(l)},vS=e=>(r,s,l)=>((m,g,h,x)=>{const w=(m>0?lk:ik)(mp(h),cp(h),up(h),Jh(h,x));return dk(g,w),D.some(w)})(e,r,s,l).map(Rt),xS=(e,r,s,l,m,g)=>{const h=((x,w,S,M,z)=>{const L=gS(x),U=M.bind(se=>D.some(fS(se,x))).getOr(0),Z=z.bind(se=>D.some(fS(se,x))).getOr(L),re={min:cp(w),max:up(w),range:nk(w),value:S,hasMinEdge:sS(w),hasMaxEdge:Lz(w),minBound:lv(x),minOffset:0,maxBound:uS(x),maxOffset:L,centerMinEdge:U,centerMaxEdge:Z};return cS(re)})(r,g,s,l,m);return lv(r)-lv(e)+h},jz=D.none,Vz=D.none,wS=vS(-1),$z=vS(1),Uz={"top-left":D.none(),top:D.some((e,r)=>{em(e,Iy(r))}),"top-right":D.none(),right:D.none(),"bottom-right":D.none(),bottom:D.some((e,r)=>{em(e,iv(r))}),"bottom-left":D.none(),left:D.none()};var tO=Object.freeze({__proto__:null,setValueFrom:(e,r,s)=>{const l=yS(e,r,s);return dk(e,l),l},setToMin:(e,r)=>{const s=cp(r);dk(e,s)},setToMax:(e,r)=>{const s=up(r);dk(e,s)},findValueOfOffset:yS,getValueFromEvent:e=>tk(e).map(r=>r.top),findPositionOfValue:xS,setPositionFromValue:(e,r,s,l)=>{const m=mp(s),g=xS(e,l.getSpectrum(e),m,l.getTopEdge(e),l.getBottomEdge(e),s),h=Da(r.element)/2;Dn(r.element,"top",g-h+"px")},onLeft:jz,onRight:Vz,onUp:wS,onDown:$z,edgeActions:Uz});const uv=(e,r)=>{An(e,Ly(),{value:r})},Gd=(e,r)=>({x:e,y:r}),Qh=(e,r)=>(s,l,m)=>((g,h,x,w,S)=>{const M=g>0?lk:ik,z=h?mp(w).x:M(mp(w).x,Xh(w),dp(w),Jh(w,S)),L=h?M(mp(w).y,cp(w),up(w),Jh(w,S)):mp(w).y;return uv(x,Gd(z,L)),D.some(z)})(e,r,s,l,m).map(Rt),uk=Qh(-1,!1),kS=Qh(1,!1),_S=Qh(-1,!0),Zz=Qh(1,!0),CS={"top-left":D.some((e,r)=>{em(e,gp(kf(r),Iy(r)))}),top:D.some((e,r)=>{em(e,gp(oS(r),Iy(r)))}),"top-right":D.some((e,r)=>{em(e,gp(sv(r),Iy(r)))}),right:D.some((e,r)=>{em(e,gp(sv(r),nS(r)))}),"bottom-right":D.some((e,r)=>{em(e,gp(sv(r),iv(r)))}),bottom:D.some((e,r)=>{em(e,gp(oS(r),iv(r)))}),"bottom-left":D.some((e,r)=>{em(e,gp(kf(r),iv(r)))}),left:D.some((e,r)=>{em(e,gp(kf(r),nS(r)))})};var qz=Object.freeze({__proto__:null,setValueFrom:(e,r,s)=>{const l=dv(e,r,s.left),m=yS(e,r,s.top),g=Gd(l,m);return uv(e,g),g},setToMin:(e,r)=>{const s=Xh(r),l=cp(r);uv(e,Gd(s,l))},setToMax:(e,r)=>{const s=dp(r),l=up(r);uv(e,Gd(s,l))},getValueFromEvent:e=>tk(e),setPositionFromValue:(e,r,s,l)=>{const m=mp(s),g=bS(e,l.getSpectrum(e),m.x,l.getLeftEdge(e),l.getRightEdge(e),s),h=xS(e,l.getSpectrum(e),m.y,l.getTopEdge(e),l.getBottomEdge(e),s),x=Xe(r.element)/2,w=Da(r.element)/2;Dn(r.element,"left",g-x+"px"),Dn(r.element,"top",h-w+"px")},onLeft:uk,onRight:kS,onUp:_S,onDown:Zz,edgeActions:CS});const tm=Xl({name:"Slider",configFields:[St("stepSize",1),St("speedMultiplier",10),St("onChange",Ae),St("onChoose",Ae),St("onInit",Ae),St("onDragStart",Ae),St("onDragEnd",Ae),St("snapToGrid",!1),St("rounded",!0),Lr("snapStart"),Ni("model",Hs("mode",{x:[St("minX",0),St("maxX",100),ui("value",e=>yn(e.mode.minX)),oo("getInitialValue"),Ha("manager",eO)],y:[St("minY",0),St("maxY",100),ui("value",e=>yn(e.mode.minY)),oo("getInitialValue"),Ha("manager",tO)],xy:[St("minX",0),St("maxX",100),St("minY",0),St("maxY",100),ui("value",e=>yn({x:e.mode.minX,y:e.mode.minY})),oo("getInitialValue"),Ha("manager",qz)]})),fo("sliderBehaviours",[Mn,Ge]),ui("mouseIsDown",()=>yn(!1))],partFields:Y5,factory:(e,r,s,l)=>{const m=oe=>Sm(oe,e,"thumb"),g=oe=>Sm(oe,e,"spectrum"),h=oe=>ja(oe,e,"left-edge"),x=oe=>ja(oe,e,"right-edge"),w=oe=>ja(oe,e,"top-edge"),S=oe=>ja(oe,e,"bottom-edge"),M=e.model,z=M.manager,L=(oe,te)=>{z.setPositionFromValue(oe,te,e,{getLeftEdge:h,getRightEdge:x,getTopEdge:w,getBottomEdge:S,getSpectrum:g})},U=(oe,te)=>{M.value.set(te);const de=m(oe);L(oe,de)},Z=oe=>{const te=e.mouseIsDown.get();e.mouseIsDown.set(!1),te&&ja(oe,e,"thumb").each(de=>{const me=M.value.get();e.onChoose(oe,de,me)})},re=(oe,te)=>{te.stop(),e.mouseIsDown.set(!0),e.onDragStart(oe,m(oe))},se=(oe,te)=>{te.stop(),e.onDragEnd(oe,m(oe)),Z(oe)},pe=oe=>{ja(oe,e,"spectrum").map(Mn.focusIn)};return{uid:e.uid,dom:e.dom,components:r,behaviours:Bo(e.sliderBehaviours,[Mn.config({mode:"special",focusIn:pe}),Ge.config({store:{mode:"manual",getValue:oe=>M.value.get(),setValue:U}}),Gl.config({channels:{[_()]:{onReceive:Z}}})]),events:Ta([Kt(Ly(),(oe,te)=>{((de,me)=>{U(de,me);const xe=m(de);e.onChange(de,xe,me)})(oe,te.event.value)}),Aa((oe,te)=>{const de=M.getInitialValue();M.value.set(de);const me=m(oe);L(oe,me);const xe=g(oe);e.onInit(oe,me,xe,M.value.get())}),Kt(T(),re),Kt(K(),se),Kt(Le(),(oe,te)=>{pe(oe),re(oe,te)}),Kt(cr(),se)]),apis:{resetToMin:oe=>{z.setToMin(oe,e)},resetToMax:oe=>{z.setToMax(oe,e)},setValue:U,refresh:L},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,r,s)=>{e.setValue(r,s)},resetToMin:(e,r)=>{e.resetToMin(r)},resetToMax:(e,r)=>{e.resetToMax(r)},refresh:(e,r)=>{e.refresh(r)}}}),mv=cn("rgb-hex-update"),SS=cn("slider-update"),ES=cn("palette-update"),zS="form",wg=[fo("formBehaviours",[Ge])],mk=e=>"<alloy.field."+e+">",Vy=(e,r)=>({uid:e.uid,dom:e.dom,components:r,behaviours:Bo(e.formBehaviours,[Ge.config({store:{mode:"manual",getValue:s=>{const l=e1(s,e);return tt(l,(m,g)=>m().bind(h=>{return x=qr.getCurrent(h),w=new Error(`Cannot find a current component to extract the value from for form part '${g}': `+Hc(h.element)),x.fold(()=>Dr.error(w),Dr.value);var x,w}).map(Ge.getValue))},setValue:(s,l)=>{Oo(l,(m,g)=>{ja(s,e,g).each(h=>{qr.getCurrent(h).each(x=>{Ge.setValue(x,m)})})})}}})]),apis:{getField:(s,l)=>ja(s,e,l).bind(qr.getCurrent)}}),kg={getField:jg((e,r,s)=>e.getField(r,s)),sketch:e=>{const r=(()=>{const g=[];return{field:(h,x)=>(g.push(h),Xp(zS,mk(h),x)),record:ue(g)}})(),s=e(r),l=r.record(),m=F(l,g=>hl({name:g,pname:mk(g)}));return t1(zS,wg,m,Vy,s)}},Wz=cn("valid-input"),gk=cn("invalid-input"),gv=cn("validating-input"),TS="colorcustom.rgb.",Gz={isEnabled:Rt,setEnabled:Ae,immediatelyShow:Ae,immediatelyHide:Ae},AS=(e,r,s,l,m,g)=>{const h=(U,Z)=>{const re=Z.get();U!==re.isEnabled()&&(re.setEnabled(U),U?re.immediatelyShow():re.immediatelyHide())},x=(U,Z,re)=>_u.config({invalidClass:r("invalid"),notify:{onValidate:se=>{An(se,gv,{type:U})},onValid:se=>{h(!1,re),An(se,Wz,{type:U,value:Ge.getValue(se)})},onInvalid:se=>{h(!0,re),An(se,gk,{type:U,value:Ge.getValue(se)})}},validator:{validate:se=>{const pe=Ge.getValue(se),oe=Z(pe)?Dr.value(!0):Dr.error(e("aria.input.invalid"));return qd(oe)},validateOnLoad:!1}}),w=(U,Z,re,se,pe)=>{const oe=yn(Gz),te=e(TS+"range"),de=va.parts.label({dom:{tag:"label",attributes:{"aria-label":se}},components:[qa(re)]}),me=va.parts.field({data:pe,factory:Al,inputAttributes:{type:"text",...Z==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:zo([x(Z,U,oe),hs.config({}),Bs.config({...m({tooltipText:"",onSetup:Jt=>{oe.set({isEnabled:()=>Bs.isEnabled(Jt),setEnabled:ko=>Bs.setEnabled(Jt,ko),immediatelyShow:()=>Bs.immediateOpenClose(Jt,!0),immediatelyHide:()=>Bs.immediateOpenClose(Jt,!1)}),Bs.setEnabled(Jt,!1)},onShow:(Jt,ko)=>{Bs.setComponents(Jt,[{dom:{tag:"p",classes:[r("rgb-warning-note")]},components:[qa(e(Z==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Jt=>{_u.isInvalid(Jt)&&_u.run(Jt).get(Ae)}}),xe=cn("aria-invalid"),Ke=ya(g("invalid",D.some(xe),"warning")),wt=[de,me,ya({dom:{tag:"div",classes:[r("invalid-icon")]},components:[Ke.asSpec()]}).asSpec()],eo=Z!=="hex"?[va.parts["aria-descriptor"]({text:te})]:[],qt=wt.concat(eo);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[r("rgb-container")]},components:qt}},S=(U,Z)=>{const re=Z.red,se=Z.green,pe=Z.blue;Ge.setValue(U,{red:re,green:se,blue:pe})},M=ya({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),z=(U,Z)=>{M.getOpt(U).each(re=>{Dn(re.element,"background-color","#"+Z.value)})};return Hd({factory:()=>{const U={red:yn(D.some(255)),green:yn(D.some(255)),blue:yn(D.some(255)),hex:yn(D.some("ffffff"))},Z=wt=>U[wt].get(),re=(wt,eo)=>{U[wt].set(eo)},se=wt=>{const eo=wt.red,qt=wt.green,Jt=wt.blue;re("red",D.some(eo)),re("green",D.some(qt)),re("blue",D.some(Jt))},pe=(wt,eo)=>{const qt=eo.event;qt.type!=="hex"?re(qt.type,D.none()):l(wt)},oe=(wt,eo)=>{const qt=eo.event;(Jt=>Jt.type==="hex")(qt)?((Jt,ko)=>{s(Jt);const en=U1(ko);re("hex",D.some(en.value));const En=hf(en);S(Jt,En),se(En),An(Jt,mv,{hex:en}),z(Jt,en)})(wt,qt.value):((Jt,ko,en)=>{const En=parseInt(en,10);re(ko,D.some(En)),Z("red").bind(Fn=>Z("green").bind(ir=>Z("blue").map(jr=>wu(Fn,ir,jr,1)))).each(Fn=>{const ir=((jr,zs)=>{const Ts=W1(zs);return kg.getField(jr,"hex").each(xa=>{Jn.isFocused(xa)||Ge.setValue(jr,{hex:Ts.value})}),Ts})(Jt,Fn);An(Jt,mv,{hex:ir}),z(Jt,ir)})})(wt,qt.type,qt.value)},te=wt=>({label:e(TS+wt+".label"),description:e(TS+wt+".description")}),de=te("red"),me=te("green"),xe=te("blue"),Ke=te("hex");return vs(kg.sketch(wt=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[wt.field("red",va.sketch(w(Mw,"red",de.label,de.description,255))),wt.field("green",va.sketch(w(Mw,"green",me.label,me.description,255))),wt.field("blue",va.sketch(w(Mw,"blue",xe.label,xe.description,255))),wt.field("hex",va.sketch(w(Wh,"hex",Ke.label,Ke.description,"ffffff"))),M.asSpec()],formBehaviours:zo([_u.config({invalidClass:r("form-invalid")}),pr("rgb-form-events",[Kt(Wz,oe),Kt(gk,pe),Kt(gv,pe)])])})),{apis:{updateHex:(wt,eo)=>{Ge.setValue(wt,{hex:eo.value}),((qt,Jt)=>{const ko=hf(Jt);S(qt,ko),se(ko)})(wt,eo),z(wt,eo)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(U,Z,re)=>{U.updateHex(Z,re)}},extraApis:{}})},oO=(e,r,s,l)=>Hd({name:"ColourPicker",configFields:[oo("dom"),St("onValidHex",Ae),St("onInvalidHex",Ae)],factory:g=>{const h=AS(e,r,g.onValidHex,g.onInvalidHex,s,l),x=((pe,oe)=>{const te=tm.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[oe("sv-palette-spectrum")]}}),de=tm.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[oe("sv-palette-thumb")],innerHtml:`<div class=${oe("sv-palette-inner-thumb")} role="presentation"></div>`}}),me=(xe,Ke)=>{const{width:wt,height:eo}=xe,qt=xe.getContext("2d");if(qt===null)return;qt.fillStyle=Ke,qt.fillRect(0,0,wt,eo);const Jt=qt.createLinearGradient(0,0,wt,0);Jt.addColorStop(0,"rgba(255,255,255,1)"),Jt.addColorStop(1,"rgba(255,255,255,0)"),qt.fillStyle=Jt,qt.fillRect(0,0,wt,eo);const ko=qt.createLinearGradient(0,0,0,eo);ko.addColorStop(0,"rgba(0,0,0,0)"),ko.addColorStop(1,"rgba(0,0,0,1)"),qt.fillStyle=ko,qt.fillRect(0,0,wt,eo)};return Hd({factory:xe=>{const Ke=ue({x:0,y:0}),wt=zo([qr.config({find:D.some}),Jn.config({})]);return tm.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":pe(["Saturation {0}%, Brightness {1}%",0,0])},classes:[oe("sv-palette")]},model:{mode:"xy",getInitialValue:Ke},rounded:!1,components:[te,de],onChange:(eo,qt,Jt)=>{ho(Jt)||wn(eo.element,"aria-valuetext",pe(["Saturation {0}%, Brightness {1}%",Math.floor(Jt.x),Math.floor(100-Jt.y)])),An(eo,ES,{value:Jt})},onInit:(eo,qt,Jt,ko)=>{me(Jt.element.dom,G1(Dw))},sliderBehaviours:wt})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(xe,Ke,wt)=>{((eo,qt)=>{const Jt=eo.components()[0].element.dom,ko=Cc(qt,100,100),en=CC(ko);me(Jt,G1(en))})(Ke,wt)},setThumb:(xe,Ke,wt)=>{((eo,qt)=>{const Jt=X1(hf(qt));tm.setValue(eo,{x:Jt.saturation,y:100-Jt.value}),wn(eo.element,"aria-valuetext",pe(["Saturation {0}%, Brightness {1}%",Jt.saturation,Jt.value]))})(Ke,wt)}},extraApis:{}})})(e,r),w={paletteRgba:yn(Dw),paletteHue:yn(0)},S=ya(((pe,oe)=>{const te=tm.parts.spectrum({dom:{tag:"div",classes:[oe("hue-slider-spectrum")],attributes:{role:"presentation"}}}),de=tm.parts.thumb({dom:{tag:"div",classes:[oe("hue-slider-thumb")],attributes:{role:"presentation"}}});return tm.sketch({dom:{tag:"div",classes:[oe("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:ue(0)},components:[te,de],sliderBehaviours:zo([Jn.config({})]),onChange:(me,xe,Ke)=>{wn(me.element,"aria-valuenow",Math.floor(360-3.6*Ke)),An(me,SS,{value:Ke})}})})(0,r)),M=ya(x.sketch({})),z=ya(h.sketch({})),L=(pe,oe,te)=>{M.getOpt(pe).each(de=>{x.setHue(de,te)})},U=(pe,oe)=>{z.getOpt(pe).each(te=>{h.updateHex(te,oe)})},Z=(pe,oe,te)=>{S.getOpt(pe).each(de=>{tm.setValue(de,(me=>100-me/360*100)(te))})},re=(pe,oe)=>{M.getOpt(pe).each(te=>{x.setThumb(te,oe)})},se=(pe,oe,te,de)=>{((me,xe)=>{const Ke=hf(me);w.paletteRgba.set(Ke),w.paletteHue.set(xe)})(oe,te),Ot(de,me=>{me(pe,oe,te)})};return{uid:g.uid,dom:g.dom,components:[M.asSpec(),S.asSpec(),z.asSpec()],behaviours:zo([pr("colour-picker-events",[Kt(mv,(()=>{const pe=[L,Z,re];return(oe,te)=>{const de=te.event.hex,me=(xe=>X1(hf(xe)))(de);se(oe,de,me.hue,pe)}})()),Kt(ES,(()=>{const pe=[U];return(oe,te)=>{const de=te.event.value,me=w.paletteHue.get(),xe=Cc(me,de.x,100-de.y),Ke=SC(xe);se(oe,Ke,me,pe)}})()),Kt(SS,(()=>{const pe=[L,U];return(oe,te)=>{const de=(eo=>(100-eo)/100*360)(te.event.value),me=w.paletteRgba.get(),xe=X1(me),Ke=Cc(de,xe.saturation,xe.value),wt=SC(Ke);se(oe,wt,de,pe)}})())]),qr.config({find:pe=>z.getOpt(pe)}),Mn.config({mode:"acyclic"})])}}}),pp=()=>qr.config({find:D.some}),OS=e=>qr.config({find:r=>or(r.element,e).bind(s=>r.getSystem().getByDom(s).toOptional())}),Kz=Hn([St("preprocess",$e),St("postprocess",$e)]),NS=(e,r)=>{const s=si("RepresentingConfigs.memento processors",Kz,r);return Ge.config({store:{mode:"manual",getValue:l=>{const m=e.get(l),g=Ge.getValue(m);return s.postprocess(g)},setValue:(l,m)=>{const g=s.preprocess(m),h=e.get(l);Ge.setValue(h,g)}}})},eb=(e,r,s)=>Ge.config({store:{mode:"manual",...e.map(l=>({initialValue:l})).getOr({}),getValue:r,setValue:s}}),MS=(e,r,s)=>eb(e,l=>r(l.element),(l,m)=>s(l.element,m)),pk=e=>Ge.config({store:{mode:"memory",initialValue:e}}),DS={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var Yz=tinymce.util.Tools.resolve("tinymce.Resource");const Xz=e=>Xo(e,"init");var _g=tinymce.util.Tools.resolve("tinymce.util.Tools");const RS=cn("browse.files.event"),fk=(e,r,s)=>{const l=(S,M)=>{M.stop()},m=S=>(M,z)=>{Ot(S,L=>{L(M,z)})},g=ya({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:zo([pr("input-file-events",[Bu(Bc()),Bu(Du())])])}),h=e.label.map(S=>xf(S,r)),x=va.parts.field({factory:ol,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[qa(r.translate("Browse for an image")),g.asSpec()],action:S=>{g.get(S).element.dom.click()},buttonBehaviours:zo([pp(),pk(s.getOr([])),hs.config({}),Zh(()=>r.checkUiComponentContext(e.context).shouldDisable),li(()=>r.checkUiComponentContext(e.context))])}),w={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:zo([Wn.config({disabled:()=>r.checkUiComponentContext(e.context).shouldDisable}),li(()=>r.checkUiComponentContext(e.context)),gr.config({toggleClass:"dragenter",toggleOnExecute:!1}),pr("dropzone-events",[Kt("dragenter",m([l,gr.toggle])),Kt("dragleave",m([l,gr.toggle])),Kt("dragover",l),Kt("drop",m([l,(S,M)=>{var z;if(!Wn.isDisabled(S)){const L=M.event.raw;An(S,RS,{files:(z=L.dataTransfer)===null||z===void 0?void 0:z.files})}}])),Kt(fc(),(S,M)=>{const z=M.event.raw.target;An(S,RS,{files:z.files})})])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[qa(r.translate("Drop an image here"))]},x]}]};return Ry(h,w,["tox-form__group--stretched"],[pr("handle-files",[Kt(RS,(S,M)=>{va.getField(S).each(z=>{var L,U;L=z,(U=M.event.files)&&(Ge.setValue(L,((Z,re)=>{const se=_g.explode(re.getOption("images_file_types"));return ro(_t(Z),pe=>$t(se,oe=>Fa(pe.name.toLowerCase(),`.${oe.toLowerCase()}`)))})(U,r)),An(L,Wc,{name:e.name}))})})])])},BS=(e,r)=>{let s=null;const l=()=>{Io(s)||(clearTimeout(s),s=null)};return{cancel:l,throttle:(...m)=>{l(),s=setTimeout(()=>{s=null,e.apply(null,m)},r)}}},$y=cn("alloy-fake-before-tabstop"),FS=cn("alloy-fake-after-tabstop"),hk=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:zo([Jn.config({ignore:!0}),hs.config({})])}),Uy=(e,r)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[hk([$y]),r,hk([FS])],behaviours:zo([OS(1)])}),LS=(e,r)=>{An(e,Za(),{raw:{which:9,shiftKey:r}})},Jz=(e,r)=>{const s=r.element;Rn(s,$y)?LS(e,!0):Rn(s,FS)&&LS(e,!1)},Zy=e=>tv(e,["."+$y,"."+FS].join(","),Uo),pv=cn("update-dialog"),bk=cn("update-title"),fv=cn("update-body"),tb=cn("update-footer"),IS=cn("body-send-message"),hv=cn("dialog-focus-shifted"),yk=Ms().browser,ob=yk.isSafari(),PS=yk.isFirefox(),Qz=ob||PS,nO=yk.isChromium(),HS=({scrollTop:e,scrollHeight:r,clientHeight:s})=>Math.ceil(e)+s>=r,eT=(e,r)=>e.scrollTo(0,r==="bottom"?99999999:r),tT=(e,r,s)=>{const l=e.dom;D.from(l.contentDocument).fold(s,m=>{let g=0;const h=((w,S)=>{const M=w.body;return D.from(!/^<!DOCTYPE (html|HTML)/.test(S)&&(!nO&&!ob||Ve(M)&&(M.scrollTop!==0||Math.abs(M.scrollHeight-M.clientHeight)>1))?M:w.documentElement)})(m,r).map(w=>(g=w.scrollTop,w)).forall(HS),x=()=>{const w=l.contentWindow;Ve(w)&&(h?eT(w,"bottom"):!h&&Qz&&g!==0&&eT(w,g))};ob&&l.addEventListener("load",x,{once:!0}),m.open(),m.write(r),m.close(),ob||x()})},rO=Nr(Qz,ob?500:200).map(e=>((r,s)=>{let l=null,m=null;return{cancel:()=>{Io(l)||(clearTimeout(l),l=null,m=null)},throttle:(...g)=>{m=g,Io(l)&&(l=setTimeout(()=>{const h=m;l=null,m=null,r.apply(null,h)},s))}}})(tT,e)),oT=cn("toolbar.button.execute"),nb=cn("common-button-display-events"),nT={[_l()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Ul()]:["toolbar-button-events",nb],[Lc()]:["toolbar-button-events","dropdown-events","tooltipping"],[Le()]:["focusing","alloy.base.behaviour",nb]},jS=e=>Dn(e.element,"width",Ua(e.element,"width")),VS=(e,r,s)=>vu(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:s},r),rb=(e,r)=>VS(e,r,[]),_f=(e,r)=>VS(e,r,[rr.config({})]),$S=(e,r,s)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[qa(s.translate(e))],behaviours:zo([rr.config({})])}),fd=cn("update-menu-text"),Cf=cn("update-menu-icon"),US=(e,r,s,l)=>{const m=yn(Ae),g=e.text.map(re=>ya($S(re,r,s.providers))),h=e.icon.map(re=>ya(_f(re,s.providers.icons))),x=(re,se)=>{const pe=Ge.getValue(re);return Jn.focus(pe),An(pe,"keydown",{raw:se.event.raw}),Wd.close(pe),D.some(!0)},w=e.role.fold(()=>({}),re=>({role:re})),S=D.from(e.listRole).map(re=>({listRole:re})).getOr({}),M=e.ariaLabel.fold(()=>({}),re=>({"aria-label":s.providers.translate(re)})),z=vu("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},s.providers.icons),L=cn("common-button-display-events"),U="dropdown-events";return ya(Wd.sketch({...e.uid?{uid:e.uid}:{},...w,...S,dom:{tag:"button",classes:[r,`${r}--select`].concat(F(e.classes,re=>`${r}--${re}`)),attributes:{...M,...Ve(l)?{"data-mce-name":l}:{}}},components:qh([h.map(re=>re.asSpec()),g.map(re=>re.asSpec()),D.some(z)]),matchWidth:!0,useMinWidth:!0,onOpen:(re,se,pe)=>{e.searchable&&(oe=>{CE(oe).each(te=>Jn.focus(te))})(pe)},dropdownBehaviours:zo([...e.dropdownBehaviours,Zh(()=>e.disabled||s.providers.checkUiComponentContext(e.context).shouldDisable),li(()=>s.providers.checkUiComponentContext(e.context)),Fy.config({}),rr.config({}),...e.tooltip.map(re=>Bs.config(s.providers.tooltips.getConfig({tooltipText:s.providers.translate(re)}))).toArray(),pr(U,[_c(e,m),hg(e,m)]),pr(L,[Aa((re,se)=>{e.listRole!=="listbox"&&jS(re)})]),pr("update-dropdown-width-variable",[Kt(ru(),(re,se)=>Wd.close(re))]),pr("menubutton-update-display-text",[Kt(fd,(re,se)=>{g.bind(pe=>pe.getOpt(re)).each(pe=>{rr.set(pe,[qa(s.providers.translate(se.event.text))])})}),Kt(Cf,(re,se)=>{h.bind(pe=>pe.getOpt(re)).each(pe=>{rr.set(pe,[_f(se.event.icon,s.providers.icons)])})})])]),eventOrder:vs(nT,{[Le()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Ul()]:["toolbar-button-events",Bs.name(),U,L]}),sandboxBehaviours:zo([Mn.config({mode:"special",onLeft:x,onRight:x}),pr("dropdown-sandbox-events",[Kt(_y,(re,se)=>{(pe=>{const oe=Ge.getValue(pe),te=Ra(pe).map(mf);Wd.refetch(oe).get(()=>{const de=Ys.getCoupled(oe,"sandbox");te.each(me=>Ra(de).each(xe=>((Ke,wt)=>{Ge.setValue(Ke,wt.fetchPattern),Ke.element.dom.selectionStart=wt.selectionStart,Ke.element.dom.selectionEnd=wt.selectionEnd})(xe,me)))})})(re),se.stop()}),Kt(aC,(re,se)=>{((pe,oe)=>{(te=>Sr.getState(te).bind(ba.getHighlighted).bind(ba.getHighlighted))(pe).each(te=>{((de,me,xe,Ke)=>{const wt={...Ke,target:me};de.getSystem().triggerEvent(xe,me,wt)})(pe,te.element,oe.event.eventType,oe.event.interactionEvent)})})(re,se),se.stop()})])]),lazySink:s.getSink,toggleClass:`${r}--active`,parts:{menu:{...A1(0,e.columns,e.presets),fakeFocus:e.searchable,...e.listRole==="listbox"?{}:{onHighlightItem:qC,onCollapseMenu:(re,se,pe)=>{ba.getHighlighted(pe).each(oe=>{qC(re,pe,oe)})},onDehighlightItem:U5}}},getAnchorOverrides:()=>({maxHeightFunction:(re,se)=>{F0()(re,se-10)}}),fetch:re=>yg(mt(e.fetch,re))})).asSpec()},rT=e=>e.type==="separator",aO={type:"separator"},aT=(e,r)=>{const s=((l,m)=>{const g=ao(l,(h,x)=>(w=>mo(w))(x)?x===""?h:x==="|"?h.length>0&&!rT(h[h.length-1])?h.concat([aO]):h:Xo(m,x.toLowerCase())?h.concat([m[x.toLowerCase()]]):h:h.concat([x]),[]);return g.length>0&&rT(g[g.length-1])&&g.pop(),g})(mo(e)?e.split(" "):e,r);return co(s,(l,m)=>{if((g=>Xo(g,"getSubmenuItems"))(m)){const g=(x=>{const w=zt(x,"value").getOrThunk(()=>cn("generated-menu-item"));return vs({value:w},x)})(m),h=((x,w)=>{const S=x.getSubmenuItems(),M=aT(S,w);return{item:x,menus:vs(M.menus,{[x.value]:M.items}),expansions:vs(M.expansions,{[x.value]:x.value})}})(g,r);return{menus:vs(l.menus,h.menus),items:[h.item,...l.items],expansions:vs(l.expansions,h.expansions)}}return{...l,items:[m,...l.items]}},{menus:{},expansions:{},items:[]})},qy=(e,r,s,l)=>{const m=cn("primary-menu"),g=aT(e,s.shared.providers.menuItems());if(g.items.length===0)return D.none();const h=(z=>z.search.fold(()=>({searchMode:"no-search"}),L=>({searchMode:"search-with-field",placeholder:L.placeholder})))(l),x=Ww(m,g.items,r,s,l.isHorizontalMenu,h),w=(z=>z.search.fold(()=>({searchMode:"no-search"}),L=>({searchMode:"search-with-results"})))(l),S=tt(g.menus,(z,L)=>Ww(L,z,r,s,!1,w)),M=vs(S,as(m,x));return D.from(af.tieredData(m,M,g.expansions))},vk=e=>!Xo(e,"items"),sT="data-value",iT=(e,r,s,l,m)=>F(s,g=>vk(g)?{type:"togglemenuitem",...m?{}:{role:"option"},text:g.text,value:g.value,active:g.value===l,onAction:()=>{Ge.setValue(e,g.value),An(e,Wc,{name:r}),Jn.focus(e)}}:{type:"nestedmenuitem",text:g.text,getSubmenuItems:()=>iT(e,r,g.items,l,m)}),ZS=(e,r)=>We(e,s=>vk(s)?Nr(s.value===r,s):ZS(s.items,r)),lT=Hd({name:"HtmlSelect",configFields:[oo("options"),fo("selectBehaviours",[Jn,Ge]),St("selectClasses",[]),St("selectAttributes",{}),Lr("data")],factory:(e,r)=>{const s=F(e.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),l=e.data.map(m=>as("initialValue",m)).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:s,behaviours:Bo(e.selectBehaviours,[Jn.config({}),Ge.config({store:{mode:"manual",getValue:m=>pu(m.element),setValue:(m,g)=>{const h=De(e.options);yo(e.options,x=>x.value===g).isSome()?Wl(m.element,g):m.element.dom.selectedIndex===-1&&g===""&&h.each(x=>Wl(m.element,x.value))},...l}})])}}}),cT=ue([St("field1Name","field1"),St("field2Name","field2"),gu("onLockedChange"),ld(["lockClass"]),St("locked",!1),On("coupledFieldBehaviours",[qr,Ge])]),bv=(e,r)=>hl({factory:va,name:e,overrides:s=>({fieldBehaviours:zo([pr("coupled-input-behaviour",[Kt(Ri(),l=>{((m,g,h)=>ja(m,g,h).bind(qr.getCurrent))(l,s,r).each(m=>{ja(l,s,"lock").each(g=>{gr.isOn(g)&&s.onLockedChange(l,m,g)})})})])])})}),dT=ue([bv("field1","field2"),bv("field2","field1"),hl({factory:ol,schema:[oo("dom")],name:"lock",overrides:e=>({buttonBehaviours:zo([gr.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),hd=Xl({name:"FormCoupledInputs",configFields:cT(),partFields:dT(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,components:r,behaviours:Vn(e.coupledFieldBehaviours,[qr.config({find:D.some}),Ge.config({store:{mode:"manual",getValue:m=>{const g=Gu(m,e,["field1","field2"]);return{[e.field1Name]:Ge.getValue(g.field1()),[e.field2Name]:Ge.getValue(g.field2())}},setValue:(m,g)=>{const h=Gu(m,e,["field1","field2"]);Kn(g,e.field1Name)&&Ge.setValue(h.field1(),g[e.field1Name]),Kn(g,e.field2Name)&&Ge.setValue(h.field2(),g[e.field2Name])}}})]),apis:{getField1:m=>ja(m,e,"field1"),getField2:m=>ja(m,e,"field2"),getLock:m=>ja(m,e,"lock")}}),apis:{getField1:(e,r)=>e.getField1(r),getField2:(e,r)=>e.getField2(r),getLock:(e,r)=>e.getLock(r)}}),xk=e=>{const r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(r!==null){const s=parseFloat(r[1]),l=r[2];return Dr.value({value:s,unit:l})}return Dr.error(e)},qS=(e,r)=>{const s={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=m=>Xo(s,m);return e.unit===r?D.some(e.value):l(e.unit)&&l(r)?s[e.unit]===s[r]?D.some(e.value):D.some(e.value/s[e.unit]*s[r]):D.none()},WS=e=>D.none(),Sf=(e,r)=>{const s=e.label.map(M=>xf(M,r)),l=[Wn.config({disabled:()=>e.disabled||r.checkUiComponentContext(e.context).shouldDisable}),li(()=>r.checkUiComponentContext(e.context)),Mn.config({mode:"execution",useEnter:e.multiline!==!0,useControlEnter:e.multiline===!0,execute:M=>(Rr(M,rv),D.some(!0))}),pr("textfield-change",[Kt(Ri(),(M,z)=>{An(M,Wc,{name:e.name})}),Kt(Sp(),(M,z)=>{An(M,Wc,{name:e.name})})]),hs.config({})],m=e.validation.map(M=>_u.config({getRoot:z=>rn(z.element),invalidClass:"tox-invalid",validator:{validate:z=>{const L=Ge.getValue(z),U=M.validator(L);return qd(U===!0?Dr.value(L):Dr.error(U))},validateOnLoad:M.validateOnLoad}})).toArray(),g={...e.placeholder.fold(ue({}),M=>({placeholder:r.translate(M)})),...e.inputMode.fold(ue({}),M=>({inputmode:M})),"data-mce-name":e.name},h=va.parts.field({tag:e.multiline===!0?"textarea":"input",...e.data.map(M=>({data:M})).getOr({}),inputAttributes:g,inputClasses:[e.classname],inputBehaviours:zo(_e([l,m])),selectOnFocus:!1,factory:Al}),x=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[h]}:h,w=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),S=[Wn.config({disabled:()=>e.disabled||r.checkUiComponentContext(e.context).shouldDisable,onDisabled:M=>{va.getField(M).each(Wn.disable)},onEnabled:M=>{va.getField(M).each(Wn.enable)}}),li(()=>r.checkUiComponentContext(e.context))];return Ry(s,x,w,S)},Wy=(e,r)=>r.getAnimationRoot.fold(()=>e.element,s=>s(e)),Su=e=>e.dimension.property,Cg=(e,r)=>e.dimension.getDimension(r),yv=(e,r)=>{const s=Wy(e,r);Or(s,[r.shrinkingClass,r.growingClass])},wk=(e,r)=>{ln(e.element,r.openClass),lo(e.element,r.closedClass),Dn(e.element,Su(r),"0px"),Zs(e.element)},kk=(e,r)=>{ln(e.element,r.closedClass),lo(e.element,r.openClass),qn(e.element,Su(r))},uT=(e,r,s,l)=>{s.setCollapsed(),Dn(e.element,Su(r),Cg(r,e.element)),yv(e,r),wk(e,r),r.onStartShrink(e),r.onShrunk(e)},Gy=(e,r,s,l)=>{const m=l.getOrThunk(()=>Cg(r,e.element));s.setCollapsed(),Dn(e.element,Su(r),m),Zs(e.element);const g=Wy(e,r);ln(g,r.growingClass),lo(g,r.shrinkingClass),wk(e,r),r.onStartShrink(e)},Ky=(e,r,s)=>{const l=Cg(r,e.element);(l==="0px"?uT:Gy)(e,r,s,D.some(l))},_k=(e,r,s)=>{const l=Wy(e,r),m=Rn(l,r.shrinkingClass),g=Cg(r,e.element);kk(e,r);const h=Cg(r,e.element);(m?()=>{Dn(e.element,Su(r),g),Zs(e.element)}:()=>{wk(e,r)})(),ln(l,r.shrinkingClass),lo(l,r.growingClass),kk(e,r),Dn(e.element,Su(r),h),s.setExpanded(),r.onStartGrow(e)},Ck=(e,r,s)=>{const l=Wy(e,r);return Rn(l,r.growingClass)===!0},Yy=(e,r,s)=>{const l=Wy(e,r);return Rn(l,r.shrinkingClass)===!0};var mT=Object.freeze({__proto__:null,refresh:(e,r,s)=>{if(s.isExpanded()){qn(e.element,Su(r));const l=Cg(r,e.element);Dn(e.element,Su(r),l)}},grow:(e,r,s)=>{s.isExpanded()||_k(e,r,s)},shrink:(e,r,s)=>{s.isExpanded()&&Ky(e,r,s)},immediateShrink:(e,r,s)=>{s.isExpanded()&&uT(e,r,s)},hasGrown:(e,r,s)=>s.isExpanded(),hasShrunk:(e,r,s)=>s.isCollapsed(),isGrowing:Ck,isShrinking:Yy,isTransitioning:(e,r,s)=>Ck(e,r)||Yy(e,r),toggleGrow:(e,r,s)=>{(s.isExpanded()?Ky:_k)(e,r,s)},disableTransitions:yv,immediateGrow:(e,r,s)=>{s.isExpanded()||(kk(e,r),Dn(e.element,Su(r),Cg(r,e.element)),yv(e,r),s.setExpanded(),r.onStartGrow(e),r.onGrown(e))}}),gT=Object.freeze({__proto__:null,exhibit:(e,r,s)=>{const l=r.expanded;return rc(l?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:as(r.dimension.property,"0px")})},events:(e,r)=>Ta([su(Mu(),(s,l)=>{l.event.raw.propertyName===e.dimension.property&&(yv(s,e),r.isExpanded()&&qn(s.element,e.dimension.property),(r.isExpanded()?e.onGrown:e.onShrunk)(s))})])}),pT=[oo("closedClass"),oo("openClass"),oo("shrinkingClass"),oo("growingClass"),Lr("getAnimationRoot"),Hr("onShrunk"),Hr("onStartShrink"),Hr("onGrown"),Hr("onStartGrow"),St("expanded",!1),Ni("dimension",Hs("property",{width:[Ha("property","width"),Ha("getDimension",e=>Xe(e)+"px")],height:[Ha("property","height"),Ha("getDimension",e=>Da(e)+"px")]}))];const uc=Ar({fields:pT,name:"sliding",active:gT,apis:mT,state:Object.freeze({__proto__:null,init:e=>{const r=yn(e.expanded);return Ci({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:mt(r.set,!1),setExpanded:mt(r.set,!0),readState:()=>"expanded: "+r.get()})}})}),vv=e=>({isEnabled:()=>!Wn.isDisabled(e),setEnabled:r=>Wn.set(e,!r),setActive:r=>{const s=e.element;r?(lo(s,"tox-tbtn--enabled"),wn(s,"aria-pressed",!0)):(ln(s,"tox-tbtn--enabled"),Mr(s,"aria-pressed"))},isActive:()=>Rn(e.element,"tox-tbtn--enabled"),setText:r=>{An(e,fd,{text:r})},setIcon:r=>An(e,Cf,{icon:r})}),Ef=(e,r,s,l,m=!0,g)=>US({text:e.text,icon:e.icon,tooltip:e.tooltip,ariaLabel:e.tooltip,searchable:e.search.isSome(),role:l,fetch:(h,x)=>{const w={pattern:e.search.isSome()?Z5(h):""};e.fetch(S=>{x(qy(S,Tm.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:e.search}))},w,vv(h))},onSetup:e.onSetup,getApi:vv,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[hs.config({})]:[]],context:e.context},r,s.shared,g),fT=(e,r,s)=>{const l=g=>h=>{const x=!h.isActive();h.setActive(x),g.storage.set(x),s.shared.getSink().each(w=>{r().getOpt(w).each(S=>{Il(S.element),An(S,Mm,{name:g.name,value:g.storage.get()})})})},m=g=>h=>{h.setActive(g.storage.get())};return g=>{g(F(e,h=>{const x=h.text.fold(()=>({}),w=>({text:w}));return{type:h.type,active:!1,...x,context:h.context,onAction:l(h),onSetup:m(h)}}))}},hT=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":e}},components:[qa(e)]}),Sk=(e,r,s)=>{e.customStateIcon.each(l=>r.push(GS(l,s.shared.providers.icons,e.customStateIconTooltip.fold(()=>[],m=>[Bs.config(s.shared.providers.tooltips.getConfig({tooltipText:m}))]),["tox-icon-custom-state"],e.customStateIconTooltip.fold(()=>({}),m=>({title:m})))))},Ek=cn("leaf-label-event-id"),xv=({leaf:e,onLeafAction:r,visible:s,treeId:l,selectedId:m,backstage:g})=>{const h=e.menu.map(w=>Ef(w,"tox-mbtn",g,D.none(),s)),x=[hT(e.title)];return Sk(e,x,g),h.each(w=>x.push(w)),ol.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(s?["tox-tree--leaf__label--visible"]:[])},components:x,role:"treeitem",action:w=>{r(e.id),w.getSystem().broadcastOn([`update-active-item-${l}`],{value:e.id})},eventOrder:{[Za()]:[Ek,"keying"]},buttonBehaviours:zo([...s?[hs.config({})]:[],gr.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Gl.config({channels:{[`update-active-item-${l}`]:{onReceive:(w,S)=>{(S.value===e.id?gr.on:gr.off)(w)}}}}),pr(Ek,[Aa((w,S)=>{m.each(M=>{(M===e.id?gr.on:gr.off)(w)})}),Kt(Za(),(w,S)=>{const M=S.event.raw.code==="ArrowLeft",z=S.event.raw.code==="ArrowRight";M?(Uu(w.element,".tox-tree--directory").each(L=>{w.getSystem().getByDom(L).each(U=>{Dd(L,".tox-tree--directory__label").each(Z=>{U.getSystem().getByDom(Z).each(Jn.focus)})})}),S.stop()):z&&S.stop()})])])})},GS=(e,r,s,l,m)=>vu(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(l||[]),behaviours:s,attributes:m},r),KS=cn("directory-label-event-id"),sO=({directory:e,visible:r,noChildren:s,backstage:l})=>{const m=e.menu.map(w=>Ef(w,"tox-mbtn",l,D.none())),g=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(h=l.shared.providers.icons,GS("chevron-right",h,[]))]},hT(e.title)];var h;Sk(e,g,l),m.each(w=>{g.push(w)});const x=w=>{Uu(w.element,".tox-tree--directory").each(S=>{w.getSystem().getByDom(S).each(M=>{const z=!gr.isOn(M);gr.toggle(M),An(w,"expand-tree-node",{expanded:z,node:e.id})})})};return ol.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:g,action:x,eventOrder:{[Za()]:[KS,"keying"]},buttonBehaviours:zo([...r?[hs.config({})]:[],pr(KS,[Kt(Za(),(w,S)=>{const M=S.event.raw.code==="ArrowRight",z=S.event.raw.code==="ArrowLeft";M&&s&&S.stop(),(M||z)&&Uu(w.element,".tox-tree--directory").each(L=>{w.getSystem().getByDom(L).each(U=>{!gr.isOn(U)&&M||gr.isOn(U)&&z?(x(w),S.stop()):z&&!gr.isOn(U)&&(Uu(U.element,".tox-tree--directory").each(Z=>{Dd(Z,".tox-tree--directory__label").each(re=>{U.getSystem().getByDom(re).each(Jn.focus)})}),S.stop())})})})])])})},iO=({children:e,onLeafAction:r,visible:s,treeId:l,expandedIds:m,selectedId:g,backstage:h})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(x=>x.type==="leaf"?xv({leaf:x,selectedId:g,onLeafAction:r,visible:s,treeId:l,backstage:h}):zk({directory:x,expandedIds:m,selectedId:g,onLeafAction:r,labelTabstopping:s,treeId:l,backstage:h})),behaviours:zo([uc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:s}),rr.config({})])}),lO=cn("directory-event-id"),zk=({directory:e,onLeafAction:r,labelTabstopping:s,treeId:l,backstage:m,expandedIds:g,selectedId:h})=>{const{children:x}=e,w=yn(g),S=g.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[sO({directory:e,visible:s,noChildren:e.children.length===0,backstage:m}),iO({children:x,expandedIds:g,selectedId:h,onLeafAction:r,visible:S,treeId:l,backstage:m})],behaviours:zo([pr(lO,[Aa((M,z)=>{gr.set(M,S)}),Kt("expand-tree-node",(M,z)=>{const{expanded:L,node:U}=z.event;w.set(L?[...w.get(),U]:w.get().filter(Z=>Z!==U))})]),gr.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(M,z)=>{const L=M.components()[1],U=(Z=z,x.map(re=>re.type==="leaf"?xv({leaf:re,selectedId:h,onLeafAction:r,visible:Z,treeId:l,backstage:m}):zk({directory:re,expandedIds:w.get(),selectedId:h,onLeafAction:r,labelTabstopping:Z,treeId:l,backstage:m})));var Z;z?uc.grow(L):uc.shrink(L),rr.set(L,U)}})])}},cO=cn("tree-event-id");var dO=Object.freeze({__proto__:null,events:(e,r)=>{const s=e.stream.streams.setup(e,r);return Ta([Kt(e.event,s),nc(()=>r.cancel())].concat(e.cancelEvent.map(l=>[Kt(l,()=>r.cancel())]).getOr([])))}});const YS=e=>{const r=yn(null);return Ci({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:s=>{r.set(s)},cancel:()=>{const s=r.get();s!==null&&s.cancel()}})};var bT=Object.freeze({__proto__:null,throttle:YS,init:e=>e.stream.streams.state(e)}),Kd=[Ni("stream",Hs("mode",{throttle:[oo("delay"),St("stopEvent",!0),Ha("streams",{setup:(e,r)=>{const s=e.stream,l=BS(e.onStream,s.delay);return r.setTimer(l),(m,g)=>{l.throttle(m,g),s.stopEvent&&g.stop()}},state:YS})]})),St("event","input"),Lr("cancelEvent"),gu("onStream")];const XS=Ar({fields:Kd,name:"streaming",active:dO,state:bT}),wv=(e,r,s)=>{const l=Ge.getValue(s);Ge.setValue(r,l),yT(r)},JS=(e,r)=>{const s=e.element,l=pu(s),m=s.dom;ia(s,"type")!=="number"&&r(m,l)},yT=e=>{JS(e,(r,s)=>r.setSelectionRange(s.length,s.length))},ab=ue("alloy.typeahead.itemexecute"),Tk=ue([Lr("lazySink"),oo("fetch"),St("minChars",5),St("responseTime",1e3),Hr("onOpen"),St("getHotspot",D.some),St("getAnchorOverrides",ue({})),St("layouts",D.none()),St("eventOrder",{}),Qs("model",{},[St("getDisplayText",e=>e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value),St("selectsOver",!0),St("populateFromBrowse",!0)]),Hr("onSetValue"),El("onExecute"),Hr("onItemExecute"),St("inputClasses",[]),St("inputAttributes",{}),St("inputStyles",{}),St("matchWidth",!0),St("useMinWidth",!1),St("dismissOnBlur",!0),ld(["openClass"]),Lr("initialData"),Lr("listRole"),fo("typeaheadBehaviours",[Jn,Ge,XS,Mn,gr,Ys]),ui("lazyTypeaheadComp",()=>yn(D.none)),ui("previewing",()=>yn(!0))].concat(ky()).concat(Jl())),uO=ue([Ld({schema:[ju()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(r,s,l)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each(m=>{((g,h,x)=>{if(g.selectsOver){const w=Ge.getValue(h),S=g.getDisplayText(w),M=Ge.getValue(x);return g.getDisplayText(M).indexOf(S)===0?D.some(()=>{wv(0,h,x),((z,L)=>{JS(z,(U,Z)=>U.setSelectionRange(L,Z.length))})(h,S.length)}):D.none()}return D.none()})(e.model,m,l).fold(()=>{e.model.selectsOver?(ba.dehighlight(s,l),e.previewing.set(!0)):e.previewing.set(!1)},g=>{g(),e.previewing.set(!1)})}):e.lazyTypeaheadComp.get().each(m=>{e.model.populateFromBrowse&&wv(e.model,m,l),Ga(l.element,"id").each(g=>wn(m.element,"aria-activedescendant",g))})},onExecute:(r,s)=>e.lazyTypeaheadComp.get().map(l=>(An(l,ab(),{item:s}),!0)),onHover:(r,s)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each(l=>{e.model.populateFromBrowse&&wv(e.model,l,s)})}})})]),Ak=Xl({name:"Typeahead",configFields:Tk(),partFields:uO(),factory:(e,r,s,l)=>{const m=(z,L,U)=>{e.previewing.set(!1);const Z=Ys.getCoupled(z,"sandbox");if(Sr.isOpen(Z))qr.getCurrent(Z).each(re=>{ba.getHighlighted(re).fold(()=>{U(re)},()=>{kb(Z,re.element,"keydown",L)})});else{const re=se=>{qr.getCurrent(se).each(U)};Kh(e,h(z),z,Z,l,re,lc.HighlightMenuAndItem).get(Ae)}},g=_E(e),h=z=>L=>L.map(U=>{const Z=Yn(U.menus),re=Vt(Z,se=>ro(se.items,pe=>pe.type==="item"));return Ge.getState(z).update(F(re,se=>se.data)),U}),x=z=>qr.getCurrent(z),w="typeaheadevents",S=[Jn.config({}),Ge.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:z=>pu(z.element),getFallbackEntry:z=>({value:z,meta:{}}),setValue:(z,L)=>{Wl(z.element,e.model.getDisplayText(L))},...e.initialData.map(z=>as("initialValue",z)).getOr({})}}),XS.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(z,L)=>{const U=Ys.getCoupled(z,"sandbox");if(Jn.isFocused(z)&&pu(z.element).length>=e.minChars){const Z=x(U).bind(se=>ba.getHighlighted(se).map(Ge.getValue));e.previewing.set(!0);const re=se=>{x(U).each(pe=>{Z.fold(()=>{e.model.selectsOver&&ba.highlightFirst(pe)},oe=>{ba.highlightBy(pe,te=>Ge.getValue(te).value===oe.value),ba.getHighlighted(pe).orThunk(()=>(ba.highlightFirst(pe),D.none()))})})};Kh(e,h(z),z,U,l,re,lc.HighlightJustMenu).get(Ae)}},cancelEvent:mm()}),Mn.config({mode:"special",onDown:(z,L)=>(m(z,L,ba.highlightFirst),D.some(!0)),onEscape:z=>{const L=Ys.getCoupled(z,"sandbox");return Sr.isOpen(L)?(Sr.close(L),D.some(!0)):D.none()},onUp:(z,L)=>(m(z,L,ba.highlightLast),D.some(!0)),onEnter:z=>{const L=Ys.getCoupled(z,"sandbox"),U=Sr.isOpen(L);if(U&&!e.previewing.get())return x(L).bind(Z=>ba.getHighlighted(Z)).map(Z=>(An(z,ab(),{item:Z}),!0));{const Z=Ge.getValue(z);return Rr(z,mm()),e.onExecute(L,z,Z),U&&Sr.close(L),D.some(!0)}}}),gr.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Ys.config({others:{sandbox:z=>ev(e,z,{onOpen:()=>gr.on(z),onClose:()=>{e.lazyTypeaheadComp.get().each(L=>Mr(L.element,"aria-activedescendant")),gr.off(z)}})}}),pr(w,[Aa(z=>{e.lazyTypeaheadComp.set(D.some(z))}),nc(z=>{e.lazyTypeaheadComp.set(D.none())}),lu(z=>{const L=Ae;VC(e,h(z),z,l,L,lc.HighlightMenuAndItem).get(Ae)}),Kt(ab(),(z,L)=>{const U=Ys.getCoupled(z,"sandbox");wv(e.model,z,L.event.item),Rr(z,mm()),e.onItemExecute(z,U,L.event.item,Ge.getValue(z)),Sr.close(U),yT(z)})].concat(e.dismissOnBlur?[Kt(dm(),z=>{const L=Ys.getCoupled(z,"sandbox");zl(L.element).isNone()&&Sr.close(L)})]:[]))],M={[Lc()]:[Ge.name(),XS.name(),w],...e.eventOrder};return{uid:e.uid,dom:Ju(vs(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...g,...Bo(e.typeaheadBehaviours,S)},eventOrder:M}}}),sb=e=>({...e,toCached:()=>sb(e.toCached()),bindFuture:r=>sb(e.bind(s=>s.fold(l=>qd(Dr.error(l)),l=>r(l)))),bindResult:r=>sb(e.map(s=>s.bind(r))),mapResult:r=>sb(e.map(s=>s.map(r))),mapError:r=>sb(e.map(s=>s.mapError(r))),foldResult:(r,s)=>e.map(l=>l.fold(r,s)),withTimeout:(r,s)=>sb(yg(l=>{let m=!1;const g=setTimeout(()=>{m=!0,l(Dr.error(s()))},r);e.get(h=>{m||(clearTimeout(g),l(h))})}))}),mO=e=>sb(yg(e)),Gc=(e,r,s=[],l,m,g,h)=>{const x=r.fold(()=>({}),M=>({action:M})),w={buttonBehaviours:zo([Tw(()=>!e.enabled||h.checkUiComponentContext(e.context).shouldDisable),li(()=>h.checkUiComponentContext(e.context)),hs.config({}),...g.map(M=>Bs.config(h.tooltips.getConfig({tooltipText:h.translate(M)}))).toArray(),pr("button press",[Zf("click")])].concat(s)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...x},S=vs(w,{dom:l});return vs(S,{components:m})},Ok=(e,r,s,l=[],m)=>{const g={tag:"button",classes:["tox-tbtn"],attributes:{...e.tooltip.map(w=>({"aria-label":s.translate(w)})).getOr({}),"data-mce-name":m}},h=e.icon.map(w=>rb(w,s.icons)),x=qh([h]);return Gc(e,r,l,g,x,e.tooltip,s)},Nk=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},QS=(e,r,s,l=[],m=[])=>{const g=s.translate(e.text),h=e.icon.map(z=>rb(z,s.icons)),x=[h.getOrThunk(()=>qa(g))],w=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),S={tag:"button",classes:[...Nk(w),...h.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...m],attributes:{"aria-label":g,"data-mce-name":e.text}},M=e.icon.map(ue(g));return Gc(e,r,l,S,x,M,s)},vT=(e,r,s,l=[],m=[])=>{const g=QS(e,D.some(r),s,l,m);return ol.sketch(g)},e4=(e,r)=>s=>{r==="custom"?An(s,Mm,{name:e,value:{}}):r==="submit"?Rr(s,rv):r==="cancel"?Rr(s,lp):console.error("Unknown button type: ",r)},Mk=(e,r,s)=>{if(((l,m)=>m==="menu")(0,r)){const l=()=>h,m=e,g={...e,type:"menubutton",search:D.none(),onSetup:x=>(x.setEnabled(e.enabled),Ae),fetch:fT(m.items,l,s)},h=ya(Ef(g,"tox-tbtn",s,D.none(),!0,e.text.or(e.tooltip).getOrUndefined()));return h.asSpec()}if(((l,m)=>m==="custom"||m==="cancel"||m==="submit")(0,r)){const l=e4(e.name,r),m={...e,context:r==="cancel"?"any":e.context,borderless:!1};return vT(m,l,s.shared.providers,[])}if(((l,m)=>m==="togglebutton")(0,r))return((l,m,g)=>{var h,x;const w=l.icon.map(te=>_f(te,m.icons)).map(ya),S=l.buttonType.getOr(l.primary?"primary":"secondary"),M={...l,name:(h=l.name)!==null&&h!==void 0?h:"",primary:S==="primary",tooltip:l.tooltip,enabled:(x=l.enabled)!==null&&x!==void 0&&x,borderless:!1},z=M.tooltip.or(l.text).map(te=>({"aria-label":m.translate(te)})).getOr({}),L=Nk(S??"secondary"),U=l.icon.isSome()&&l.text.isSome(),Z={tag:"button",classes:[...L.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...U?["tox-button--icon-and-text"]:[]],attributes:{...z,...Ve(g)?{"data-mce-name":g}:{}}},re=m.translate(l.text.getOr("")),se=qa(re),pe=[...qh([w.map(te=>te.asSpec())]),...l.text.isSome()?[se]:[]],oe=Gc(M,D.some(te=>{An(te,Mm,{name:l.name,value:{setIcon:de=>{w.map(me=>me.getOpt(te).each(xe=>{rr.set(xe,[_f(de,m.icons)])}))}}})}),[],Z,pe,l.tooltip,m);return ol.sketch(oe)})(e,s.shared.providers,e.text.or(e.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")},xT={type:"separator"},wT=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:Ae}),Dk=(e,r)=>({type:"menuitem",value:r,text:e,meta:{attach:void 0},onAction:Ae}),t4=(e,r)=>(s=>F(s,wT))(((s,l)=>ro(l,m=>m.type===s))(e,r)),kT=e=>t4("header",e.targets),_T=e=>t4("anchor",e.targets),CT=e=>D.from(e.anchorTop).map(r=>Dk("<top>",r)).toArray(),gO=e=>D.from(e.anchorBottom).map(r=>Dk("<bottom>",r)).toArray(),o4=(e,r)=>{const s=e.toLowerCase();return ro(r,l=>{var m;const g=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,h=(m=l.value)!==null&&m!==void 0?m:"";return $r(g.toLowerCase(),s)||$r(h.toLowerCase(),s)})},ST=cn("aria-invalid"),pO=(e,r)=>{e.dom.checked=r},fO=e=>e.dom.checked,Si=e=>(r,s,l,m,g)=>zt(s,"name").fold(()=>e(s,m,D.none(),g),h=>r.field(h,e(s,m,zt(l,h),g))),n4={bar:Si((e,r)=>((s,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:F(s.items,l.interpreter)}))(e,r.shared)),collection:Si((e,r,s)=>q5(e,r.shared.providers,s)),alertbanner:Si((e,r)=>((s,l)=>{const m=fw(s.icon,l.icons);return ku.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${s.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:s.url?void 0:m},components:s.url?[ol.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:m,attributes:{title:l.translate(s.iconTooltip)}},action:g=>An(g,Mm,{name:"alert-banner",value:s.url}),buttonBehaviours:zo([J2()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(s.text)}}]})})(e,r.shared.providers)),input:Si((e,r,s)=>((l,m,g)=>Sf({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:D.none(),maximized:l.maximized,data:g,context:l.context},m))(e,r.shared.providers,s)),textarea:Si((e,r,s)=>((l,m,g)=>Sf({name:l.name,multiline:!0,label:l.label,inputMode:D.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:D.none(),maximized:l.maximized,data:g,context:l.context},m))(e,r.shared.providers,s)),label:Si((e,r,s,l)=>((m,g,h)=>{const x="tox-label",w=m.align==="center"?[`${x}--center`]:[],S=m.align==="end"?[`${x}--end`]:[],M=ya({dom:{tag:"label",classes:[x,...w,...S]},components:[qa(g.providers.translate(m.label))]}),z=F(m.items,g.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[M.asSpec(),...z],behaviours:zo([pp(),rr.config({}),(L=D.none(),MS(L,Li,mu)),Mn.config({mode:"acyclic"}),pr("label",[Aa(U=>{m.for.each(Z=>{h(Z).each(re=>{M.getOpt(U).each(se=>{var pe;const oe=(pe=ia(re.element,"id"))!==null&&pe!==void 0?pe:cn("form-field");wn(re.element,"id",oe),wn(se.element,"for",oe)})})})})])])};var L})(e,r.shared,l)),iframe:(C4=(e,r,s)=>((l,m,g)=>{const h="tox-dialog__iframe",x=l.transparent?[]:[`${h}--opaque`],w=l.border?["tox-navobj-bordered"]:[],S={...l.label.map(U=>({title:U})).getOr({}),...g.map(U=>({srcdoc:U})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},M=((U,Z)=>{const re=yn(U.getOr(""));return{getValue:se=>re.get(),setValue:(se,pe)=>{if(re.get()!==pe){const oe=se.element,te=()=>wn(oe,"srcdoc",pe);Z?rO.fold(ue(tT),de=>de.throttle)(oe,pe,te):te()}re.set(pe)}}})(g,l.streamContent),z=l.label.map(U=>xf(U,m)),L=va.parts.field({factory:{sketch:U=>Uy(D.from(w),{uid:U.uid,dom:{tag:"iframe",attributes:S,classes:[h,...x]},behaviours:zo([hs.config({}),Jn.config({}),eb(g,M.getValue,M.setValue),Gl.config({channels:{[hv]:{onReceive:(Z,re)=>{re.newFocus.each(se=>{rn(Z.element).each(pe=>{(dn(Z.element,se)?lo:ln)(pe,"tox-navobj-bordered-focus")})})}}}})])})}});return Ry(z,L,["tox-form__group--stretched"],[])})(e,r.shared.providers,s),(e,r,s,l,m)=>{const g=vs(r,{source:"dynamic"});return Si(C4)(e,g,s,l,m)}),button:Si((e,r)=>((s,l)=>{const m=e4(s.name,"custom");return g=D.none(),h=va.parts.field({factory:ol,...QS(s,D.some(m),l,[pk(""),pp()])}),Ry(g,h,[],[]);var g,h})(e,r.shared.providers)),checkbox:Si((e,r,s)=>((l,m,g)=>{const h=z=>(z.element.dom.click(),D.some(!0)),x=va.parts.field({factory:{sketch:$e},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:zo([pp(),Wn.config({disabled:()=>!l.enabled||m.checkUiComponentContext(l.context).shouldDisable,onDisabled:z=>{rn(z.element).each(L=>lo(L,"tox-checkbox--disabled"))},onEnabled:z=>{rn(z.element).each(L=>ln(L,"tox-checkbox--disabled"))}}),hs.config({}),Jn.config({}),MS(g,fO,pO),Mn.config({mode:"special",onEnter:h,onSpace:h,stopSpaceKeyup:!0}),pr("checkbox-events",[Kt(fc(),(z,L)=>{An(z,Wc,{name:l.name})})])])}),w=va.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[qa(m.translate(l.label))],behaviours:zo([Fy.config({})])}),S=z=>vu(z==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+z]},m.icons),M=ya({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[S("checked"),S("unchecked")]});return va.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[x,M.asSpec(),w],fieldBehaviours:zo([Wn.config({disabled:()=>!l.enabled||m.checkUiComponentContext(l.context).shouldDisable}),li(()=>m.checkUiComponentContext(l.context))])})})(e,r.shared.providers,s)),colorinput:Si((e,r,s)=>((l,m,g,h)=>{const x=va.parts.field({factory:Al,inputClasses:["tox-textfield"],data:h,onSetValue:z=>_u.run(z).get(Ae),inputBehaviours:zo([Wn.config({disabled:()=>m.providers.isDisabled()||m.providers.checkUiComponentContext(l.context).shouldDisable}),li(()=>m.providers.checkUiComponentContext(l.context)),hs.config({}),_u.config({invalidClass:"tox-textbox-field-invalid",getRoot:z=>rn(z.element),notify:{onValid:z=>{const L=Ge.getValue(z);An(z,JC,{color:L})}},validator:{validateOnLoad:!1,validate:z=>{const L=Ge.getValue(z);if(L.length===0)return qd(Dr.value(!0));{const U=nt("span");Dn(U,"background-color",L);const Z=to(U,"background-color").fold(()=>Dr.error("blah"),re=>Dr.value(L));return qd(Z)}}}})]),selectOnFocus:!1}),w=l.label.map(z=>xf(z,m.providers)),S=(z,L)=>{An(z,Oz,{value:L})},M=ya(((z,L)=>Wd.sketch({dom:z.dom,components:z.components,toggleClass:"mce-active",dropdownBehaviours:zo([Zh(()=>L.providers.isDisabled()||L.providers.checkUiComponentContext(z.context).shouldDisable),li(()=>L.providers.checkUiComponentContext(z.context)),Fy.config({}),hs.config({})]),layouts:z.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:L.getSink,fetch:U=>yg(Z=>z.fetch(Z)).map(Z=>D.from(Gw(vs(Q1(cn("menu-value"),Z,re=>{z.onItemAction(U,re)},z.columns,z.presets,Tm.CLOSE_ON_EXECUTE,Uo,L.providers),{movement:$w(z.columns,z.presets)})))),parts:{menu:A1(0,0,z.presets)}}))({dom:{tag:"span",attributes:{"aria-label":m.providers.translate("Color swatch")}},layouts:{onRtl:()=>[fi,pi,ei],onLtr:()=>[pi,fi,ei]},components:[],fetch:NC(g.getColors(l.storageKey),l.storageKey,g.hasCustomColors()),columns:g.getColorCols(l.storageKey),presets:"color",onItemAction:(z,L)=>{M.getOpt(z).each(U=>{L==="custom"?g.colorPicker(Z=>{Z.fold(()=>Rr(U,QC),re=>{S(U,re),Y1(l.storageKey,re)})},"#ffffff"):S(U,L==="remove"?"":L)})},context:l.context},m));return va.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:w.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[x,M.asSpec()]}]),fieldBehaviours:zo([pr("form-field-events",[Kt(JC,(z,L)=>{M.getOpt(z).each(U=>{Dn(U.element,"background-color",L.event.color)}),An(z,Wc,{name:l.name})}),Kt(Oz,(z,L)=>{va.getField(z).each(U=>{Ge.setValue(U,L.event.value),qr.getCurrent(z).each(Jn.focus)})}),Kt(QC,(z,L)=>{va.getField(z).each(U=>{qr.getCurrent(z).each(Jn.focus)})})])])})})(e,r.shared,r.colorinput,s)),colorpicker:Si((e,r,s)=>((l,m,g)=>{const h=S=>"tox-"+S,x=oO((S=>M=>mo(M)?S.translate(DS[M]):S.translate(M))(m),h,m.tooltips.getConfig,(S,M,z=S,L=S)=>vu(z,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+S],attributes:{title:m.translate(L),"aria-live":"polite",...M.fold(()=>({}),U=>({id:U}))}},m.icons)),w=ya(x.sketch({dom:{tag:"div",classes:[h("color-picker-container")],attributes:{role:"presentation"}},onValidHex:S=>{An(S,Mm,{name:"hex-valid",value:!0})},onInvalidHex:S=>{An(S,Mm,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[w.asSpec()],behaviours:zo([eb(g,S=>{const M=w.get(S);return qr.getCurrent(M).bind(z=>Ge.getValue(z).hex).map(z=>"#"+jo(z,"#")).getOr("")},(S,M)=>{const z=D.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(M)).bind(U=>he(U,1)),L=w.get(S);qr.getCurrent(L).fold(()=>{console.log("Can not find form")},U=>{Ge.setValue(U,{hex:z.getOr("")}),kg.getField(U,"hex").each(Z=>{Rr(Z,Ri())})})}),pp()])}})(0,r.shared.providers,s)),dropzone:Si((e,r,s)=>fk(e,r.shared.providers,s)),grid:Si((e,r)=>((s,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${s.columns}col`]},components:F(s.items,l.interpreter)}))(e,r.shared)),listbox:Si((e,r,s)=>((l,m,g)=>{const h=$t(l.items,L=>!vk(L)),x=m.shared.providers,w=g.bind(L=>ZS(l.items,L)).orThunk(()=>De(l.items).filter(vk)),S=l.label.map(L=>xf(L,x)),M=va.parts.field({dom:{},factory:{sketch:L=>US({context:l.context,uid:L.uid,text:w.map(U=>U.text),icon:D.none(),tooltip:D.none(),role:Nr(!h,"combobox"),...h?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:(U,Z)=>{const re=iT(U,l.name,l.items,Ge.getValue(U),h);Z(qy(re,Tm.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:D.none()}))},onSetup:ue(Ae),getApi:ue({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[hs.config({}),eb(w.map(U=>U.value),U=>ia(U.element,sT),(U,Z)=>{ZS(l.items,Z).each(re=>{wn(U.element,sT,re.value),An(U,fd,{text:re.text})})})]},"tox-listbox",m.shared)}}),z={dom:{tag:"div",classes:["tox-listboxfield"]},components:[M]};return va.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:_e([S.toArray(),[z]]),fieldBehaviours:zo([Wn.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:L=>{va.getField(L).each(Wn.disable)},onEnabled:L=>{va.getField(L).each(Wn.enable)}})])})})(e,r,s)),selectbox:Si((e,r,s)=>((l,m,g)=>{const h=F(l.items,z=>({text:m.translate(z.text),value:z.value})),x=l.label.map(z=>xf(z,m)),w=va.parts.field({dom:{},...g.map(z=>({data:z})).getOr({}),selectAttributes:{size:l.size},options:h,factory:lT,selectBehaviours:zo([Wn.config({disabled:()=>!l.enabled||m.checkUiComponentContext(l.context).shouldDisable}),hs.config({}),pr("selectbox-change",[Kt(fc(),(z,L)=>{An(z,Wc,{name:l.name})})])])}),S=l.size>1?D.none():D.some(vu("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},m.icons)),M={dom:{tag:"div",classes:["tox-selectfield"]},components:_e([[w],S.toArray()])};return va.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:_e([x.toArray(),[M]]),fieldBehaviours:zo([Wn.config({disabled:()=>!l.enabled||m.checkUiComponentContext(l.context).shouldDisable,onDisabled:z=>{va.getField(z).each(Wn.disable)},onEnabled:z=>{va.getField(z).each(Wn.enable)}}),li(()=>m.checkUiComponentContext(l.context))])})})(e,r.shared.providers,s)),sizeinput:Si((e,r)=>((s,l)=>{let m=WS;const g=cn("ratio-event"),h=re=>vu(re,{tag:"span",classes:["tox-icon","tox-lock-icon__"+re]},l.icons),x=s.label.getOr("Constrain proportions"),w=l.translate(x),S=hd.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":w,"data-mce-name":x}},components:[h("lock"),h("unlock")],buttonBehaviours:zo([Wn.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable}),li(()=>l.checkUiComponentContext(s.context)),hs.config({}),Bs.config(l.tooltips.getConfig({tooltipText:w}))])}),M=re=>({dom:{tag:"div",classes:["tox-form__group"]},components:re}),z=re=>va.parts.field({factory:Al,inputClasses:["tox-textfield"],inputBehaviours:zo([Wn.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable}),li(()=>l.checkUiComponentContext(s.context)),hs.config({}),pr("size-input-events",[Kt(kn(),(se,pe)=>{An(se,g,{isField1:re})}),Kt(fc(),(se,pe)=>{An(se,Wc,{name:s.name})})])]),selectOnFocus:!1}),L=re=>({dom:{tag:"label",classes:["tox-label"]},components:[qa(l.translate(re))]}),U=hd.parts.field1(M([va.parts.label(L("Width")),z(!0)])),Z=hd.parts.field2(M([va.parts.label(L("Height")),z(!1)]));return hd.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[U,Z,M([L(" "),S])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(re,se,pe)=>{xk(Ge.getValue(re)).each(oe=>{m(oe).each(te=>{Ge.setValue(se,(de=>{const me={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let xe=de.value.toFixed((Ke=de.unit)in me?me[Ke]:1);var Ke;return xe.indexOf(".")!==-1&&(xe=xe.replace(/\.?0*$/,"")),xe+de.unit})(te))})})},coupledFieldBehaviours:zo([Wn.config({disabled:()=>!s.enabled||l.checkUiComponentContext(s.context).shouldDisable,onDisabled:re=>{hd.getField1(re).bind(va.getField).each(Wn.disable),hd.getField2(re).bind(va.getField).each(Wn.disable),hd.getLock(re).each(Wn.disable)},onEnabled:re=>{hd.getField1(re).bind(va.getField).each(Wn.enable),hd.getField2(re).bind(va.getField).each(Wn.enable),hd.getLock(re).each(Wn.enable)}}),li(()=>l.checkUiComponentContext("mode:design")),pr("size-input-events2",[Kt(g,(re,se)=>{const pe=se.event.isField1,oe=pe?hd.getField1(re):hd.getField2(re),te=pe?hd.getField2(re):hd.getField1(re),de=oe.map(Ge.getValue).getOr(""),me=te.map(Ge.getValue).getOr("");m=((xe,Ke)=>{const wt=xk(xe).toOptional(),eo=xk(Ke).toOptional();return Ft(wt,eo,(qt,Jt)=>qS(qt,Jt.unit).map(ko=>Jt.value/ko).map(ko=>{return en=ko,En=Jt.unit,Fn=>qS(Fn,En).map(ir=>({value:ir*en,unit:En}));var en,En}).getOr(WS)).getOr(WS)})(de,me)})])])})})(e,r.shared.providers)),slider:Si((e,r,s)=>((l,m,g)=>{const h=tm.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[qa(m.translate(l.label))]}),x=tm.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),w=tm.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return tm.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:ue(g.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[h,x,w],sliderBehaviours:zo([pp(),Jn.config({})]),onChoose:(S,M,z)=>{An(S,Wc,{name:l.name,value:z})},onChange:(S,M,z)=>{An(S,Wc,{name:l.name,value:z})}})})(e,r.shared.providers,s)),urlinput:Si((e,r,s)=>((l,m,g,h)=>{const x=m.shared.providers,w=oe=>{const te=Ge.getValue(oe);g.addToHistory(te.value,l.filetype)},S={...h.map(oe=>({initialData:oe})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":ST,type:"url"},minChars:0,responseTime:0,fetch:oe=>{const te=((me,xe,Ke)=>{var wt,eo;const qt=Ge.getValue(xe),Jt=(eo=(wt=qt==null?void 0:qt.meta)===null||wt===void 0?void 0:wt.text)!==null&&eo!==void 0?eo:qt.value;return Ke.getLinkInformation().fold(()=>[],ko=>{const en=o4(Jt,(Fn=>F(Fn,ir=>Dk(ir,ir)))(Ke.getHistory(me)));return me==="file"?(En=[en,o4(Jt,kT(ko)),o4(Jt,_e([CT(ko),_T(ko),gO(ko)]))],ao(En,(Fn,ir)=>Fn.length===0||ir.length===0?Fn.concat(ir):Fn.concat(xT,ir),[])):en;var En})})(l.filetype,oe,g),de=qy(te,Tm.BUBBLE_TO_SANDBOX,m,{isHorizontalMenu:!1,search:D.none()});return qd(de)},getHotspot:oe=>se.getOpt(oe),onSetValue:(oe,te)=>{oe.hasConfigured(_u)&&_u.run(oe).get(Ae)},typeaheadBehaviours:zo([...g.getValidationHandler().map(oe=>_u.config({getRoot:te=>rn(te.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(te,de)=>{L.getOpt(te).each(me=>{wn(me.element,"title",x.translate(de))})}},validator:{validate:te=>{const de=Ge.getValue(te);return mO(me=>{oe({type:l.filetype,url:de.value},xe=>{if(xe.status==="invalid"){const Ke=Dr.error(xe.message);me(Ke)}else{const Ke=Dr.value(xe.message);me(Ke)}})})},validateOnLoad:!1}})).toArray(),Wn.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable}),hs.config({}),pr("urlinput-events",[Kt(Ri(),oe=>{const te=pu(oe.element),de=te.trim();de!==te&&Wl(oe.element,de),l.filetype==="file"&&An(oe,Wc,{name:l.name})}),Kt(fc(),oe=>{An(oe,Wc,{name:l.name}),w(oe)}),Kt(Sp(),oe=>{An(oe,Wc,{name:l.name}),w(oe)})])]),eventOrder:{[Ri()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:oe=>oe.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:m.shared.getSink,parts:{menu:A1(0,0,"normal")},onExecute:(oe,te,de)=>{An(te,rv,{})},onItemExecute:(oe,te,de,me)=>{w(oe),An(oe,Wc,{name:l.name})}},M=va.parts.field({...S,factory:Ak}),z=l.label.map(oe=>xf(oe,x)),L=ya(((oe,te,de=oe,me=oe)=>vu(de,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+oe],attributes:{title:x.translate(me),"aria-live":"polite",...te.fold(()=>({}),xe=>({id:xe}))}},x.icons))("invalid",D.some(ST),"warning")),U=ya({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[L.asSpec()]}),Z=g.getUrlPicker(l.filetype),re=cn("browser.url.event"),se=ya({dom:{tag:"div",classes:["tox-control-wrap"]},components:[M,U.asSpec()],behaviours:zo([Wn.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable})])}),pe=ya(vT({context:l.context,name:l.name,icon:D.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:D.none(),borderless:!0},oe=>Rr(oe,re),x,[],["tox-browse-url"]));return va.sketch({dom:Sz([]),components:z.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:_e([[se.asSpec()],Z.map(()=>pe.asSpec()).toArray()])}]),fieldBehaviours:zo([Wn.config({disabled:()=>!l.enabled||x.checkUiComponentContext(l.context).shouldDisable,onDisabled:oe=>{va.getField(oe).each(Wn.disable),pe.getOpt(oe).each(Wn.disable)},onEnabled:oe=>{va.getField(oe).each(Wn.enable),pe.getOpt(oe).each(Wn.enable)}}),li(()=>x.checkUiComponentContext(l.context)),pr("url-input-events",[Kt(re,oe=>{qr.getCurrent(oe).each(te=>{const de=Ge.getValue(te),me={fieldname:l.name,...de};Z.each(xe=>{xe(me).get(Ke=>{Ge.setValue(te,Ke),An(oe,Wc,{name:l.name})})})})})])])})})(e,r,r.urlinput,s)),customeditor:Si(e=>{const r=Tr(),s=ya({dom:{tag:e.tag}}),l=Tr(),m=!Xz(e)&&e.onFocus.isSome()?[Jn.config({onFocus:g=>{e.onFocus.each(h=>{h(g.element.dom)})}}),hs.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:zo([pr("custom-editor-events",[Aa(g=>{s.getOpt(g).each(h=>{(Xz(e)?e.init(h.element.dom):Yz.load(e.scriptId,e.scriptUrl).then(x=>x(h.element.dom,e.settings))).then(x=>{l.on(w=>{x.setValue(w)}),l.clear(),r.set(x)})})})]),eb(D.none(),()=>r.get().fold(()=>l.get().getOr(""),g=>g.getValue()),(g,h)=>{r.get().fold(()=>l.set(h),x=>x.setValue(h))}),pp()].concat(m)),components:[s.asSpec()]}}),htmlpanel:Si((e,r)=>((s,l)=>{const m=["tox-form__group",...s.stretched?["tox-form__group--stretched"]:[]],g=pr("htmlpanel",[Aa(h=>{s.onInit(h.element.dom)})]);return s.presets==="presentation"?ku.sketch({dom:{tag:"div",classes:m,innerHtml:s.html},containerBehaviours:zo([Bs.config({...l.tooltips.getConfig({tooltipText:"",onShow:h=>{ws(h.element,"[data-mce-tooltip]:hover").orThunk(()=>zl(h.element)).each(x=>{Ga(x,"data-mce-tooltip").each(w=>{Bs.setComponents(h,l.tooltips.getComponents({tooltipText:w}))})})}}),mode:"children-normal",anchor:h=>({type:"node",node:ws(h.element,"[data-mce-tooltip]:hover").orThunk(()=>zl(h.element).filter(x=>Ga(x,"data-mce-tooltip").isSome())),root:h.element,layouts:{onLtr:ue([ei,ji,pi,ml,fi,Hi]),onRtl:ue([ei,ji,pi,ml,fi,Hi])},bubble:pl(0,-2,{})})}),g])}):ku.sketch({dom:{tag:"div",classes:m,innerHtml:s.html,attributes:{role:"document"}},containerBehaviours:zo([hs.config({}),Jn.config({}),g])})})(e,r.shared.providers)),imagepreview:Si((e,r,s)=>((l,m)=>{const g=yn(m.getOr({url:""})),h=ya({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:m.map(M=>({src:M.url})).getOr({})}}),x=ya({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[h.asSpec()]}),w={};l.height.each(M=>w.height=M);const S=m.map(M=>({url:M.url,zoom:D.from(M.zoom),cachedWidth:D.from(M.cachedWidth),cachedHeight:D.from(M.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[x.asSpec()],behaviours:zo([pp(),eb(S,()=>g.get(),(M,z)=>{const L={url:z.url};z.zoom.each(Z=>L.zoom=Z),z.cachedWidth.each(Z=>L.cachedWidth=Z),z.cachedHeight.each(Z=>L.cachedHeight=Z),g.set(L);const U=()=>{const{cachedWidth:Z,cachedHeight:re,zoom:se}=L;if(!gn(Z)&&!gn(re)){if(gn(se)){const oe=((te,de,me)=>{const xe=Xe(te),Ke=Da(te);return Math.min(xe/de,Ke/me,1)})(M.element,Z,re);L.zoom=oe}const pe=((oe,te,de,me,xe)=>{const Ke=de*xe,wt=me*xe,eo=Math.max(0,oe/2-Ke/2),qt=Math.max(0,te/2-wt/2);return{left:eo.toString()+"px",top:qt.toString()+"px",width:Ke.toString()+"px",height:wt.toString()+"px"}})(Xe(M.element),Da(M.element),Z,re,L.zoom);x.getOpt(M).each(oe=>{Xn(oe.element,pe)})}};h.getOpt(M).each(Z=>{const re=Z.element;var se;z.url!==ia(re,"src")&&(wn(re,"src",z.url),ln(M.element,"tox-imagepreview__loaded")),U(),(se=re,new Promise((pe,oe)=>{const te=()=>{me(),pe(se)},de=[Kl(se,"load",te),Kl(se,"error",()=>{me(),oe("Unable to load data from image: "+se.dom.src)})],me=()=>Ot(de,xe=>xe.unbind());se.dom.complete&&te()})).then(pe=>{M.getSystem().isConnected()&&(lo(M.element,"tox-imagepreview__loaded"),L.cachedWidth=pe.dom.naturalWidth,L.cachedHeight=pe.dom.naturalHeight,U())})})})])}})(e,s)),table:Si((e,r)=>((s,l)=>{const m=x=>({dom:{tag:"td",innerHtml:l.translate(x)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(h=s.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:F(h,x=>({dom:{tag:"th",innerHtml:l.translate(x)}}))}]}),(g=s.cells,{dom:{tag:"tbody"},components:F(g,x=>({dom:{tag:"tr"},components:F(x,m)}))})],behaviours:zo([hs.config({}),Jn.config({})])};var g,h})(e,r.shared.providers)),tree:Si((e,r)=>((s,l)=>{const m=s.onLeafAction.getOr(Ae),g=s.onToggleExpand.getOr(Ae),h=s.defaultExpandedIds,x=yn(h),w=yn(s.defaultSelectedId),S=cn("tree-id"),M=(z,L)=>s.items.map(U=>U.type==="leaf"?xv({leaf:U,selectedId:z,onLeafAction:m,visible:!0,treeId:S,backstage:l}):zk({directory:U,selectedId:z,onLeafAction:m,expandedIds:L,labelTabstopping:!0,treeId:S,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:M(w.get(),x.get()),behaviours:zo([Mn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),pr(cO,[Kt("expand-tree-node",(z,L)=>{const{expanded:U,node:Z}=L.event;x.set(U?[...x.get(),Z]:x.get().filter(re=>re!==Z)),g(x.get(),{expanded:U,node:Z})})]),Gl.config({channels:{[`update-active-item-${S}`]:{onReceive:(z,L)=>{w.set(D.some(L.value)),rr.set(z,M(D.some(L.value),x.get()))}}}}),rr.config({})])}})(e,r)),panel:Si((e,r)=>((s,l)=>({dom:{tag:"div",classes:s.classes},components:F(s.items,l.shared.interpreter)}))(e,r))},Rk={field:(e,r)=>r,record:ue([])},r4=(e,r,s,l,m)=>{const g=vs(l,{shared:{interpreter:h=>a4(e,h,s,g,m)}});return a4(e,r,s,g,m)},a4=(e,r,s,l,m)=>zt(n4,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),g=>g(e,r,s,l,m)),ET=(e,r,s,l)=>a4(Rk,e,r,s,l),zf="layout-inset",kv=e=>e.x,_v=(e,r)=>e.x+e.width/2-r.width/2,Bk=(e,r)=>e.x+e.width-r.width,Fk=e=>e.y,Cv=(e,r)=>e.y+e.height-r.height,zT=(e,r)=>e.y+e.height/2-r.height/2,Sv=(e,r,s)=>ii(Bk(e,r),Cv(e,r),s.insetSouthwest(),nh(),"southwest",Pi(e,{right:0,bottom:3}),zf),fp=(e,r,s)=>ii(kv(e),Cv(e,r),s.insetSoutheast(),z0(),"southeast",Pi(e,{left:1,bottom:3}),zf),Xy=(e,r,s)=>ii(Bk(e,r),Fk(e),s.insetNorthwest(),Fb(),"northwest",Pi(e,{right:0,top:2}),zf),Ev=(e,r,s)=>ii(kv(e),Fk(e),s.insetNortheast(),Qm(),"northeast",Pi(e,{left:1,top:2}),zf),om=(e,r,s)=>ii(_v(e,r),Fk(e),s.insetNorth(),mn(),"north",Pi(e,{top:2}),zf),ib=(e,r,s)=>ii(_v(e,r),Cv(e,r),s.insetSouth(),rh(),"south",Pi(e,{bottom:3}),zf),s4=(e,r,s)=>ii(Bk(e,r),zT(e,r),s.insetEast(),T0(),"east",Pi(e,{right:0}),zf),i4=(e,r,s)=>ii(kv(e),zT(e,r),s.insetWest(),Np(),"west",Pi(e,{left:1}),zf),Lk=e=>{switch(e){case"north":return om;case"northeast":return Ev;case"northwest":return Xy;case"south":return ib;case"southeast":return fp;case"southwest":return Sv;case"east":return s4;case"west":return i4}},Ik=(e,r,s,l,m)=>ch(l).map(Lk).getOr(om)(e,r,s,l,m),hO=e=>{switch(e){case"north":return ib;case"northeast":return fp;case"northwest":return Sv;case"south":return om;case"southeast":return Ev;case"southwest":return Xy;case"east":return i4;case"west":return s4}},TT=(e,r,s,l,m)=>ch(l).map(hO).getOr(om)(e,r,s,l,m),Jy={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},l4=(e,r,s)=>{const l={maxHeightFunction:xm()};return()=>s()?{type:"node",root:Cr(ea(e())),node:D.from(e()),bubble:pl(12,12,Jy),layouts:{onRtl:()=>[Ev],onLtr:()=>[Xy]},overrides:l}:{type:"hotspot",hotspot:r(),bubble:pl(-12,12,Jy),layouts:{onRtl:()=>[pi,fi,ei],onLtr:()=>[fi,pi,ei]},overrides:l}},bO=(e,r,s,l)=>{const m={maxHeightFunction:xm()};return()=>l()?{type:"node",root:Cr(ea(r())),node:D.from(r()),bubble:pl(12,12,Jy),layouts:{onRtl:()=>[om],onLtr:()=>[om]},overrides:m}:e?{type:"node",root:Cr(ea(r())),node:D.from(r()),bubble:pl(0,-Js(r()),Jy),layouts:{onRtl:()=>[ji],onLtr:()=>[ji]},overrides:m}:{type:"hotspot",hotspot:s(),bubble:pl(0,0,Jy),layouts:{onRtl:()=>[ji],onLtr:()=>[ji]},overrides:m}},AT=(e,r,s)=>()=>s()?{type:"node",root:Cr(ea(e())),node:D.from(e()),layouts:{onRtl:()=>[om],onLtr:()=>[om]}}:{type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[ei],onLtr:()=>[ei]}},OT=(e,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const s=e.selection.getRng(),l=e.model.table.getSelectedCells();if(l.length>1){const m=l[0],g=l[l.length-1],h={firstCell:pt(m),lastCell:pt(g)};return D.some(h)}return D.some(ph.range(pt(s.startContainer),s.startOffset,pt(s.endContainer),s.endOffset))}}),NT=e=>r=>({type:"node",root:e(),node:r}),MT=(e,r,s,l)=>{const m=Fh(e),g=()=>pt(e.getBody()),h=()=>pt(e.getContentAreaContainer()),x=()=>m||!l();return{inlineDialog:l4(h,r,x),inlineBottomDialog:bO(e.inline,h,s,x),banner:AT(h,r,x),cursor:OT(e,g),node:NT(g)}},c4=e=>(r,s)=>{My(e)(r,s)},d4=e=>()=>Iw(e),yO=e=>r=>J1(e,r),vO=e=>r=>iz(e,r),xO=e=>()=>J3(e),DT=e=>Kn(e,"items"),u4=e=>Kn(e,"format"),zv=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],Pk=e=>ao(e,(r,s)=>{if(Xo(s,"items")){const l=Pk(s.items);return{customFormats:r.customFormats.concat(l.customFormats),formats:r.formats.concat([{title:s.title,items:l.formats}])}}if(Xo(s,"inline")||(l=>Xo(l,"block"))(s)||(l=>Xo(l,"selector"))(s)){const l=`custom-${mo(s.name)?s.name:s.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:l,format:s}]),formats:r.formats.concat([{title:s.title,format:l,icon:s.icon}])}}return{...r,formats:r.formats.concat(s)}},{customFormats:[],formats:[]}),m4=e=>p2(e).map(r=>{const s=((l,m)=>{const g=Pk(m),h=x=>{Ot(x,w=>{l.formatter.has(w.name)||l.formatter.register(w.name,w.format)})};return l.formatter?h(g.customFormats):l.on("init",()=>{h(g.customFormats)}),g.formats})(e,r);return v1(e)?zv.concat(s):s}).getOr(zv),hp=(e,r,s)=>({...e,type:"formatter",isSelected:r(e.format),getStylePreview:s(e.format)}),g4=(e,r,s,l)=>{const m=g=>F(g,h=>DT(h)?(x=>{const w=m(x.items);return{...x,type:"submenu",getStyleItems:ue(w)}})(h):u4(h)?(x=>hp(x,s,l))(h):(x=>{const w=dt(x);return w.length===1&&ct(w,"title")})(h)?{...h,type:"separator"}:(x=>{const w=mo(x.name)?x.name:cn(x.title),S=`custom-${w}`,M={...x,type:"formatter",format:S,isSelected:s(S),getStylePreview:l(S)};return e.formatter.register(w,M),M})(h));return m(r)},RT=e=>{let r=0;const s=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[qa(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>r>0?60:300,delayForHide:ue(300),exclusive:!0,lazySink:e,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:s(l),onShow:(m,g)=>{r++,l.onShow&&l.onShow(m,g)},onHide:(m,g)=>{r--,l.onHide&&l.onHide(m,g)},onSetup:l.onSetup}),getComponents:s}},p4=_g.trim,BT=e=>r=>!!((s=>Ve(s)&&s.nodeType===1)(r)&&(r.contentEditable===e||r.getAttribute("data-mce-contenteditable")===e)),FT=BT("true"),LT=BT("false"),f4=(e,r,s,l,m)=>({type:e,title:r,url:s,level:l,attach:m}),h4=e=>e.innerText||e.textContent,IT=e=>(r=>r&&r.nodeName==="A"&&(r.id||r.name)!==void 0)(e)&&PT(e),b4=e=>e&&/^(H[1-6])$/.test(e.nodeName),PT=e=>(r=>{let s=r;for(;s=s.parentNode;){const l=s.contentEditable;if(l&&l!=="inherit")return FT(s)}return!1})(e)&&!LT(e),HT=e=>b4(e)&&PT(e),wO=e=>{var r;const s=(l=>l.id?l.id:cn("h"))(e);return f4("header",(r=h4(e))!==null&&r!==void 0?r:"","#"+s,(l=>b4(l)?parseInt(l.nodeName.substr(1),10):0)(e),()=>{e.id=s})},kO=e=>{const r=e.id||e.name,s=h4(e);return f4("anchor",s||"#"+r,"#"+r,0,Ae)},_O=e=>p4(e.title).length>0,jT=e=>{const r=(s=>F(Tl(pt(s),"h1,h2,h3,h4,h5,h6,a:not([href])"),m=>m.dom))(e);return ro((s=>F(ro(s,HT),wO))(r).concat((s=>F(ro(s,IT),kO))(r)),_O)},Hk="tinymce-url-history",y4=e=>mo(e)&&/^https?/.test(e),v4=e=>Wo(e)&&Zo(e,r=>{return!(Co(s=r)&&s.length<=5&&Ct(s,y4));var s}).isNone(),x4=()=>{const e=Qu.getItem(Hk);if(e===null)return{};let r;try{r=JSON.parse(e)}catch(s){if(s instanceof SyntaxError)return console.log("Local storage "+Hk+" was not valid JSON",s),{};throw s}return v4(r)?r:(console.log("Local storage "+Hk+" was not valid format",r),{})},CO=e=>{const r=x4();return zt(r,e).getOr([])},Qy=(e,r)=>{if(!y4(e))return;const s=x4(),l=zt(s,r).getOr([]),m=ro(l,g=>g!==e);s[r]=[e].concat(m).slice(0,5),(g=>{if(!v4(g))throw new Error(`Bad format for history:
`+JSON.stringify(g));Qu.setItem(Hk,JSON.stringify(g))})(s)},VT=e=>!!e,SO=e=>tt(_g.makeMap(e,/[, ]/),VT),w4=e=>D.from(v2(e)),$T=e=>D.from(e).filter(mo).getOrUndefined(),k4=e=>({getHistory:CO,addToHistory:Qy,getLinkInformation:()=>(r=>k2(r)?D.some({targets:jT(r.getBody()),anchorTop:$T(Qx(r)),anchorBottom:$T(_2(r))}):D.none())(e),getValidationHandler:()=>(r=>D.from(x2(r)))(e),getUrlPicker:r=>((s,l)=>((m,g)=>{const h=(x=>{const w=D.from(w2(x)).filter(VT).map(SO);return w4(x).fold(Uo,S=>w.fold(Rt,M=>dt(M).length>0&&M))})(m);return Go(h)?h?w4(m):D.none():h[g]?w4(m):D.none()})(s,l).map(m=>g=>yg(h=>{const x={filetype:l,fieldname:g.fieldname,...D.from(g.meta).getOr({})};m.call(s,(w,S)=>{if(!mo(w))throw new Error("Expected value to be string");if(S!==void 0&&!Wo(S))throw new Error("Expected meta to be a object");h({value:w,meta:S})},g.value,x)})))(e,r)}),Zi=O_,Rm=d3,UT=ue([St("shell",!1),oo("makeItem"),St("setupItem",Ae),On("listBehaviours",[rr])]),EO=Id({name:"items",overrides:()=>({behaviours:zo([rr.config({})])})}),ZT=ue([EO]),qT=Xl({name:ue("CustomList")(),configFields:UT(),partFields:ZT(),factory:(e,r,s,l)=>{const m=e.shell?{behaviours:[rr.config({})],components:[]}:{behaviours:[],components:r};return{uid:e.uid,dom:e.dom,components:m.components,behaviours:Bo(e.listBehaviours,m.behaviours),apis:{setItems:(g,h)=>{var x;(x=g,e.shell?D.some(x):ja(x,e,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},w=>{const S=rr.contents(w),M=h.length,z=M-S.length,L=z>0?So(z,()=>e.makeItem()):[],U=S.slice(M);Ot(U,re=>rr.remove(w,re)),Ot(L,re=>rr.append(w,re));const Z=rr.contents(w);Ot(Z,(re,se)=>{e.setupItem(g,re,h[se],se)})})}}}},apis:{setItems:(e,r,s)=>{e.setItems(r,s)}}}),e0=ue([oo("dom"),St("shell",!0),fo("toolbarBehaviours",[rr])]),jk=ue([Id({name:"groups",overrides:()=>({behaviours:zo([rr.config({})])})})]),nm=Xl({name:"Toolbar",configFields:e0(),partFields:jk(),factory:(e,r,s,l)=>{const m=e.shell?{behaviours:[rr.config({})],components:[]}:{behaviours:[],components:r};return{uid:e.uid,dom:e.dom,components:m.components,behaviours:Bo(e.toolbarBehaviours,m.behaviours),apis:{setGroups:(g,h)=>{var x;(x=g,e.shell?D.some(x):ja(x,e,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},w=>{rr.set(w,h)})},refresh:Ae},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)}}}),WT=Ae,GT=Uo,_4=ue([]);var C4,Tv=Object.freeze({__proto__:null,setup:WT,isDocked:GT,getBehaviours:_4});const S4=ue(cn("toolbar-height-change")),Bm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},E4="tox-tinymce--toolbar-sticky-on",KT="tox-tinymce--toolbar-sticky-off",Tf=(e,r)=>ct(ss.getModes(e),r),Vk=e=>{const r=e.element;rn(r).each(s=>{const l="padding-"+ss.getModes(e)[0];if(ss.isDocked(e)){const m=Xe(s);Dn(r,"width",m+"px"),Dn(s,l,(g=>Js(g)+(parseInt(Ua(g,"margin-top"),10)||0)+(parseInt(Ua(g,"margin-bottom"),10)||0))(r)+"px")}else qn(r,"width"),qn(s,l)})},YT=(e,r)=>{r?(ln(e,Bm.fadeOutClass),Zr(e,[Bm.transitionClass,Bm.fadeInClass])):(ln(e,Bm.fadeInClass),Zr(e,[Bm.fadeOutClass,Bm.transitionClass]))},XT=(e,r)=>{const s=pt(e.getContainer());r?(lo(s,E4),ln(s,KT)):(lo(s,KT),ln(s,E4))},z4=(e,r)=>{const s=Tr(),l=r.getSink,m=x=>{l().each(w=>x(w.element))},g=x=>{e.inline||Vk(x),XT(e,ss.isDocked(x)),x.getSystem().broadcastOn([b()],{}),l().each(w=>w.getSystem().broadcastOn([b()],{}))},h=e.inline?[]:[Gl.config({channels:{[S4()]:{onReceive:Vk}}})];return[Jn.config({}),ss.config({contextual:{lazyContext:x=>{const w=Js(x.element),S=e.inline?e.getContentAreaContainer():e.getContainer();return D.from(S).map(M=>{const z=ds(pt(M));return df(e,x.element).fold(()=>{const L=z.height-w,U=z.y+(Tf(x,"top")?0:w);return ka(z.x,U,z.width,L)},L=>{const U=Bl(z,Ih(L)),Z=Tf(x,"top")?U.y:U.y+w;return ka(U.x,Z,U.width,U.height-w)})})},onShow:()=>{m(x=>YT(x,!0))},onShown:x=>{m(w=>Or(w,[Bm.transitionClass,Bm.fadeInClass])),s.get().each(w=>{((S,M)=>{const z=Be(M);ud(z).filter(L=>!dn(M,L)).filter(L=>dn(L,pt(z.dom.body))||Ee(S,L)).each(()=>Il(M))})(x.element,w),s.clear()})},onHide:x=>{((w,S)=>zl(w).orThunk(()=>S().toOptional().bind(M=>zl(M.element))))(x.element,l).fold(s.clear,s.set),m(w=>YT(w,!1))},onHidden:()=>{m(x=>Or(x,[Bm.transitionClass]))},...Bm},lazyViewport:x=>df(e,x.element).fold(()=>{const w=rs(),S=Xx(e),M=w.y+(Tf(x,"top")?S:0),z=w.height-(Tf(x,"bottom")?S:0);return{bounds:ka(w.x,M,w.width,z),optScrollEnv:D.none()}},w=>({bounds:Ih(w),optScrollEnv:D.some({currentScrollTop:w.element.dom.scrollTop,scrollElmTop:ks(w.element).top})})),modes:[r.header.getDockingMode()],onDocked:g,onUndocked:g}),...h]};var T4=Object.freeze({__proto__:null,setup:(e,r,s)=>{e.inline||(r.header.isPositionedAtTop()||e.on("ResizeEditor",()=>{s().each(ss.reset)}),e.on("ResizeWindow ResizeEditor",()=>{s().each(Vk)}),e.on("SkinLoaded",()=>{s().each(l=>{ss.isDocked(l)?ss.reset(l):ss.refresh(l)})}),e.on("FullscreenStateChanged",()=>{s().each(ss.reset)})),e.on("AfterScrollIntoView",l=>{s().each(m=>{ss.refresh(m);const g=m.element;j_(g)&&((h,x)=>{const w=Be(x),S=Vo(x).dom.innerHeight,M=ta(w),z=pt(h.elm),L=Ia(z),U=Da(z),Z=L.y,re=Z+U,se=ks(x),pe=Da(x),oe=se.top,te=oe+pe,de=Math.abs(oe-M.top)<2,me=Math.abs(te-(M.top+S))<2;if(de&&Z<te)Ds(M.left,Z-pe,w);else if(me&&re>oe){const xe=Z-S+U+pe;Ds(M.left,xe,w)}})(l,g)})}),e.on("PostRender",()=>{XT(e,!1)})},isDocked:e=>e().map(ss.isDocked).getOr(!1),getBehaviours:z4});const JT=Hn([Ks,Ni("items",Ou([Pm([iC,wi("items",qs)]),qs]))].concat(Sy)),QT=[_a("text"),_a("tooltip"),_a("icon"),il("search",!1,Ou([Ws,Hn([_a("placeholder")])],e=>Go(e)?e?D.some({placeholder:D.none()}):D.none():D.some(e))),Gi("fetch"),ps("onSetup",()=>Ae),gs("context","mode:design")],lb=Hn([Ks,...QT]),Av=e=>Pa("menubutton",lb,e),$k=Hn([Ks,B1,xu,fg,OE,S5,gf,ll("presets","normal",["normal","color","listpreview"]),uC(1),$h,z5,gs("context","mode:design")]);var Ov=Hd({factory:(e,r)=>{const s={focus:Mn.focusIn,setMenus:(l,m)=>{const g=F(m,h=>{const x={type:"menubutton",text:h.text,fetch:S=>{S(h.getItems())},context:"any"},w=Av(x).mapError(S=>bn(S)).getOrDie();return Ef(w,"tox-mbtn",r.backstage,D.some("menuitem"))});rr.set(l,g)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:zo([rr.config({}),pr("menubar-events",[Aa(l=>{e.onSetup(l)}),Kt(Zn(),(l,m)=>{ws(l.element,".tox-mbtn--active").each(g=>{Rd(m.event.target,".tox-mbtn").each(h=>{dn(g,h)||l.getSystem().getByDom(g).each(x=>{l.getSystem().getByDom(h).each(w=>{Wd.expand(w),Wd.close(x),Jn.focus(w)})})})})}),Kt(jm(),(l,m)=>{m.event.prevFocus.bind(g=>l.getSystem().getByDom(g).toOptional()).each(g=>{m.event.newFocus.bind(h=>l.getSystem().getByDom(h).toOptional()).each(h=>{Wd.isOpen(g)&&(Wd.expand(h),Wd.close(g))})})})]),Mn.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(e.onEscape(l),D.some(!0))}),hs.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[oo("dom"),oo("uid"),oo("onEscape"),oo("backstage"),St("onSetup",Ae)],apis:{focus:(e,r)=>{e.focus(r)},setMenus:(e,r,s)=>{e.setMenus(r,s)}}});const Uk="container",eA=[fo("slotBehaviours",[])],Nv=e=>"<alloy.field."+e+">",tA=(e,r)=>{const s=M=>yx(e),l=(M,z)=>(L,U)=>ja(L,e,U).map(Z=>M(Z,U)).getOr(z),m=(M,z)=>ia(M.element,"aria-hidden")!=="true",g=l(m,!1),h=l((M,z)=>{if(m(M)){const L=M.element;Dn(L,"display","none"),wn(L,"aria-hidden","true"),An(M,Bg(),{name:z,visible:!1})}}),x=(M=>(z,L)=>{Ot(L,U=>M(z,U))})(h),w=l((M,z)=>{if(!m(M)){const L=M.element;qn(L,"display"),Mr(L,"aria-hidden"),An(M,Bg(),{name:z,visible:!0})}}),S={getSlotNames:s,getSlot:(M,z)=>ja(M,e,z),isShowing:g,hideSlot:h,hideAllSlots:M=>x(M,s()),showSlot:w};return{uid:e.uid,dom:e.dom,components:r,behaviours:To(e.slotBehaviours),apis:S}},Hl={...tt({getSlotNames:(e,r)=>e.getSlotNames(r),getSlot:(e,r,s)=>e.getSlot(r,s),isShowing:(e,r,s)=>e.isShowing(r,s),hideSlot:(e,r,s)=>e.hideSlot(r,s),hideAllSlots:(e,r)=>e.hideAllSlots(r),showSlot:(e,r,s)=>e.showSlot(r,s)},e=>jg(e)),sketch:e=>{const r=(()=>{const g=[];return{slot:(h,x)=>(g.push(h),Xp(Uk,Nv(h),x)),record:ue(g)}})(),s=e(r),l=r.record(),m=F(l,g=>hl({name:g,pname:Nv(g)}));return t1(Uk,eA,m,tA,s)}},A4=Hn([xu,B1,ps("onShow",Ae),ps("onHide",Ae),gf]),oA=e=>({element:()=>e.element.dom}),zO=(e,r)=>{const s=F(dt(r),l=>{const m=r[l],g=Oi((h=>Pa("sidebar",A4,h))(m));return{name:l,getApi:oA,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return F(s,l=>{const m=yn(Ae);return e.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Ey([_c(l,m),hg(l,m),Kt(Bg(),(g,h)=>{const x=h.event;yo(s,S=>S.name===x.name).each(S=>{(x.visible?S.onShow:S.onHide)(S.getApi(g))})})])})})},Zk=e=>Hl.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:zO(r,e),slotBehaviours:Ey([Aa(s=>Hl.hideAllSlots(s))])})),Mv=(e,r)=>{wn(e,"role",r)},nA=e=>qr.getCurrent(e).bind(r=>uc.isGrowing(r)||uc.hasGrown(r)?qr.getCurrent(r).bind(s=>yo(Hl.getSlotNames(s),l=>Hl.isShowing(s,l))):D.none()),qk=cn("FixSizeEvent"),Wk=cn("AutoSizeEvent");var rA=Object.freeze({__proto__:null,block:(e,r,s,l)=>{wn(e.element,"aria-busy",!0);const m=r.getRoot(e).getOr(e),g=zo([Mn.config({mode:"special",onTab:()=>D.some(!0),onShiftTab:()=>D.some(!0)}),Jn.config({})]),h=l(m,g),x=m.getSystem().build(h);rr.append(m,xc(x)),x.hasConfigured(Mn)&&r.focus&&Mn.focusIn(x),s.isBlocked()||r.onBlock(e),s.blockWith(()=>rr.remove(m,x))},unblock:(e,r,s)=>{Mr(e.element,"aria-busy"),s.isBlocked()&&r.onUnblock(e),s.clear()},isBlocked:(e,r,s)=>s.isBlocked()}),aA=[ps("getRoot",D.none),mi("focus",!0),Hr("onBlock"),Hr("onUnblock")];const rm=Ar({fields:aA,name:"blocking",apis:rA,state:Object.freeze({__proto__:null,init:()=>{const e=vd(r=>r.destroy());return Ci({readState:e.isSet,blockWith:r=>{e.set({destroy:r})},clear:e.clear,isBlocked:e.isSet})}})}),sA=e=>qr.getCurrent(e).each(r=>Il(r.element,!0)),TO=(e,r,s)=>{const l=yn(!1),m=Tr(),g=x=>{var w;l.get()&&(!(S=>S.type==="focusin")(w=x)||!(w.composed?De(w.composedPath()):D.from(w.target)).map(pt).filter(Se).exists(S=>Rn(S,"mce-pastebin")))&&(x.preventDefault(),sA(r()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",()=>{e.dom.bind(e.getWin(),"focusin",g),e.on("BeforeExecCommand",x=>{x.command.toLowerCase()==="mcefocus"&&x.value!==!0&&g(x)})});const h=x=>{x!==l.get()&&(l.set(x),((w,S,M,z)=>{const L=S.element;if(((U,Z)=>{const re="tabindex",se=`data-mce-${re}`;D.from(U.iframeElement).map(pt).each(pe=>{Z?(Ga(pe,re).each(oe=>wn(pe,se,oe)),wn(pe,re,-1)):(Mr(pe,re),Ga(pe,se).each(oe=>{wn(pe,re,oe),Mr(pe,se)}))})})(w,M),M)rm.block(S,(U=>(Z,re)=>({dom:{tag:"div",attributes:{"aria-label":U.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:mg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(z)),qn(L,"display"),Mr(L,"aria-hidden"),w.hasFocus()&&sA(S);else{const U=qr.getCurrent(S).exists(Z=>Dp(Z.element));rm.unblock(S),Dn(L,"display","none"),wn(L,"aria-hidden","true"),U&&w.focus()}})(e,r(),x,s.providers),((w,S)=>{w.dispatch("AfterProgressState",{state:S})})(e,x))};e.on("ProgressState",x=>{if(m.on(clearTimeout),ho(x.time)){const w=Wx.setEditorTimeout(e,()=>h(x.state),x.time);m.set(w)}else h(x.state),m.clear()})},O4=(e,r,s)=>({within:e,extra:r,withinWidth:s}),iA=(e,r,s)=>{const l=ao(e,(h,x)=>((w,S)=>{const M=s(w);return D.some({element:w,start:S,finish:S+M,width:M})})(x,h.len).fold(ue(h),w=>({len:w.finish,list:h.list.concat([w])})),{len:0,list:[]}).list,m=ro(l,h=>h.finish<=r),g=co(m,(h,x)=>h+x.width,0);return{within:m,extra:l.slice(m.length),withinWidth:g}},Gk=e=>F(e,r=>r.element),lA=(e,r)=>{const s=F(r,l=>xc(l));nm.setGroups(e,s)},N4=(e,r,s)=>{const l=r.builtGroups.get();if(l.length===0)return;const m=Sm(e,r,"primary"),g=Ys.getCoupled(e,"overflowGroup");Dn(m.element,"visibility","hidden");const h=l.concat([g]),x=We(h,S=>zl(S.element).bind(M=>S.getSystem().getByDom(M).toOptional()));s([]),lA(m,h);const w=((S,M,z,L)=>{const U=((pe,oe,te)=>{const de=iA(oe,pe,te);return de.extra.length===0?D.some(de):D.none()})(S,M,z).getOrThunk(()=>iA(M,S-z(L),z)),Z=U.within,re=U.extra,se=U.withinWidth;return re.length===1&&re[0].width<=z(L)?((pe,oe,te)=>{const de=Gk(pe.concat(oe));return O4(de,[],te)})(Z,re,se):re.length>=1?((pe,oe,te,de)=>{const me=Gk(pe).concat([te]);return O4(me,Gk(oe),de)})(Z,re,L,se):((pe,oe,te)=>O4(Gk(pe),[],te))(Z,0,se)})(Xe(m.element),r.builtGroups.get(),S=>Math.ceil(S.element.dom.getBoundingClientRect().width),g);w.extra.length===0?(rr.remove(m,g),s([])):(lA(m,w.within),s(w.extra)),qn(m.element,"visibility"),Zs(m.element),x.each(Jn.focus)},cA=ue([fo("splitToolbarBehaviours",[Ys]),ui("builtGroups",()=>yn([]))]),AO=ue([ld(["overflowToggledClass"]),pc("getOverflowBounds"),oo("lazySink"),ui("overflowGroups",()=>yn([])),Hr("onOpened"),Hr("onClosed")].concat(cA())),M4=ue([hl({factory:nm,schema:e0(),name:"primary"}),Ld({schema:e0(),name:"overflow"}),Ld({name:"overflow-button"}),Ld({name:"overflow-group"})]),D4=ue((e,r)=>{((s,l)=>{const m=Ce.max(s,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Dn(s,"max-width",m+"px")})(e,Math.floor(r))}),R4=ue([ld(["toggledClass"]),oo("lazySink"),Gi("fetch"),pc("getBounds"),js("fireDismissalEventInstead",[St("event",Td())]),wm(),Hr("onToggled")]),dA=ue([Ld({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:zo([gr.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Ld({factory:nm,schema:e0(),name:"toolbar",overrides:e=>({toolbarBehaviours:zo([Mn.config({mode:"cyclic",onEscape:r=>(ja(r,e,"button").each(Jn.focus),D.none())})])})})]),Dv=Tr(),Rv=(e,r)=>{const s=Ys.getCoupled(e,"toolbarSandbox");Sr.isOpen(s)?Sr.close(s):Sr.open(s,r.toolbar())},Kk=(e,r,s,l)=>{const m=s.getBounds.map(h=>h()),g=s.lazySink(e).getOrDie();fl.positionWithinBounds(g,r,{anchor:{type:"hotspot",hotspot:e,layouts:l,overrides:{maxWidthFunction:D4()}}},m)},Yk=(e,r,s,l,m)=>{nm.setGroups(r,m),Kk(e,r,s,l),gr.on(e)},bp=Xl({name:"FloatingToolbarButton",factory:(e,r,s,l)=>({...ol.sketch({...l.button(),action:m=>{Rv(m,l)},buttonBehaviours:Vn({dump:l.button().buttonBehaviours},[Ys.config({others:{toolbarSandbox:m=>((g,h,x)=>{const w=Bb();return{dom:{tag:"div",attributes:{id:w.id}},behaviours:zo([Mn.config({mode:"special",onEscape:S=>(Sr.close(S),D.some(!0))}),Sr.config({onOpen:(S,M)=>{const z=Dv.get().getOr(!1);x.fetch().get(L=>{Yk(g,M,x,h.layouts,L),w.link(g.element),z||Mn.focusIn(M)})},onClose:()=>{gr.off(g),Dv.get().getOr(!1)||Jn.focus(g),w.unlink(g.element)},isPartOf:(S,M,z)=>ym(M,z)||ym(g,z),getAttachPoint:()=>x.lazySink(g).getOrDie()}),Gl.config({channels:{...I({isExtraPart:Uo,...x.fireDismissalEventInstead.map(S=>({fireEventInstead:{event:S.event}})).getOr({})}),...q({doReposition:()=>{Sr.getState(Ys.getCoupled(g,"toolbarSandbox")).each(S=>{Kk(g,S,x,h.layouts)})}})}})])}})(m,s,e)}})])}),apis:{setGroups:(m,g)=>{Sr.getState(Ys.getCoupled(m,"toolbarSandbox")).each(h=>{Yk(m,h,e,s.layouts,g)})},reposition:m=>{Sr.getState(Ys.getCoupled(m,"toolbarSandbox")).each(g=>{Kk(m,g,e,s.layouts)})},toggle:m=>{Rv(m,l)},toggleWithoutFocusing:m=>{((g,h)=>{Dv.set(!0),Rv(g,h),Dv.clear()})(m,l)},getToolbar:m=>Sr.getState(Ys.getCoupled(m,"toolbarSandbox")),isOpen:m=>Sr.isOpen(Ys.getCoupled(m,"toolbarSandbox"))}}),configFields:R4(),partFields:dA(),apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)},reposition:(e,r)=>{e.reposition(r)},toggle:(e,r)=>{e.toggle(r)},toggleWithoutFocusing:(e,r)=>{e.toggleWithoutFocusing(r)},getToolbar:(e,r)=>e.getToolbar(r),isOpen:(e,r)=>e.isOpen(r)}}),OO=ue([oo("items"),ld(["itemSelector"]),fo("tgroupBehaviours",[Mn])]),B4=ue([Yp({name:"items",unit:"item"})]),Bv=Xl({name:"ToolbarGroup",configFields:OO(),partFields:B4(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,components:r,behaviours:Bo(e.tgroupBehaviours,[Mn.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),F4=e=>F(e,r=>xc(r)),L4=(e,r,s)=>{N4(e,s,l=>{s.overflowGroups.set(l),r.getOpt(e).each(m=>{bp.setGroups(m,F4(l))})})},uA=Xl({name:"SplitFloatingToolbar",configFields:AO(),partFields:M4(),factory:(e,r,s,l)=>{const m=ya(bp.sketch({fetch:()=>yg(g=>{g(F4(e.overflowGroups.get()))}),layouts:{onLtr:()=>[fi,pi],onRtl:()=>[pi,fi],onBottomLtr:()=>[Hi,ml],onBottomRtl:()=>[ml,Hi]},getBounds:s.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(g,h)=>e[h?"onOpened":"onClosed"](g)}));return{uid:e.uid,dom:e.dom,components:r,behaviours:Bo(e.splitToolbarBehaviours,[Ys.config({others:{overflowGroup:()=>Bv.sketch({...l["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(g,h)=>{e.builtGroups.set(F(h,g.getSystem().build)),L4(g,m,e)},refresh:g=>L4(g,m,e),toggle:g=>{m.getOpt(g).each(h=>{bp.toggle(h)})},toggleWithoutFocusing:g=>{m.getOpt(g).each(bp.toggleWithoutFocusing)},isOpen:g=>m.getOpt(g).map(bp.isOpen).getOr(!1),reposition:g=>{m.getOpt(g).each(h=>{bp.reposition(h)})},getOverflow:g=>m.getOpt(g).bind(bp.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)},refresh:(e,r)=>{e.refresh(r)},reposition:(e,r)=>{e.reposition(r)},toggle:(e,r)=>{e.toggle(r)},toggleWithoutFocusing:(e,r)=>{e.toggle(r)},isOpen:(e,r)=>e.isOpen(r),getOverflow:(e,r)=>e.getOverflow(r)}}),cb=ue([ld(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Hr("onOpened"),Hr("onClosed")].concat(cA())),mA=ue([hl({factory:nm,schema:e0(),name:"primary"}),hl({factory:nm,schema:e0(),name:"overflow",overrides:e=>({toolbarBehaviours:zo([uc.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:r=>{ja(r,e,"overflow-button").each(s=>{gr.off(s)}),e.onClosed(r)},onGrown:r=>{e.onOpened(r)},onStartGrow:r=>{ja(r,e,"overflow-button").each(gr.on)}}),Mn.config({mode:"acyclic",onEscape:r=>(ja(r,e,"overflow-button").each(Jn.focus),D.some(!0))})])})}),Ld({name:"overflow-button",overrides:e=>({buttonBehaviours:zo([gr.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Ld({name:"overflow-group"})]),Xk=(e,r,s)=>{ja(e,r,"overflow-button").each(l=>{ja(e,r,"overflow").each(m=>{if(I4(e,r),uc.hasShrunk(m)){const g=r.onOpened;r.onOpened=h=>{s||Mn.focusIn(m),g(h),r.onOpened=g}}else{const g=r.onClosed;r.onClosed=h=>{s||Jn.focus(l),g(h),r.onClosed=g}}uc.toggleGrow(m)})})},I4=(e,r)=>{ja(e,r,"overflow").each(s=>{N4(e,r,l=>{const m=F(l,g=>xc(g));nm.setGroups(s,m)}),ja(e,r,"overflow-button").each(l=>{uc.hasGrown(s)&&gr.on(l)}),uc.refresh(s)})},Jk=Xl({name:"SplitSlidingToolbar",configFields:cb(),partFields:mA(),factory:(e,r,s,l)=>{const m="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:r,behaviours:Bo(e.splitToolbarBehaviours,[Ys.config({others:{overflowGroup:g=>Bv.sketch({...l["overflow-group"](),items:[ol.sketch({...l["overflow-button"](),action:h=>{Rr(g,m)}})]})}}),pr("toolbar-toggle-events",[Kt(m,g=>{Xk(g,e,!1)})])]),apis:{setGroups:(g,h)=>{((x,w)=>{const S=F(w,x.getSystem().build);e.builtGroups.set(S)})(g,h),I4(g,e)},refresh:g=>I4(g,e),toggle:g=>{Xk(g,e,!1)},toggleWithoutFocusing:g=>{Xk(g,e,!0)},isOpen:g=>((h,x)=>ja(h,x,"overflow").map(uc.hasGrown).getOr(!1))(g,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)},refresh:(e,r)=>{e.refresh(r)},toggle:(e,r)=>{e.toggle(r)},isOpen:(e,r)=>e.isOpen(r)}}),P4=e=>{const r=e.title.fold(()=>({}),s=>({attributes:{title:s}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...r},components:[Bv.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:zo([hs.config({}),Jn.config({})])}},Qk=e=>Bv.sketch(P4(e)),t0=(e,r)=>{const s=Aa(l=>{const m=F(e.initGroups,Qk);nm.setGroups(l,m)});return zo([H1(()=>e.providers.checkUiComponentContext("any").shouldDisable),li(()=>e.providers.checkUiComponentContext("any")),Mn.config({mode:r,onEscape:e.onEscape,selector:".tox-toolbar__group"}),pr("toolbar-events",[s])])},gA=e=>{const r=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":P4({title:D.none(),items:[]}),"overflow-button":Ok({context:"any",name:"more",icon:D.some("more-drawer"),enabled:!0,tooltip:D.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:D.none(),borderless:!1},D.none(),e.providers,[],"overflow-button")},splitToolbarBehaviours:t0(e,r)}},H4=e=>{const r=gA(e),s=uA.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return uA.sketch({...r,lazySink:e.getSink,getOverflowBounds:()=>{const l=e.moreDrawerData.lazyHeader().element,m=Ia(l),g=Lo(l),h=Ia(g),x=Math.max(g.dom.scrollHeight,h.height);return ka(m.x+4,h.y,m.width-8,x)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>e.onToggled(l,!0),onClosed:l=>e.onToggled(l,!1)})},NO=e=>{const r=Jk.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),s=Jk.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=gA(e);return Jk.sketch({...l,components:[r,s],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([S4()],{type:"opened"}),e.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([S4()],{type:"closed"}),e.onToggled(m,!1)}})},j4=e=>{const r=e.cyclicKeying?"cyclic":"acyclic";return nm.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===md.scrolling?["tox-toolbar--scrolling"]:[])},components:[nm.parts.groups({})],toolbarBehaviours:t0(e,r)})},pA=[fg,xu,_a("tooltip"),ll("buttonType","secondary",["primary","secondary"]),mi("borderless",!1),Gi("onAction"),gs("context","mode:design")],fA={button:[...pA,ip,vo("type",["button"])],togglebutton:[...pA,mi("active",!1),vo("type",["togglebutton"])]},MO=[vo("type",["group"]),kl("buttons",[],Hs("type",fA))],e_=Hs("type",{...fA,group:MO}),DO=Hn([kl("buttons",[],e_),Gi("onShow"),Gi("onHide")]),hA=(e,r)=>((s,l)=>{var m,g;const h=s.type==="togglebutton",x=s.icon.map(oe=>_f(oe,l.icons)).map(ya),w={...s,name:h?s.text.getOr(s.icon.getOr("")):(m=s.text)!==null&&m!==void 0?m:s.icon.getOr(""),primary:s.buttonType==="primary",buttonType:D.from(s.buttonType),tooltip:s.tooltip,icon:s.icon,enabled:!0,borderless:s.borderless},S=Nk((g=s.buttonType)!==null&&g!==void 0?g:"secondary"),M=h?s.text.map(l.translate):D.some(l.translate(s.text)),z=M.map(qa),L=w.tooltip.or(M).map(oe=>({"aria-label":l.translate(oe)})).getOr({}),U=x.map(oe=>oe.asSpec()),Z=qh([U,z]),re=s.icon.isSome()&&z.isSome(),se={tag:"button",classes:S.concat(...s.icon.isSome()&&!re?["tox-button--icon"]:[]).concat(...re?["tox-button--icon-and-text"]:[]).concat(...s.borderless?["tox-button--naked"]:[]).concat(...s.type==="togglebutton"&&s.active?["tox-button--enabled"]:[]),attributes:L},pe=Gc(w,D.some(oe=>{const te=de=>{x.map(me=>me.getOpt(oe).each(xe=>{rr.set(xe,[_f(de,l.icons)])}))};return h?s.onAction({setIcon:te,setActive:de=>{const me=oe.element;de?(lo(me,"tox-button--enabled"),wn(me,"aria-pressed",!0)):(ln(me,"tox-button--enabled"),Mr(me,"aria-pressed"))},isActive:()=>Rn(oe.element,"tox-button--enabled"),focus:()=>Il(oe.element)}):s.type==="button"?s.onAction({setIcon:te}):void 0}),[],se,Z,s.tooltip,l);return ol.sketch(pe)})(e,r),V4=Ms().deviceType,RO=V4.isPhone(),BO=V4.isTablet();var o0=Xl({name:"silver.View",configFields:[oo("viewConfig")],partFields:[Id({factory:{sketch:e=>{let r=!1;const s=F(e.buttons,l=>l.type==="group"?(r=!0,((m,g)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:F(m.buttons,h=>hA(h,g))}))(l,e.providers)):hA(l,e.providers));return{uid:e.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...RO||BO?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:zo([Jn.config({}),Mn.config({mode:"flow",selector:"button, .tox-button",focusInside:Ah.OnEnterOrSpaceMode})]),components:r?s:[ku.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),ku.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:s})]}}},schema:[oo("buttons"),oo("providers")],name:"header"}),Id({factory:{sketch:e=>({uid:e.uid,behaviours:zo([Jn.config({}),hs.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,r,s,l)=>{const m={getPane:g=>Zi.getPart(g,e,"pane"),getOnShow:g=>e.viewConfig.onShow,getOnHide:g=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:r,behaviours:zo([Jn.config({}),Mn.config({mode:"cyclic",focusInside:Ah.OnEnterOrSpaceMode})]),apis:m}},apis:{getPane:(e,r)=>e.getPane(r),getOnShow:(e,r)=>e.getOnShow(r),getOnHide:(e,r)=>e.getOnHide(r)}});const $4=(e,r,s)=>_n(r,(l,m)=>{const g=Oi(Pa("view",DO,l));return e.slot(m,o0.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:g,components:[...g.buttons.length>0?[o0.parts.header({buttons:g.buttons,providers:s})]:[],o0.parts.pane({})]}))}),bA=(e,r)=>Hl.sketch(s=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:$4(s,e,r),slotBehaviours:Ey([Aa(l=>Hl.hideAllSlots(l))])})),yA=e=>yo(Hl.getSlotNames(e),r=>Hl.isShowing(e,r)),U4=(e,r,s)=>{Hl.getSlot(e,r).each(l=>{o0.getPane(l).each(m=>{var g;s(l)((g=m.element.dom,{getContainer:ue(g)}))})})};var t_=Hd({factory:(e,r)=>{const s={setViews:(l,m)=>{rr.set(l,[bA(m,r.backstage.shared.providers)])},whichView:l=>qr.getCurrent(l).bind(yA),toggleView:(l,m,g,h)=>qr.getCurrent(l).exists(x=>{const w=yA(x),S=w.exists(z=>h===z),M=Hl.getSlot(x,h).isSome();return M&&(Hl.hideAllSlots(x),S?((z=>{const L=z.element;Dn(L,"display","none"),wn(L,"aria-hidden","true")})(l),m()):(g(),(z=>{const L=z.element;qn(L,"display"),Mr(L,"aria-hidden")})(l),Hl.showSlot(x,h),((z,L)=>{U4(z,L,o0.getOnShow)})(x,h)),w.each(z=>((L,U)=>U4(L,U,o0.getOnHide))(x,z))),M})};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:zo([rr.config({}),qr.config({find:l=>{const m=rr.contents(l);return De(m)}})]),apis:s}},name:"silver.ViewWrapper",configFields:[oo("backstage")],apis:{setViews:(e,r,s)=>e.setViews(r,s),toggleView:(e,r,s,l,m)=>e.toggleView(r,s,l,m),whichView:(e,r)=>e.whichView(r)}});const FO=Rm.optional({factory:Ov,name:"menubar",schema:[oo("backstage")]}),vA=Rm.optional({factory:{sketch:e=>qT.sketch({uid:e.uid,dom:e.dom,listBehaviours:zo([Mn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>j4({type:e.type,uid:cn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),D.some(!0))}),setupItem:(r,s,l,m)=>{nm.setGroups(s,l)},shell:!0})},name:"multiple-toolbar",schema:[oo("dom"),oo("onEscape")]}),xA=Rm.optional({factory:{sketch:e=>(s=>s.type===md.sliding?NO:s.type===md.floating?H4:j4)(e)({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),D.some(!0)),onToggled:(s,l)=>e.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})},name:"toolbar",schema:[oo("dom"),oo("onEscape"),oo("getSink")]}),Z4=Rm.optional({factory:{sketch:e=>{const r=e.editor,s=e.sticky?z4:_4;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:zo(s(r,e.sharedBackstage))}}},name:"header",schema:[oo("dom")]}),wA=Rm.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[oo("dom")]}),LO=Rm.optional({name:"socket",schema:[oo("dom")]}),n0=Rm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:zo([hs.config({}),Jn.config({}),uc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{qr.getCurrent(r).each(Hl.hideAllSlots),Rr(r,Wk)},onGrown:r=>{Rr(r,Wk)},onStartGrow:r=>{An(r,qk,{width:to(r.element,"width").getOr("")})},onStartShrink:r=>{An(r,qk,{width:Xe(r.element)+"px"})}}),rr.config({}),qr.config({find:r=>{const s=rr.contents(r);return De(s)}})])}],behaviours:zo([OS(0),pr("sidebar-sliding-events",[Kt(qk,(r,s)=>{Dn(r.element,"width",s.event.width)}),Kt(Wk,(r,s)=>{qn(r.element,"width")})])])})},name:"sidebar",schema:[oo("dom")]}),IO=Rm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:zo([rr.config({}),rm.config({focus:!1}),qr.config({find:r=>De(r.components())})]),components:[]})},name:"throbber",schema:[oo("dom")]}),PO=Rm.optional({factory:t_,name:"viewWrapper",schema:[oo("backstage")]}),q4=Rm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var Na=Xl({name:"OuterContainer",factory:(e,r,s)=>{let l=!1;const m=h=>{ic(h,".tox-statusbar").each(x=>{Ua(x,"display")==="none"&&ia(x,"aria-hidden")==="true"?(qn(x,"display"),Mr(x,"aria-hidden")):(Dn(x,"display","none"),wn(x,"aria-hidden","true"))})},g={getSocket:h=>Zi.getPart(h,e,"socket"),setSidebar:(h,x,w)=>{Zi.getPart(h,e,"sidebar").each(S=>((M,z,L)=>{qr.getCurrent(M).each(U=>{rr.set(U,[Zk(z)]);const Z=L==null?void 0:L.toLowerCase();mo(Z)&&Xo(z,Z)&&qr.getCurrent(U).each(re=>{Hl.showSlot(re,Z),uc.immediateGrow(U),qn(U.element,"width"),Mv(M.element,"region")})})})(S,x,w))},toggleSidebar:(h,x)=>{Zi.getPart(h,e,"sidebar").each(w=>((S,M)=>{qr.getCurrent(S).each(z=>{qr.getCurrent(z).each(L=>{uc.hasGrown(z)?Hl.isShowing(L,M)?(uc.shrink(z),Mv(S.element,"presentation")):(Hl.hideAllSlots(L),Hl.showSlot(L,M),Mv(S.element,"region")):(Hl.hideAllSlots(L),Hl.showSlot(L,M),uc.grow(z),Mv(S.element,"region"))})})})(w,x))},whichSidebar:h=>Zi.getPart(h,e,"sidebar").bind(nA).getOrNull(),getHeader:h=>Zi.getPart(h,e,"header"),getToolbar:h=>Zi.getPart(h,e,"toolbar"),setToolbar:(h,x)=>{Zi.getPart(h,e,"toolbar").each(w=>{const S=F(x,Qk);w.getApis().setGroups(w,S)})},setToolbars:(h,x)=>{Zi.getPart(h,e,"multiple-toolbar").each(w=>{const S=F(x,M=>F(M,Qk));qT.setItems(w,S)})},refreshToolbar:h=>{Zi.getPart(h,e,"toolbar").each(x=>x.getApis().refresh(x))},toggleToolbarDrawer:h=>{Zi.getPart(h,e,"toolbar").each(x=>{Gr(x.getApis().toggle,w=>w(x))})},toggleToolbarDrawerWithoutFocusing:h=>{Zi.getPart(h,e,"toolbar").each(x=>{Gr(x.getApis().toggleWithoutFocusing,w=>w(x))})},isToolbarDrawerToggled:h=>Zi.getPart(h,e,"toolbar").bind(x=>D.from(x.getApis().isOpen).map(w=>w(x))).getOr(!1),getThrobber:h=>Zi.getPart(h,e,"throbber"),focusToolbar:h=>{Zi.getPart(h,e,"toolbar").orThunk(()=>Zi.getPart(h,e,"multiple-toolbar")).each(x=>{Mn.focusIn(x)})},setMenubar:(h,x)=>{Zi.getPart(h,e,"menubar").each(w=>{Ov.setMenus(w,x)})},focusMenubar:h=>{Zi.getPart(h,e,"menubar").each(x=>{Ov.focus(x)})},setViews:(h,x)=>{Zi.getPart(h,e,"viewWrapper").each(w=>{t_.setViews(w,x)})},toggleView:(h,x)=>Zi.getPart(h,e,"viewWrapper").exists(w=>t_.toggleView(w,()=>g.showMainView(h),()=>g.hideMainView(h),x)),whichView:h=>Zi.getPart(h,e,"viewWrapper").bind(t_.whichView).getOrNull(),hideMainView:h=>{l=g.isToolbarDrawerToggled(h),l&&g.toggleToolbarDrawer(h),Zi.getPart(h,e,"editorContainer").each(x=>{const w=x.element;m(w),Dn(w,"display","none"),wn(w,"aria-hidden","true")})},showMainView:h=>{l&&g.toggleToolbarDrawer(h),Zi.getPart(h,e,"editorContainer").each(x=>{const w=x.element;m(w),qn(w,"display"),Mr(w,"aria-hidden")})}};return{uid:e.uid,dom:e.dom,components:r,apis:g,behaviours:e.behaviours}},configFields:[oo("dom"),oo("behaviours")],partFields:[Z4,FO,xA,vA,LO,n0,wA,IO,PO,q4],apis:{getSocket:(e,r)=>e.getSocket(r),setSidebar:(e,r,s,l)=>{e.setSidebar(r,s,l)},toggleSidebar:(e,r,s)=>{e.toggleSidebar(r,s)},whichSidebar:(e,r)=>e.whichSidebar(r),getHeader:(e,r)=>e.getHeader(r),getToolbar:(e,r)=>e.getToolbar(r),setToolbar:(e,r,s)=>{e.setToolbar(r,s)},setToolbars:(e,r,s)=>{e.setToolbars(r,s)},refreshToolbar:(e,r)=>e.refreshToolbar(r),toggleToolbarDrawer:(e,r)=>{e.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(e,r)=>{e.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(e,r)=>e.isToolbarDrawerToggled(r),getThrobber:(e,r)=>e.getThrobber(r),setMenubar:(e,r,s)=>{e.setMenubar(r,s)},focusMenubar:(e,r)=>{e.focusMenubar(r)},focusToolbar:(e,r)=>{e.focusToolbar(r)},setViews:(e,r,s)=>{e.setViews(r,s)},toggleView:(e,r,s)=>e.toggleView(r,s),whichView:(e,r)=>e.whichView(r)}});const o_={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},r0=e=>e.split(" "),Af=(e,r)=>{const s={...o_,...r.menus},l=dt(r.menus).length>0,m=r.menubar===void 0||r.menubar===!0?r0("file edit view insert format tools table help"):r0(r.menubar===!1?"":r.menubar),g=ro(m,x=>{const w=Xo(o_,x);return l?w||zt(r.menus,x).exists(S=>Xo(S,"items")):w}),h=F(g,x=>{const w=s[x];return((S,M,z)=>{const L=x1(z).split(/[ ,]/);return{text:S.title,getItems:()=>Vt(S.items,U=>{const Z=U.toLowerCase();return Z.trim().length===0||$t(L,re=>re===Z)?[]:Z==="separator"||Z==="|"?[{type:"separator"}]:M.menuItems[Z]?[M.menuItems[Z]]:[]})}})({title:w.title,items:r0(w.items)},r,e)});return ro(h,x=>x.getItems().length>0&&$t(x.getItems(),w=>mo(w)||w.type!=="separator"))},Fv=(e,r,s)=>(e.on("remove",()=>s.unload(r)),s.load(r)),n_=(e,r,s,l)=>(e.on("remove",()=>l.unloadRawCss(r)),l.loadRawCss(r,s)),kA=async(e,r)=>{const s="ui/"+py(e).getOr("default")+"/skin.css",l=tinymce.Resource.get(s);if(!mo(l)){const m=e.editorManager.suffix;return Fv(e,r+`/skin${m}.css`,e.ui.styleSheetLoader)}n_(e,s,l,e.ui.styleSheetLoader)},_A=async(e,r)=>{var s;if(s=pt(e.getElement()),Pr(s).isSome()){const l="ui/"+py(e).getOr("default")+"/skin.shadowdom.css",m=tinymce.Resource.get(l);if(!mo(m)){const g=e.editorManager.suffix;return Fv(e,r+`/skin.shadowdom${g}.css`,Dh.DOM.styleSheetLoader)}n_(e,l,m,Dh.DOM.styleSheetLoader)}},CA=(e,r)=>(async(s,l)=>{const m=()=>{const h=z2(l),x=l.editorManager.suffix;h&&l.contentCSS.push(h+(s?"/content.inline":"/content")+`${x}.css`)};py(l).fold(m,h=>{const x="ui/"+h+(s?"/content.inline":"/content")+".css",w=tinymce.Resource.get(x);mo(w)?n_(l,x,w,l.ui.styleSheetLoader):m()});const g=z2(l);if(!gy(l)&&mo(g))return Promise.all([kA(l,g),_A(l,g)]).then()})(e,r).then((s=>{const l=()=>{s._skinLoaded=!0,(m=>{m.dispatch("SkinLoaded")})(s)};return()=>{s.initialized?l():s.on("init",l)}})(r),((s,l)=>()=>((m,g)=>{m.dispatch("SkinLoadError",g)})(s,{message:"Skin could not be loaded"}))(r)),SA=mt(CA,!1),EA=mt(CA,!0),Of=(e,r,s)=>es(s)?e.translate(r):e.translate([r,e.translate(s)]),HO=(e,r)=>{const s=(g,h,x,w)=>{const S=e.shared.providers.translate(g.title);if(g.type==="separator")return D.some({type:"separator",text:S});if(g.type==="submenu"){const M=Vt(g.getStyleItems(),z=>l(z,h,w));return h===0&&M.length<=0?D.none():D.some({type:"nestedmenuitem",text:S,enabled:M.length>0,getSubmenuItems:()=>Vt(g.getStyleItems(),z=>l(z,h,w))})}return D.some({type:"togglemenuitem",text:S,icon:g.icon,active:g.isSelected(w),enabled:!x,onAction:r.onAction(g),...g.getStylePreview().fold(()=>({}),M=>({meta:{style:M}}))})},l=(g,h,x)=>{const w=g.type==="formatter"&&r.isInvalid(g);return h===0?w?[]:s(g,h,!1,x).toArray():s(g,h,w,x).toArray()},m=g=>{const h=r.getCurrentValue(),x=r.shouldHide?0:1;return Vt(g,w=>l(w,x,h))};return{validateItems:m,getFetch:(g,h)=>(x,w)=>{const S=h(),M=m(S);w(qy(M,Tm.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!1,search:D.none()}))}}},db=(e,r)=>{const s=r.dataset,l=s.type==="basic"?()=>F(s.data,m=>hp(m,r.isSelectedFor,r.getPreviewFor)):s.getData;return{items:HO(e,r),getStyleItems:l}},ub=(e,r,s,l,m,g)=>{const{items:h,getStyleItems:x}=db(r,s),w=yn(s.tooltip);return US({context:"mode:design",text:s.icon.isSome()?D.none():s.text,icon:s.icon,ariaLabel:D.some(s.tooltip),tooltip:D.none(),role:D.none(),fetch:h.getFetch(r,x),onSetup:S=>{const M=z=>S.setTooltip(Of(e,l(z.value),z.value));return e.on(m,M),Bw(bf(e,"NodeChange",z=>{const L=z.getComponent();s.updateText(L),Wn.set(z.getComponent(),!e.selection.isEditable())})(S),()=>e.off(m,M))},getApi:S=>({getComponent:ue(S),setTooltip:M=>{const z=r.shared.providers.translate(M);wn(S.element,"aria-label",z),w.set(M)}}),columns:1,presets:"normal",classes:s.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Bs.config({...r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(s.tooltip),onShow:S=>{if(s.tooltip!==w.get()){const M=r.shared.providers.translate(w.get());Bs.setComponents(S,r.shared.providers.tooltips.getComponents({tooltipText:M}))}}})})]},"tox-tbtn",r.shared,g)};var Nf;(function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"})(Nf||(Nf={}));const W4=(e,r,s)=>{const l=(m=((g,h)=>h===Nf.SemiColon?g.replace(/;$/,"").split(";"):g.split(" "))(e.options.get(r),s),F(m,g=>{let h=g,x=g;const w=g.split("=");return w.length>1&&(h=w[0],x=w[1]),{title:h,format:x}}));var m;return{type:"basic",data:l}},G4=ue("Alignment {0}"),zA="left",r_=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],TA=e=>{const r={type:"basic",data:r_};return{tooltip:Of(e,G4(),zA),text:D.none(),icon:D.some("align-left"),isSelectedFor:s=>()=>e.formatter.match(s),getCurrentValue:D.none,getPreviewFor:s=>D.none,onAction:s=>()=>yo(r_,l=>l.format===s.format).each(l=>e.execCommand(l.command)),updateText:s=>{const l=yo(r_,m=>e.formatter.match(m.format)).fold(ue(zA),m=>m.title.toLowerCase());An(s,Cf,{icon:`align-${l}`}),((m,g)=>{m.dispatch("AlignTextUpdate",g)})(e,{value:l})},dataset:r,shouldHide:!1,isInvalid:s=>!e.formatter.canApply(s.format)}},Mf=(e,r)=>{const s=r(),l=F(s,m=>m.format);return D.from(e.formatter.closest(l)).bind(m=>yo(s,g=>g.format===m))},K4=ue("Block {0}"),Y4="Paragraph",Lv=e=>{const r=W4(e,"block_formats",Nf.SemiColon);return{tooltip:Of(e,K4(),Y4),text:D.some(Y4),icon:D.none(),isSelectedFor:s=>()=>e.formatter.match(s),getCurrentValue:D.none,getPreviewFor:s=>()=>{const l=e.formatter.get(s);return l?D.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(s))}):D.none()},onAction:nz(e),updateText:s=>{const l=Mf(e,()=>r.data).fold(ue(Y4),m=>m.title);An(s,fd,{text:l}),((m,g)=>{m.dispatch("BlocksTextUpdate",g)})(e,{value:l})},dataset:r,shouldHide:!1,isInvalid:s=>!e.formatter.canApply(s.format)}},mb=ue("Font {0}"),a0="System Font",a_=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],X4=e=>{const r=e.split(/\s*,\s*/);return F(r,s=>s.replace(/^['"]+|['"]+$/g,""))},Sc=(e,r)=>r.length>0&&Ct(r,s=>e.indexOf(s.toLowerCase())>-1),Iv=e=>{const r=()=>{const l=S=>S?X4(S)[0]:"",m=e.queryCommandValue("FontName"),g=s.data,h=m?m.toLowerCase():"",x=nw(e);return{matchOpt:yo(g,S=>{const M=S.format;return M.toLowerCase()===h||l(M).toLowerCase()===l(h).toLowerCase()}).orThunk(()=>Nr(((S,M)=>{if(S.indexOf("-apple-system")===0||M.length>0){const z=X4(S.toLowerCase());return Sc(z,a_)||Sc(z,M)}return!1})(h,x),{title:a0,format:h})),font:m}},s=W4(e,"font_family_formats",Nf.SemiColon);return{tooltip:Of(e,mb(),a0),text:D.some(a0),icon:D.none(),isSelectedFor:l=>m=>m.exists(g=>g.format===l),getCurrentValue:()=>{const{matchOpt:l}=r();return l},getPreviewFor:l=>()=>D.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:m,font:g}=r(),h=m.fold(ue(g),x=>x.title);An(l,fd,{text:h}),((x,w)=>{x.dispatch("FontFamilyTextUpdate",w)})(e,{value:h})},dataset:s,shouldHide:!1,isInvalid:Uo}},AA={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},OA=(()=>{const e="[0-9]+",r="[eE][+-]?"+e,s=m=>`(?:${m})?`,l=["Infinity",e+"\\."+s(e)+s(r),"\\."+e+s(r),e+s(r)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),s_=(e,r)=>D.from(OA.exec(e)).bind(s=>{const l=Number(s[1]),m=s[2];return((g,h)=>$t(h,x=>$t(AA[x],w=>g===w)))(m,r)?D.some({value:l,unit:m}):D.none()}),yp={tab:ue(9),escape:ue(27),enter:ue(13),backspace:ue(8),delete:ue(46),left:ue(37),up:ue(38),right:ue(39),down:ue(40),space:ue(32),home:ue(36),end:ue(35),pageUp:ue(33),pageDown:ue(34)},NA=ue("Font size {0}"),J4="12pt",s0={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},i_={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},MA=(e,r)=>/[0-9.]+px$/.test(e)?((s,l)=>{const m=Math.pow(10,l);return Math.round(s*m)/m})(72*parseInt(e,10)/96,r||0)+"pt":zt(i_,e).getOr(e),i0=e=>zt(s0,e).getOr(""),DA=e=>{const r=()=>{let m=D.none();const g=l.data,h=e.queryCommandValue("FontSize");if(h)for(let x=3;m.isNone()&&x>=0;x--){const w=MA(h,x),S=i0(w);m=yo(g,M=>M.format===h||M.format===w||M.format===S)}return{matchOpt:m,size:h}},s=ue(D.none),l=W4(e,"font_size_formats",Nf.Space);return{tooltip:Of(e,NA(),J4),text:D.some(J4),icon:D.none(),isSelectedFor:m=>g=>g.exists(h=>h.format===m),getPreviewFor:s,getCurrentValue:()=>{const{matchOpt:m}=r();return m},onAction:m=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontSize",!1,m.format)})},updateText:m=>{const{matchOpt:g,size:h}=r(),x=g.fold(ue(h),w=>w.title);An(m,fd,{text:x}),((w,S)=>{w.dispatch("FontSizeTextUpdate",S)})(e,{value:x})},dataset:l,shouldHide:!1,isInvalid:Uo}},RA=e=>es(e)?"Formats":"Format {0}",l0=(e,r)=>{const s="Formats";return{tooltip:Of(e,RA(""),""),text:D.some(s),icon:D.none(),isSelectedFor:l=>()=>e.formatter.match(l),getCurrentValue:D.none,getPreviewFor:l=>()=>{const m=e.formatter.get(l);return m!==void 0?D.some({tag:m.length>0&&(m[0].inline||m[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(l))}):D.none()},onAction:nz(e),updateText:l=>{const m=x=>DT(x)?Vt(x.items,m):u4(x)?[{title:x.title,format:x.format}]:[],g=Vt(m4(e),m),h=Mf(e,ue(g)).fold(ue({title:s,tooltipLabel:""}),x=>({title:x.title,tooltipLabel:x.title}));An(l,fd,{text:h.title}),((x,w)=>{x.dispatch("StylesTextUpdate",w)})(e,{value:h.tooltipLabel})},shouldHide:f2(e),isInvalid:l=>!e.formatter.canApply(l.format),dataset:r}},jO=ue([oo("toggleClass"),oo("fetch"),gu("onExecute"),St("getHotspot",D.some),St("getAnchorOverrides",ue({})),wm(),gu("onItemExecute"),Lr("lazySink"),oo("dom"),Hr("onOpen"),fo("splitDropdownBehaviours",[Ys,Mn,Jn]),St("matchWidth",!1),St("useMinWidth",!1),St("eventOrder",{}),Lr("role"),Lr("listRole")].concat(Jl())),BA=hl({factory:ol,schema:[oo("dom")],name:"arrow",defaults:()=>({buttonBehaviours:zo([Jn.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(e.uid).each(Zl)},buttonBehaviours:zo([gr.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),t=hl({factory:ol,schema:[oo("dom")],name:"button",defaults:()=>({buttonBehaviours:zo([Jn.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(e.uid).each(s=>{e.onExecute(s,r)})}})}),o=ue([BA,t,Id({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[oo("text")],name:"aria-descriptor"}),Ld({schema:[ju()],name:"menu",defaults:e=>({onExecute:(r,s)=>{r.getSystem().getByUid(e.uid).each(l=>{e.onItemExecute(l,r,s)})}})}),HC()]),n=Xl({name:"SplitDropdown",configFields:jO(),partFields:o(),factory:(e,r,s,l)=>{const m=S=>{qr.getCurrent(S).each(M=>{ba.highlightFirst(M),Mn.focusIn(M)})},g=S=>{VC(e,$e,S,l,m,lc.HighlightMenuAndItem).get(Ae)},h=S=>{const M=Sm(S,e,"button");return Zl(M),D.some(!0)},x={...Ta([Aa((S,M)=>{ja(S,e,"aria-descriptor").each(z=>{const L=cn("aria");wn(z.element,"id",L),wn(S.element,"aria-describedby",L)})})]),...h1(D.some(g))},w={repositionMenus:S=>{gr.isOn(S)&&ZC(S)}};return{uid:e.uid,dom:e.dom,components:r,apis:w,eventOrder:{...e.eventOrder,[_l()]:["disabling","toggling","alloy.base.behaviour"]},events:x,behaviours:Bo(e.splitDropdownBehaviours,[Ys.config({others:{sandbox:S=>{const M=Sm(S,e,"arrow");return ev(e,S,{onOpen:()=>{gr.on(M),gr.on(S)},onClose:()=>{gr.off(M),gr.off(S)}})}}}),Mn.config({mode:"special",onSpace:h,onEnter:h,onDown:S=>(g(S),D.some(!0))}),Jn.config({}),gr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,r)=>e.repositionMenus(r)}}),a=e=>({isEnabled:()=>!Wn.isDisabled(e),setEnabled:r=>Wn.set(e,!r),setText:r=>An(e,fd,{text:r}),setIcon:r=>An(e,Cf,{icon:r})}),i=e=>({setActive:r=>{gr.set(e,r)},isActive:()=>gr.isOn(e),isEnabled:()=>!Wn.isDisabled(e),setEnabled:r=>Wn.set(e,!r),setText:r=>An(e,fd,{text:r}),setIcon:r=>An(e,Cf,{icon:r})}),c=(e,r)=>e.map(s=>({"aria-label":r.translate(s)})).getOr({}),d=cn("focus-button"),u=(e,r,s,l,m,g,h)=>{const x=r.map(S=>ya($S(S,"tox-tbtn",m))),w=e.map(S=>ya(_f(S,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:{...c(s,m),...Ve(h)?{"data-mce-name":h}:{}}},components:qh([w.map(S=>S.asSpec()),x.map(S=>S.asSpec())]),eventOrder:{[Le()]:["focusing","alloy.base.behaviour",nb],[Ul()]:[nb,"toolbar-group-button-events"]},buttonBehaviours:zo([H1(()=>m.checkUiComponentContext(g).shouldDisable),li(()=>m.checkUiComponentContext(g)),pr(nb,[Aa((S,M)=>jS(S)),Kt(fd,(S,M)=>{x.bind(z=>z.getOpt(S)).each(z=>{rr.set(z,[qa(m.translate(M.event.text))])})}),Kt(Cf,(S,M)=>{w.bind(z=>z.getOpt(S)).each(z=>{rr.set(z,[_f(M.event.icon,m.icons)])})}),Kt(Le(),(S,M)=>{M.event.prevent(),Rr(S,d)})])].concat(l.getOr([])))}},f=(e,r,s,l)=>{var m;const g=yn(Ae),h=u(e.icon,e.text,e.tooltip,D.none(),s,e.context,l);return ol.sketch({dom:h.dom,components:h.components,eventOrder:nT,buttonBehaviours:{...zo([pr("toolbar-button-events",[(x={onAction:e.onAction,getApi:r.getApi},lu((w,S)=>{j1(x,w)(M=>{An(w,oT,{buttonApi:M}),x.onAction(M)})})),_c(r,g),hg(r,g)]),...e.tooltip.map(w=>Bs.config(s.tooltips.getConfig({tooltipText:s.translate(w)+e.shortcut.map(S=>` (${Aw(S)})`).getOr("")}))).toArray(),H1(()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable),li(()=>s.checkUiComponentContext(e.context))].concat(r.toolbarButtonBehaviours)),[nb]:(m=h.buttonBehaviours)===null||m===void 0?void 0:m[nb]}});var x},y=(e,r,s,l)=>f(e,{toolbarButtonBehaviours:s.length>0?[pr("toolbarButtonWith",s)]:[],getApi:a,onSetup:e.onSetup},r,l),v=(e,r,s,l)=>f(e,{toolbarButtonBehaviours:[rr.config({}),gr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(s.length>0?[pr("toolbarToggleButtonWith",s)]:[]),getApi:i,onSetup:e.onSetup},r,l),k=(e,r,s)=>l=>yg(m=>r.fetch(m)).map(m=>D.from(Gw(vs(Q1(cn("menu-value"),m,g=>{r.onItemAction(e(l),g)},r.columns,r.presets,Tm.CLOSE_ON_EXECUTE,r.select.getOr(Uo),s),{movement:$w(r.columns,r.presets),menuBehaviours:Ey(r.columns!=="auto"?[]:[Aa((g,h)=>{I1(g,4,vw(r.presets)).each(({numRows:x,numColumns:w})=>{Mn.setGridSize(g,x,w)})})])})))),E=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],B=(e,r)=>(s,l,m,g)=>{const h=e(s).mapError(x=>bn(x)).getOrDie();return r(h,l,m,g)},N={button:B(gC,(e,r,s,l)=>((m,g,h)=>y(m,g,[],h))(e,r.shared.providers,l)),togglebutton:B(pC,(e,r,s,l)=>((m,g,h)=>v(m,g,[],h))(e,r.shared.providers,l)),menubutton:B(Av,(e,r,s,l)=>Ef(e,"tox-tbtn",r,D.none(),!1,l)),splitbutton:B(e=>Pa("SplitButton",$k,e),(e,r,s,l)=>((m,g,h)=>{const x=yn(m.tooltip.getOr("")),w=z=>({isEnabled:()=>!Wn.isDisabled(z),setEnabled:L=>Wn.set(z,!L),setIconFill:(L,U)=>{ws(z.element,`svg path[class="${L}"], rect[class="${L}"]`).each(Z=>{wn(Z,"fill",U)})},setActive:L=>{wn(z.element,"aria-pressed",L),ws(z.element,"span").each(U=>{z.getSystem().getByDom(U).each(Z=>gr.set(Z,L))})},isActive:()=>ws(z.element,"span").exists(L=>z.getSystem().getByDom(L).exists(gr.isOn)),setText:L=>ws(z.element,"span").each(U=>z.getSystem().getByDom(U).each(Z=>An(Z,fd,{text:L}))),setIcon:L=>ws(z.element,"span").each(U=>z.getSystem().getByDom(U).each(Z=>An(Z,Cf,{icon:L}))),setTooltip:L=>{const U=g.providers.translate(L);wn(z.element,"aria-label",U),x.set(L)}}),S=yn(Ae),M={getApi:w,onSetup:m.onSetup};return n.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...c(m.tooltip,g.providers),...Ve(h)?{"data-mce-name":h}:{}}},onExecute:z=>{const L=w(z);L.isEnabled()&&m.onAction(L)},onItemExecute:(z,L,U)=>{},splitDropdownBehaviours:zo([pr("split-dropdown-events",[Aa((z,L)=>jS(z)),Kt(d,Jn.focus),_c(M,S),hg(M,S)]),P1(()=>g.providers.isDisabled()||g.providers.checkUiComponentContext(m.context).shouldDisable),li(()=>g.providers.checkUiComponentContext(m.context)),Fy.config({}),...m.tooltip.map(z=>Bs.config({...g.providers.tooltips.getConfig({tooltipText:g.providers.translate(z),onShow:L=>{if(x.get()!==z){const U=g.providers.translate(x.get());Bs.setComponents(L,g.providers.tooltips.getComponents({tooltipText:U}))}}})})).toArray()]),eventOrder:{[Ul()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Lc()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:g.getSink,fetch:k(w,m,g.providers),parts:{menu:A1(0,m.columns,m.presets)},components:[n.parts.button(u(m.icon,m.text,D.none(),D.some([gr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),H1(Uo),li(ue({contextType:"any",shouldDisable:!1}))]),g.providers,m.context)),n.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:fw("chevron-down",g.providers.icons)},buttonBehaviours:zo([P1(Uo),li(ue({contextType:"any",shouldDisable:!1}))])}),n.parts["aria-descriptor"]({text:g.providers.translate("To open the popup, press Shift+Enter")})]})})(e,r.shared,l)),grouptoolbarbutton:B(e=>Pa("GroupToolbarButton",JT,e),(e,r,s,l)=>{const m=s.ui.registry.getAll().buttons,g={[Wb]:r.shared.header.isPositionedAtTop()?hu.TopToBottom:hu.BottomToTop};if(lf(s)===md.floating)return((h,x,w,S,M)=>{const z=x.shared,L=yn(Ae),U={toolbarButtonBehaviours:[],getApi:a,onSetup:h.onSetup},Z=[pr("toolbar-group-button-events",[_c(U,L),hg(U,L)])];return bp.sketch({lazySink:z.getSink,fetch:()=>yg(re=>{re(F(w(h.items),Qk))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:u(h.icon,h.text,h.tooltip,D.some(Z),z.providers,h.context,M),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:S}}}})})(e,r,h=>O(s,{buttons:m,toolbar:h,allowToolbarGroups:!1},r,D.none()),g,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},P={styles:(e,r)=>{const s={type:"advanced",...r.styles};return ub(e,r,l0(e,s),RA,"StylesTextUpdate","styles")},fontsize:(e,r)=>ub(e,r,DA(e),NA,"FontSizeTextUpdate","fontsize"),fontsizeinput:(e,r)=>((s,l,m,g)=>{let h=D.none();const x=bf(s,"NodeChange SwitchMode",de=>{const me=de.getComponent();h=D.some(me),m.updateInputValue(me),Wn.set(me,!s.selection.isEditable())}),w=de=>({getComponent:ue(de)}),S=yn(Ae),M=cn("custom-number-input-events"),z=(de,me,xe)=>{const Ke=h.map(ko=>Ge.getValue(ko)).getOr(""),wt=m.getNewValue(Ke,de),eo=Ke.length-`${wt}`.length,qt=h.map(ko=>ko.element.dom.selectionStart-eo),Jt=h.map(ko=>ko.element.dom.selectionEnd-eo);m.onAction(wt,xe),h.each(ko=>{Ge.setValue(ko,wt),me&&(qt.each(en=>ko.element.dom.selectionStart=en),Jt.each(en=>ko.element.dom.selectionEnd=en))})},L=(de,me)=>z((xe,Ke)=>xe-Ke,de,me),U=(de,me)=>z((xe,Ke)=>xe+Ke,de,me),Z=de=>rn(de.element).fold(D.none,me=>(Il(me),D.some(!0))),re=de=>Dp(de.element)?(_r(de.element).each(me=>Il(me)),D.some(!0)):D.none(),se=(de,me,xe,Ke)=>{const wt=yn(Ae),eo=l.shared.providers.translate(xe),qt=cn("altExecuting"),Jt=bf(s,"NodeChange SwitchMode",en=>{Wn.set(en.getComponent(),!s.selection.isEditable())}),ko=en=>{Wn.isDisabled(en)||de(!0)};return ol.sketch({dom:{tag:"button",attributes:{"aria-label":eo,"data-mce-name":me},classes:Ke.concat(me)},components:[rb(me,l.shared.providers.icons)],buttonBehaviours:zo([Wn.config({}),Bs.config(l.shared.providers.tooltips.getConfig({tooltipText:eo})),pr(qt,[_c({onSetup:Jt,getApi:w},wt),hg({getApi:w},wt),Kt(Za(),(en,En)=>{En.event.raw.keyCode!==yp.space()&&En.event.raw.keyCode!==yp.enter()||Wn.isDisabled(en)||de(!1)}),Kt(Bc(),ko),Kt(K(),ko)])]),eventOrder:{[Za()]:[qt,"keying"],[Bc()]:[qt,"alloy.base.behaviour"],[K()]:[qt,"alloy.base.behaviour"],[Ul()]:["alloy.base.behaviour",qt,"tooltipping"],[Lc()]:[qt,"tooltipping"]}})},pe=ya(se(de=>L(!1,de),"minus","Decrease font size",[])),oe=ya(se(de=>U(!1,de),"plus","Increase font size",[])),te=ya({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Al.sketch({inputBehaviours:zo([Wn.config({}),pr(M,[_c({onSetup:x,getApi:w},S),hg({getApi:w},S)]),pr("input-update-display-text",[Kt(fd,(de,me)=>{Ge.setValue(de,me.event.text)}),Kt(ha(),de=>{m.onAction(Ge.getValue(de))}),Kt(fc(),de=>{m.onAction(Ge.getValue(de))})]),Mn.config({mode:"special",onEnter:de=>(z($e,!0,!0),D.some(!0)),onEscape:Z,onUp:de=>(U(!0,!1),D.some(!0)),onDown:de=>(L(!0,!1),D.some(!0)),onLeft:(de,me)=>(me.cut(),D.none()),onRight:(de,me)=>(me.cut(),D.none())})])})],behaviours:zo([Jn.config({}),Mn.config({mode:"special",onEnter:re,onSpace:re,onEscape:Z}),pr("input-wrapper-events",[Kt(Zn(),de=>{Ot([pe,oe],me=>{const xe=pt(me.get(de).element.dom);Dp(xe)&&ih(xe)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Ve(g)?{"data-mce-name":g}:{}}},components:[pe.asSpec(),te.asSpec(),oe.asSpec()],behaviours:zo([Jn.config({}),Mn.config({mode:"flow",focusInside:Ah.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:de=>Dp(de.element)?D.none():(Il(de.element),D.some(!0))})])}})(e,r,(s=>{const l=()=>s.queryCommandValue("FontSize");return{updateInputValue:m=>An(m,fd,{text:l()}),onAction:(m,g)=>s.execCommand("FontSize",!1,m,{skip_focus:!g}),getNewValue:(m,g)=>{s_(m,["unsupportedLength","empty"]);const h=l(),x=s_(m,["unsupportedLength","empty"]).or(s_(h,["unsupportedLength","empty"])),w=x.map(U=>U.value).getOr(16),S=Jx(s),M=x.map(U=>U.unit).filter(U=>U!=="").getOr(S),z=g(w,(U=>{var Z;return(Z={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[U])!==null&&Z!==void 0?Z:{step:1}})(M).step),L=`${(U=>U>=0)(z)?z:w}${M}`;return L!==h&&((U,Z)=>{U.dispatch("FontSizeInputTextUpdate",Z)})(s,{value:L}),L}}})(e),"fontsizeinput"),fontfamily:(e,r)=>ub(e,r,Iv(e),mb,"FontFamilyTextUpdate","fontfamily"),blocks:(e,r)=>ub(e,r,Lv(e),K4,"BlocksTextUpdate","blocks"),align:(e,r)=>ub(e,r,TA(e),G4,"AlignTextUpdate","align")},O=(e,r,s,l)=>{const m=(h=>{const x=h.toolbar,w=h.buttons;return x===!1?[]:x===void 0||x===!0?(S=>{const M=F(E,z=>{const L=ro(z.items,U=>Xo(S,U)||Xo(P,U));return{name:z.name,items:L}});return ro(M,z=>z.items.length>0)})(w):mo(x)?(S=>{const M=S.split("|");return F(M,z=>({items:z.trim().split(" ")}))})(x):(S=>uo(S,M=>Xo(M,"name")&&Xo(M,"items")))(x)?x:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(r),g=F(m,h=>{const x=Vt(h.items,w=>w.trim().length===0?[]:((S,M,z,L,U,Z)=>zt(M,z.toLowerCase()).orThunk(()=>Z.bind(re=>We(re,se=>zt(M,se+z.toLowerCase())))).fold(()=>zt(P,z.toLowerCase()).map(re=>re(S,U)),re=>re.type!=="grouptoolbarbutton"||L?((se,pe,oe,te)=>zt(N,se.type).fold(()=>(console.error("skipping button defined by",se),D.none()),de=>D.some(de(se,pe,oe,te))))(re,U,S,z.toLowerCase()):(console.warn(`Ignoring the '${z}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),D.none())))(e,r.buttons,w,r.allowToolbarGroups,s,l).toArray());return{title:D.from(e.translate(h.name)),items:x}});return ro(g,h=>h.items.length>0)},V=(e,r,s,l)=>{const m=r.mainUi.outerContainer,g=s.toolbar,h=s.buttons;if(uo(g,mo)){const x=g.map(w=>{const S={toolbar:w,buttons:h,allowToolbarGroups:s.allowToolbarGroups};return O(e,S,l,D.none())});Na.setToolbars(m,x)}else Na.setToolbar(m,O(e,s,l,D.none()))},G=Ms(),Y=G.os.isiOS()&&G.os.version.major<=12;var ae=Object.freeze({__proto__:null,render:(e,r,s,l,m)=>{const{mainUi:g,uiMotherships:h}=r,x=yn(0),w=g.outerContainer;SA(e);const S=pt(m.targetNode),M=Cr(ea(S));Kg(S,g.mothership),((Z,re,se)=>{Yu(Z)&&Kg(se.mainUi.mothership.element,se.popupUi.mothership),Wp(re,se.dialogUi.mothership)})(e,M,r),e.on("PostRender",()=>{Na.setSidebar(w,s.sidebar,ow(e))}),e.on("SkinLoaded",()=>{V(e,r,s,l),x.set(e.getWin().innerWidth),Na.setMenubar(w,Af(e,s)),Na.setViews(w,s.views),((Z,re)=>{const{uiMotherships:se}=re,pe=Z.dom;let oe=Z.getWin();const te=Z.getDoc().documentElement,de=yn(Ur(oe.innerWidth,oe.innerHeight)),me=yn(Ur(te.offsetWidth,te.offsetHeight)),xe=()=>{const qt=de.get();qt.left===oe.innerWidth&&qt.top===oe.innerHeight||(de.set(Ur(oe.innerWidth,oe.innerHeight)),Rw(Z))},Ke=()=>{const qt=Z.getDoc().documentElement,Jt=me.get();Jt.left===qt.offsetWidth&&Jt.top===qt.offsetHeight||(me.set(Ur(qt.offsetWidth,qt.offsetHeight)),Rw(Z))},wt=qt=>{((Jt,ko)=>{Jt.dispatch("ScrollContent",ko)})(Z,qt)};pe.bind(oe,"resize",xe),pe.bind(oe,"scroll",wt);const eo=og(pt(Z.getBody()),"load",Ke);Z.on("hide",()=>{Ot(se,qt=>{Dn(qt.element,"display","none")})}),Z.on("show",()=>{Ot(se,qt=>{qn(qt.element,"display")})}),Z.on("NodeChange",Ke),Z.on("remove",()=>{eo.unbind(),pe.unbind(oe,"resize",xe),pe.unbind(oe,"scroll",wt),oe=null})})(e,r)});const z=Na.getSocket(w).getOrDie("Could not find expected socket element");if(Y){Xn(z.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Z=((se,pe)=>{let oe=null;return{cancel:()=>{Io(oe)||(clearTimeout(oe),oe=null)},throttle:(...te)=>{Io(oe)&&(oe=setTimeout(()=>{oe=null,se.apply(null,te)},20))}}})(()=>{e.dispatch("ScrollContent")}),re=Kl(z.element,"scroll",Z.throttle);e.on("remove",re.unbind)}xC(e,r),e.addCommand("ToggleSidebar",(Z,re)=>{Na.toggleSidebar(w,re),(se=>{se.dispatch("ToggleSidebar")})(e)}),e.addQueryValueHandler("ToggleSidebar",()=>{var Z;return(Z=Na.whichSidebar(w))!==null&&Z!==void 0?Z:""}),e.addCommand("ToggleView",(Z,re)=>{if(Na.toggleView(w,re)){const se=w.element;g.mothership.broadcastOn([p()],{target:se}),Ot(h,pe=>{pe.broadcastOn([p()],{target:se})}),Io(Na.whichView(w))&&(e.focus(),e.nodeChanged(),Na.refreshToolbar(w)),(pe=>{pe.dispatch("ToggleView")})(e)}}),e.addQueryValueHandler("ToggleView",()=>{var Z;return(Z=Na.whichView(w))!==null&&Z!==void 0?Z:""});const L=lf(e);L!==md.sliding&&L!==md.floating||e.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Z=e.getWin().innerWidth;Z!==x.get()&&(Na.refreshToolbar(r.mainUi.outerContainer),x.set(Z))});const U={setEnabled:Z=>{zy(r,Z?"setEnabled":"setDisabled")},isEnabled:()=>!Wn.isDisabled(w)};return{iframeContainer:z.element.dom,editorContainer:w.element.dom,api:U}}});const ee=e=>/^[0-9\.]+(|px)$/i.test(""+e)?D.some(parseInt(""+e,10)):D.none(),we=e=>ho(e)?e+"px":e,je=(e,r,s)=>{const l=r.filter(g=>e<g),m=s.filter(g=>e>g);return l.or(m).getOr(e)},Pe=e=>{const r=Gx(e),s=ug(e),l=y1(e);return ee(r).map(m=>je(m,s,l))},{ToolbarLocation:rt,ToolbarMode:Mt}=O2,Fe=(e,r,s,l,m)=>{const{mainUi:g,uiMotherships:h}=s,x=Dh.DOM,w=Fh(e),S=Lh(e),M=y1(e).or(Pe(e)),z=l.shared.header,L=z.isPositionedAtTop,U=lf(e),Z=U===Mt.sliding||U===Mt.floating,re=yn(!1),se=()=>re.get()&&!e.removed,pe=me=>Z?me.fold(ue(0),xe=>xe.components().length>1?Da(xe.components()[1].element):0):0,oe=()=>{Ot(h,me=>{me.broadcastOn([b()],{})})},te=me=>{if(!se())return;w||m.on(wt=>{const eo=M.getOrThunk(()=>_i().width-Q(r).left-10);Dn(wt.element,"max-width",eo+"px")});const xe=ta(),Ke=!(w||w||!(ks(g.outerContainer.element).left+Wt(g.outerContainer.element)>=window.innerWidth-40||to(g.outerContainer.element,"width").isSome())||(Dn(g.outerContainer.element,"position","absolute"),Dn(g.outerContainer.element,"left","0px"),qn(g.outerContainer.element,"width"),0));if(Z&&Na.refreshToolbar(g.outerContainer),!w){const wt=ta(),eo=Nr(xe.left!==wt.left,xe);((qt,Jt)=>{m.on(ko=>{const en=Na.getToolbar(g.outerContainer),En=pe(en),Fn=ds(r),ir=((xa,Jr)=>Yu(xa)?Yi(Jr):D.none())(e,g.outerContainer.element),jr=ir.fold(()=>Fn.x,xa=>{const Jr=ds(xa);return dn(xa,os())?Fn.x:Fn.x-Jr.x}),zs=Nr(qt,Math.ceil(g.outerContainer.element.dom.getBoundingClientRect().width)).filter(xa=>xa>150).map(xa=>{const Jr=Jt.getOr(ta()),jn=window.innerWidth-(jr-Jr.left),Ja=Math.max(Math.min(xa,jn),150);return jn<xa&&Dn(g.outerContainer.element,"width",Ja+"px"),{width:Ja+"px"}}).getOr({width:"max-content"}),Ts={position:"absolute",left:Math.round(jr)+"px",top:ir.fold(()=>L()?Math.max(Fn.y-Da(ko.element)+En,0):Fn.bottom,xa=>{var Jr;const jn=ds(xa),Ja=(Jr=xa.dom.scrollTop)!==null&&Jr!==void 0?Jr:0,Ba=dn(xa,os())?Math.max(Fn.y-Da(ko.element)+En,0):Fn.y-jn.y+Ja-Da(ko.element)+En;return L()?Ba:Fn.bottom})+"px"};Xn(g.outerContainer.element,{...Ts,...zs})})})(Ke,eo),eo.each(qt=>{Ds(qt.left,wt.top)})}S&&m.on(me),oe()},de=()=>!(w||!S||!se())&&m.get().exists(me=>{const xe=z.getDockingMode(),Ke=(eo=>{switch(Yx(e)){case rt.auto:const qt=Na.getToolbar(g.outerContainer),Jt=pe(qt),ko=Da(eo.element)-Jt,en=ds(r);if(en.y>ko)return"top";{const En=Lo(r),Fn=Math.max(En.dom.scrollHeight,Da(En));return en.bottom<Fn-ko||rs().bottom<en.bottom-ko?"bottom":"top"}case rt.bottom:return"bottom";case rt.top:default:return"top"}})(me);return Ke!==xe&&(wt=Ke,m.on(eo=>{ss.setModes(eo,[wt]),z.setDockingMode(wt);const qt=L()?hu.TopToBottom:hu.BottomToTop;wn(eo.element,Wb,qt)}),!0);var wt});return{isVisible:se,isPositionedAtTop:L,show:()=>{re.set(!0),Dn(g.outerContainer.element,"display","flex"),x.addClass(e.getBody(),"mce-edit-focus"),Ot(h,me=>{qn(me.element,"display")}),de(),Yu(e)?te(me=>ss.isDocked(me)?ss.reset(me):ss.refresh(me)):te(ss.refresh)},hide:()=>{re.set(!1),Dn(g.outerContainer.element,"display","none"),x.removeClass(e.getBody(),"mce-edit-focus"),Ot(h,me=>{Dn(me.element,"display","none")})},update:te,updateMode:()=>{de()&&te(ss.reset)},repositionPopups:oe}},Ue=(e,r)=>{const s=ds(e);return{pos:r?s.y:s.bottom,bounds:s}};var ot=Object.freeze({__proto__:null,render:(e,r,s,l,m)=>{const{mainUi:g}=r,h=Tr(),x=pt(m.targetNode),w=Fe(e,x,r,l,h),S=y2(e);EA(e);const M=()=>{if(h.isSet())return void w.show();h.set(Na.getHeader(g.outerContainer).getOrDie());const L=sw(e);Yu(e)?(Kg(x,g.mothership),Kg(x,r.popupUi.mothership)):Wp(L,g.mothership),Wp(L,r.dialogUi.mothership);const U=()=>{V(e,r,s,l),Na.setMenubar(g.outerContainer,Af(e,s)),w.show(),((Z,re,se,pe)=>{const oe=yn(Ue(re,se.isPositionedAtTop())),te=Ke=>{const{pos:wt,bounds:eo}=Ue(re,se.isPositionedAtTop()),{pos:qt,bounds:Jt}=oe.get(),ko=eo.height!==Jt.height||eo.width!==Jt.width;oe.set({pos:wt,bounds:eo}),ko&&Rw(Z,Ke),se.isVisible()&&(qt!==wt?se.update(ss.reset):ko&&(se.updateMode(),se.repositionPopups()))};pe||(Z.on("activate",se.show),Z.on("deactivate",se.hide)),Z.on("SkinLoaded ResizeWindow",()=>se.update(ss.reset)),Z.on("NodeChange keydown",Ke=>{requestAnimationFrame(()=>te(Ke))});let de=0;const me=BS(()=>se.update(ss.refresh),33);Z.on("ScrollWindow",()=>{const Ke=ta().left;Ke!==de&&(de=Ke,me.throttle()),se.updateMode()}),Yu(Z)&&Z.on("ElementScroll",Ke=>{se.update(ss.refresh)});const xe=$l();xe.set(og(pt(Z.getBody()),"load",Ke=>te(Ke.raw))),Z.on("remove",()=>{xe.clear()})})(e,x,w,S),e.nodeChanged()};S?e.once("SkinLoaded",U):U()};e.on("show",M),e.on("hide",w.hide),S||(e.on("focus",M),e.on("blur",w.hide)),e.on("init",()=>{(e.hasFocus()||S)&&M()}),xC(e,r);const z={show:M,hide:w.hide,setEnabled:L=>{zy(r,L?"setEnabled":"setDisabled")},isEnabled:()=>!Wn.isDisabled(g.outerContainer)};return{editorContainer:g.outerContainer.element.dom,api:z}}});const Qt="contexttoolbar-hide",Do=(e,r)=>Kt(oT,(s,l)=>{const m=(g=>({hide:()=>Rr(g,Hm()),getValue:()=>Ge.getValue(g)}))(e.get(s));r.onAction(m,l.event.buttonApi)}),Ao=(e,r)=>{const s=e.label.fold(()=>({}),g=>({"aria-label":g})),l=ya(Al.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:s,selectOnFocus:!0,inputBehaviours:zo([Wn.config({disabled:()=>r.checkUiComponentContext("mode:design").shouldDisable}),li(()=>r.checkUiComponentContext("mode:design")),Mn.config({mode:"special",onEnter:g=>m.findPrimary(g).map(h=>(Zl(h),!0)),onLeft:(g,h)=>(h.cut(),D.none()),onRight:(g,h)=>(h.cut(),D.none())})])})),m=((g,h,x)=>{const w=F(h,S=>ya(((M,z,L)=>(U=>U.type==="contextformtogglebutton")(z)?((U,Z,re)=>{const{primary:se,...pe}=Z.original,oe=Oi(pC({...pe,type:"togglebutton",onAction:Ae}));return v(oe,re,[Do(U,Z)])})(M,z,L):((U,Z,re)=>{const{primary:se,...pe}=Z.original,oe=Oi(gC({...pe,type:"button",onAction:Ae}));return y(oe,re,[Do(U,Z)])})(M,z,L))(g,S,x)));return{asSpecs:()=>F(w,S=>S.asSpec()),findPrimary:S=>We(h,(M,z)=>M.primary?D.from(w[z]).bind(L=>L.getOpt(S)).filter(Ro(Wn.isDisabled)):D.none())}})(l,e.commands,r);return[{title:D.none(),items:[l.asSpec()]},{title:D.none(),items:m.asSpecs()}]},vn=(e,r,s)=>r.bottom-e.y>=s&&e.bottom-r.y>=s,Tn=e=>{const r=(s=>{const l=s.getBoundingClientRect();if(l.height<=0&&l.width<=0){const m=sa(pt(s.startContainer),s.startOffset).element;return(Nt(m)?qo(m):D.some(m)).filter(Se).map(g=>g.dom.getBoundingClientRect()).getOr(l)}return l})(e.selection.getRng());if(e.inline){const s=ta();return ka(s.left+r.left,s.top+r.top,r.width,r.height)}{const s=Ia(pt(e.getBody()));return ka(s.x+r.left,s.y+r.top,r.width,r.height)}},Bn=(e,r,s,l=0)=>{const m=_i(window),g=ds(pt(e.getContentAreaContainer())),h=w1(e)||rw(e)||Bh(e),{x,width:w}=((S,M,z)=>{const L=Math.max(S.x+z,M.x);return{x:L,width:Math.min(S.right-z,M.right)-L}})(g,m,l);if(e.inline&&!h)return ka(x,m.y,w,m.height);{const S=r.header.isPositionedAtTop(),{y:M,bottom:z}=((L,U,Z,re,se,pe)=>{const oe=pt(L.getContainer()),te=ws(oe,".tox-editor-header").getOr(oe),de=ds(te),me=de.y>=U.bottom,xe=re&&!me;if(L.inline&&xe)return{y:Math.max(de.bottom+pe,Z.y),bottom:Z.bottom};if(L.inline&&!xe)return{y:Z.y,bottom:Math.min(de.y-pe,Z.bottom)};const Ke=se==="line"?ds(oe):U;return xe?{y:Math.max(de.bottom+pe,Z.y),bottom:Math.min(Ke.bottom-pe,Z.bottom)}:{y:Math.max(Ke.y+pe,Z.y),bottom:Math.min(de.y-pe,Z.bottom)}})(e,g,m,S,s,l);return ka(x,M,w,z-M)}},$n={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Yo={maxHeightFunction:xm(),maxWidthFunction:D4()},Cn=e=>e==="node",Qe=(e,r,s,l,m)=>{const g=Tn(e),h=l.lastElement().exists(x=>dn(s,x));return((x,w)=>{const S=x.selection.getRng(),M=sa(pt(S.startContainer),S.startOffset);return S.startContainer===S.endContainer&&S.startOffset===S.endOffset-1&&dn(M.element,w)})(e,s)?h?Ik:om:h?((x,w,S)=>{const M=to(x,"position");Dn(x,"position",w);const z=vn(g,ds(r),-20)&&!l.isReposition()?TT:Ik;return M.each(L=>Dn(x,"position",L)),z})(r,l.getMode()):(l.getMode()==="fixed"?m.y+ta().top:m.y)+(Da(r)+12)<=g.y?om:ib},st=(e,r,s,l)=>{const m=h=>(x,w,S,M,z)=>({...Qe(e,M,h,s,z)({...x,y:z.y,height:z.height},w,S,M,z),alwaysFit:!0}),g=h=>Cn(l)?[m(h)]:[];return r?{onLtr:h=>[ei,pi,fi,ml,Hi,ji].concat(g(h)),onRtl:h=>[ei,fi,pi,Hi,ml,ji].concat(g(h))}:{onLtr:h=>[ji,ei,ml,pi,Hi,fi].concat(g(h)),onRtl:h=>[ji,ei,Hi,fi,ml,pi].concat(g(h))}},Ht=(e,r)=>{const s=ro(r,g=>g.predicate(e.dom)),{pass:l,fail:m}=kt(s,g=>g.type==="contexttoolbar");return{contextToolbars:l,contextForms:m}},It=(e,r)=>{const s={},l=[],m=[],g={},h={},x=dt(e);return Ot(x,w=>{const S=e[w];S.type==="contextform"?((M,z)=>{const L=Oi(Pa("ContextForm",N5,z));s[M]=L,L.launch.map(U=>{g["form:"+M]={...z.launch,type:U.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(L)}}}),L.scope==="editor"?m.push(L):l.push(L),h[M]=L})(w,S):S.type==="contexttoolbar"&&((M,z)=>{var L;(L=z,Pa("ContextToolbar",FE,L)).each(U=>{z.scope==="editor"?m.push(U):l.push(U),h[M]=U})})(w,S)}),{forms:s,inNodeScope:l,inEditorScope:m,lookupTable:h,formNavigators:g}},Ko=cn("forward-slide"),Po=cn("backward-slide"),Pn=cn("change-slide-event"),Gn="tox-pop--resizing",br="tox-pop--transition",bs=(e,r,s,l)=>{const m=l.backstage,g=m.shared,h=Ms().deviceType.isTouch,x=Tr(),w=Tr(),S=Tr(),M=Xi((xe=>{const Ke=yn([]);return fs.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:wt=>{Ke.set([]),fs.getContent(wt).each(eo=>{qn(eo.element,"visibility")}),ln(wt.element,Gn),qn(wt.element,"width")},inlineBehaviours:zo([pr("context-toolbar-events",[su(Mu(),(wt,eo)=>{eo.event.raw.propertyName==="width"&&(ln(wt.element,Gn),qn(wt.element,"width"))}),Kt(Pn,(wt,eo)=>{const qt=wt.element;qn(qt,"width");const Jt=Xe(qt);fs.setContent(wt,eo.event.contents),lo(qt,Gn);const ko=Xe(qt);Dn(qt,"width",Jt+"px"),fs.getContent(wt).each(en=>{eo.event.focus.bind(En=>(Il(En),zl(qt))).orThunk(()=>(Mn.focusIn(en),ud(ea(qt))))}),setTimeout(()=>{Dn(wt.element,"width",ko+"px")},0)}),Kt(Ko,(wt,eo)=>{fs.getContent(wt).each(qt=>{Ke.set(Ke.get().concat([{bar:qt,focus:ud(ea(wt.element))}]))}),An(wt,Pn,{contents:eo.event.forwardContents,focus:D.none()})}),Kt(Po,(wt,eo)=>{at(Ke.get()).each(qt=>{Ke.set(Ke.get().slice(0,Ke.get().length-1)),An(wt,Pn,{contents:xc(qt.bar),focus:qt.focus})})})]),Mn.config({mode:"special",onEscape:wt=>at(Ke.get()).fold(()=>xe.onEscape(),eo=>(Rr(wt,Po),D.some(!0)))})]),lazySink:()=>Dr.value(xe.sink)})})({sink:s,onEscape:()=>(e.focus(),D.some(!0))})),z=()=>{const xe=S.get().getOr("node"),Ke=Cn(xe)?1:0;return Bn(e,g,xe,Ke)},L=()=>!(e.removed||h()&&m.isContextMenuOpen()),U=()=>{if(L()){const xe=z(),Ke=ar(S.get(),"node")?((wt,eo)=>eo.filter(qt=>Ma(qt)&&Te(qt)).map(Ia).getOrThunk(()=>Tn(wt)))(e,x.get()):Tn(e);return xe.height<=0||!vn(Ke,xe,.01)}return!0},Z=()=>{x.clear(),w.clear(),S.clear(),fs.hide(M)},re=()=>{if(fs.isOpen(M)){const xe=M.element;qn(xe,"display"),U()?Dn(xe,"display","none"):(w.set(0),fs.reposition(M))}},se=xe=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[xe],behaviours:zo([Mn.config({mode:"acyclic"}),pr("pop-dialog-wrap-events",[Aa(Ke=>{e.shortcuts.add("ctrl+F9","focus statusbar",()=>Mn.focusIn(Ke))}),nc(Ke=>{e.shortcuts.remove("ctrl+F9")})])])}),pe=xo(()=>It(r,xe=>{const Ke=oe([xe]);An(M,Ko,{forwardContents:se(Ke)})})),oe=xe=>{const{buttons:Ke}=e.ui.registry.getAll(),wt={...Ke,...pe().formNavigators},eo=lf(e)===md.scrolling?md.scrolling:md.default,qt=_e(F(xe,Jt=>Jt.type==="contexttoolbar"?((ko,en)=>O(e,{buttons:ko,toolbar:en.items,allowToolbarGroups:!1},l.backstage,D.some(["form:"])))(wt,Jt):((ko,en)=>Ao(ko,en))(Jt,g.providers)));return j4({type:eo,uid:cn("context-toolbar"),initGroups:qt,onEscape:D.none,cyclicKeying:!0,providers:g.providers})},te=(xe,Ke)=>{if(me.cancel(),!L())return;const wt=oe(xe),eo=xe[0].position,qt=((ko,en)=>{const En=ko==="node"?g.anchors.node(en):g.anchors.cursor(),Fn=((ir,jr,zs,Ts)=>jr==="line"?{bubble:pl(12,0,$n),layouts:{onLtr:()=>[gl],onRtl:()=>[eg]},overrides:Yo}:{bubble:pl(0,12,$n,1/12),layouts:st(ir,zs,Ts,jr),overrides:Yo})(e,ko,h(),{lastElement:x.get,isReposition:()=>ar(w.get(),0),getMode:()=>fl.getMode(s)});return vs(En,Fn)})(eo,Ke);S.set(eo),w.set(1);const Jt=M.element;qn(Jt,"display"),(ko=>ar(Ft(ko,x.get(),dn),!0))(Ke)||(ln(Jt,br),fl.reset(s,M)),fs.showWithinBounds(M,se(wt),{anchor:qt,transition:{classes:[br],mode:"placement"}},()=>D.some(z())),Ke.fold(x.clear,x.set),U()&&Dn(Jt,"display","none")};let de=!1;const me=BS(()=>{!e.hasFocus()||e.removed||de||(Rn(M.element,br)?me.throttle():((xe,Ke)=>{const wt=pt(Ke.getBody()),eo=Jt=>dn(Jt,wt),qt=pt(Ke.selection.getNode());return(Jt=>!eo(Jt)&&!Ee(wt,Jt))(qt)?D.none():((Jt,ko,en)=>{const En=Ht(Jt,ko);if(En.contextForms.length>0)return D.some({elem:Jt,toolbars:[En.contextForms[0]]});{const Fn=Ht(Jt,en);if(Fn.contextForms.length>0)return D.some({elem:Jt,toolbars:[Fn.contextForms[0]]});if(En.contextToolbars.length>0||Fn.contextToolbars.length>0){const ir=(jr=>{if(jr.length<=1)return jr;{const zs=jn=>$t(jr,Ja=>Ja.position===jn),Ts=jn=>ro(jr,Ja=>Ja.position===jn),xa=zs("selection"),Jr=zs("node");if(xa||Jr){if(Jr&&xa){const jn=Ts("node"),Ja=F(Ts("selection"),Ba=>({...Ba,position:"node"}));return jn.concat(Ja)}return Ts(xa?"selection":"node")}return Ts("line")}})(En.contextToolbars.concat(Fn.contextToolbars));return D.some({elem:Jt,toolbars:ir})}return D.none()}})(qt,xe.inNodeScope,xe.inEditorScope).orThunk(()=>((Jt,ko,en)=>Jt(ko)?D.none():Cd(ko,En=>{if(Se(En)){const{contextToolbars:Fn,contextForms:ir}=Ht(En,en.inNodeScope),jr=ir.length>0?ir:(zs=>{if(zs.length<=1)return zs;{const Ts=xa=>yo(zs,Jr=>Jr.position===xa);return Ts("selection").orThunk(()=>Ts("node")).orThunk(()=>Ts("line")).map(xa=>xa.position).fold(()=>[],xa=>ro(zs,Jr=>Jr.position===xa))}})(Fn);return jr.length>0?D.some({elem:En,toolbars:jr}):D.none()}return D.none()},Jt))(eo,qt,xe))})(pe(),e).fold(Z,xe=>{te(xe.toolbars,D.some(xe.elem))}))},17);e.on("init",()=>{e.on("remove",Z),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",re),e.on("click keyup focus SetContent",me.throttle),e.on(Qt,Z),e.on("contexttoolbar-show",xe=>{const Ke=pe();zt(Ke.lookupTable,xe.toolbarKey).each(wt=>{te([wt],Nr(xe.target!==e,xe.target)),fs.getContent(M).each(Mn.focusIn)})}),e.on("focusout",xe=>{Wx.setEditorTimeout(e,()=>{zl(s.element).isNone()&&zl(M.element).isNone()&&Z()},0)}),e.on("SwitchMode",()=>{e.mode.isReadOnly()&&Z()}),e.on("ExecCommand",({command:xe})=>{xe.toLowerCase()==="toggleview"&&Z()}),e.on("AfterProgressState",xe=>{xe.state?Z():e.hasFocus()&&me.throttle()}),e.on("dragstart",()=>{de=!0}),e.on("dragend drop",()=>{de=!1}),e.on("NodeChange",xe=>{zl(M.element).fold(me.throttle,Ae)})})},Es=(e,r)=>{const s=()=>{const l=r.getOptions(e),m=r.getCurrent(e).map(r.hash),g=Tr();return F(l,h=>({type:"togglemenuitem",text:r.display(h),onSetup:x=>{const w=M=>{M&&(g.on(z=>z.setActive(!1)),g.set(x)),x.setActive(M)};w(ar(m,r.hash(h)));const S=r.watcher(e,h,w);return()=>{g.clear(),S()}},onAction:()=>r.setCurrent(e,h)}))};e.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:l=>l(s()),onSetup:r.onToolbarSetup}),e.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:s,onSetup:r.onMenuSetup})},Sg=e=>{Es(e,(r=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:cf,hash:s=>((l,m)=>s_(l,["fixed","relative","empty"]).map(({value:g,unit:h})=>g+h))(s).getOr(s),display:$e,watcher:(s,l,m)=>s.formatter.formatChanged("lineheight",m,!1,{value:l}).unbind,getCurrent:s=>D.from(s.queryCommandValue("LineHeight")),setCurrent:(s,l)=>s.execCommand("LineHeight",!1,l),onToolbarSetup:dc(r),onMenuSetup:dc(r)}))(e)),(r=>D.from(Y3(r)).map(s=>({name:"language",text:"Language",icon:"language",getOptions:ue(s),hash:l=>gn(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,m,g)=>{var h;return l.formatter.formatChanged("lang",g,!1,{value:m.code,customValue:(h=m.customCode)!==null&&h!==void 0?h:null}).unbind},getCurrent:l=>{const m=pt(l.selection.getNode());return dl(m,g=>D.some(g).filter(Se).bind(h=>Ga(h,"lang").map(x=>({code:x,customCode:Ga(h,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,m)=>l.execCommand("Lang",!1,m),onToolbarSetup:l=>{const m=$l();return l.setActive(r.formatter.match("lang",{},void 0,!0)),m.set(r.formatter.formatChanged("lang",l.setActive,!0)),Bw(m.clear,dc(r)(l))},onMenuSetup:dc(r)})))(e).each(r=>Es(e,r))},fn=e=>bf(e,"NodeChange",r=>{r.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())}),kr=(e,r)=>s=>{s.setActive(r.get());const l=m=>{r.set(m.state),s.setActive(m.state)};return e.on("PastePlainTextToggle",l),Bw(()=>e.off("PastePlainTextToggle",l),dc(e)(s))},Ir=(e,r)=>()=>{e.execCommand("mceToggleFormat",!1,r)},fr=e=>{(r=>{(s=>{_g.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,m)=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:K1(s,l.name),onAction:Ir(s,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const m="h"+l,g=`Access+${l}`;s.ui.registry.addToggleButton(m,{text:m.toUpperCase(),tooltip:"Heading "+l,onSetup:K1(s,m),onAction:Ir(s,m),shortcut:g})}})(r),(s=>{_g.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:qc(s,l.action),shortcut:l.shortcut,context:l.context})}),_g.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:dc(s),onAction:qc(s,l.action)})})})(r),(s=>{_g.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:qc(s,l.action),onSetup:K1(s,l.name)})})})(r)})(e),(r=>{_g.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{r.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:qc(r,s.action),context:s.context})}),_g.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{r.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:dc(r),onAction:qc(r,s.action)})}),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:dc(r),onAction:Ir(r,"code")})})(e)},ma=(e,r)=>bf(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",s=>{s.setEnabled(!e.mode.isReadOnly()&&e.undoManager[r]())}),ys=e=>bf(e,"VisualAid",r=>{r.setActive(e.hasVisual)}),an=(e,r)=>{(s=>{Ot([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:qc(s,l.cmd),onSetup:K1(s,l.name)})}),s.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:dc(s),onAction:qc(s,"JustifyNone")})})(e),fr(e),((s,l)=>{((m,g)=>{const h=db(g,TA(m));m.ui.registry.addNestedMenuItem("align",{text:g.shared.providers.translate("Align"),onSetup:dc(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l),((m,g)=>{const h=db(g,Iv(m));m.ui.registry.addNestedMenuItem("fontfamily",{text:g.shared.providers.translate("Fonts"),onSetup:dc(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l),((m,g)=>{const h={type:"advanced",...g.styles},x=db(g,l0(m,h));m.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:dc(m),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(s,l),((m,g)=>{const h=db(g,Lv(m));m.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:dc(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l),((m,g)=>{const h=db(g,DA(m));m.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:dc(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l)})(e,r),(s=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:ma(l,"hasUndo"),onAction:qc(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:ma(l,"hasRedo"),onAction:qc(l,"redo")})})(s),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:ma(l,"hasUndo"),onAction:qc(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:ma(l,"hasRedo"),onAction:qc(l,"redo"),shortcut:"Meta+Y"})})(s)})(e),(s=>{(x=>{x.addCommand("mceApplyTextcolor",(w,S)=>{((M,z,L)=>{M.undoManager.transact(()=>{M.focus(),M.formatter.apply(z,{value:L}),M.nodeChanged()})})(x,w,S)}),x.addCommand("mceRemoveTextcolor",w=>{((S,M)=>{S.undoManager.transact(()=>{S.focus(),S.formatter.remove(M,{value:null},void 0,!0),S.nodeChanged()})})(x,w)})})(s);const l=lz(s),m=cz(s),g=yn(l),h=yn(m);Vw(s,"forecolor","forecolor",g),Vw(s,"backcolor","hilitecolor",h),bg(s,"forecolor","forecolor","Text color",g),bg(s,"backcolor","hilitecolor","Background color",h)})(e),(s=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:qc(l,"mceToggleVisualAid"),context:"any"})})(s),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:ys(l),onAction:qc(l,"mceToggleVisualAid"),context:"any"})})(s)})(e),(s=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:fn(l),onAction:qc(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:dc(l),onAction:qc(l,"indent")})})(s)})(e),Sg(e),(s=>{const l=yn(Q3(s)),m=()=>s.execCommand("mceTogglePlainTextPaste");s.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:m,onSetup:kr(s,l)}),s.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:m,onSetup:kr(s,l)})})(e),(s=>{s.ui.registry.addContext("editable",()=>s.selection.isEditable()),s.ui.registry.addContext("mode",l=>s.mode.get()===l),s.ui.registry.addContext("any",Rt),s.ui.registry.addContext("formatting",l=>s.formatter.canApply(l)),s.ui.registry.addContext("insert",l=>s.schema.isValidChild(s.selection.getNode().tagName,l))})(e)},tr=e=>mo(e)?e.split(/[ ,]/):e,Ka=e=>r=>r.options.get(e),Ya=Ka("contextmenu_never_use_native"),hi=Ka("contextmenu_avoid_overlap"),Ol=e=>{const r=e.ui.registry.getAll().contextMenus,s=e.options.get("contextmenu");return e.options.isSet("contextmenu")?s:ro(s,l=>Xo(r,l))},bd=(e,r)=>({type:"makeshift",x:e,y:r}),Ql=e=>e.type==="longpress"||e.type.indexOf("touch")===0,Eu=(e,r)=>r.type==="contextmenu"||r.type==="longpress"?e.inline?(s=>{if(Ql(s)){const l=s.touches[0];return bd(l.pageX,l.pageY)}return bd(s.pageX,s.pageY)})(r):((s,l)=>{const m=Dh.DOM.getPos(s);return((g,h,x)=>bd(g.x+h,g.y+x))(l,m.x,m.y)})(e.getContentAreaContainer(),(s=>{if(Ql(s)){const l=s.touches[0];return bd(l.clientX,l.clientY)}return bd(s.clientX,s.clientY)})(r)):nl(e),nl=e=>({type:"selection",root:pt(e.selection.getNode())}),Df=(e,r,s)=>{switch(s){case"node":return(l=>({type:"node",node:D.some(pt(l.selection.getNode())),root:pt(l.getBody())}))(e);case"point":return Eu(e,r);case"selection":return nl(e)}},Rf=(e,r,s,l,m,g)=>{const h=s(),x=Df(e,r,g);qy(h,Tm.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:D.none()}).map(w=>{r.preventDefault(),fs.showMenuAt(m,{anchor:x},{menu:{markers:Am("normal")},data:w})})},Eg={onLtr:()=>[ei,pi,fi,ml,Hi,ji,om,ib,Ev,fp,Xy,Sv],onRtl:()=>[ei,fi,pi,Hi,ml,ji,om,ib,Xy,Sv,Ev,fp]},zu={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Bf=(e,r,s,l,m,g)=>{const h=Ms(),x=h.os.isiOS(),w=h.os.isMacOS(),S=h.os.isAndroid(),M=h.deviceType.isTouch(),z=()=>{const L=s();((U,Z,re,se,pe,oe,te)=>{const de=((me,xe,Ke)=>{const wt=Df(me,xe,Ke);return{bubble:pl(0,Ke==="point"?12:0,zu),layouts:Eg,overrides:{maxWidthFunction:D4(),maxHeightFunction:xm()},...wt}})(U,Z,oe);qy(re,Tm.CLOSE_ON_EXECUTE,se,{isHorizontalMenu:!0,search:D.none()}).map(me=>{Z.preventDefault();const xe=te?lc.HighlightMenuAndItem:lc.HighlightNone;fs.showMenuWithinBounds(pe,{anchor:de},{menu:{markers:Am("normal"),highlightOnOpen:xe},data:me,type:"horizontal"},()=>D.some(Bn(U,se.shared,oe==="node"?"node":"selection"))),U.dispatch(Qt)})})(e,r,L,l,m,g,!(S||x||w&&M))};if((w||x)&&g!=="node"){const L=()=>{(U=>{const Z=U.selection.getRng(),re=()=>{Wx.setEditorTimeout(U,()=>{U.selection.setRng(Z)},10),oe()};U.once("touchend",re);const se=te=>{te.preventDefault(),te.stopImmediatePropagation()};U.on("mousedown",se,!0);const pe=()=>oe();U.once("longpresscancel",pe);const oe=()=>{U.off("touchend",re),U.off("longpresscancel",pe),U.off("mousedown",se)}})(e),z()};((U,Z)=>{const re=U.selection;if(re.isCollapsed()||Z.touches.length<1)return!1;{const se=Z.touches[0],pe=re.getRng();return sx(U.getWin(),ph.domRange(pe)).exists(oe=>oe.left<=se.clientX&&oe.right>=se.clientX&&oe.top<=se.clientY&&oe.bottom>=se.clientY)}})(e,r)?L():(e.once("selectionchange",L),e.once("touchend",()=>e.off("selectionchange",L)))}else z()},zg=e=>mo(e)?e==="|":e.type==="separator",am={type:"separator"},Pv=e=>{const r=s=>({text:s.text,icon:s.icon,enabled:s.enabled,shortcut:s.shortcut});if(mo(e))return e;switch(e.type){case"separator":return am;case"submenu":return{type:"nestedmenuitem",...r(e),getSubmenuItems:()=>{const l=e.getSubmenuItems();return mo(l)?l:F(l,Pv)}};default:const s=e;return{type:"menuitem",...r(s),onAction:ht(s.onAction)}}},Ec=(e,r)=>{if(r.length===0)return e;const s=at(e).filter(l=>!zg(l)).fold(()=>[],l=>[am]);return e.concat(s).concat(r).concat([am])},gb=(e,r)=>!(s=>s.type==="longpress"||Xo(s,"touches"))(r)&&(r.button!==2||r.target===e.getBody()&&r.pointerType===""),Ei=(e,r)=>gb(e,r)?e.selection.getStart(!0):r.target,vp=(e,r,s)=>{const l=Ms().deviceType.isTouch,m=Xi(fs.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>e.focus(),onShow:()=>s.setContextMenuState(!0),onHide:()=>s.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:zo([pr("dismissContextMenu",[Kt(Td(),(x,w)=>{Sr.close(x),e.focus()})])])})),g=()=>fs.hide(m),h=x=>{if(Ya(e)&&x.preventDefault(),((S,M)=>M.ctrlKey&&!Ya(S))(e,x)||(S=>Ol(S).length===0)(e))return;const w=((S,M)=>{const z=hi(S),L=gb(S,M)?"selection":"point";if(La(z)){const U=Ei(S,M);return tv(pt(U),z)?"node":L}return L})(e,x);(l()?Bf:Rf)(e,x,()=>{const S=Ei(e,x),M=e.ui.registry.getAll(),z=Ol(e);return((L,U,Z)=>{const re=ao(U,(se,pe)=>zt(L,pe.toLowerCase()).map(oe=>{const te=oe.update(Z);if(mo(te)&&La(cs(te)))return Ec(se,te.split(" "));if(Co(te)&&te.length>0){const de=F(te,Pv);return Ec(se,de)}return se}).getOrThunk(()=>se.concat([pe])),[]);return re.length>0&&zg(re[re.length-1])&&re.pop(),re})(M.contextMenus,z,S)},s,m,w)};e.on("init",()=>{const x="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");e.on(x,g),e.on("longpress contextmenu",h)})},Q4=Mi([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Hv=e=>r=>r.translate(-e.left,-e.top),c0=e=>r=>r.translate(e.left,e.top),Tg=e=>(r,s)=>ao(e,(l,m)=>m(l),Ur(r,s)),jv=(e,r,s)=>e.fold(Tg([c0(s),Hv(r)]),Tg([Hv(r)]),Tg([])),d0=(e,r,s)=>e.fold(Tg([c0(s)]),Tg([]),Tg([c0(r)])),e3=(e,r,s)=>e.fold(Tg([]),Tg([Hv(s)]),Tg([c0(r),Hv(s)])),t3=(e,r,s)=>{const l=e.fold((m,g)=>({position:D.some("absolute"),left:D.some(m+"px"),top:D.some(g+"px")}),(m,g)=>({position:D.some("absolute"),left:D.some(m-s.left+"px"),top:D.some(g-s.top+"px")}),(m,g)=>({position:D.some("fixed"),left:D.some(m+"px"),top:D.some(g+"px")}));return{right:D.none(),bottom:D.none(),...l}},sm=(e,r,s,l)=>{const m=(g,h)=>(x,w)=>{const S=g(r,s,l);return h(x.getOr(S.left),w.getOr(S.top))};return e.fold(m(e3,Ff),m(d0,xp),m(jv,Lf))},Ff=Q4.offset,xp=Q4.absolute,Lf=Q4.fixed,o3=(e,r)=>{const s=ia(e,r);return gn(s)?NaN:parseInt(s,10)},FA=(e,r,s,l,m,g)=>{const h=((S,M,z,L)=>((U,Z)=>{const re=U.element,se=o3(re,Z.leftAttr),pe=o3(re,Z.topAttr);return isNaN(se)||isNaN(pe)?D.none():D.some(Ur(se,pe))})(S,M).fold(()=>z,U=>Lf(U.left+L.left,U.top+L.top)))(e,r,s,l),x=r.mustSnap?LA(e,r,h,m,g):IA(e,r,h,m,g),w=jv(h,m,g);return((S,M,z)=>{const L=S.element;wn(L,M.leftAttr,z.left+"px"),wn(L,M.topAttr,z.top+"px")})(e,r,w),x.fold(()=>({coord:Lf(w.left,w.top),extra:D.none()}),S=>({coord:S.output,extra:S.extra}))},Ag=(e,r,s,l)=>We(e,m=>{const g=m.sensor;return((x,w,S,M,z,L)=>{const U=d0(x,z,L),Z=d0(w,z,L);return Math.abs(U.left-Z.left)<=S&&Math.abs(U.top-Z.top)<=M})(r,g,m.range.left,m.range.top,s,l)?D.some({output:sm(m.output,r,s,l),extra:m.extra}):D.none()}),LA=(e,r,s,l,m)=>{const g=r.getSnapPoints(e);return Ag(g,s,l,m).orThunk(()=>ao(g,(x,w)=>{const S=w.sensor,M=((z,L,U,Z,re,se)=>{const pe=d0(z,re,se),oe=d0(L,re,se),te=Math.abs(pe.left-oe.left),de=Math.abs(pe.top-oe.top);return Ur(te,de)})(s,S,w.range.left,w.range.top,l,m);return x.deltas.fold(()=>({deltas:D.some(M),snap:D.some(w)}),z=>(M.left+M.top)/2<=(z.left+z.top)/2?{deltas:D.some(M),snap:D.some(w)}:x)},{deltas:D.none(),snap:D.none()}).snap.map(x=>({output:sm(x.output,s,l,m),extra:x.extra})))},IA=(e,r,s,l,m)=>{const g=r.getSnapPoints(e);return Ag(g,s,l,m)};var PA=Object.freeze({__proto__:null,snapTo:(e,r,s,l)=>{const m=r.getTarget(e.element);if(r.repositionTarget){const g=Be(e.element),h=ta(g),x=Cl(m),w=((M,z,L)=>({coord:sm(M.output,M.output,z,L),extra:M.extra}))(l,h,x),S=t3(w.coord,0,x);Ml(m,S)}}});const l_="data-initial-z-index",HA=(e,r)=>{e.getSystem().addToGui(r),(s=>{qo(s.element).filter(Se).each(l=>{to(l,"z-index").each(m=>{wn(l,l_,m)}),Dn(l,"z-index",Ua(s.element,"z-index"))})})(r)},Et=e=>{(r=>{qo(r.element).filter(Se).each(s=>{Ga(s,l_).fold(()=>qn(s,"z-index"),l=>Dn(s,"z-index",l)),Mr(s,l_)})})(e),e.getSystem().removeFromGui(e)},zr=(e,r,s)=>e.getSystem().build(ku.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:s}));var sr=js("snaps",[oo("getSnapPoints"),Hr("onSensor"),oo("leftAttr"),oo("topAttr"),St("lazyViewport",rs),St("mustSnap",!1)]);const Xa=[St("useFixed",Uo),oo("blockerClass"),St("getTarget",$e),St("onDrag",Ae),St("repositionTarget",!0),St("onDrop",Ae),ps("getBounds",rs),sr],$s=e=>{return(r=to(e,"left"),s=to(e,"top"),l=to(e,"position"),r.isSome()&&s.isSome()&&l.isSome()?D.some(((m,g,h)=>(h==="fixed"?Lf:Ff)(parseInt(m,10),parseInt(g,10)))(r.getOrDie(),s.getOrDie(),l.getOrDie())):D.none()).getOrThunk(()=>{const m=ks(e);return xp(m.left,m.top)});var r,s,l},$a=(e,r)=>({bounds:e.getBounds(),height:Js(r.element),width:Wt(r.element)}),Nl=(e,r,s,l,m)=>{const g=s.update(l,m),h=s.getStartData().getOrThunk(()=>$a(r,e));g.each(x=>{((w,S,M,z)=>{const L=S.getTarget(w.element);if(S.repositionTarget){const U=Be(w.element),Z=ta(U),re=Cl(L),se=$s(L),pe=((te,de,me,xe,Ke,wt,eo)=>((qt,Jt,ko,en,En)=>{const Fn=En.bounds,ir=d0(Jt,ko,en),jr=vc(ir.left,Fn.x,Fn.x+Fn.width-En.width),zs=vc(ir.top,Fn.y,Fn.y+Fn.height-En.height),Ts=xp(jr,zs);return Jt.fold(()=>{const xa=e3(Ts,ko,en);return Ff(xa.left,xa.top)},ue(Ts),()=>{const xa=jv(Ts,ko,en);return Lf(xa.left,xa.top)})})(0,de.fold(()=>{const qt=(Jt=me,ko=wt.left,en=wt.top,Jt.fold((Fn,ir)=>Ff(Fn+ko,ir+en),(Fn,ir)=>xp(Fn+ko,ir+en),(Fn,ir)=>Lf(Fn+ko,ir+en)));var Jt,ko,en;const En=jv(qt,xe,Ke);return Lf(En.left,En.top)},qt=>{const Jt=FA(te,qt,me,wt,xe,Ke);return Jt.extra.each(ko=>{qt.onSensor(te,ko)}),Jt.coord}),xe,Ke,eo))(w,S.snaps,se,Z,re,z,M),oe=t3(pe,0,re);Ml(L,oe)}S.onDrag(w,L,z)})(e,r,h,x)})},Og=(e,r,s,l)=>{r.each(Et),s.snaps.each(g=>{((h,x)=>{((w,S)=>{const M=w.element;Mr(M,S.leftAttr),Mr(M,S.topAttr)})(h,x)})(e,g)});const m=s.getTarget(e.element);l.reset(),s.onDrop(e,m)},im=e=>(r,s)=>{const l=m=>{s.setStartData($a(r,m))};return Ta([Kt(gi(),m=>{s.getStartData().each(()=>l(m))}),...e(r,s,l)])};var zc=Object.freeze({__proto__:null,getData:e=>D.from(Ur(e.x,e.y)),getDelta:(e,r)=>Ur(r.left-e.left,r.top-e.top)});const jA=(e,r,s)=>[Kt(Le(),(l,m)=>{if(m.event.raw.button!==0)return;m.stop();const g=()=>Og(l,D.some(w),e,r),h=bz(g,200),x={drop:g,delayDrop:h.schedule,forceDrop:g,move:S=>{h.cancel(),Nl(l,e,r,zc,S)}},w=zr(l,e.blockerClass,(S=>Ta([Kt(Le(),S.forceDrop),Kt(cr(),S.drop),Kt(po(),(M,z)=>{S.move(z.event)}),Kt(In(),S.delayDrop)]))(x));s(l),HA(l,w)})],VA=[...Xa,Ha("dragger",{handlers:im(jA)})];var n3=Object.freeze({__proto__:null,getData:e=>{const r=e.raw.touches;return r.length===1?(s=>{const l=s[0];return D.some(Ur(l.clientX,l.clientY))})(r):D.none()},getDelta:(e,r)=>Ur(r.left-e.left,r.top-e.top)});const d6=(e,r,s)=>{const l=Tr(),m=g=>{Og(g,l.get(),e,r),l.clear()};return[Kt(T(),(g,h)=>{h.stop();const x=()=>m(g),w={drop:x,delayDrop:Ae,forceDrop:x,move:M=>{Nl(g,e,r,n3,M)}},S=zr(g,e.blockerClass,(M=>Ta([Kt(T(),M.forceDrop),Kt(K(),M.drop),Kt(Me(),M.drop),Kt(j(),(z,L)=>{M.move(L.event)})]))(w));l.set(S),s(g),HA(g,S)}),Kt(j(),(g,h)=>{h.stop(),Nl(g,e,r,n3,h.event)}),Kt(K(),(g,h)=>{h.stop(),m(g)}),Kt(Me(),m)]},AN=VA,ON=[...Xa,Ha("dragger",{handlers:im(d6)})],NN=[...Xa,Ha("dragger",{handlers:im((e,r,s)=>[...jA(e,r,s),...d6(e,r,s)])})];var MN=Object.freeze({__proto__:null,mouse:AN,touch:ON,mouseOrTouch:NN}),DN=Object.freeze({__proto__:null,init:()=>{let e=D.none(),r=D.none();const s=ue({});return Ci({readState:s,reset:()=>{e=D.none(),r=D.none()},update:(l,m)=>l.getData(m).bind(g=>((h,x)=>{const w=e.map(S=>h.getDelta(S,x));return e=D.some(x),w})(l,g)),getStartData:()=>r,setStartData:l=>{r=D.some(l)}})}});const Vv=ad({branchKey:"mode",branches:MN,name:"dragging",active:{events:(e,r)=>e.dragger.handlers(e,r)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:D.from(e.extra)})},state:DN,apis:PA}),u6=(e,r,s,l,m,g)=>e.fold(()=>Vv.snap({sensor:xp(s-20,l-20),range:Ur(m,g),output:xp(D.some(s),D.some(l)),extra:{td:r}}),h=>{const x=s-20,w=l-20,S=h.element.dom.getBoundingClientRect();return Vv.snap({sensor:xp(x,w),range:Ur(40,40),output:xp(D.some(s-S.width/2),D.some(l-S.height/2)),extra:{td:r}})}),m6=(e,r,s)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,m)=>{const g=m.td;((h,x)=>h.exists(w=>dn(w,x)))(r.get(),g)||(r.set(g),s(g))},mustSnap:!0}),g6=e=>ya(ol.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:zo([Vv.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Fy.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),RN=(e,r)=>{const s=yn([]),l=yn([]),m=yn(!1),g=Tr(),h=Tr(),x=oe=>{const te=Ia(oe);return u6(z.getOpt(r),oe,te.x,te.y,te.width,te.height)},w=oe=>{const te=Ia(oe);return u6(L.getOpt(r),oe,te.right,te.bottom,te.width,te.height)},S=m6(()=>F(s.get(),oe=>x(oe)),g,oe=>{h.get().each(te=>{e.dispatch("TableSelectorChange",{start:oe,finish:te})})}),M=m6(()=>F(l.get(),oe=>w(oe)),h,oe=>{g.get().each(te=>{e.dispatch("TableSelectorChange",{start:te,finish:oe})})}),z=g6(S),L=g6(M),U=Xi(z.asSpec()),Z=Xi(L.asSpec()),re=(oe,te,de,me)=>{const xe=de(te);Vv.snapTo(oe,xe),((Ke,wt,eo,qt)=>{const Jt=wt.dom.getBoundingClientRect();qn(Ke.element,"display");const ko=Vo(pt(e.getBody())).dom.innerHeight,en=Jt[me]<0,En=((Fn,ir)=>Fn[me]>ir)(Jt,ko);(en||En)&&Dn(Ke.element,"display","none")})(oe,te)},se=oe=>re(U,oe,x,"top"),pe=oe=>re(Z,oe,w,"bottom");if(Ms().deviceType.isTouch()){const oe=te=>F(te,pt);e.on("TableSelectionChange",te=>{m.get()||(Vc(r,U),Vc(r,Z),m.set(!0));const de=pt(te.start),me=pt(te.finish);g.set(de),h.set(me),D.from(te.otherCells).each(xe=>{s.set(oe(xe.upOrLeftCells)),l.set(oe(xe.downOrRightCells)),se(de),pe(me)})}),e.on("ResizeEditor ResizeWindow ScrollContent",()=>{g.get().each(se),h.get().each(pe)}),e.on("TableSelectionClear",()=>{m.get()&&(Pl(U),Pl(Z),m.set(!1)),g.clear(),h.clear()})}},BN=(e,r,s)=>{var l;const m=(l=r.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:zo([Mn.config({mode:"flow",selector:"div[role=button]"}),Wn.config({disabled:s.isDisabled}),li(()=>s.checkUiComponentContext("any")),hs.config({}),rr.config({}),pr("elementPathEvents",[Aa((g,h)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Mn.focusIn(g)),e.on("NodeChange",x=>{const w=(M=>{const z=[];let L=M.length;for(;L-- >0;){const Z=M[L];if(Z.nodeType===1&&(U=Z).nodeName!=="BR"&&!U.getAttribute("data-mce-bogus")&&U.getAttribute("data-mce-type")!=="bookmark"){const re=oz(e,Z);if(re.isDefaultPrevented()||z.push({name:re.name,element:Z}),re.isPropagationStopped())break}}var U;return z})(x.parents),S=w.length>0?ao(w,(M,z,L)=>{const U=((Z,re,se)=>ol.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":se}},components:[qa(Z)],action:pe=>{e.focus(),e.selection.select(re),e.nodeChanged()},buttonBehaviours:zo([Bs.config({...s.tooltips.getConfig({tooltipText:s.translate(["Select the {0} element",re.nodeName.toLowerCase()]),onShow:(pe,oe)=>{((te,de)=>{const me=D.from(ia(te,"id")).getOrThunk(()=>{const xe=cn("aria");return wn(de,"id",xe),xe});wn(te,"aria-describedby",me)})(pe.element,oe.element)},onHide:pe=>{var oe;oe=pe.element,Mr(oe,"aria-describedby")}})}),Zh(s.isDisabled),li(()=>s.checkUiComponentContext("any"))])}))(z.name,z.element,L);return L===0?M.concat([U]):M.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[qa(` ${m} `)]},U])},[]):[];rr.set(g,S)})})])]),components:[]}};var u0;(function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"})(u0||(u0={}));const p6=(e,r,s)=>{const l=pt(e.getContainer()),m=((g,h,x,w,S)=>{const M={height:je(w+h.top,gd(g),Kx(g))};return x===u0.Both&&(M.width=je(S+h.left,ug(g),y1(g))),M})(e,r,s,Da(l),Xe(l));Oo(m,(g,h)=>{ho(g)&&Dn(l,h,we(g))}),(g=>{g.dispatch("ResizeEditor")})(e)},$A=(e,r,s,l)=>{const m=Ur(20*s,20*l);return p6(e,m,r),D.some(!0)},FN=(e,r)=>{const s=()=>{const l=[],m=E2(e),g=ew(e),h=tw(e)||e.hasPlugin("wordcount");return g&&l.push(BN(e,{},r)),m&&l.push((()=>{const x=Aw("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[qa(Vd.translate(["Press {0} for help",x]))]}})()),h&&l.push((()=>{const x=[];return e.hasPlugin("wordcount")&&x.push(((w,S)=>{const M=(z,L,U)=>rr.set(z,[qa(S.translate(["{0} "+U,L[U]]))]);return ol.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:zo([Zh(S.isDisabled),li(()=>S.checkUiComponentContext("any")),hs.config({}),rr.config({}),Ge.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),pr("wordcount-events",[lu(z=>{const L=Ge.getValue(z),U=L.mode==="words"?"characters":"words";Ge.setValue(z,{mode:U,count:L.count}),M(z,L.count,U)}),Aa(z=>{w.on("wordCountUpdate",L=>{const{mode:U}=Ge.getValue(z);Ge.setValue(z,{mode:U,count:L.wordCount}),M(z,L.wordCount,U)})})])]),eventOrder:{[_l()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,r)),tw(e)&&x.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":e.translate(["Build with {0}","TinyMCE"])},innerHtml:e.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:zo([Jn.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:x}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const x="tox-statusbar__text-container--flex-start",w="tox-statusbar__text-container--flex-end";if(m){const S="tox-statusbar__text-container-3-cols";return h||g?h&&!g?[S,w]:[S,x]:[S,"tox-statusbar__text-container--space-around"]}return[h&&!g?w:x]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=s(),m=((g,h)=>{const x=(S=>{const M=S2(S);return M===!1?u0.None:M==="both"?u0.Both:u0.Vertical})(g);if(x===u0.None)return D.none();const w=x===u0.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return D.some(vu("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":h.translate(w),"data-mce-name":"resize-handle"},behaviours:[Vv.config({mode:"mouse",repositionTarget:!1,onDrag:(S,M,z)=>p6(g,z,x),blockerClass:"tox-blocker"}),Mn.config({mode:"special",onLeft:()=>$A(g,x,-1,0),onRight:()=>$A(g,x,1,0),onUp:()=>$A(g,x,0,-1),onDown:()=>$A(g,x,0,1)}),hs.config({}),Jn.config({}),Bs.config(h.tooltips.getConfig({tooltipText:h.translate("Resize")}))]},h.icons))})(e,r);return l.concat(m.toArray())})()}},f6=(e,r)=>r.get().getOrDie(`UI for ${e} has not been rendered`),LN=(e,r)=>{const s=e.inline,l=s?ot:ae,m=Lh(e)?T4:Tv,g=(()=>{const xe=Tr(),Ke=Tr(),wt=Tr();return{dialogUi:xe,popupUi:Ke,mainUi:wt,getUiMotherships:()=>{const eo=xe.get().map(Jt=>Jt.mothership),qt=Ke.get().map(Jt=>Jt.mothership);return eo.fold(()=>qt.toArray(),Jt=>qt.fold(()=>[Jt],ko=>dn(Jt.element,ko.element)?[Jt]:[Jt,ko]))},lazyGetInOuterOrDie:(eo,qt)=>()=>wt.get().bind(Jt=>qt(Jt.outerContainer)).getOrDie(`Could not find ${eo} element in OuterContainer`)}})(),h=Tr(),x=Tr(),w=Tr(),S=Ms().deviceType.isTouch()?["tox-platform-touch"]:[],M=aw(e),z=lf(e),L=ya({dom:{tag:"div",classes:["tox-anchorbar"]}}),U=ya({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Z=()=>g.mainUi.get().map(xe=>xe.outerContainer).bind(Na.getHeader),re=g.lazyGetInOuterOrDie("anchor bar",L.getOpt),se=g.lazyGetInOuterOrDie("bottom anchor bar",U.getOpt),pe=g.lazyGetInOuterOrDie("toolbar",Na.getToolbar),oe=g.lazyGetInOuterOrDie("throbber",Na.getThrobber),te=((xe,Ke,wt,eo)=>{const qt=yn(!1),Jt=(Jr=>{const jn=yn(aw(Jr)?"bottom":"top");return{isPositionedAtTop:()=>jn.get()==="top",getDockingMode:jn.get,setDockingMode:jn.set}})(Ke),ko={icons:()=>Ke.ui.registry.getAll().icons,menuItems:()=>Ke.ui.registry.getAll().menuItems,translate:Vd.translate,isDisabled:()=>!Ke.ui.isEnabled(),getOption:Ke.options.get,tooltips:RT(xe.dialog),checkUiComponentContext:Jr=>{const[jn,Ja=""]=Jr.split(":"),Ba=Ke.ui.registry.getAll().contexts;return{contextType:jn,shouldDisable:!zt(Ba,jn).fold(()=>zt(Ba,"mode").map(ec=>ec("design")).getOr(!1),ec=>Ja.charAt(0)==="!"?!ec(Ja.slice(1)):ec(Ja))}}},en=k4(Ke),En=(Jr=>{const jn=qi=>()=>Jr.formatter.match(qi),Ja=qi=>()=>{const rl=Jr.formatter.get(qi);return rl!==void 0?D.some({tag:rl.length>0&&(rl[0].inline||rl[0].block)||"div",styles:Jr.dom.parseStyle(Jr.formatter.getCssText(qi))}):D.none()},Ba=yn([]),ec=yn([]),Qa=yn(!1);return Jr.on("PreInit",qi=>{const rl=m4(Jr),m0=g4(Jr,rl,jn,Ja);Ba.set(m0)}),Jr.on("addStyleModifications",qi=>{const rl=g4(Jr,qi.items,jn,Ja);ec.set(rl),Qa.set(qi.replace)}),{getData:()=>{const qi=Qa.get()?[]:Ba.get(),rl=ec.get();return qi.concat(rl)}}})(Ke),Fn=(Jr=>({colorPicker:c4(Jr),hasCustomColors:d4(Jr),getColors:yO(Jr),getColorCols:vO(Jr)}))(Ke),ir=(Jr=>({isDraggableModal:xO(Jr)}))(Ke),jr={shared:{providers:ko,anchors:MT(Ke,wt,eo,Jt.isPositionedAtTop),header:Jt},urlinput:en,styles:En,colorinput:Fn,dialog:ir,isContextMenuOpen:()=>qt.get(),setContextMenuState:Jr=>qt.set(Jr)},zs=Jr=>D.none(),Ts={...jr,shared:{...jr.shared,interpreter:Jr=>ET(Jr,{},Ts,zs),getSink:xe.popup}},xa={...jr,shared:{...jr.shared,interpreter:Jr=>ET(Jr,{},xa,zs),getSink:xe.dialog}};return{popup:Ts,dialog:xa}})({popup:()=>Dr.fromOption(g.popupUi.get().map(xe=>xe.sink),"(popup) UI has not been rendered"),dialog:()=>Dr.fromOption(g.dialogUi.get().map(xe=>xe.sink),"UI has not been rendered")},e,re,se),de=()=>{const xe=(()=>{const jr={attributes:{[Wb]:M?hu.BottomToTop:hu.TopToBottom}},zs=Na.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:te.popup,onEscape:()=>{e.focus()}}),Ts=Na.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:te.popup.shared.getSink,providers:te.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:rl=>{((m0,Uv)=>{m0.dispatch("ToggleToolbarDrawer",{state:Uv})})(e,rl)},type:z,lazyToolbar:pe,lazyHeader:()=>Z().getOrDie("Could not find header element"),...jr}),xa=Na.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:te.popup.shared.providers,onEscape:()=>{e.focus()},type:z}),Jr=Bh(e),jn=rw(e),Ja=w1(e),Ba=eE(e),ec=Na.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Qa=Jr||jn||Ja,qi=Ba?[ec,zs]:[zs];return Na.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Qa?[]:["tox-editor-header--empty"]),...jr},components:_e([Ja?qi:[],Jr?[xa]:jn?[Ts]:[],Fh(e)?[]:[L.asSpec()]]),sticky:Lh(e),editor:e,sharedBackstage:te.popup.shared})})(),Ke={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Na.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Na.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},wt=Na.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:te.popup}),eo=Na.parts.viewWrapper({backstage:te.popup}),qt=C2(e)&&!s?D.some(FN(e,te.popup.shared.providers)):D.none(),Jt=_e([M?[]:[xe],s?[]:[Ke],M?[xe]:[]]),ko=Na.parts.editorContainer({components:_e([Jt,s?[]:[U.asSpec()]])}),en=k1(e),En={role:"application",...Vd.isRtl()?{dir:"rtl"}:{},...en?{"aria-hidden":"true"}:{}},Fn=Xi(Na.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(s?["tox-tinymce-inline"]:[]).concat(M?["tox-tinymce--toolbar-bottom"]:[]).concat(S),styles:{visibility:"hidden",...en?{opacity:"0",border:"0"}:{}},attributes:En},components:[ko,...s?[]:[eo,...qt.toArray()],wt],behaviours:zo([li(()=>te.popup.shared.providers.checkUiComponentContext("any")),Wn.config({disableClass:"tox-tinymce--disabled"}),Mn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),ir=Dy(Fn);return h.set(ir),{mothership:ir,outerContainer:Fn}},me=xe=>{const Ke=we((eo=>(Jt=>{const ko=rp(Jt),en=gd(Jt),En=Kx(Jt);return ee(ko).map(Fn=>je(Fn,en,En))})(eo).getOr(rp(eo)))(e)),wt=we((eo=>Pe(eo).getOr(Gx(eo)))(e));return e.inline||(Ns("div","width",wt)&&Dn(xe.element,"width",wt),Ns("div","height",Ke)?Dn(xe.element,"height",Ke):Dn(xe.element,"height","400px")),Ke};return{popups:{backstage:te.popup,getMothership:()=>f6("popups",w)},dialogs:{backstage:te.dialog,getMothership:()=>f6("dialogs",x)},renderUI:()=>{const xe=de(),Ke=(()=>{const eo=sw(e),qt=dn(os(),eo)&&Ua(eo,"display")==="grid",Jt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(S),attributes:{...Vd.isRtl()?{dir:"rtl"}:{}}},behaviours:zo([fl.config({useFixed:()=>m.isDocked(Z)})])},ko={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ta([Kt(ru(),Fn=>{Dn(Fn.element,"width",document.body.clientWidth+"px")})])},en=Xi(vs(Jt,qt?ko:{})),En=Dy(en);return x.set(En),{sink:en,mothership:En}})(),wt=Yu(e)?(()=>{const eo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(S),attributes:{...Vd.isRtl()?{dir:"rtl"}:{}}},behaviours:zo([fl.config({useFixed:()=>m.isDocked(Z),getBounds:()=>r.getPopupSinkBounds()})])},qt=Xi(eo),Jt=Dy(qt);return w.set(Jt),{sink:qt,mothership:Jt}})():(eo=>(w.set(eo.mothership),eo))(Ke);return g.dialogUi.set(Ke),g.popupUi.set(wt),g.mainUi.set(xe),(eo=>{const{mainUi:qt,popupUi:Jt,uiMotherships:ko}=eo;tt(h2(e),(jn,Ja)=>{e.ui.registry.addGroupToolbarButton(Ja,jn)});const{buttons:en,menuItems:En,contextToolbars:Fn,sidebars:ir,views:jr}=e.ui.registry.getAll(),zs=T2(e),Ts={menuItems:En,menus:tE(e),menubar:my(e),toolbar:zs.getOrThunk(()=>Rh(e)),allowToolbarGroups:z===md.floating,buttons:en,sidebar:ir,views:jr};var xa;xa=qt.outerContainer,e.addShortcut("alt+F9","focus menubar",()=>{Na.focusMenubar(xa)}),e.addShortcut("alt+F10","focus toolbar",()=>{Na.focusToolbar(xa)}),e.addCommand("ToggleToolbarDrawer",(jn,Ja)=>{Ja!=null&&Ja.skipFocus?Na.toggleToolbarDrawerWithoutFocusing(xa):Na.toggleToolbarDrawer(xa)}),e.addQueryStateHandler("ToggleToolbarDrawer",()=>Na.isToolbarDrawerToggled(xa)),((jn,Ja,Ba)=>{const ec=(aa,h0)=>{Ot([Ja,...Ba],kp=>{kp.broadcastEvent(aa,h0)})},Qa=(aa,h0)=>{Ot([Ja,...Ba],kp=>{kp.broadcastOn([aa],h0)})},qi=aa=>Qa(p(),{target:aa.target}),rl=wl(),m0=Kl(rl,"touchstart",qi),Uv=Kl(rl,"touchmove",aa=>ec(Uf(),aa)),WA=Kl(rl,"touchend",aa=>ec(Ru(),aa)),GA=Kl(rl,"mousedown",qi),g0=Kl(rl,"mouseup",aa=>{aa.raw.button===0&&Qa(_(),{target:aa.target})}),p0=aa=>Qa(p(),{target:pt(aa.target)}),If=aa=>{aa.button===0&&Qa(_(),{target:pt(aa.target)})},u_=()=>{Ot(jn.editorManager.get(),aa=>{jn!==aa&&aa.dispatch("DismissPopups",{relatedTarget:jn})})},m_=aa=>ec(gi(),$b(aa)),pb=aa=>{Qa(b(),{}),ec(ru(),$b(aa))},g_=ea(pt(jn.getElement())),p_=og(g_,"scroll",aa=>{requestAnimationFrame(()=>{if(jn.getContainer()!=null){const h0=df(jn,Ja.element).map(kp=>[kp.element,...kp.others]).getOr([]);$t(h0,kp=>dn(kp,aa.target))&&(jn.dispatch("ElementScroll",{target:aa.target.dom}),ec(Vm(),aa))}})}),r3=()=>Qa(b(),{}),a3=aa=>{aa.state&&Qa(p(),{target:pt(jn.getContainer())})},f_=aa=>{Qa(p(),{target:pt(aa.relatedTarget.getContainer())})},f0=aa=>jn.dispatch("focusin",aa),fb=aa=>jn.dispatch("focusout",aa);jn.on("PostRender",()=>{jn.on("click",p0),jn.on("tap",p0),jn.on("mouseup",If),jn.on("mousedown",u_),jn.on("ScrollWindow",m_),jn.on("ResizeWindow",pb),jn.on("ResizeEditor",r3),jn.on("AfterProgressState",a3),jn.on("DismissPopups",f_),Ot([Ja,...Ba],aa=>{aa.element.dom.addEventListener("focusin",f0),aa.element.dom.addEventListener("focusout",fb)})}),jn.on("remove",()=>{jn.off("click",p0),jn.off("tap",p0),jn.off("mouseup",If),jn.off("mousedown",u_),jn.off("ScrollWindow",m_),jn.off("ResizeWindow",pb),jn.off("ResizeEditor",r3),jn.off("AfterProgressState",a3),jn.off("DismissPopups",f_),Ot([Ja,...Ba],aa=>{aa.element.dom.removeEventListener("focusin",f0),aa.element.dom.removeEventListener("focusout",fb)}),GA.unbind(),m0.unbind(),Uv.unbind(),WA.unbind(),g0.unbind(),p_.unbind()}),jn.on("detach",()=>{Ot([Ja,...Ba],gx),Ot([Ja,...Ba],aa=>aa.destroy())})})(e,qt.mothership,ko),m.setup(e,te.popup.shared,Z),an(e,te.popup),vp(e,te.popup.shared.getSink,te.popup),(jn=>{const{sidebars:Ja}=jn.ui.registry.getAll();Ot(dt(Ja),Ba=>{const ec=Ja[Ba],Qa=()=>ar(D.from(jn.queryCommandValue("ToggleSidebar")),Ba);jn.ui.registry.addToggleButton(Ba,{icon:ec.icon,tooltip:ec.tooltip,onAction:qi=>{jn.execCommand("ToggleSidebar",!1,Ba),qi.setActive(Qa())},onSetup:qi=>{qi.setActive(Qa());const rl=()=>qi.setActive(Qa());return jn.on("ToggleSidebar",rl),()=>{jn.off("ToggleSidebar",rl)}},context:"any"})})})(e),TO(e,oe,te.popup.shared),bs(e,Fn,Jt.sink,{backstage:te.popup}),RN(e,Jt.sink);const Jr={targetNode:e.getElement(),height:me(qt.outerContainer)};return l.render(e,eo,Ts,te.popup,Jr)})({popupUi:wt,dialogUi:Ke,mainUi:xe,uiMotherships:g.getUiMotherships()})}}},IN=ue([oo("lazySink"),Lr("dragBlockClass"),ps("getBounds",rs),St("useTabstopAt",Rt),St("firstTabstop",0),St("eventOrder",{}),fo("modalBehaviours",[Mn]),El("onExecute"),Xf("onEscape")]),VO={sketch:$e},PN=ue([Id({name:"draghandle",overrides:(e,r)=>({behaviours:zo([Vv.config({mode:"mouse",getTarget:s=>Uu(s,'[role="dialog"]').getOr(s),blockerClass:e.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:e.getDragBounds})])})}),hl({schema:[oo("dom")],name:"title"}),hl({factory:VO,schema:[oo("dom")],name:"close"}),hl({factory:VO,schema:[oo("dom")],name:"body"}),Id({factory:VO,schema:[oo("dom")],name:"footer"}),Ld({factory:{sketch:(e,r)=>({...e,dom:r.dom,components:r.components})},schema:[St("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),St("components",[])],name:"blocker"})]),bl=Xl({name:"ModalDialog",configFields:IN(),partFields:PN(),factory:(e,r,s,l)=>{const m=Tr(),g=cn("modal-events"),h={...e.eventOrder,[Ul()]:[g].concat(e.eventOrder["alloy.system.attached"]||[])},x=Ms();return{uid:e.uid,dom:e.dom,components:r,apis:{show:w=>{m.set(w);const S=e.lazySink(w).getOrDie(),M=l.blocker(),z=S.getSystem().build({...M,components:M.components.concat([xc(w)]),behaviours:zo([Jn.config({}),pr("dialog-blocker-events",[su(kn(),()=>{rm.isBlocked(w)||Mn.focusIn(w)})])])});Vc(S,z),Mn.focusIn(w)},hide:w=>{m.clear(),qo(w.element).each(S=>{w.getSystem().getByDom(S).each(M=>{Pl(M)})})},getBody:w=>Sm(w,e,"body"),getFooter:w=>ja(w,e,"footer"),setIdle:w=>{rm.unblock(w)},setBusy:(w,S)=>{rm.block(w,S)}},eventOrder:h,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Bo(e.modalBehaviours,[rr.config({}),Mn.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),rm.config({getRoot:m.get}),pr(g,[Aa(w=>{const S=Sm(w,e,"title").element,M=(z=>z.dom.textContent)(S);x.os.isMacOS()&&Ve(M)?wn(w.element,"aria-label",M):((z,L)=>{const U=Ga(z,"id").fold(()=>{const Z=cn("dialog-label");return wn(L,"id",Z),Z},$e);wn(z,"aria-labelledby",U)})(w.element,S)})])])}},apis:{show:(e,r)=>{e.show(r)},hide:(e,r)=>{e.hide(r)},getBody:(e,r)=>e.getBody(r),getFooter:(e,r)=>e.getFooter(r),setBusy:(e,r,s)=>{e.setBusy(r,s)},setIdle:(e,r)=>{e.setIdle(r)}}}),HN=Hn([Ks,iC].concat(Uh)),jN=Ws,$O=[mC("button"),xu,ll("align","end",["start","end"]),F1,Ud,Kr("buttonType",["primary","secondary"]),gs("context","mode:design")],h6=[...$O,ip],UO=[vo("type",["submit","cancel","custom"]),...h6],VN=[vo("type",["menu"]),fg,B1,xu,wi("items",HN),...$O],$N=[...$O,vo("type",["togglebutton"]),B1,xu,fg,mi("active",!1)],UN=Hs("type",{submit:UO,cancel:UO,custom:UO,menu:VN,togglebutton:$N}),ZN=[Ks,ip,vo("level",["info","warn","error","success"]),TE,St("url","")],qN=Hn(ZN),WN=[Ks,ip,Ud,mC("button"),xu,A5,Kr("buttonType",["primary","secondary","toolbar"]),F1,gs("context","mode:design")],GN=Hn(WN),c_=[Ks,iC],wp=c_.concat([cC]),KN=c_.concat([lC,Ud,gs("context","mode:design")]),YN=Hn(KN),XN=Ws,JN=wp.concat([uC("auto"),gs("context","mode:design")]),QN=Hn(JN),e8=Pm([Cy,ip,TE]),t8=wp.concat([gs("storageKey","default"),gs("context","mode:design")]),o8=Hn(t8),n8=qs,r8=Hn(wp),a8=qs,s8=c_.concat([gs("tag","textarea"),xs("scriptId"),xs("scriptUrl"),pc("onFocus"),il("settings",void 0,Ng)]),i8=c_.concat([gs("tag","textarea"),Gi("init")]),l8=tc(e=>Pa("customeditor.old",sl(i8),e).orThunk(()=>Pa("customeditor.new",sl(s8),e))),c8=qs,d8=wp.concat([gs("context","mode:design")]),u8=Hn(d8),m8=Rc(_p),g8=e=>[Ks,Ni("columns",ou),e],p8=[Ks,xs("html"),ll("presets","presentation",["presentation","document"]),ps("onInit",Ae),mi("stretched",!1)],f8=Hn(p8),h8=wp.concat([mi("border",!1),mi("sandboxed",!0),mi("streamContent",!1),mi("transparent",!0)]),b8=Hn(h8),y8=qs,v8=Hn(c_.concat([_a("height")])),x8=Hn([xs("url"),nu("zoom"),nu("cachedWidth"),nu("cachedHeight")]),w8=wp.concat([_a("inputMode"),_a("placeholder"),mi("maximized",!1),Ud,gs("context","mode:design")]),k8=Hn(w8),_8=qs,C8=e=>[Ks,lC,e,ll("align","start",["start","center","end"]),_a("for")],S8=[ip,Cy],E8=[ip,wi("items",ed(0,()=>b6))],b6=Ou([Hn(S8),Hn(E8)]),z8=wp.concat([wi("items",b6),Ud,gs("context","mode:design")]),T8=Hn(z8),A8=qs,O8=wp.concat([od("items",[ip,Cy]),Dg("size",1),Ud,gs("context","mode:design")]),N8=Hn(O8),M8=qs,D8=wp.concat([mi("constrain",!0),Ud,gs("context","mode:design")]),R8=Hn(D8),y6=Hn([xs("width"),xs("height")]),B8=c_.concat([lC,Dg("min",0),Dg("max",0)]),F8=Hn(B8),L8=ou,I8=[Ks,wi("header",qs),wi("cells",Rc(qs))],P8=Hn(I8),H8=wp.concat([_a("placeholder"),mi("maximized",!1),Ud,gs("context","mode:design")]),j8=Hn(H8),V8=qs,v6=[vo("type",["directory","leaf"]),zE,xs("id"),fa("menu",lb),_a("customStateIcon"),_a("customStateIconTooltip")],x6=Hn(v6),$8=v6.concat([wi("children",ed(0,()=>Qc("type",{directory:w6,leaf:x6})))]),w6=Hn($8),U8=Qc("type",{directory:w6,leaf:x6}),Z8=[Ks,wi("items",U8),pc("onLeafAction"),pc("onToggleExpand"),kl("defaultExpandedIds",[],qs),_a("defaultSelectedId")],q8=Hn(Z8),W8=wp.concat([ll("filetype","file",["image","media","file"]),Ud,_a("picker_text"),gs("context","mode:design")]),G8=Hn(W8),K8=Hn([Cy,Sw]),ZO=e=>Sa("items","items",{tag:"required",process:{}},Rc(tc(r=>Pa(`Checking item of ${e}`,qO,r).fold(s=>Dr.error(bn(s)),s=>Dr.value(s))))),qO=Xc(()=>{return Qc("type",{alertbanner:qN,bar:Hn((e=ZO("bar"),[Ks,e])),button:GN,checkbox:YN,colorinput:o8,colorpicker:r8,dropzone:u8,grid:Hn(g8(ZO("grid"))),iframe:b8,input:k8,listbox:T8,selectbox:N8,sizeinput:R8,slider:F8,textarea:j8,urlinput:G8,customeditor:l8,htmlpanel:f8,imagepreview:v8,collection:QN,label:Hn(C8(ZO("label"))),table:P8,tree:q8,panel:k6});var e}),Y8=[Ks,St("classes",[]),wi("items",qO)],k6=Hn(Y8),X8=[mC("tab"),zE,wi("items",qO)],J8=[Ks,od("tabs",X8)],Q8=Hn(J8),e7=h6,t7=UN,o7=Hn([xs("title"),Ni("body",Qc("type",{panel:k6,tabpanel:Q8})),gs("size","normal"),kl("buttons",[],t7),St("initialData",{}),ps("onAction",Ae),ps("onChange",Ae),ps("onSubmit",Ae),ps("onClose",Ae),ps("onCancel",Ae),ps("onTabChange",Ae)]),n7=Hn([vo("type",["cancel","custom"]),...e7]),r7=Hn([xs("title"),xs("url"),nu("height"),nu("width"),Mg("buttons",n7),ps("onAction",Ae),ps("onCancel",Ae),ps("onClose",Ae),ps("onMessage",Ae)]),WO=e=>Wo(e)?[e].concat(Vt(Yn(e),WO)):Co(e)?Vt(e,WO):[],a7=e=>mo(e.type)&&mo(e.name),s7={checkbox:XN,colorinput:n8,colorpicker:a8,dropzone:m8,input:_8,iframe:y8,imagepreview:x8,selectbox:M8,sizeinput:y6,slider:L8,listbox:A8,size:y6,textarea:V8,urlinput:K8,customeditor:c8,collection:e8,togglemenuitem:jN},i7=e=>{const r=(l=>ro(WO(l),a7))(e),s=Vt(r,l=>(m=>D.from(s7[m.type]))(l).fold(()=>[],m=>[Ni(l.name,m)]));return Hn(s)},_6=e=>{var r;return{internalDialog:Oi(Pa("dialog",o7,e)),dataValidator:i7(e),initialData:(r=e.initialData)!==null&&r!==void 0?r:{}}},$v={open:(e,r)=>{const s=_6(r);return e(s.internalDialog,s.initialData,s.dataValidator)},openUrl:(e,r)=>e(Oi(Pa("dialog",r7,r))),redial:e=>_6(e)};var l7=Object.freeze({__proto__:null,events:(e,r)=>{const s=(l,m)=>{e.updateState.each(g=>{const h=g(l,m);r.set(h)}),e.renderComponents.each(g=>{const h=g(m,r.get());(e.reuseDom?Q_:ep)(l,h)})};return Ta([Kt(nd(),(l,m)=>{const g=m;if(!g.universal){const h=e.channel;ct(g.channels,h)&&s(l,g.data)}}),Aa((l,m)=>{e.initialData.each(g=>{s(l,g)})})])}}),c7=Object.freeze({__proto__:null,getState:(e,r,s)=>s}),d7=[oo("channel"),Lr("renderComponents"),Lr("updateState"),Lr("initialData"),mi("reuseDom",!0)];const Tu=Ar({fields:d7,name:"reflecting",active:l7,apis:c7,state:Object.freeze({__proto__:null,init:()=>{const e=yn(D.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(D.none())}}})}),C6=e=>{const r=[],s={};return Oo(e,(l,m)=>{l.fold(()=>{r.push(m)},g=>{s[m]=g})}),r.length>0?Dr.error(r):Dr.value(s)},u7=(e,r,s,l)=>{const m=ya(kg.sketch(h=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:F(e.items,x=>r4(h,x,r,s,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[m.asSpec()]}],behaviours:zo([Mn.config({mode:"acyclic",useTabstopAt:Ro(Zy)}),(g=m,qr.config({find:g.getOpt})),NS(m,{postprocess:h=>C6(h).fold(x=>(console.error(x),{}),$e)}),pr("dialog-body-panel",[Kt(kn(),(h,x)=>{h.getSystem().broadcastOn([hv],{newFocus:D.some(x.event.target)})})])])};var g},m7=Hd({name:"TabButton",configFields:[St("uid",void 0),oo("value"),Sa("dom","dom",Wi(()=>({attributes:{role:"tab",id:cn("aria"),"aria-selected":"false"}})),Ss()),Lr("action"),St("domModification",{}),fo("tabButtonBehaviours",[Jn,Mn,Ge]),oo("view")],factory:(e,r)=>({uid:e.uid,dom:e.dom,components:e.components,events:h1(e.action),behaviours:Bo(e.tabButtonBehaviours,[Jn.config({}),Mn.config({mode:"execution",useSpace:!0,useEnter:!0}),Ge.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),g7=ue([oo("tabs"),oo("dom"),St("clickToDismiss",!1),fo("tabbarBehaviours",[ba,Mn]),ld(["tabClass","selectedClass"])]),p7=Yp({factory:m7,name:"tabs",unit:"tab",overrides:e=>{const r=(l,m)=>{ba.dehighlight(l,m),An(l,Ic(),{tabbar:l,button:m})},s=(l,m)=>{ba.highlight(l,m),An(l,$m(),{tabbar:l,button:m})};return{action:l=>{const m=l.getSystem().getByUid(e.uid).getOrDie(),g=ba.isHighlighted(m,l);(g&&e.clickToDismiss?r:g?Ae:s)(m,l)},domModification:{classes:[e.markers.tabClass]}}}}),f7=ue([p7]),S6=Xl({name:"Tabbar",configFields:g7(),partFields:f7(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Bo(e.tabbarBehaviours,[ba.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(m,g)=>{wn(g.element,"aria-selected","true")},onDehighlight:(m,g)=>{wn(g.element,"aria-selected","false")}}),Mn.config({mode:"flow",getInitial:m=>ba.getHighlighted(m).map(g=>g.element),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),h7=Hd({name:"Tabview",configFields:[fo("tabviewBehaviours",[rr])],factory:(e,r)=>({uid:e.uid,dom:e.dom,behaviours:Bo(e.tabviewBehaviours,[rr.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),b7=ue([St("selectFirst",!0),Hr("onChangeTab"),Hr("onDismissTab"),St("tabs",[]),fo("tabSectionBehaviours",[])]),y7=hl({factory:S6,schema:[oo("dom"),td("markers",[oo("tabClass"),oo("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),v7=hl({factory:h7,name:"tabview"}),x7=ue([y7,v7]),d_=Xl({name:"TabSection",configFields:b7(),partFields:x7(),factory:(e,r,s,l)=>{const m=(g,h)=>{ja(g,e,"tabbar").each(x=>{h(x).each(Zl)})};return{uid:e.uid,dom:e.dom,components:r,behaviours:To(e.tabSectionBehaviours),events:Ta(_e([e.selectFirst?[Aa((g,h)=>{m(g,ba.getFirst)})]:[],[Kt($m(),(g,h)=>{(x=>{const w=Ge.getValue(x);ja(x,e,"tabview").each(S=>{yo(e.tabs,M=>M.value===w).each(M=>{const z=M.view();Ga(x.element,"id").each(L=>{wn(S.element,"aria-labelledby",L)}),rr.set(S,z),e.onChangeTab(S,x,z)})})})(h.event.button)}),Kt(Ic(),(g,h)=>{const x=h.event.button;e.onDismissTab(g,x)})]])),apis:{getViewItems:g=>ja(g,e,"tabview").map(h=>rr.contents(h)).getOr([]),showTab:(g,h)=>{m(g,x=>{const w=ba.getCandidates(x);return yo(w,S=>Ge.getValue(S)===h).filter(S=>!ba.isHighlighted(x,S))})}}}},apis:{getViewItems:(e,r)=>e.getViewItems(r),showTab:(e,r,s)=>{e.showTab(r,s)}}}),E6=(e,r)=>{Dn(e,"height",r+"px"),Dn(e,"flex-basis",r+"px")},UA=(e,r,s)=>{Uu(e,'[role="dialog"]').each(l=>{ws(l,'[role="tablist"]').each(m=>{s.get().map(g=>(Dn(r,"height","0"),Dn(r,"flex-basis","0"),Math.min(g,((h,x,w)=>{const S=Lo(h).dom,M=Uu(h,".tox-dialog-wrap").getOr(h);let z;z=Ua(M,"position")==="fixed"?Math.max(S.clientHeight,window.innerHeight):Math.max(S.offsetHeight,S.scrollHeight);const L=Da(x),U=x.dom.offsetLeft>=w.dom.offsetLeft+Xe(w)?Math.max(Da(w),L):L,Z=parseInt(Ua(h,"margin-top"),10)||0,re=parseInt(Ua(h,"margin-bottom"),10)||0;return z-(Da(h)+Z+re-U)})(l,r,m)))).each(g=>{E6(r,g)})})})},GO=e=>ws(e,'[role="tabpanel"]'),z6="send-data-to-section",T6="send-data-to-view",w7=(e,r,s,l)=>{const m=yn({}),g=M=>{const z=Ge.getValue(M),L=C6(z).getOr({}),U=m.get(),Z=vs(U,L);m.set(Z)},h=M=>{const z=m.get();Ge.setValue(M,z)},x=yn(null),w=F(e.tabs,M=>({value:M.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[qa(s.shared.providers.translate(M.title))],view:()=>[kg.sketch(z=>({dom:{tag:"div",classes:["tox-form"]},components:F(M.items,L=>r4(z,L,r,s,l)),formBehaviours:zo([Mn.config({mode:"acyclic",useTabstopAt:Ro(Zy)}),pr("TabView.form.events",[Aa(h),nc(g)]),Gl.config({channels:Di([{key:z6,value:{onReceive:g}},{key:T6,value:{onReceive:h}}])})])}))]})),S=(M=>{const z=Tr();return{extraEvents:[Aa(U=>{const Z=U.element;GO(Z).each(re=>{Dn(re,"visibility","hidden"),U.getSystem().getByDom(re).toOptional().each(se=>{const pe=((te,de,me)=>F(te,(xe,Ke)=>{rr.set(me,te[Ke].view());const wt=de.dom.getBoundingClientRect();return rr.set(me,[]),wt.height}))(M,re,se);(te=>De(ke(te,(de,me)=>de>me?-1:de<me?1:0)))(pe).fold(z.clear,z.set)}),UA(Z,re,z),qn(re,"visibility"),((se,pe)=>{De(se).each(oe=>d_.showTab(pe,oe.value))})(M,U),requestAnimationFrame(()=>{UA(Z,re,z)})})}),Kt(ru(),U=>{const Z=U.element;GO(Z).each(re=>{UA(Z,re,z)})}),Kt(Ez,(U,Z)=>{const re=U.element;GO(re).each(se=>{const pe=ud(ea(se));Dn(se,"visibility","hidden");const oe=to(se,"height").map(de=>parseInt(de,10));qn(se,"height"),qn(se,"flex-basis");const te=se.dom.getBoundingClientRect().height;oe.forall(de=>te>de)?(z.set(te),UA(re,se,z)):oe.each(de=>{E6(se,de)}),qn(se,"visibility"),pe.each(Il)})})],selectFirst:!1}})(w);return d_.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(M,z,L)=>{const U=Ge.getValue(z);An(M,KC,{name:U,oldName:x.get()}),x.set(U)},tabs:w,components:[d_.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[S6.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:zo([hs.config({})])}),d_.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:S.selectFirst,tabSectionBehaviours:zo([pr("tabpanel",S.extraEvents),Mn.config({mode:"acyclic"}),qr.config({find:M=>De(d_.getViewItems(M))}),eb(D.none(),M=>(M.getSystem().broadcastOn([z6],{}),m.get()),(M,z)=>{m.set(z),M.getSystem().broadcastOn([T6],{})})])})},A6=(e,r,s,l,m,g)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...s.map(h=>({id:h})).getOr({}),...m?{"aria-live":"polite"}:{}}},components:[],behaviours:zo([OS(0),Tu.config({channel:`${fv}-${r}`,updateState:(h,x)=>D.some({isTabPanel:()=>x.body.type==="tabpanel"}),renderComponents:h=>{const x=h.body;return x.type==="tabpanel"?[w7(x,h.initialData,l,g)]:[u7(x,h.initialData,l,g)]},initialData:e})])}),k7=uy.deviceType.isTouch(),O6=(e,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,r]}),N6=(e,r)=>bl.parts.close(ol.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:e,buttonBehaviours:zo([hs.config({})])})),M6=()=>bl.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),D6=(e,r)=>bl.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:mg(`<p>${Y2(r.translate(e))}</p>`)}]}]}),R6=e=>bl.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),B6=(e,r)=>[ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),ku.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],KO=e=>{const r="tox-dialog",s=r+"-wrap",l=s+"__backdrop",m=r+"__disable-scroll";return bl.sketch({lazySink:e.lazySink,onEscape:g=>(e.onEscape(g),D.some(!0)),useTabstopAt:g=>!Zy(g),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[r].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:mg(`<div class="${s}"></div>`),components:[{dom:{tag:"div",classes:k7?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:s,modalBehaviours:zo([Jn.config({}),pr("dialog-events",e.dialogEvents.concat([su(kn(),(g,h)=>{rm.isBlocked(g)||Mn.focusIn(g)}),Kt(jm(),(g,h)=>{g.getSystem().broadcastOn([hv],{newFocus:h.event.newFocus})})])),pr("scroll-lock",[Aa(()=>{lo(os(),m)}),nc(()=>{ln(os(),m)})]),...e.extraBehaviours]),eventOrder:{[_l()]:["dialog-events"],[Ul()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Lc()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},F6=e=>ol.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:zo([hs.config({}),Bs.config(e.tooltips.getConfig({tooltipText:e.translate("Close")}))]),components:[vu("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:r=>{Rr(r,lp)}}),L6=(e,r,s,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...s.map(m=>({id:m})).getOr({})}},components:[],behaviours:zo([Tu.config({channel:`${bk}-${r}`,initialData:e,renderComponents:m=>[qa(l.translate(m.title))]})])}),I6=()=>({dom:mg('<div class="tox-dialog__draghandle"></div>')}),P6=(e,r,s)=>((l,m,g)=>{const h=bl.parts.title(L6(l,m,D.none(),g)),x=bl.parts.draghandle(I6()),w=bl.parts.close(F6(g)),S=[h].concat(l.draggable?[x]:[]).concat([w]);return ku.sketch({dom:mg('<div class="tox-dialog__header"></div>'),components:S})})({title:s.shared.providers.translate(e),draggable:s.dialog.isDraggableModal()},r,s.shared.providers),H6=(e,r,s,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":s.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:mg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),j6=(e,r,s)=>({onClose:()=>s.closeWindow(),onBlock:l=>{const m=ws(e().element,".tox-dialog__header").map(g=>Da(g));bl.setBusy(e(),(g,h)=>H6(l.message,h,r,m))},onUnblock:()=>{bl.setIdle(e())}}),V6="tox-dialog--fullscreen",YO="tox-dialog--width-lg",XO="tox-dialog--width-md",ZA=e=>{switch(e){case"large":return D.some(YO);case"medium":return D.some(XO);default:return D.none()}},$6=(e,r)=>{const s=pt(r.element.dom);Rn(s,V6)||(Or(s,[YO,XO]),ZA(e).each(l=>lo(s,l)))},U6=(e,r)=>{const s=pt(e.element.dom),l=Oa(s),m=yo(l,g=>g===YO||g===XO).or(ZA(r));((g,h)=>{Ot(h,x=>{((w,S)=>{W(w)?w.dom.classList.toggle(S):((M,z)=>ct(ie(M),z)?Yt(M,z):Ie(M,z))(w,S),tn(w)})(g,x)})})(s,[V6,...m.toArray()])},Z6=(e,r,s)=>Xi(KO({...e,firstTabstop:1,lazySink:s.shared.getSink,extraBehaviours:[pk({}),...e.extraBehaviours],onEscape:l=>{Rr(l,lp)},dialogEvents:r,eventOrder:{[nd()]:[Tu.name(),Gl.name()],[Ul()]:["scroll-lock",Tu.name(),"messages","dialog-events","alloy.base.behaviour"],[Lc()]:["alloy.base.behaviour","dialog-events","messages",Tu.name(),"scroll-lock"]}})),JO=(e,r={})=>F(e,s=>s.type==="menu"?(l=>{const m=F(l.items,g=>{const h=zt(r,g.name).getOr(yn(!1));return{...g,storage:h}});return{...l,items:m}})(s):s),q6=e=>ao(e,(r,s)=>s.type==="menu"?ao(s.items,(l,m)=>(l[m.name]=m.storage,l),r):r,{}),W6=(e,r)=>[qf(kn(),Jz),e(By,(s,l,m,g)=>{ud(ea(g.element)).fold(Ae,ih),r.onClose(),l.onClose()}),e(lp,(s,l,m,g)=>{l.onCancel(s),Rr(g,By)}),Kt(Yh,(s,l)=>r.onUnblock()),Kt(Yw,(s,l)=>r.onBlock(l.event))],G6=(e,r,s)=>{const l=(g,h)=>Kt(g,(x,w)=>{m(x,(S,M)=>{h(e(),S,w.event,x)})}),m=(g,h)=>{Tu.getState(g).get().each(x=>{h(x.internalDialog,g)})};return[...W6(l,r),l(rv,(g,h)=>h.onSubmit(g)),l(Wc,(g,h,x)=>{h.onChange(g,{name:x.name})}),l(Mm,(g,h,x,w)=>{const S=()=>w.getSystem().isConnected()?Mn.focusIn(w):void 0,M=U=>yl(U,"disabled")||Ga(U,"aria-disabled").exists(Z=>Z==="true"),z=ea(w.element),L=ud(z);h.onAction(g,{name:x.name,value:x.value}),ud(z).fold(S,U=>{M(U)||L.exists(Z=>Ee(U,Z)&&M(Z))?S():s().toOptional().filter(Z=>!Ee(Z.element,U)).each(S)})}),l(KC,(g,h,x)=>{h.onTabChange(g,{newTabName:x.name,oldTabName:x.oldName})}),nc(g=>{const h=e();Ge.setValue(g,h.getData())})]},_7=(e,r)=>{const s=r.map(g=>g.footerButtons).getOr([]),l=kt(s,g=>g.align==="start"),m=(g,h)=>ku.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${g}`]},components:F(h,x=>x.memento.asSpec())});return[m("start",l.pass),m("end",l.fail)]},K6=(e,r,s)=>({dom:mg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:zo([Tu.config({channel:`${tb}-${r}`,initialData:e,updateState:(l,m)=>{const g=F(m.buttons,h=>{const x=ya(((w,S)=>Mk(w,w.type,S))(h,s));return{name:h.name,align:h.align,memento:x}});return D.some({lookupByName:h=>((x,w,S)=>yo(w,M=>M.name===S).bind(M=>M.memento.getOpt(x)))(l,g,h),footerButtons:g})},renderComponents:_7})])}),Y6=(e,r,s)=>bl.parts.footer(K6(e,r,s)),qA=(e,r)=>{if(e.getRoot().getSystem().isConnected()){const s=qr.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return kg.getField(s,r).orThunk(()=>e.getFooter().bind(m=>Tu.getState(m).get()).bind(m=>m.lookupByName(r)))}return D.none()},X6=(e,r,s)=>{const l=g=>{const h=e.getRoot();h.getSystem().isConnected()&&g(h)},m={getData:()=>{const g=e.getRoot(),h=g.getSystem().isConnected()?e.getFormWrapper():g;return{...Ge.getValue(h),...tt(s,x=>x.get())}},setData:g=>{l(h=>{const x=m.getData(),w=vs(x,g),S=((z,L)=>{const U=z.getRoot();return Tu.getState(U).get().map(Z=>Oi(Pa("data",Z.dataValidator,L))).getOr(L)})(e,w),M=e.getFormWrapper();Ge.setValue(M,S),Oo(s,(z,L)=>{Xo(w,L)&&z.set(w[L])})})},setEnabled:(g,h)=>{qA(e,g).each(h?Wn.enable:Wn.disable)},focus:g=>{qA(e,g).each(Jn.focus)},block:g=>{if(!mo(g))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(h=>{An(h,Yw,{message:g})})},unblock:()=>{l(g=>{Rr(g,Yh)})},showTab:g=>{l(h=>{const x=e.getBody();Tu.getState(x).get().exists(w=>w.isTabPanel())&&qr.getCurrent(x).each(w=>{d_.showTab(w,g)})})},redial:g=>{l(h=>{const x=e.getId(),w=r(g),S=JO(w.internalDialog.buttons,s);h.getSystem().broadcastOn([`${pv}-${x}`],w),h.getSystem().broadcastOn([`${bk}-${x}`],w.internalDialog),h.getSystem().broadcastOn([`${fv}-${x}`],w.internalDialog),h.getSystem().broadcastOn([`${tb}-${x}`],{...w.internalDialog,buttons:S}),m.setData(w.initialData)})},close:()=>{l(g=>{Rr(g,By)})},toggleFullscreen:e.toggleFullscreen};return m},J6=(e,r,s,l=!1,m)=>{const g=cn("dialog"),h=cn("dialog-label"),x=cn("dialog-content"),w=e.internalDialog,S=yn(w.size),M=ZA(S.get()).toArray(),z=ya(((me,xe,Ke,wt)=>ku.sketch({dom:mg('<div class="tox-dialog__header"></div>'),components:[L6(me,xe,D.some(Ke),wt),I6(),F6(wt)],containerBehaviours:zo([Vv.config({mode:"mouse",blockerClass:"blocker",getTarget:eo=>Rd(eo,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:w.title,draggable:!0},g,h,s.shared.providers)),L=ya(((me,xe,Ke,wt,eo,qt)=>A6(me,xe,D.some(Ke),wt,eo,qt))({body:w.body,initialData:w.initialData},g,x,s,l,me=>qA(te,me))),U=JO(w.buttons),Z=q6(U),re=Nr(U.length!==0,ya(((me,xe,Ke)=>K6(me,xe,Ke))({buttons:U},g,s))),se=G6(()=>de,{onBlock:me=>{rm.block(oe,(xe,Ke)=>{const wt=z.getOpt(oe).map(eo=>Da(eo.element));return H6(me.message,Ke,s.shared.providers,wt)})},onUnblock:()=>{rm.unblock(oe)},onClose:()=>r.closeWindow()},s.shared.getSink),pe=Ms().os,oe=Xi({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...M],attributes:{role:"dialog",...pe.isMacOS()?{"aria-label":w.title}:{"aria-labelledby":h}}},eventOrder:{[nd()]:[Tu.name(),Gl.name()],[_l()]:["execute-on-form"],[Ul()]:["reflecting","execute-on-form"]},behaviours:zo([Mn.config({mode:"cyclic",onEscape:me=>(Rr(me,By),D.some(!0)),useTabstopAt:me=>!Zy(me)&&(ga(me)!=="button"||ia(me,"disabled")!=="disabled"),firstTabstop:1}),Tu.config({channel:`${pv}-${g}`,updateState:(me,xe)=>(S.set(xe.internalDialog.size),$6(xe.internalDialog.size,me),m(),D.some(xe)),initialData:e}),Jn.config({}),pr("execute-on-form",se.concat([su(kn(),(me,xe)=>{Mn.focusIn(me)}),Kt(jm(),(me,xe)=>{me.getSystem().broadcastOn([hv],{newFocus:xe.event.newFocus})})])),rm.config({getRoot:()=>D.some(oe)}),rr.config({}),pk({})]),components:[z.asSpec(),L.asSpec(),...re.map(me=>me.asSpec()).toArray()]}),te={getId:ue(g),getRoot:ue(oe),getFooter:()=>re.map(me=>me.get(oe)),getBody:()=>L.get(oe),getFormWrapper:()=>{const me=L.get(oe);return qr.getCurrent(me).getOr(me)},toggleFullscreen:()=>{U6(oe,S.get())}},de=X6(te,r.redial,Z);return{dialog:oe,instanceApi:de}};var QO=tinymce.util.Tools.resolve("tinymce.util.URI");const C7=["insertContent","setContent","execCommand","close","block","unblock"],Q6=e=>Wo(e)&&C7.indexOf(e.mceAction)!==-1,S7=(e,r,s,l)=>{const m=cn("dialog"),g=P6(e.title,m,l),h=(pe=>{const oe={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[Uy(D.none(),{dom:{tag:"iframe",attributes:{src:pe.url}},behaviours:zo([hs.config({}),Jn.config({})])})]}],behaviours:zo([Mn.config({mode:"acyclic",useTabstopAt:Ro(Zy)})])};return bl.parts.body(oe)})(e),x=e.buttons.bind(pe=>pe.length===0?D.none():D.some(Y6({buttons:pe},m,l))),w=((pe,oe)=>{const te=(me,xe)=>Kt(me,(Ke,wt)=>{de(Ke,(eo,qt)=>{xe(se,eo,wt.event,Ke)})}),de=(me,xe)=>{Tu.getState(me).get().each(Ke=>{xe(Ke,me)})};return[...W6(te,oe),te(Mm,(me,xe,Ke)=>{xe.onAction(me,{name:Ke.name})})]})(0,j6(()=>re,l.shared.providers,r)),S={...e.height.fold(()=>({}),pe=>({height:pe+"px","max-height":pe+"px"})),...e.width.fold(()=>({}),pe=>({width:pe+"px","max-width":pe+"px"}))},M=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],z=new QO(e.url,{base_uri:new QO(window.location.href)}),L=`${z.protocol}://${z.host}${z.port?":"+z.port:""}`,U=$l(),Z=[Tu.config({channel:`${pv}-${m}`,updateState:(pe,oe)=>D.some(oe),initialData:e}),pr("messages",[Aa(()=>{const pe=Kl(pt(window),"message",oe=>{if(z.isSameOrigin(new QO(oe.raw.origin))){const te=oe.raw.data;Q6(te)?((de,me,xe)=>{switch(xe.mceAction){case"insertContent":de.insertContent(xe.content);break;case"setContent":de.setContent(xe.content);break;case"execCommand":const Ke=!!Go(xe.ui)&&xe.ui;de.execCommand(xe.cmd,Ke,xe.value);break;case"close":me.close();break;case"block":me.block(xe.message);break;case"unblock":me.unblock()}})(s,se,te):(de=>!Q6(de)&&Wo(de)&&Xo(de,"mceAction"))(te)&&e.onMessage(se,te)}});U.set(pe)}),nc(U.clear)]),Gl.config({channels:{[IS]:{onReceive:(pe,oe)=>{ws(pe.element,"iframe").each(te=>{const de=te.dom.contentWindow;Ve(de)&&de.postMessage(oe,L)})}}}})],re=Z6({id:m,header:g,body:h,footer:x,extraClasses:M,extraBehaviours:Z,extraStyles:S},w,l),se=(pe=>{const oe=te=>{pe.getSystem().isConnected()&&te(pe)};return{block:te=>{if(!mo(te))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");oe(de=>{An(de,Yw,{message:te})})},unblock:()=>{oe(te=>{Rr(te,Yh)})},close:()=>{oe(te=>{Rr(te,By)})},sendMessage:te=>{oe(de=>{de.getSystem().broadcastOn([IS],te)})}}})(re);return{dialog:re,instanceApi:se}},eN=(e,r)=>Oi(Pa("data",r,e)),tN=e=>tv(e,".tox-alert-dialog")||tv(e,".tox-confirm-dialog"),E7=(e,r,s)=>r&&s?[]:[ss.config({contextual:{lazyContext:()=>D.some(ds(pt(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>df(e,l.element).map(m=>({bounds:Ih(m),optScrollEnv:D.some({currentScrollTop:m.element.dom.scrollTop,scrollElmTop:ks(m.element).top})})).getOrThunk(()=>({bounds:rs(),optScrollEnv:D.none()}))})],z7=e=>{const r=e.editor,s=Lh(r),l=(w=>{const S=w.shared;return{open:(M,z)=>{const L=()=>{bl.hide(se),z()},U=ya(Mk({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"cancel",w)),Z=M6(),re=N6(L,S.providers),se=Xi(KO({lazySink:()=>S.getSink(),header:O6(Z,re),body:D6(M,S.providers),footer:D.some(R6(B6([],[U.asSpec()]))),onEscape:L,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Kt(lp,L)],eventOrder:{}}));bl.show(se);const pe=U.get(se);Jn.focus(pe)}}})(e.backstages.dialog),m=(w=>{const S=w.shared;return{open:(M,z)=>{const L=te=>{bl.hide(pe),z(te)},U=ya(Mk({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"submit",w)),Z=Mk({context:"any",name:"no",text:"No",primary:!1,buttonType:D.some("secondary"),align:"end",enabled:!0,icon:D.none()},"cancel",w),re=M6(),se=N6(()=>L(!1),S.providers),pe=Xi(KO({lazySink:()=>S.getSink(),header:O6(re,se),body:D6(M,S.providers),footer:D.some(R6(B6([],[Z,U.asSpec()]))),onEscape:()=>L(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Kt(lp,()=>L(!1)),Kt(rv,()=>L(!0))],eventOrder:{}}));bl.show(pe);const oe=U.get(pe);Jn.focus(oe)}}})(e.backstages.dialog),g=(w,S)=>$v.open((M,z,L)=>{const U=z,Z=((re,se,pe)=>{const oe=cn("dialog"),te=re.internalDialog,de=P6(te.title,oe,pe),me=yn(te.size),xe=ZA(me.get()).toArray(),Ke=((ir,jr,zs,Ts)=>{const xa=A6(ir,jr,D.none(),zs,!1,Ts);return bl.parts.body(xa)})({body:te.body,initialData:te.initialData},oe,pe,ir=>qA(En,ir)),wt=JO(te.buttons),eo=q6(wt),qt=Nr(wt.length!==0,Y6({buttons:wt},oe,pe)),Jt=G6(()=>Fn,j6(()=>en,pe.shared.providers,se),pe.shared.getSink),ko={id:oe,header:de,body:Ke,footer:qt,extraClasses:xe,extraBehaviours:[Tu.config({channel:`${pv}-${oe}`,updateState:(ir,jr)=>(me.set(jr.internalDialog.size),$6(jr.internalDialog.size,ir),D.some(jr)),initialData:re})],extraStyles:{}},en=Z6(ko,Jt,pe),En={getId:ue(oe),getRoot:ue(en),getBody:()=>bl.getBody(en),getFooter:()=>bl.getFooter(en),getFormWrapper:()=>{const ir=bl.getBody(en);return qr.getCurrent(ir).getOr(ir)},toggleFullscreen:()=>{U6(en,me.get())}},Fn=X6(En,se.redial,eo);return{dialog:en,instanceApi:Fn}})({dataValidator:L,initialData:U,internalDialog:M},{redial:$v.redial,closeWindow:()=>{bl.hide(Z.dialog),S(Z.instanceApi)}},e.backstages.dialog);return bl.show(Z.dialog),Z.instanceApi.setData(U),Z.instanceApi},w),h=(w,S,M,z)=>$v.open((L,U,Z)=>{const re=eN(U,Z),se=Tr(),pe=e.backstages.popup.shared.header.isPositionedAtTop(),oe=()=>se.on(me=>{fs.reposition(me),s&&pe||ss.refresh(me)}),te=J6({dataValidator:Z,initialData:re,internalDialog:L},{redial:$v.redial,closeWindow:()=>{se.on(fs.hide),r.off("ResizeEditor",oe),se.clear(),M(te.instanceApi)}},e.backstages.popup,z.ariaAttrs,oe),de=Xi(fs.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:z.persistent?{event:"doNotDismissYet"}:{},...pe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:zo([pr("window-manager-inline-events",[Kt(Td(),(me,xe)=>{Rr(te.dialog,lp)})]),...E7(r,s,pe)]),isExtraPart:(me,xe)=>tN(xe)}));return se.set(de),fs.showWithinBounds(de,xc(te.dialog),{anchor:S},()=>{const me=r.inline?os():pt(r.getContainer()),xe=ds(me);return D.some(xe)}),s&&pe||(ss.refresh(de),r.on("ResizeEditor",oe)),te.instanceApi.setData(re),Mn.focusIn(te.dialog),te.instanceApi},w),x=(w,S,M,z)=>$v.open((L,U,Z)=>{const re=eN(U,Z),se=Tr(),pe=e.backstages.popup.shared.header.isPositionedAtTop(),oe=()=>se.on(me=>{fs.reposition(me),ss.refresh(me)}),te=J6({dataValidator:Z,initialData:re,internalDialog:L},{redial:$v.redial,closeWindow:()=>{se.on(fs.hide),r.off("ResizeEditor ScrollWindow ElementScroll",oe),se.clear(),M(te.instanceApi)}},e.backstages.popup,z.ariaAttrs,oe),de=Xi(fs.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:z.persistent?{event:"doNotDismissYet"}:{},...pe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:zo([pr("window-manager-inline-events",[Kt(Td(),(me,xe)=>{Rr(te.dialog,lp)})]),ss.config({contextual:{lazyContext:()=>D.some(ds(pt(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:me=>df(r,me.element).map(xe=>({bounds:Ih(xe),optScrollEnv:D.some({currentScrollTop:xe.element.dom.scrollTop,scrollElmTop:ks(xe.element).top})})).getOrThunk(()=>({bounds:rs(),optScrollEnv:D.none()}))})]),isExtraPart:(me,xe)=>tN(xe)}));return se.set(de),fs.showWithinBounds(de,xc(te.dialog),{anchor:S},()=>e.backstages.popup.shared.getSink().toOptional().bind(me=>{const xe=df(r,me.element).map(eo=>Ih(eo)).getOr(rs()),Ke=ds(pt(r.getContentAreaContainer())),wt=Bl(Ke,xe);return D.some(ka(wt.x,wt.y,wt.width,wt.height-15))})),ss.refresh(de),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",oe),te.instanceApi.setData(re),Mn.focusIn(te.dialog),te.instanceApi},w);return{open:(w,S,M)=>{if(!gn(S)){if(S.inline==="toolbar")return h(w,e.backstages.popup.shared.anchors.inlineDialog(),M,S);if(S.inline==="bottom")return x(w,e.backstages.popup.shared.anchors.inlineBottomDialog(),M,S);if(S.inline==="cursor")return h(w,e.backstages.popup.shared.anchors.cursor(),M,S)}return g(w,M)},openUrl:(w,S)=>((M,z)=>$v.openUrl(L=>{const U=S7(L,{closeWindow:()=>{bl.hide(U.dialog),z(U.instanceApi)}},r,e.backstages.dialog);return bl.show(U.dialog),U.instanceApi},M))(w,S),alert:(w,S)=>{l.open(w,S)},close:w=>{w.close()},confirm:(w,S)=>{m.open(w,S)}}};Xd.add("silver",e=>{(x=>{sf(x),(w=>{const S=w.options.register,M=L=>uo(L,mo)?{value:sz(L),valid:!0}:{valid:!1,message:"Must be an array of strings."},z=L=>ho(L)&&L>0?{value:L,valid:!0}:{valid:!1,message:"Must be a positive number."};S("color_map",{processor:M,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),S("color_map_background",{processor:M}),S("color_map_foreground",{processor:M}),S("color_cols",{processor:z,default:Lw(w)}),S("color_cols_foreground",{processor:z,default:TC(w,EC)}),S("color_cols_background",{processor:z,default:TC(w,Fw)}),S("custom_colors",{processor:"boolean",default:!0}),S("color_default_foreground",{processor:"string",default:zC}),S("color_default_background",{processor:"string",default:zC})})(x),(w=>{const S=w.options.register;S("contextmenu_avoid_overlap",{processor:"string",default:""}),S("contextmenu_never_use_native",{processor:"boolean",default:!1}),S("contextmenu",{processor:M=>M===!1?{value:[],valid:!0}:mo(M)||uo(M,mo)?{value:tr(M),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(x)})(e);let r=()=>rs();const{dialogs:s,popups:l,renderUI:m}=LN(e,{getPopupSinkBounds:()=>r()});WC(e,l.backstage.shared);const g=z7({editor:e,backstages:{popup:l.backstage,dialog:s.backstage}}),h=Tr();return{renderUI:()=>{const x=m();return df(e,l.getMothership().element).each(w=>{r=()=>Ih(w)}),x},getWindowManagerImpl:ue(g),getNotificationManagerImpl:()=>vE(e,{backstage:l.backstage},l.getMothership(),h)}})})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.ModelManager");const Jo=p=>b=>(_=>{const A=typeof _;return _===null?"null":A==="object"&&Array.isArray(_)?"array":A==="object"&&(I=H=_,(q=String).prototype.isPrototypeOf(I)||((J=H.constructor)===null||J===void 0?void 0:J.name)===q.name)?"string":A;var I,H,q,J})(b)===p,$o=p=>b=>typeof b===p,sn=p=>b=>p===b,Qo=Jo("string"),mo=Jo("object"),Wo=Jo("array"),jt=sn(null),Co=$o("boolean"),Io=sn(void 0),Go=p=>!(b=>b==null)(p),gn=$o("function"),Mo=$o("number"),Ve=()=>{},ut=p=>()=>p,ho=p=>p,uo=(p,b)=>p===b;function Ae(p,...b){return(..._)=>{const A=b.concat(_);return p.apply(null,A)}}const ht=p=>b=>!p(b),bo=p=>p(),ue=ut(!1),$e=ut(!0);class ge{constructor(b,_){this.tag=b,this.value=_}static some(b){return new ge(!0,b)}static none(){return ge.singletonNone}fold(b,_){return this.tag?_(this.value):b()}isSome(){return this.tag}isNone(){return!this.tag}map(b){return this.tag?ge.some(b(this.value)):ge.none()}bind(b){return this.tag?b(this.value):ge.none()}exists(b){return this.tag&&b(this.value)}forall(b){return!this.tag||b(this.value)}filter(b){return!this.tag||b(this.value)?this:ge.none()}getOr(b){return this.tag?this.value:b}or(b){return this.tag?this:b}getOrThunk(b){return this.tag?this.value:b()}orThunk(b){return this.tag?this:b()}getOrDie(b){if(this.tag)return this.value;throw new Error(b??"Called getOrDie on None")}static from(b){return Go(b)?ge.some(b):ge.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(b){this.tag&&b(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ge.singletonNone=new ge(!1);const mt=Array.prototype.slice,Ro=Array.prototype.indexOf,go=Array.prototype.push,Ho=(p,b)=>{return _=p,A=b,Ro.call(_,A)>-1;var _,A},Uo=(p,b)=>{for(let _=0,A=p.length;_<A;_++)if(b(p[_],_))return!0;return!1},Rt=(p,b)=>{const _=[];for(let A=0;A<p;A++)_.push(b(A));return _},D=(p,b)=>{const _=p.length,A=new Array(_);for(let I=0;I<_;I++){const H=p[I];A[I]=b(H,I)}return A},qe=(p,b)=>{for(let _=0,A=p.length;_<A;_++)b(p[_],_)},Je=(p,b)=>{const _=[],A=[];for(let I=0,H=p.length;I<H;I++){const q=p[I];(b(q,I)?_:A).push(q)}return{pass:_,fail:A}},gt=(p,b)=>{const _=[];for(let A=0,I=p.length;A<I;A++){const H=p[A];b(H,A)&&_.push(H)}return _},Bt=(p,b,_)=>(((A,I)=>{for(let H=A.length-1;H>=0;H--)I(A[H],H)})(p,(A,I)=>{_=b(_,A,I)}),_),ct=(p,b,_)=>(qe(p,(A,I)=>{_=b(_,A,I)}),_),$t=(p,b)=>((_,A,I)=>{for(let H=0,q=_.length;H<q;H++){const J=_[H];if(A(J,H))return ge.some(J);if(I(J,H))break}return ge.none()})(p,b,ue),So=(p,b)=>{for(let _=0,A=p.length;_<A;_++)if(b(p[_],_))return ge.some(_);return ge.none()},Dt=p=>{const b=[];for(let _=0,A=p.length;_<A;++_){if(!Wo(p[_]))throw new Error("Arr.flatten item "+_+" was not an array, input: "+p);go.apply(b,p[_])}return b},F=(p,b)=>Dt(D(p,b)),Ot=(p,b)=>{for(let _=0,A=p.length;_<A;++_)if(b(p[_],_)!==!0)return!1;return!0},kt=(p,b)=>{const _={};for(let A=0,I=p.length;A<I;A++){const H=p[A];_[String(H)]=b(H,A)}return _},ro=(p,b)=>b>=0&&b<p.length?ge.some(p[b]):ge.none(),co=p=>ro(p,0),ao=p=>ro(p,p.length-1),yo=(p,b)=>{for(let _=0;_<p.length;_++){const A=b(p[_],_);if(A.isSome())return A}return ge.none()},No=Object.keys,_e=Object.hasOwnProperty,Vt=(p,b)=>{const _=No(p);for(let A=0,I=_.length;A<I;A++){const H=_[A];b(p[H],H)}},Ct=(p,b)=>et(p,(_,A)=>({k:A,v:b(_,A)})),et=(p,b)=>{const _={};return Vt(p,(A,I)=>{const H=b(A,I);_[H.k]=H.v}),_},ye=(p,b)=>{const _=[];return Vt(p,(A,I)=>{_.push(b(A,I))}),_},fe=p=>ye(p,ho),it=(p,b)=>_e.call(p,b),ke=typeof window<"u"?window:Function("return this;")(),he=(p,b)=>((_,A)=>{let I=A??ke;for(let H=0;H<_.length&&I!=null;++H)I=I[_[H]];return I})(p.split("."),b),De=Object.getPrototypeOf,at=p=>{const b=he("ownerDocument.defaultView",p);return mo(p)&&((_=>((A,I)=>{const H=((q,J)=>he(q,J))(A,I);if(H==null)throw new Error(A+" not available on this browser");return H})("HTMLElement",_))(b).prototype.isPrototypeOf(p)||/^HTML\w*Element$/.test(De(p).constructor.name))},_t=p=>p.dom.nodeName.toLowerCase(),We=p=>p.dom.nodeType,dt=p=>b=>We(b)===p,io=p=>We(p)===8||_t(p)==="#comment",Oo=p=>tt(p)&&at(p.dom),tt=dt(1),vt=dt(3),_o=dt(9),Fo=dt(11),on=p=>b=>tt(b)&&_t(b)===p,_n=(p,b,_)=>{if(!(Qo(_)||Co(_)||Mo(_)))throw console.error("Invalid call to Attribute.set. Key ",b,":: Value ",_,":: Element ",p),new Error("Attribute value was not simple");p.setAttribute(b,_+"")},Zo=(p,b,_)=>{_n(p.dom,b,_)},Yn=(p,b)=>{const _=p.dom;Vt(b,(A,I)=>{_n(_,I,A)})},zt=(p,b)=>{const _=p.dom.getAttribute(b);return _===null?void 0:_},Xo=(p,b)=>ge.from(zt(p,b)),Kn=(p,b)=>{p.dom.removeAttribute(b)},ar=p=>ct(p.dom.attributes,(b,_)=>(b[_.name]=_.value,b),{}),Vr=p=>{if(p==null)throw new Error("Node cannot be null or undefined");return{dom:p}},Ft={fromHtml:(p,b)=>{const _=(b||document).createElement("div");if(_.innerHTML=p,!_.hasChildNodes()||_.childNodes.length>1){const A="HTML does not have a single root node";throw console.error(A,p),new Error(A)}return Vr(_.childNodes[0])},fromTag:(p,b)=>{const _=(b||document).createElement(p);return Vr(_)},fromText:(p,b)=>{const _=(b||document).createTextNode(p);return Vr(_)},fromDom:Vr,fromPoint:(p,b,_)=>ge.from(p.dom.elementFromPoint(b,_)).map(Vr)},Gr=(p,b)=>{const _=p.dom;if(_.nodeType!==1)return!1;{const A=_;if(A.matches!==void 0)return A.matches(b);if(A.msMatchesSelector!==void 0)return A.msMatchesSelector(b);if(A.webkitMatchesSelector!==void 0)return A.webkitMatchesSelector(b);if(A.mozMatchesSelector!==void 0)return A.mozMatchesSelector(b);throw new Error("Browser lacks native selectors")}},Nr=p=>p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11||p.childElementCount===0,yr=(p,b)=>{const _=b===void 0?document:b.dom;return Nr(_)?ge.none():ge.from(_.querySelector(p)).map(Ft.fromDom)},jo=(p,b)=>p.dom===b.dom,$r=(p,b)=>{const _=p.dom,A=b.dom;return _!==A&&_.contains(A)},ls=Gr,Fa=p=>Ft.fromDom(p.dom.ownerDocument),cs=p=>_o(p)?p:Fa(p),La=p=>ge.from(p.dom.parentNode).map(Ft.fromDom),es=p=>ge.from(p.dom.parentElement).map(Ft.fromDom),ts=(p,b)=>{const _=gn(b)?b:ue;let A=p.dom;const I=[];for(;A.parentNode!==null&&A.parentNode!==void 0;){const H=A.parentNode,q=Ft.fromDom(H);if(I.push(q),_(q)===!0)break;A=H}return I},Fs=p=>ge.from(p.dom.previousSibling).map(Ft.fromDom),za=p=>ge.from(p.dom.nextSibling).map(Ft.fromDom),nt=p=>D(p.dom.childNodes,Ft.fromDom),At=(p,b)=>{const _=p.dom.childNodes;return ge.from(_[b]).map(Ft.fromDom)},pt=(p,b)=>{La(p).each(_=>{_.dom.insertBefore(b.dom,p.dom)})},nn=(p,b)=>{za(p).fold(()=>{La(p).each(_=>{hr(_,b)})},_=>{pt(_,b)})},vr=(p,b)=>{(A=>At(A,0))(p).fold(()=>{hr(p,b)},A=>{p.dom.insertBefore(b.dom,A.dom)})},hr=(p,b)=>{p.dom.appendChild(b.dom)},Os=(p,b)=>{pt(p,b),hr(b,p)},ga=(p,b)=>{qe(b,(_,A)=>{const I=A===0?p:b[A-1];nn(I,_)})},xr=(p,b)=>{qe(b,_=>{hr(p,_)})},Te=p=>{p.dom.textContent="",qe(nt(p),b=>{Se(b)})},Se=p=>{const b=p.dom;b.parentNode!==null&&b.parentNode.removeChild(b)},Nt=p=>{const b=nt(p);b.length>0&&ga(p,b),Se(p)},Pt=(p,b)=>Ft.fromDom(p.dom.cloneNode(b)),xn=p=>Pt(p,!1),Sn=p=>Pt(p,!0),Ln=(p,b)=>{const _=Ft.fromTag(b),A=ar(p);return Yn(_,A),_},Qr=["tfoot","thead","tbody","colgroup"],wr=(p,b,_)=>({element:p,rowspan:b,colspan:_}),dn=(p,b,_)=>({element:p,cells:b,section:_}),Ee=(p,b,_)=>({element:p,isNew:b,isLocked:_}),Be=(p,b,_,A)=>({element:p,cells:b,section:_,isNew:A}),so=p=>Fo(p)&&Go(p.dom.host),Lo=p=>Ft.fromDom(p.dom.getRootNode()),Vo=p=>Ft.fromDom(p.dom.host),qo=p=>{const b=vt(p)?p.dom.parentNode:p.dom;if(b==null||b.ownerDocument===null)return!1;const _=b.ownerDocument;return(H=>{const q=Lo(H);return so(q)?ge.some(q):ge.none()})(Ft.fromDom(b)).fold(()=>_.body.contains(b),(A=qo,I=Vo,H=>A(I(H))));var A,I},rn=p=>{const b=p.dom.body;if(b==null)throw new Error("Body is not available yet");return Ft.fromDom(b)},un=(p,b)=>{let _=[];return qe(nt(p),A=>{b(A)&&(_=_.concat([A])),_=_.concat(un(A,b))}),_},Nn=(p,b,_)=>((A,I,H)=>gt(ts(A,H),q=>Gr(q,b)))(p,0,_),or=(p,b)=>((_,A)=>gt(nt(_),I=>Gr(I,b)))(p),_r=(p,b)=>((_,A)=>{const I=A===void 0?document:A.dom;return Nr(I)?[]:D(I.querySelectorAll(_),Ft.fromDom)})(b,p);var wa=(p,b,_,A,I)=>p(_,A)?ge.some(_):gn(I)&&I(_)?ge.none():b(_,A,I);const sa=(p,b,_)=>{let A=p.dom;const I=gn(_)?_:ue;for(;A.parentNode;){A=A.parentNode;const H=Ft.fromDom(A);if(b(H))return ge.some(H);if(I(H))break}return ge.none()},Us=(p,b,_)=>wa((A,I)=>I(A),sa,p,b,_),ea=(p,b,_)=>sa(p,A=>Gr(A,b),_),Cr=(p,b)=>((_,A)=>$t(_.dom.childNodes,I=>{return H=Ft.fromDom(I),Gr(H,b);var H}).map(Ft.fromDom))(p),Pr=(p,b)=>yr(b,p),Un=(p,b,_)=>wa((A,I)=>Gr(A,I),ea,p,b,_),Ma=(p,b,_=uo)=>p.exists(A=>_(A,b)),os=p=>{const b=[],_=A=>{b.push(A)};for(let A=0;A<p.length;A++)p[A].each(_);return b},zi=(p,b)=>p?ge.some(b):ge.none(),jl=(p,b,_)=>b===""||p.length>=b.length&&p.substr(_,_+b.length)===b,wn=(p,b,_=0,A)=>{const I=p.indexOf(b,_);return I!==-1&&(!!Io(A)||I+b.length<=A)},ni=(p,b)=>jl(p,b,0),ia=(p,b)=>jl(p,b,p.length-b.length),Ga=(p=>b=>b.replace(p,""))(/^\s+|\s+$/g),yl=p=>p.length>0,Mr=p=>p.style!==void 0&&gn(p.style.getPropertyValue),Xs=(p,b,_)=>{if(!Qo(_))throw console.error("Invalid call to CSS.set. Property ",b,":: Value ",_,":: Element ",p),new Error("CSS value must be a string: "+_);Mr(p)&&p.style.setProperty(b,_)},da=(p,b,_)=>{const A=p.dom;Xs(A,b,_)},Dn=(p,b)=>{const _=p.dom;Vt(b,(A,I)=>{Xs(_,I,A)})},Xn=(p,b)=>{const _=p.dom,A=window.getComputedStyle(_).getPropertyValue(b);return A!==""||qo(p)?A:Ml(_,b)},Ml=(p,b)=>Mr(p)?p.style.getPropertyValue(b):"",Ua=(p,b)=>{const _=p.dom,A=Ml(_,b);return ge.from(A).filter(I=>I.length>0)},ri=(p,b)=>{((_,A)=>{Mr(_)&&_.style.removeProperty(A)})(p.dom,b),Ma(Xo(p,"style").map(Ga),"")&&Kn(p,"style")},to=(p,b,_=0)=>Xo(p,b).map(A=>parseInt(A,10)).getOr(_),bi=(p,b)=>to(p,b,1),Ns=p=>on("col")(p)?to(p,"span",1)>1:bi(p,"colspan")>1,qn=(p,b)=>parseInt(Xn(p,b),10),Zs=ut(10),Vl=ut(10),yi=(p,b)=>Da(p,b,$e),Da=(p,b,_)=>F(nt(p),A=>Gr(A,b)?_(A)?[A]:[]:Da(A,b,_)),Js=(p,b)=>((_,A,I=ue)=>I(A)?ge.none():Ho(_,_t(A))?ge.some(A):ea(A,_.join(","),H=>Gr(H,"table")||I(H)))(["td","th"],p,b),ur=p=>yi(p,"th,td"),Ur=p=>Gr(p,"colgroup")?or(p,"col"):F(Q(p),b=>or(b,"col")),ns=(p,b)=>Un(p,"table",b),ks=p=>yi(p,"tr"),Q=p=>ns(p).fold(ut([]),b=>or(b,"colgroup")),Ce=(p,b)=>D(p,_=>{if(_t(_)==="colgroup"){const A=D(Ur(_),I=>{const H=to(I,"span",1);return wr(I,1,H)});return dn(_,A,"colgroup")}{const A=D(ur(_),I=>{const H=to(I,"rowspan",1),q=to(I,"colspan",1);return wr(I,H,q)});return dn(_,A,b(_))}}),Xe=p=>La(p).map(b=>{const _=_t(b);return(A=>Ho(Qr,A))(_)?_:"tbody"}).getOr("tbody"),Wt=p=>{const b=ks(p),_=[...Q(p),...b];return Ce(_,Xe)},xo=p=>{let b,_=!1;return(...A)=>(_||(_=!0,b=p.apply(null,A)),b)},X=()=>be(0,0),be=(p,b)=>({major:p,minor:b}),lt={nu:be,detect:(p,b)=>{const _=String(b).toLowerCase();return p.length===0?X():((A,I)=>{const H=((J,ce)=>{for(let Ne=0;Ne<J.length;Ne++){const Ye=J[Ne];if(Ye.test(ce))return Ye}})(A,I);if(!H)return{major:0,minor:0};const q=J=>Number(I.replace(H,"$"+J));return be(q(1),q(2))})(p,_)},unknown:X},Lt=(p,b)=>{const _=String(b).toLowerCase();return $t(p,A=>A.search(_))},pn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,$=p=>b=>wn(b,p),ne=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:p=>wn(p,"edge/")&&wn(p,"chrome")&&wn(p,"safari")&&wn(p,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,pn],search:p=>wn(p,"chrome")&&!wn(p,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:p=>wn(p,"msie")||wn(p,"trident")},{name:"Opera",versionRegexes:[pn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$("firefox")},{name:"Safari",versionRegexes:[pn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:p=>(wn(p,"safari")||wn(p,"mobile/"))&&wn(p,"applewebkit")}],Re=[{name:"Windows",search:$("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:p=>wn(p,"iphone")||wn(p,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:$("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$("linux"),versionRegexes:[]},{name:"Solaris",search:$("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],bt={browsers:ut(ne),oses:ut(Re)},Eo="Edge",nr="Chromium",la="Opera",_s="Firefox",Ls="Safari",ai=p=>{const b=p.current,_=p.version,A=I=>()=>b===I;return{current:b,version:_,isEdge:A(Eo),isChromium:A(nr),isIE:A("IE"),isOpera:A(la),isFirefox:A(_s),isSafari:A(Ls)}},Cs=()=>ai({current:void 0,version:lt.unknown()}),Dl=ai,Ac="Windows",Rl="Android",Is="Linux",Oc="macOS",Ze="Solaris",Fm="FreeBSD",lm="ChromeOS",vl=p=>{const b=p.current,_=p.version,A=I=>()=>b===I;return{current:b,version:_,isWindows:A(Ac),isiOS:A("iOS"),isAndroid:A(Rl),isMacOS:A(Oc),isLinux:A(Is),isSolaris:A(Ze),isFreeBSD:A(Fm),isChromeOS:A(lm)}},Lm=()=>vl({current:void 0,version:lt.unknown()}),Wr=vl,ci=p=>window.matchMedia(p).matches;let Yd=xo(()=>((p,b,_)=>{const A=bt.browsers(),I=bt.oses(),H=b.bind(ce=>((Ne,Ye)=>yo(Ye.brands,ve=>{const Oe=ve.brand.toLowerCase();return $t(Ne,He=>{var ft;return Oe===((ft=He.brand)===null||ft===void 0?void 0:ft.toLowerCase())}).map(He=>({current:He.name,version:lt.nu(parseInt(ve.version,10),0)}))}))(A,ce)).orThunk(()=>((ce,Ne)=>Lt(ce,Ne).map(Ye=>{const ve=lt.detect(Ye.versionRegexes,Ne);return{current:Ye.name,version:ve}}))(A,p)).fold(Cs,Dl),q=((ce,Ne)=>Lt(ce,Ne).map(Ye=>{const ve=lt.detect(Ye.versionRegexes,Ne);return{current:Ye.name,version:ve}}))(I,p).fold(Lm,Wr),J=((ce,Ne,Ye,ve)=>{const Oe=ce.isiOS()&&/ipad/i.test(Ye)===!0,He=ce.isiOS()&&!Oe,ft=ce.isiOS()||ce.isAndroid(),xt=ft||ve("(pointer:coarse)"),Gt=Oe||!He&&ft&&ve("(min-device-width:768px)"),Xt=He||ft&&!Gt,Zt=Ne.isSafari()&&ce.isiOS()&&/safari/i.test(Ye)===!1,Ge=!Xt&&!Gt&&!Zt;return{isiPad:ut(Oe),isiPhone:ut(He),isTablet:ut(Gt),isPhone:ut(Xt),isTouch:ut(xt),isAndroid:ce.isAndroid,isiOS:ce.isiOS,isWebView:ut(Zt),isDesktop:ut(Ge)}})(q,H,p,_);return{browser:H,os:q,deviceType:J}})(window.navigator.userAgent,ge.from(window.navigator.userAgentData),ci));const xl=()=>Yd(),Ms=(p,b)=>{const _=I=>{const H=b(I);if(H<=0||H===null){const q=Xn(I,p);return parseFloat(q)||0}return H},A=(I,H)=>ct(H,(q,J)=>{const ce=Xn(I,J),Ne=ce===void 0?0:parseInt(ce,10);return isNaN(Ne)?q:q+Ne},0);return{set:(I,H)=>{if(!Mo(H)&&!H.match(/^[0-9]+$/))throw new Error(p+".set accepts only positive integer values. Value was "+H);const q=I.dom;Mr(q)&&(q.style[p]=H+"px")},get:_,getOuter:_,aggregate:A,max:(I,H,q)=>{const J=A(I,q);return H>J?H-J:0}}},vi=(p,b,_)=>((A,I)=>(H=>{const q=parseFloat(H);return isNaN(q)?ge.none():ge.some(q)})(A).getOr(I))(Xn(p,b),_),le=Ms("width",p=>p.dom.offsetWidth),ze=p=>le.get(p),yt=p=>le.getOuter(p),no=p=>((b,_)=>{const A=b.dom,I=A.getBoundingClientRect().width||A.offsetWidth;return _==="border-box"?I:((H,q,J,ce)=>q-vi(H,`padding-${J}`,0)-vi(H,`padding-${ce}`,0)-vi(H,`border-${J}-width`,0)-vi(H,`border-${ce}-width`,0))(b,I,"left","right")})(p,"content-box"),zn=(p,b,_)=>{const A=p.cells,I=A.slice(0,b),H=A.slice(b),q=I.concat(_).concat(H);return Ps(p,q)},mr=(p,b,_)=>zn(p,b,[_]),Fr=(p,b,_)=>{p.cells[b]=_},Ps=(p,b)=>Be(p.element,b,p.section,p.isNew),ua=(p,b)=>p.cells[b],ta=(p,b)=>ua(p,b).element,Ds=p=>p.cells.length,pa=p=>{const b=Je(p,_=>_.section==="colgroup");return{rows:b.fail,cols:b.pass}},_i=(p,b,_)=>{const A=D(p.cells,_);return Be(b(p.element),A,p.section,!0)},wl="data-snooker-locked-cols",Au=p=>Xo(p,wl).bind(b=>ge.from(b.match(/\d+/g))).map(b=>kt(b,$e)),Rs=p=>{const b=ct(pa(p).rows,(A,I)=>(qe(I.cells,(H,q)=>{H.isLocked&&(A[q]=!0)}),A),{}),_=ye(b,(A,I)=>parseInt(I,10));return((A,I)=>{const H=mt.call(A,0);return H.sort(void 0),H})(_)},xi=(p,b)=>p+","+b,ka=(p,b)=>{const _=F(p.all,A=>A.cells);return gt(_,b)},ds=p=>{const b={},_=[],A=co(p).map(Oe=>Oe.element).bind(ns).bind(Au).getOr({});let I=0,H=0,q=0;const{pass:J,fail:ce}=Je(p,Oe=>Oe.section==="colgroup");qe(ce,Oe=>{const He=[];qe(Oe.cells,ft=>{let xt=0;for(;b[xi(q,xt)]!==void 0;)xt++;const Gt=((Zt,Ge)=>it(Zt,Ge)&&Zt[Ge]!==void 0&&Zt[Ge]!==null)(A,xt.toString()),Xt=((Zt,Ge,fo,To,Bo,On)=>({element:Zt,rowspan:Ge,colspan:fo,row:To,column:Bo,isLocked:On}))(ft.element,ft.rowspan,ft.colspan,q,xt,Gt);for(let Zt=0;Zt<ft.colspan;Zt++)for(let Ge=0;Ge<ft.rowspan;Ge++){const fo=xt+Zt,To=xi(q+Ge,fo);b[To]=Xt,H=Math.max(H,fo+1)}He.push(Xt)}),I++,_.push(dn(Oe.element,He,Oe.section)),q++});const{columns:Ne,colgroups:Ye}=ao(J).map(Oe=>{const He=(xt=>{const Gt={};let Xt=0;return qe(xt.cells,Zt=>{const Ge=Zt.colspan;Rt(Ge,fo=>{const To=Xt+fo;Gt[To]=((Bo,On,Vn)=>({element:Bo,colspan:On,column:Vn}))(Zt.element,Ge,To)}),Xt+=Ge}),Gt})(Oe);return{colgroups:[((xt,Gt)=>({element:xt,columns:Gt}))(Oe.element,fe(He))],columns:He}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Oe,He)=>({rows:Oe,columns:He}))(I,H),access:b,all:_,columns:Ne,colgroups:Ye}},Ia=p=>{const b=Wt(p);return ds(b)},Bl=ds,rs=(p,b,_)=>ge.from(p.access[xi(b,_)]),yn=(p,b,_)=>{const A=ka(p,I=>_(b,I.element));return A.length>0?ge.some(A[0]):ge.none()},vd=ka,$l=p=>F(p.all,b=>b.cells),Tr=p=>fe(p.columns),Xd=p=>No(p.columns).length>0,Jd=(p,b)=>ge.from(p.columns[b]),Qd=(p,b=$e)=>{const _=p.grid,A=Rt(_.columns,ho),I=Rt(_.rows,ho);return D(A,H=>Dr(()=>F(I,q=>rs(p,q,H).filter(J=>J.column===H).toArray()),q=>q.colspan===1&&b(q.element),()=>rs(p,0,H)))},Dr=(p,b,_)=>{const A=p();return $t(A,b).orThunk(()=>ge.from(A[0]).orThunk(_)).map(I=>I.element)},Ti=p=>{const b=p.grid,_=Rt(b.rows,ho),A=Rt(b.columns,ho);return D(_,I=>Dr(()=>F(A,H=>rs(p,I,H).filter(q=>q.row===I).fold(ut([]),q=>[q])),H=>H.rowspan===1,()=>rs(p,I,0)))},Fl=(p,b)=>_=>Im(_)==="rtl"?b:p,Im=p=>Xn(p,"direction")==="rtl"?"rtl":"ltr",eu=Ms("height",p=>{const b=p.dom;return qo(p)?b.getBoundingClientRect().height:b.offsetHeight}),al=p=>eu.get(p),mc=p=>eu.getOuter(p),Ai=(p,b)=>({left:p,top:b,translate:(_,A)=>Ai(p+_,b+A)}),di=Ai,xd=(p,b)=>p!==void 0?p:b!==void 0?b:0,us=p=>{const b=p.dom.ownerDocument,_=b.body,A=b.defaultView,I=b.documentElement;if(_===p.dom)return di(_.offsetLeft,_.offsetTop);const H=xd(A==null?void 0:A.pageYOffset,I.scrollTop),q=xd(A==null?void 0:A.pageXOffset,I.scrollLeft),J=xd(I.clientTop,_.clientTop),ce=xd(I.clientLeft,_.clientLeft);return vs(p).translate(q-ce,H-J)},vs=p=>{const b=p.dom,_=b.ownerDocument.body;return _===b?di(_.offsetLeft,_.offsetTop):qo(p)?(A=>{const I=A.getBoundingClientRect();return di(I.left,I.top)})(b):di(0,0)},wd=(p,b)=>({row:p,y:b}),Nc=(p,b)=>({col:p,x:b}),ca=p=>us(p).left+yt(p),Wi=p=>us(p).left,Mc=(p,b)=>Nc(p,Wi(b)),Ll=(p,b)=>Nc(p,ca(b)),Dc=p=>us(p).top,kd=(p,b)=>wd(p,Dc(b)),_p=(p,b)=>wd(p,Dc(b)+mc(b)),gc=(p,b,_)=>{if(_.length===0)return[];const A=D(_.slice(1),(H,q)=>H.map(J=>p(q,J))),I=_[_.length-1].map(H=>b(_.length-1,H));return A.concat([I])},Yc={delta:ho,positions:p=>gc(kd,_p,p),edge:Dc},Xc=Fl({delta:ho,edge:Wi,positions:p=>gc(Mc,Ll,p)},{delta:p=>-p,edge:ca,positions:p=>gc(Ll,Mc,p)}),Jc={delta:(p,b)=>Xc(b).delta(p,b),positions:(p,b)=>Xc(b).positions(p,b),edge:p=>Xc(p).edge(p)},sl={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Hn=(()=>{const p="[0-9]+",b="[eE][+-]?"+p,_=I=>`(?:${I})?`,A=["Infinity",p+"\\."+_(p)+_(b),"\\."+p+_(b),p+_(b)].join("|");return new RegExp(`^([+-]?(?:${A}))(.*)$`)})(),Rc=/(\d+(\.\d+)?)%/,Ou=/(\d+(\.\d+)?)px|em/,Cp=on("col"),Pm=on("tr"),Ss=(p,b,_)=>{const A=es(p).getOrThunk(()=>rn(Fa(p)));return b(p)/_(A)*100},tu=(p,b)=>{da(p,"width",b+"px")},ou=(p,b)=>{da(p,"width",b+"%")},qs=(p,b)=>{da(p,"height",b+"px")},Ws=p=>{const b=(_=>{return vi(A=_,"height",A.dom.offsetHeight)+"px";var A})(p);return b?((_,A,I,H)=>{const q=parseFloat(_);return ia(_,"%")&&_t(A)!=="table"?((J,ce,Ne,Ye)=>{const ve=ns(J).map(Oe=>{const He=Ne(Oe);return Math.floor(ce/100*He)}).getOr(ce);return Ye(J,ve),ve})(A,q,I,H):q})(b,p,al,qs):al(p)},_d=(p,b)=>Ua(p,b).orThunk(()=>Xo(p,b).map(_=>_+"px")),ms=p=>_d(p,"width"),Ng=p=>Ss(p,ze,no),Qc=p=>{return Cp(p)?ze(p):vi(b=p,"width",b.dom.offsetWidth);var b},tc=p=>Pm(p)?al(p):((b,_,A)=>A(b)/bi(b,"rowspan"))(p,0,Ws),Nu=(p,b,_)=>{da(p,"width",b+_)},Pa=p=>Ss(p,ze,no)+"%",Oi=ut(Rc),si=on("col"),bn=p=>ms(p).getOrThunk(()=>Qc(p)+"px"),Hs=p=>{return(b=p,_d(b,"height")).getOrThunk(()=>tc(p)+"px");var b},ed=(p,b,_,A,I,H)=>p.filter(A).fold(()=>H(((q,J)=>{if(J<0||J>=q.length-1)return ge.none();const ce=q[J].fold(()=>{const Ye=(ve=>{const Oe=mt.call(ve,0);return Oe.reverse(),Oe})(q.slice(0,J));return yo(Ye,(ve,Oe)=>ve.map(He=>({value:He,delta:Oe+1})))},Ye=>ge.some({value:Ye,delta:0})),Ne=q[J+1].fold(()=>{const Ye=q.slice(J+1);return yo(Ye,(ve,Oe)=>ve.map(He=>({value:He,delta:Oe+1})))},Ye=>ge.some({value:Ye,delta:1}));return ce.bind(Ye=>Ne.map(ve=>{const Oe=ve.delta+Ye.delta;return Math.abs(ve.value-Ye.value)/Oe}))})(_,b)),q=>I(q)),Sa=(p,b,_,A)=>{const I=Qd(p),H=Xd(p)?(ce=>D(Tr(ce),Ne=>ge.from(Ne.element)))(p):I,q=[ge.some(Jc.edge(b))].concat(D(Jc.positions(I,b),ce=>ce.map(Ne=>Ne.x))),J=ht(Ns);return D(H,(ce,Ne)=>ed(ce,Ne,q,J,Ye=>{if((Oe=>{const He=xl().browser,ft=He.isChromium()||He.isFirefox();return!si(Oe)||ft})(Ye))return _(Ye);{const Oe=(ve=I[Ne])!=null?ho(ve):ge.none();return ed(Oe,Ne,q,J,He=>A(ge.some(ze(He))),A)}var ve},A))},ui=p=>p.map(b=>b+"px").getOr(""),oc=(p,b,_)=>Sa(p,b,Qc,A=>A.getOrThunk(_.minCellWidth)),oo=(p,b,_,A)=>{const I=Ti(p),H=D(p.all,J=>ge.some(J.element)),q=[ge.some(Yc.edge(b))].concat(D(Yc.positions(I,b),J=>J.map(ce=>ce.y)));return D(H,(J,ce)=>ed(J,ce,q,$e,_,A))},Ni=(p,b)=>()=>qo(p)?b(p):parseFloat(Ua(p,"width").getOr("0")),xs=p=>{const b=Ni(p,A=>parseFloat(Pa(A))),_=Ni(p,ze);return{width:b,pixelWidth:_,getWidths:(A,I)=>((H,q,J)=>Sa(H,q,Ng,ce=>ce.fold(()=>J.minCellWidth(),Ne=>Ne/J.pixelWidth()*100)))(A,p,I),getCellDelta:A=>A/_()*100,singleColumnWidth:(A,I)=>[100-A],minCellWidth:()=>Zs()/_()*100,setElementWidth:ou,adjustTableWidth:A=>{const I=b();ou(p,I+A/100*I)},isRelative:!0,label:"percent"}},vo=p=>{const b=Ni(p,ze);return{width:b,pixelWidth:b,getWidths:(_,A)=>oc(_,p,A),getCellDelta:ho,singleColumnWidth:(_,A)=>[Math.max(Zs(),_+A)-_],minCellWidth:Zs,setElementWidth:tu,adjustTableWidth:_=>{const A=b()+_;tu(p,A)},isRelative:!1,label:"pixel"}},Gi=p=>ms(p).fold(()=>(b=>{const _=Ni(b,ze),A=ut(0);return{width:_,pixelWidth:_,getWidths:(I,H)=>oc(I,b,H),getCellDelta:A,singleColumnWidth:ut([0]),minCellWidth:A,setElementWidth:Ve,adjustTableWidth:Ve,isRelative:!0,label:"none"}})(p),b=>((_,A)=>Oi().exec(A)!==null?xs(_):vo(_))(p,b)),td=vo,od=xs,wi=(p,b,_)=>{const A=p[_].element,I=Ft.fromTag("td");hr(I,Ft.fromTag("br")),(b?hr:vr)(A,I)},Lr=((p,b)=>{const _=A=>p(A)?ge.from(A.dom.nodeValue):ge.none();return{get:A=>{if(!p(A))throw new Error("Can only get text value of a text node");return _(A).getOr("")},getOption:_,set:(A,I)=>{if(!p(A))throw new Error("Can only set raw text value of a text node");A.dom.nodeValue=I}}})(vt),fa=p=>Lr.get(p),nu=p=>Lr.getOption(p),_a=(p,b)=>Lr.set(p,b),Kr=p=>_t(p)==="img"?1:nu(p).fold(()=>nt(p).length,b=>b.length),pc=["img","br"],Mg=p=>nu(p).filter(b=>b.trim().length!==0||b.indexOf(" ")>-1).isSome()||Ho(pc,_t(p))||(b=>Oo(b)&&zt(b,"contenteditable")==="false")(p),js=p=>((b,_)=>{const A=I=>{for(let H=0;H<I.childNodes.length;H++){const q=Ft.fromDom(I.childNodes[H]);if(_(q))return ge.some(q);const J=A(I.childNodes[H]);if(J.isSome())return J}return ge.none()};return A(b.dom)})(p,Mg),St=p=>il(p,Mg),il=(p,b)=>{const _=A=>{const I=nt(A);for(let H=I.length-1;H>=0;H--){const q=I[H];if(b(q))return ge.some(q);const J=_(q);if(J.isSome())return J}return ge.none()};return _(p)},Dg={scope:["row","col"]},gs=p=>()=>{const b=Ft.fromTag("td",p.dom);return hr(b,Ft.fromTag("br",p.dom)),b},ll=p=>()=>Ft.fromTag("col",p.dom),mi=p=>()=>Ft.fromTag("colgroup",p.dom),ps=p=>()=>Ft.fromTag("tr",p.dom),kl=(p,b,_)=>{const A=((I,H)=>{const q=Ln(I,H),J=nt(Sn(I));return xr(q,J),q})(p,b);return Vt(_,(I,H)=>{I===null?Kn(A,H):Zo(A,H,I)}),A},Qs=p=>p,Mi=(p,b,_)=>{const A=(I,H)=>{((q,J)=>{const ce=q.dom,Ne=J.dom;Mr(ce)&&Mr(Ne)&&(Ne.style.cssText=ce.style.cssText)})(I.element,H),ri(H,"height"),I.colspan!==1&&ri(H,"width")};return{col:I=>{const H=Ft.fromTag(_t(I.element),b.dom);return A(I,H),p(I.element,H),H},colgroup:mi(b),row:ps(b),cell:I=>{const H=Ft.fromTag(_t(I.element),b.dom),q=_.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),J=q.length>0?((ce,Ne,Ye)=>js(ce).map(ve=>{const Oe=Ye.join(","),He=Nn(ve,Oe,ft=>jo(ft,ce));return Bt(He,(ft,xt)=>{const Gt=xn(xt);return hr(ft,Gt),Gt},Ne)}).getOr(Ne))(I.element,H,q):H;return hr(J,Ft.fromTag("br")),A(I,H),((ce,Ne)=>{Vt(Dg,(Ye,ve)=>Xo(ce,ve).filter(Oe=>Ho(Ye,Oe)).each(Oe=>Zo(Ne,ve,Oe)))})(I.element,H),p(I.element,H),H},replace:kl,colGap:ll(b),gap:gs(b)}},as=p=>({col:ll(p),colgroup:mi(p),row:ps(p),cell:gs(p),replace:Qs,colGap:ll(p),gap:gs(p)}),Di=p=>b=>b.options.get(p),cl="100%",Cd=p=>{var b;const _=p.dom,A=(b=_.getParent(p.selection.getStart(),_.isBlock))!==null&&b!==void 0?b:p.getBody();return no(Ft.fromDom(A))+"px"},dl=p=>ge.from(p.options.get("table_clone_elements")),Sd=Di("table_header_type"),cm=Di("table_column_resizing"),Ed=p=>cm(p)==="preservetable",Gs=p=>cm(p)==="resizetable",T=Di("table_sizing_mode"),j=p=>T(p)==="relative",K=p=>T(p)==="fixed",Me=p=>T(p)==="responsive",Le=Di("table_resize_bars"),po=Di("table_style_by_css"),In=Di("table_merge_content_on_paste"),cr=p=>{const b=p.options,_=b.get("table_default_attributes");return b.isSet("table_default_attributes")?_:((A,I)=>Me(A)||po(A)?I:K(A)?{...I,width:Cd(A)}:{...I,width:cl})(p,_)},Zn=Di("table_use_colgroups"),kn=p=>Un(p,"[contenteditable]"),ha=(p,b=!1)=>qo(p)?p.dom.isContentEditable:kn(p).fold(ut(b),_=>Za(_)==="true"),Za=p=>p.dom.contentEditable,Ki=p=>Ft.fromDom(p.getBody()),Ri=p=>b=>jo(b,Ki(p)),fc=p=>{Kn(p,"data-mce-style");const b=_=>Kn(_,"data-mce-style");qe(ur(p),b),qe(Ur(p),b),qe(ks(p),b)},Bc=p=>Ft.fromDom(p.selection.getStart()),Vf=p=>p.getBoundingClientRect().width,Mu=p=>p.getBoundingClientRect().height,$f=p=>(b,_)=>{const A=b.dom.getStyle(_,p)||b.dom.getAttrib(_,p);return ge.from(A).filter(yl)},vb=$f("width"),Vs=$f("height"),xb=p=>Us(p,on("table")).exists(ha),zd=(p,b)=>{const _=b.column,A=b.column+b.colspan-1,I=b.row,H=b.row+b.rowspan-1;return _<=p.finishCol&&A>=p.startCol&&I<=p.finishRow&&H>=p.startRow},dm=(p,b)=>b.column>=p.startCol&&b.column+b.colspan-1<=p.finishCol&&b.row>=p.startRow&&b.row+b.rowspan-1<=p.finishRow,Sp=(p,b,_)=>{const A=yn(p,b,jo),I=yn(p,_,jo);return A.bind(H=>I.map(q=>{return J=H,ce=q,{startRow:Math.min(J.row,ce.row),startCol:Math.min(J.column,ce.column),finishRow:Math.max(J.row+J.rowspan-1,ce.row+ce.rowspan-1),finishCol:Math.max(J.column+J.colspan-1,ce.column+ce.colspan-1)};var J,ce}))},nd=(p,b,_)=>Sp(p,b,_).map(A=>{const I=vd(p,Ae(zd,A));return D(I,H=>H.element)}),_l=(p,b)=>yn(p,b,(_,A)=>$r(A,_)).map(_=>_.element),Fc=(p,b,_)=>{const A=um(p);return nd(A,b,_)},Du=(p,b,_,A,I)=>{const H=um(p),q=jo(p,_)?ge.some(b):_l(H,b),J=jo(p,I)?ge.some(A):_l(H,A);return q.bind(ce=>J.bind(Ne=>nd(H,ce,Ne)))},um=Ia;var Hm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],mm=()=>({up:ut({selector:ea,closest:Un,predicate:sa,all:ts}),down:ut({selector:_r,predicate:un}),styles:ut({get:Xn,getRaw:Ua,set:da,remove:ri}),attrs:ut({get:zt,set:Zo,remove:Kn,copyTo:(p,b)=>{const _=ar(p);Yn(b,_)}}),insert:ut({before:pt,after:nn,afterAll:ga,append:hr,appendAll:xr,prepend:vr,wrap:Os}),remove:ut({unwrap:Nt,remove:Se}),create:ut({nu:Ft.fromTag,clone:p=>Ft.fromDom(p.dom.cloneNode(!1)),text:Ft.fromText}),query:ut({comparePosition:(p,b)=>p.dom.compareDocumentPosition(b.dom),prevSibling:Fs,nextSibling:za}),property:ut({children:nt,name:_t,parent:La,document:p=>cs(p).dom,isText:vt,isComment:io,isElement:tt,isSpecial:p=>{const b=_t(p);return Ho(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],b)},getLanguage:p=>tt(p)?Xo(p,"lang"):ge.none(),getText:fa,setText:_a,isBoundary:p=>!!tt(p)&&(_t(p)==="body"||Ho(Hm,_t(p))),isEmptyTag:p=>!!tt(p)&&Ho(["br","img","hr","input"],_t(p)),isNonEditable:p=>tt(p)&&zt(p,"contenteditable")==="false"}),eq:jo,is:ls});const Rg=(p,b,_,A)=>{const I=b(p,_);return Bt(A,(H,q)=>{const J=b(p,q);return Uf(p,H,J)},I)},Uf=(p,b,_)=>b.bind(A=>_.filter(Ae(p.eq,A))),Ru=mm(),gi=(p,b)=>((_,A,I)=>I.length>0?((H,q,J,ce)=>ce(H,q,J[0],J.slice(1)))(_,A,I,Rg):ge.none())(Ru,(_,A)=>p(A),b),ru=p=>ea(p,"table"),Ul=(p,b,_)=>{const A=I=>H=>_!==void 0&&_(H)||jo(H,I);return jo(p,b)?ge.some({boxes:ge.some([p]),start:p,finish:b}):ru(p).bind(I=>ru(b).bind(H=>{if(jo(I,H))return ge.some({boxes:Fc(I,p,b),start:p,finish:b});if($r(I,H)){const q=Nn(b,"td,th",A(I)),J=q.length>0?q[q.length-1]:b;return ge.some({boxes:Du(I,p,I,b,H),start:p,finish:J})}if($r(H,I)){const q=Nn(p,"td,th",A(H)),J=q.length>0?q[q.length-1]:p;return ge.some({boxes:Du(H,p,I,b,H),start:p,finish:J})}return((q,J,ce)=>((Ne,Ye,ve,Oe=ue)=>{const He=[Ye].concat(Ne.up().all(Ye)),ft=[ve].concat(Ne.up().all(ve)),xt=Ge=>So(Ge,Oe).fold(()=>Ge,fo=>Ge.slice(0,fo+1)),Gt=xt(He),Xt=xt(ft),Zt=$t(Gt,Ge=>Uo(Xt,((fo,To)=>Ae(fo.eq,To))(Ne,Ge)));return{firstpath:Gt,secondpath:Xt,shared:Zt}})(Ru,q,J,void 0))(p,b).shared.bind(q=>Un(q,"table",_).bind(J=>{const ce=Nn(b,"td,th",A(J)),Ne=ce.length>0?ce[ce.length-1]:b,Ye=Nn(p,"td,th",A(J)),ve=Ye.length>0?Ye[Ye.length-1]:p;return ge.some({boxes:Du(J,p,I,b,H),start:ve,finish:Ne})}))}))},Lc=(p,b)=>{const _=_r(p,b);return _.length>0?ge.some(_):ge.none()},Td=(p,b,_)=>Pr(p,b).bind(A=>Pr(p,_).bind(I=>gi(ru,[A,I]).map(H=>({first:A,last:I,table:H})))),wb=(p,b,_,A,I)=>((H,q)=>$t(H,J=>Gr(J,q)))(p,I).bind(H=>((q,J,ce)=>ns(q).bind(Ne=>((Ye,ve,Oe,He)=>yn(Ye,ve,jo).bind(ft=>{const xt=Oe>0?ft.row+ft.rowspan-1:ft.row,Gt=He>0?ft.column+ft.colspan-1:ft.column;return rs(Ye,xt+Oe,Gt+He).map(Xt=>Xt.element)}))(um(Ne),q,J,ce)))(H,b,_).bind(q=>((J,ce)=>ea(J,"table").bind(Ne=>Pr(Ne,ce).bind(Ye=>Ul(Ye,J).bind(ve=>ve.boxes.map(Oe=>({boxes:Oe,start:ve.start,finish:ve.finish}))))))(q,A))),jm=(p,b)=>Lc(p,b),Bg=(p,b,_)=>Td(p,b,_).bind(A=>{const I=ce=>jo(p,ce),H="thead,tfoot,tbody,table",q=ea(A.first,H,I),J=ea(A.last,H,I);return q.bind(ce=>J.bind(Ne=>jo(ce,Ne)?((Ye,ve,Oe)=>((He,ft,xt)=>Sp(He,ft,xt).bind(Gt=>((Xt,Zt)=>{let Ge=!0;const fo=Ae(dm,Zt);for(let To=Zt.startRow;To<=Zt.finishRow;To++)for(let Bo=Zt.startCol;Bo<=Zt.finishCol;Bo++)Ge=Ge&&rs(Xt,To,Bo).exists(fo);return Ge?ge.some(Zt):ge.none()})(He,Gt)))(um(Ye),ve,Oe))(A.table,A.first,A.last):ge.none()))}),Vm=ho,$m=p=>{const b=(_,A)=>Xo(_,A).exists(I=>parseInt(I,10)>1);return p.length>0&&Ot(p,_=>b(_,"rowspan")||b(_,"colspan"))?ge.some(p):ge.none()},Ic=(p,b,_)=>b.length<=1?ge.none():Bg(p,_.firstSelectedSelector,_.lastSelectedSelector).map(A=>({bounds:A,cells:b})),gm="data-mce-selected",pm="data-mce-first-selected",Rr="data-mce-last-selected",An="["+gm+"]",Zl={selected:gm,selectedSelector:"td["+gm+"],th["+gm+"]",firstSelected:pm,firstSelectedSelector:"td["+pm+"],th["+pm+"]",lastSelected:Rr,lastSelectedSelector:"td["+Rr+"],th["+Rr+"]"},hc=(p,b,_)=>({element:_,mergable:Ic(b,p,Zl),unmergable:$m(p),selection:Vm(p)}),Um=p=>(b,_)=>{const A=_t(b),I=A==="col"||A==="colgroup"?ns(H=b).bind(q=>jm(q,Zl.firstSelectedSelector)).fold(ut(H),q=>q[0]):b;var H;return Un(I,p,_)},kb=Um("th,td,caption"),Ta=Um("th,td"),Pc=p=>{return b=p.model.table.getSelectedCells(),D(b,Ft.fromDom);var b},Zf=(p,b)=>{p.on("BeforeGetContent",_=>{const A=I=>{_.preventDefault(),(H=>ns(H[0]).map(q=>{const J=((ce,Ne)=>{const Ye=Ge=>Gr(Ge.element,Ne),ve=Sn(ce),Oe=Wt(ve),He=Gi(ce),ft=Bl(Oe),xt=((Ge,fo)=>{const To=Ge.grid.columns;let Bo=Ge.grid.rows,On=To,Vn=0,na=0;const er=[],Er=[];return Vt(Ge.access,dr=>{if(er.push(dr),fo(dr)){Er.push(dr);const Ca=dr.row,ti=Ca+dr.rowspan-1,el=dr.column,ki=el+dr.colspan-1;Ca<Bo?Bo=Ca:ti>Vn&&(Vn=ti),el<On?On=el:ki>na&&(na=ki)}}),((dr,Ca,ti,el,ki,Yl)=>({minRow:dr,minCol:Ca,maxRow:ti,maxCol:el,allCells:ki,selectedCells:Yl}))(Bo,On,Vn,na,er,Er)})(ft,Ye),Gt="th:not("+Ne+"),td:not("+Ne+")",Xt=Da(ve,"th,td",Ge=>Gr(Ge,Gt));qe(Xt,Se),((Ge,fo,To,Bo)=>{const On=gt(Ge,er=>er.section!=="colgroup"),Vn=fo.grid.columns,na=fo.grid.rows;for(let er=0;er<na;er++){let Er=!1;for(let dr=0;dr<Vn;dr++)er<To.minRow||er>To.maxRow||dr<To.minCol||dr>To.maxCol||(rs(fo,er,dr).filter(Bo).isNone()?wi(On,Er,er):Er=!0)}})(Oe,ft,xt,Ye);const Zt=((Ge,fo,To,Bo)=>{if(Bo.minCol===0&&fo.grid.columns===Bo.maxCol+1)return 0;const On=oc(fo,Ge,To),Vn=ct(On,(Er,dr)=>Er+dr,0),na=ct(On.slice(Bo.minCol,Bo.maxCol+1),(Er,dr)=>Er+dr,0),er=na/Vn*To.pixelWidth()-To.pixelWidth();return To.getCellDelta(er)})(ce,Ia(ce),He,xt);return((Ge,fo,To,Bo)=>{Vt(To.columns,Vn=>{(Vn.column<fo.minCol||Vn.column>fo.maxCol)&&Se(Vn.element)});const On=gt(yi(Ge,"tr"),Vn=>Vn.dom.childElementCount===0);qe(On,Se),fo.minCol!==fo.maxCol&&fo.minRow!==fo.maxRow||qe(yi(Ge,"th,td"),Vn=>{Kn(Vn,"rowspan"),Kn(Vn,"colspan")}),Kn(Ge,wl),Kn(Ge,"data-snooker-col-series"),Gi(Ge).adjustTableWidth(Bo)})(ve,xt,ft,Zt),ve})(q,An);return fc(J),[J]}))(I).each(H=>{const q=_.format==="text"?((J,ce)=>{const Ne=J.getDoc(),Ye=Lo(Ft.fromDom(J.getBody())),ve=Ft.fromTag("div",Ne);Zo(ve,"data-mce-bogus","all"),Dn(ve,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const Oe=(ft=>so(ft)?ft:Ft.fromDom(cs(ft).dom.body))(Ye);xr(ve,ce),hr(Oe,ve);const He=ve.dom.innerText;return Se(ve),He})(p,H):((J,ce)=>D(ce,Ne=>J.selection.serializer.serialize(Ne.dom,{})).join(""))(p,H);_.content=q})};if(_.selection===!0){const I=(H=>gt(Pc(H),q=>Gr(q,Zl.selectedSelector)))(p);I.length>=1&&A(I)}}),p.on("BeforeSetContent",_=>{if(_.selection===!0&&_.paste===!0){const A=Pc(p);co(A).each(I=>{ns(I).each(H=>{const q=gt(((ce,Ne)=>{const Ye=document.createElement("div");return Ye.innerHTML=ce,nt(Ft.fromDom(Ye))})(_.content),ce=>_t(ce)!=="meta"),J=on("table");if(In(p)&&q.length===1&&J(q[0])){_.preventDefault();const ce=Ft.fromDom(p.getDoc()),Ne=as(ce),Ye=((ve,Oe,He)=>({element:ve,clipboard:Oe,generators:He}))(I,q[0],Ne);b.pasteCells(H,Ye).each(()=>{p.focus()})}})})}})},Kt=(p,b)=>({element:p,offset:b}),Ep=(p,b,_)=>p.property().isText(b)&&p.property().getText(b).trim().length===0||p.property().isComment(b)?_(b).bind(A=>Ep(p,A,_).orThunk(()=>ge.some(A))):ge.none(),Ad=(p,b)=>p.property().isText(b)?p.property().getText(b).length:p.property().children(b).length,au=(p,b)=>{const _=Ep(p,b,p.query().prevSibling).getOr(b);if(p.property().isText(_))return Kt(_,Ad(p,_));const A=p.property().children(_);return A.length>0?au(p,A[A.length-1]):Kt(_,Ad(p,_))},qf=au,Bu=mm(),Wf=(p,b)=>{Ns(p)||(A=>ms(A).bind(I=>{return H=I,q=["fixed","relative","empty"],ge.from(Hn.exec(H)).bind(J=>{const ce=Number(J[1]),Ne=J[2];return((Ye,ve)=>Uo(ve,Oe=>Uo(sl[Oe],He=>Ye===He)))(Ne,q)?ge.some({value:ce,unit:Ne}):ge.none()});var H,q}))(p).each(A=>{const I=A.value/2;Nu(p,I,A.unit),Nu(b,I,A.unit)})},su=p=>D(p,ut(0)),Aa=(p,b,_,A,I)=>I(p.slice(0,b)).concat(A).concat(I(p.slice(_))),nc=p=>(b,_,A,I)=>{if(p(A)){const H=Math.max(I,b[_]-Math.abs(A)),q=Math.abs(H-b[_]);return A>=0?q:-q}return A},iu=nc(p=>p<0),lu=nc($e),rd=()=>{const p=(_,A,I,H)=>{const q=(100+I)/100,J=Math.max(H,(_[A]+I)/q);return D(_,(ce,Ne)=>(Ne===A?J:ce/q)-ce)},b=(_,A,I,H,q,J)=>J?p(_,A,H,q):((ce,Ne,Ye,ve,Oe)=>{const He=iu(ce,Ne,ve,Oe);return Aa(ce,Ne,Ye+1,[He,0],su)})(_,A,I,H,q);return{resizeTable:(_,A)=>_(A),clampTableDelta:iu,calcLeftEdgeDeltas:b,calcMiddleDeltas:(_,A,I,H,q,J,ce)=>b(_,I,H,q,J,ce),calcRightEdgeDeltas:(_,A,I,H,q,J)=>{if(J)return p(_,I,H,q);{const ce=iu(_,I,H,q);return su(_.slice(0,I)).concat([ce])}},calcRedestributedWidths:(_,A,I,H)=>{if(H){const q=(A+I)/A,J=D(_,ce=>ce/q);return{delta:100*q-100,newSizes:J}}return{delta:I,newSizes:_}}}},fm=()=>{const p=(b,_,A,I,H)=>{const q=lu(b,I>=0?A:_,I,H);return Aa(b,_,A+1,[q,-q],su)};return{resizeTable:(b,_,A)=>{A&&b(_)},clampTableDelta:(b,_,A,I,H)=>{if(H){if(A>=0)return A;{const q=ct(b,(J,ce)=>J+ce-I,0);return Math.max(-q,A)}}return iu(b,_,A,I)},calcLeftEdgeDeltas:p,calcMiddleDeltas:(b,_,A,I,H,q)=>p(b,A,I,H,q),calcRightEdgeDeltas:(b,_,A,I,H,q)=>{if(q)return su(b);{const J=I/b.length;return D(b,ut(J))}},calcRedestributedWidths:(b,_,A,I)=>({delta:0,newSizes:b})}},rc=p=>Ia(p).grid,cu=on("th"),hm=p=>Ot(p,b=>cu(b.element)),du=(p,b)=>p&&b?"sectionCells":p?"section":"cells",ac=p=>{const b=p.section==="thead",_=Ma(Ci(p.cells),"th");return p.section==="tfoot"?{type:"footer"}:b||_?{type:"header",subType:du(b,_)}:{type:"body"}},Ci=p=>{const b=gt(p,_=>cu(_.element));return b.length===0?ge.some("td"):b.length===p.length?ge.some("th"):ge.none()},zo=(p,b,_)=>Ee(_(p.element,b),!0,p.isLocked),Zm=(p,b)=>p.section!==b?Be(p.element,p.cells,b,p.isNew):p,Ar=()=>({transformRow:Zm,transformCell:(p,b,_)=>{const A=_(p.element,b),I=_t(A)!=="td"?((H,q)=>{const J=Ln(H,"td");nn(H,J);const ce=nt(H);return xr(J,ce),Se(H),J})(A):A;return Ee(I,p.isNew,p.isLocked)}}),_b=()=>({transformRow:Zm,transformCell:zo}),ad=()=>({transformRow:(p,b)=>Zm(p,b==="thead"?"tbody":b),transformCell:zo}),C=Ar,R=_b,W=ad,ie=()=>({transformRow:ho,transformCell:zo}),Ie=(p,b,_,A)=>{_===A?Kn(p,b):Zo(p,b,_)},Yt=(p,b,_)=>{ao(or(p,b)).fold(()=>vr(p,_),A=>nn(A,_))},lo=(p,b)=>{const _=[],A=[],I=Oe=>D(Oe,He=>{He.isNew&&_.push(He.element);const ft=He.element;return Te(ft),qe(He.cells,xt=>{xt.isNew&&A.push(xt.element),Ie(xt.element,"colspan",xt.colspan,1),Ie(xt.element,"rowspan",xt.rowspan,1),hr(ft,xt.element)}),ft}),H=Oe=>F(Oe,He=>D(He.cells,ft=>(Ie(ft.element,"span",ft.colspan,1),ft.element))),q=(Oe,He)=>{const ft=((Gt,Xt)=>{const Zt=Cr(Gt,Xt).getOrThunk(()=>{const Ge=Ft.fromTag(Xt,Fa(Gt).dom);return Xt==="thead"?Yt(Gt,"caption,colgroup",Ge):Xt==="colgroup"?Yt(Gt,"caption",Ge):hr(Gt,Ge),Ge});return Te(Zt),Zt})(p,He),xt=(He==="colgroup"?H:I)(Oe);xr(ft,xt)},J=(Oe,He)=>{Oe.length>0?q(Oe,He):(ft=>{Cr(p,ft).each(Se)})(He)},ce=[],Ne=[],Ye=[],ve=[];return qe(b,Oe=>{switch(Oe.section){case"thead":ce.push(Oe);break;case"tbody":Ne.push(Oe);break;case"tfoot":Ye.push(Oe);break;case"colgroup":ve.push(Oe)}}),J(ve,"colgroup"),J(ce,"thead"),J(Ne,"tbody"),J(Ye,"tfoot"),{newRows:_,newCells:A}},tn=(p,b)=>{if(p.length===0)return 0;const _=p[0];return So(p,A=>!b(_.element,A.element)).getOr(p.length)},ln=(p,b)=>{const _=D(p,A=>D(A.cells,ue));return D(p,(A,I)=>{const H=F(A.cells,(q,J)=>{if(_[I][J]===!1){const Oe=((He,ft,xt,Gt)=>{const Xt=((To,Bo)=>To[Bo])(He,ft),Zt=Xt.section==="colgroup",Ge=tn(Xt.cells.slice(xt),Gt),fo=Zt?1:tn(((To,Bo)=>D(To,On=>ua(On,Bo)))(He.slice(ft),xt),Gt);return{colspan:Ge,rowspan:fo}})(p,I,J,b);return((He,ft,xt,Gt)=>{for(let Xt=He;Xt<He+xt;Xt++)for(let Zt=ft;Zt<ft+Gt;Zt++)_[Xt][Zt]=!0})(I,J,Oe.rowspan,Oe.colspan),[(ce=q.element,Ne=Oe.rowspan,Ye=Oe.colspan,ve=q.isNew,{element:ce,rowspan:Ne,colspan:Ye,isNew:ve})]}return[];var ce,Ne,Ye,ve});return((q,J,ce,Ne)=>({element:q,cells:J,section:ce,isNew:Ne}))(A.element,H,A.section,A.isNew)})},Rn=(p,b,_)=>{const A=[];qe(p.colgroups,I=>{const H=[];for(let q=0;q<p.grid.columns;q++){const J=Jd(p,q).map(ce=>Ee(ce.element,_,!1)).getOrThunk(()=>Ee(b.colGap(),!0,!1));H.push(J)}A.push(Be(I.element,H,"colgroup",_))});for(let I=0;I<p.grid.rows;I++){const H=[];for(let ce=0;ce<p.grid.columns;ce++){const Ne=rs(p,I,ce).map(Ye=>Ee(Ye.element,_,Ye.isLocked)).getOrThunk(()=>Ee(b.gap(),!0,!1));H.push(Ne)}const q=p.all[I],J=Be(q.element,H,q.section,_);A.push(J)}return A},Zr=p=>ln(p,jo),Or=(p,b)=>yo(p.all,_=>$t(_.cells,A=>jo(b,A.element))),Oa=(p,b,_)=>{const A=D(b.selection,H=>Js(H).bind(q=>Or(p,q)).filter(_)),I=os(A);return zi(I.length>0,I)},oa=(p,b,_,A,I)=>(H,q,J,ce)=>{const Ne=Ia(H),Ye=ge.from(ce==null?void 0:ce.section).getOrThunk(ie);return b(Ne,q).map(ve=>{const Oe=((xt,Gt)=>Rn(xt,Gt,!1))(Ne,J),He=p(Oe,ve,jo,I(J),Ye),ft=Rs(He.grid);return{info:ve,grid:Zr(He.grid),cursor:He.cursor,lockedColumns:ft}}).bind(ve=>{const Oe=lo(H,ve.grid),He=ge.from(ce==null?void 0:ce.sizing).getOrThunk(()=>Gi(H)),ft=ge.from(ce==null?void 0:ce.resize).getOrThunk(fm);return _(H,ve.grid,ve.info,{sizing:He,resize:ft,section:Ye}),A(H),Kn(H,wl),ve.lockedColumns.length>0&&Zo(H,wl,ve.lockedColumns.join(",")),ge.some({cursor:ve.cursor,newRows:Oe.newRows,newCells:Oe.newCells})})},sc=(p,b)=>Oa(p,b,$e).map(_=>({cells:_,generators:b.generators,clipboard:b.clipboard})),Yi=(p,b)=>Oa(p,b,$e),Cl=(p,b)=>Oa(p,b,_=>!_.isLocked),Fg=(p,b)=>Ot(b,_=>((A,I)=>Or(A,I).exists(H=>!H.isLocked))(p,_)),qm=(p,b,_,A)=>{const I=pa(p).rows;let H=!0;for(let q=0;q<I.length;q++)for(let J=0;J<Ds(I[0]);J++){const ce=I[q],Ne=ua(ce,J),Ye=_(Ne.element,b);Ye&&!H?Fr(ce,J,Ee(A(),!0,Ne.isLocked)):Ye&&(H=!1)}return p},Fu=p=>{const b=H=>H(p),_=ut(p),A=()=>I,I={tag:!0,inner:p,fold:(H,q)=>q(p),isValue:$e,isError:ue,map:H=>uu.value(H(p)),mapError:A,bind:b,exists:b,forall:b,getOr:_,or:A,getOrThunk:_,orThunk:A,getOrDie:_,each:H=>{H(p)},toOptional:()=>ge.some(p)};return I},sd=p=>{const b=()=>_,_={tag:!1,inner:p,fold:(I,H)=>I(p),isValue:ue,isError:$e,map:b,mapError:I=>uu.error(I(p)),bind:b,exists:ue,forall:$e,getOr:ho,or:ho,getOrThunk:bo,orThunk:bo,getOrDie:(A=String(p),()=>{throw new Error(A)}),each:Ve,toOptional:ge.none};var A;return _},uu={value:Fu,error:sd,fromOption:(p,b)=>p.fold(()=>sd(b),Fu)},bc=(p,b)=>({rowDelta:0,colDelta:Ds(p[0])-Ds(b[0])}),Lu=(p,b)=>({rowDelta:p.length-b.length,colDelta:0}),Wm=(p,b,_,A)=>{const I=b.section==="colgroup"?_.col:_.cell;return Rt(p,H=>Ee(I(),!0,A(H)))},Iu=(p,b,_,A)=>{const I=p[p.length-1];return p.concat(Rt(b,()=>{const H=I.section==="colgroup"?_.colgroup:_.row,q=_i(I,H,ho),J=Wm(q.cells.length,q,_,ce=>it(A,ce.toString()));return Ps(q,J)}))},Yr=(p,b,_,A)=>D(p,I=>{const H=Wm(b,I,_,ue);return zn(I,A,H)}),Ea=(p,b,_)=>{const A=b.colDelta<0?Yr:ho,I=b.rowDelta<0?Iu:ho,H=Rs(p),q=Ds(p[0]),J=Uo(H,Ye=>Ye===q-1),ce=A(p,Math.abs(b.colDelta),_,J?q-1:q),Ne=Rs(ce);return I(ce,Math.abs(b.rowDelta),_,kt(Ne,$e))},Sl=(p,b,_,A)=>{const I=Ae(A,ua(p[b],_).element),H=p[b];return p.length>1&&Ds(H)>1&&(_>0&&I(ta(H,_-1))||_<H.cells.length-1&&I(ta(H,_+1))||b>0&&I(ta(p[b-1],_))||b<p.length-1&&I(ta(p[b+1],_)))},Bi=(p,b,_)=>gt(_,A=>A>=p.column&&A<=Ds(b[0])+p.column),Od=(p,b,_,A,I)=>{((Ne,Ye,ve,Oe)=>{Ye>0&&Ye<Ne[0].cells.length&&qe(Ne,He=>{const ft=He.cells[Ye-1];let xt=0;const Gt=Oe();for(;He.cells.length>Ye+xt&&ve(ft.element,He.cells[Ye+xt].element);)Fr(He,Ye+xt,Ee(Gt,!0,He.cells[Ye+xt].isLocked)),xt++})})(b,p,I,A.cell);const H=Lu(_,b),q=Ea(_,H,A),J=Lu(b,q),ce=Ea(b,J,A);return D(ce,(Ne,Ye)=>zn(Ne,p,q[Ye].cells))},zp=(p,b,_,A,I)=>{((Zt,Ge,fo,To)=>{const Bo=pa(Zt).rows;if(Ge>0&&Ge<Bo.length){const On=((Vn,na)=>ct(Vn,(er,Er)=>Uo(er,dr=>na(dr.element,Er.element))?er:er.concat([Er]),[]))(Bo[Ge-1].cells,fo);qe(On,Vn=>{let na=ge.none();for(let er=Ge;er<Bo.length;er++)for(let Er=0;Er<Ds(Bo[0]);Er++){const dr=Bo[er],Ca=ua(dr,Er);fo(Ca.element,Vn.element)&&(na.isNone()&&(na=ge.some(To())),na.each(ti=>{Fr(dr,Er,Ee(ti,!0,Ca.isLocked))}))}})}})(b,p,I,A.cell);const H=Rs(b),q=bc(b,_),J={...q,colDelta:q.colDelta-H.length},ce=Ea(b,J,A),{cols:Ne,rows:Ye}=pa(ce),ve=Rs(ce),Oe=bc(_,b),He={...Oe,colDelta:Oe.colDelta+ve.length},ft=(Gt=A,Xt=ve,D(_,Zt=>ct(Xt,(Ge,fo)=>{const To=Wm(1,Zt,Gt,$e)[0];return mr(Ge,fo,To)},Zt))),xt=Ea(ft,He,A);var Gt,Xt;return[...Ne,...Ye.slice(0,p),...xt,...Ye.slice(p,Ye.length)]},Pu=(p,b,_,A,I)=>{const{rows:H,cols:q}=pa(p),J=H.slice(0,b),ce=H.slice(b);return[...q,...J,((Ne,Ye,ve,Oe)=>_i(Ne,He=>Oe(He,ve),Ye))(H[_],(Ne,Ye)=>b>0&&b<H.length&&A(ta(H[b-1],Ye),ta(H[b],Ye))?ua(H[b],Ye):Ee(I(Ne.element,A),!0,Ne.isLocked),A,I),...ce]},yc=(p,b,_,A,I)=>D(p,H=>{const q=b>0&&b<Ds(H)&&A(ta(H,b-1),ta(H,b)),J=((ce,Ne,Ye,ve,Oe,He,ft)=>{if(Ye!=="colgroup"&&ve)return ua(ce,Ne);{const xt=ua(ce,Oe);return Ee(ft(xt.element,He),!0,!1)}})(H,b,H.section,q,_,A,I);return mr(H,b,J)}),b0=(p,b,_,A)=>((I,H,q,J)=>ta(I[H],q)!==void 0&&H>0&&J(ta(I[H-1],q),ta(I[H],q)))(p,b,_,A)||((I,H,q)=>H>0&&q(ta(I,H-1),ta(I,H)))(p[b],_,A),Lg=(p,b,_,A)=>{const I=H=>(q=>q==="row"?(J=>bi(J,"rowspan")>1)(b):Ns(b))(H)?`${H}group`:H;return p?cu(b)?I(_):null:A&&cu(b)?I(_==="row"?"col":"row"):null},Gf=(p,b,_)=>Ee(_(p.element,b),!0,p.isLocked),Gm=(p,b,_,A,I,H,q)=>D(p,(J,ce)=>((Ne,Ye)=>{const ve=Ne.cells,Oe=D(ve,(He,ft)=>{if((xt=>Uo(b,Gt=>_(xt.element,Gt.element)))(He)){const xt=q(He,ce,ft)?I(He,_,A):He;return H(xt,ce,ft).each(Gt=>{var Xt,Zt;Xt=xt.element,Zt={scope:ge.from(Gt)},Vt(Zt,(Ge,fo)=>{Ge.fold(()=>{Kn(Xt,fo)},To=>{_n(Xt.dom,fo,To)})})}),xt}return He});return Be(Ne.element,Oe,Ne.section,Ne.isNew)})(J)),Hu=(p,b,_)=>F(p,(A,I)=>b0(p,I,b,_)?[]:[ua(A,b)]),Fi=(p,b,_,A,I)=>{const H=pa(p).rows,q=F(b,Ye=>Hu(H,Ye,A)),J=D(H,Ye=>hm(Ye.cells)),ce=((Ye,ve)=>Ot(ve,ho)&&hm(Ye)?$e:(Oe,He,ft)=>!(_t(Oe.element)==="th"&&ve[He]))(q,J);return Gm(p,q,A,I,Gf,((Ye,ve)=>(Oe,He)=>ge.some(Lg(Ye,Oe.element,"row",ve[He])))(_,J),ce)},Kf=(p,b,_,A)=>{const I=pa(p).rows,H=D(b,q=>ua(I[q.row],q.column));return Gm(p,H,_,A,Gf,ge.none,$e)},Li=p=>{if(!Wo(p))throw new Error("cases must be an array");if(p.length===0)throw new Error("there must be at least one case");const b=[],_={};return qe(p,(A,I)=>{const H=No(A);if(H.length!==1)throw new Error("one and only one name per case");const q=H[0],J=A[q];if(_[q]!==void 0)throw new Error("duplicate key detected:"+q);if(q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Wo(J))throw new Error("case arguments must be an array");b.push(q),_[q]=(...ce)=>{const Ne=ce.length;if(Ne!==J.length)throw new Error("Wrong number of arguments to case "+q+". Expected "+J.length+" ("+J+"), got "+Ne);return{fold:(...Ye)=>{if(Ye.length!==p.length)throw new Error("Wrong number of arguments to fold. Expected "+p.length+", got "+Ye.length);return Ye[I].apply(null,ce)},match:Ye=>{const ve=No(Ye);if(b.length!==ve.length)throw new Error("Wrong number of arguments to match. Expected: "+b.join(",")+`
Actual: `+ve.join(","));if(!Ot(b,Oe=>Ho(ve,Oe)))throw new Error("Not all branches were specified when using match. Specified: "+ve.join(", ")+`
Required: `+b.join(", "));return Ye[q].apply(null,ce)},log:Ye=>{console.log(Ye,{constructors:b,constructor:q,params:ce})}}}}),_},mu={...Li([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},bm=(p,b,_)=>{const A=((I,H)=>Xd(I)?((q,J)=>{const ce=Tr(q);return D(ce,(Ne,Ye)=>({element:Ne.element,width:J[Ye],colspan:Ne.colspan}))})(I,H):((q,J)=>{const ce=$l(q);return D(ce,Ne=>{const Ye=((ve,Oe,He)=>{let ft=0;for(let xt=ve;xt<Oe;xt++)ft+=He[xt]!==void 0?He[xt]:0;return ft})(Ne.column,Ne.column+Ne.colspan,J);return{element:Ne.element,width:Ye,colspan:Ne.colspan}})})(I,H))(p,b);qe(A,I=>{_.setElementWidth(I.element,I.width)})},Hc=(p,b,_,A,I)=>{const H=Ia(p),q=I.getCellDelta(b),J=I.getWidths(H,I),ce=_===H.grid.columns-1,Ne=A.clampTableDelta(J,_,q,I.minCellWidth(),ce),Ye=((Oe,He,ft,xt,Gt)=>{const Xt=Oe.slice(0),Zt=((fo,To)=>fo.length===0?mu.none():fo.length===1?mu.only(0):To===0?mu.left(0,1):To===fo.length-1?mu.right(To-1,To):To>0&&To<fo.length-1?mu.middle(To-1,To,To+1):mu.none())(Oe,He),Ge=ut(D(Xt,ut(0)));return Zt.fold(Ge,fo=>xt.singleColumnWidth(Xt[fo],ft),(fo,To)=>Gt.calcLeftEdgeDeltas(Xt,fo,To,ft,xt.minCellWidth(),xt.isRelative),(fo,To,Bo)=>Gt.calcMiddleDeltas(Xt,fo,To,Bo,ft,xt.minCellWidth(),xt.isRelative),(fo,To)=>Gt.calcRightEdgeDeltas(Xt,fo,To,ft,xt.minCellWidth(),xt.isRelative))})(J,_,Ne,I,A),ve=D(Ye,(Oe,He)=>Oe+J[He]);bm(H,ve,I),A.resizeTable(I.adjustTableWidth,Ne,ce)},jc=(p,b,_)=>{const A=Ia(p),I=((ce,Ne)=>oo(ce,Ne,tc,Ye=>Ye.getOrThunk(Vl)))(A,p),H=D(I,(ce,Ne)=>_===Ne?Math.max(b+ce,Vl()):ce),q=((ce,Ne)=>D(ce.all,(Ye,ve)=>({element:Ye.element,height:Ne[ve]})))(A,H);qe(q,ce=>{qs(ce.element,ce.height)}),qe($l(A),ce=>{(Ne=>{ri(Ne,"height")})(ce.element)});const J=Bt(H,(ce,Ne)=>ce+Ne,0);qs(p,J)},ul=p=>ct(p,(b,_)=>Uo(b,A=>A.column===_.column)?b:b.concat([_]),[]).sort((b,_)=>b.column-_.column),y0=on("col"),Tp=on("colgroup"),Cb=p=>_t(p)==="tr"||Tp(p),Yf=p=>({element:p,colspan:to(p,"colspan",1),rowspan:to(p,"rowspan",1)}),Ig=p=>Xo(p,"scope").map(b=>b.substr(0,3)),id=(p,b=Yf)=>{const _=I=>{if(Cb(I))return Tp((H={element:I}).element)?p.colgroup(H):p.row(H);{const q=I,J=(ce=>y0(ce.element)?p.col(ce):p.cell(ce))(b(q));return A=ge.some({item:q,replacement:J}),J}var H};let A=ge.none();return{getOrInit:(I,H)=>A.fold(()=>_(I),q=>H(I,q.item)?q.replacement:_(I))}},v0=p=>b=>{const _=[],A=I=>{const H=p==="td"?{scope:null}:{},q=b.replace(I,p,H);return _.push({item:I,sub:q}),q};return{replaceOrInit:(I,H)=>{if(Cb(I)||y0(I))return I;{const q=I;return((J,ce)=>$t(_,Ne=>ce(Ne.item,J)))(q,H).fold(()=>A(q),J=>H(I,J.item)?J.sub:A(q))}}}},ju=p=>({unmerge:b=>{const _=Ig(b);return _.each(A=>Zo(b,"scope",A)),()=>{const A=p.cell({element:b,colspan:1,rowspan:1});return ri(A,"width"),ri(b,"width"),_.each(I=>Zo(A,"scope",I)),A}},merge:b=>(ri(b[0],"width"),(()=>{const _=os(D(b,Ig));if(_.length===0)return ge.none();{const A=_[0],I=["row","col"];return Uo(_,H=>H!==A&&Ho(I,H))?ge.none():ge.from(A)}})().fold(()=>Kn(b[0],"scope"),_=>Zo(b[0],"scope",_+"group")),ut(b[0]))}),ld=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Pg=mm(),Hr=p=>((b,_)=>{const A=b.property().name(_);return Ho(ld,A)})(Pg,p),El=p=>((b,_)=>{const A=b.property().name(_);return Ho(["ol","ul"],A)})(Pg,p),gu=p=>{const b=on("br"),_=I=>St(I).bind(H=>{const q=za(H).map(J=>!!Hr(J)||!!((ce,Ne)=>Ho(["br","img","hr","input"],ce.property().name(Ne)))(Pg,J)&&_t(J)!=="img").getOr(!1);return La(H).map(J=>{return q===!0||_t(ce=J)==="li"||sa(ce,El).isSome()||b(H)||Hr(J)&&!jo(I,J)?[]:[Ft.fromTag("br")];var ce})}).getOr([]),A=(()=>{const I=F(p,H=>{const q=nt(H);return(J=>Ot(J,ce=>b(ce)||vt(ce)&&fa(ce).trim().length===0))(q)?[]:q.concat(_(H))});return I.length===0?[Ft.fromTag("br")]:I})();Te(p[0]),xr(p[0],A)},Xf=p=>ha(p,!0),Ha=p=>{ur(p).length===0&&Se(p)},Nd=(p,b)=>({grid:p,cursor:b}),ql=(p,b,_)=>{const A=((I,H,q)=>{var J,ce;const Ne=pa(I).rows;return ge.from((ce=(J=Ne[H])===null||J===void 0?void 0:J.cells[q])===null||ce===void 0?void 0:ce.element).filter(Xf).orThunk(()=>(Ye=>yo(Ye,ve=>yo(ve.cells,Oe=>{const He=Oe.element;return zi(Xf(He),He)})))(Ne))})(p,b,_);return Nd(p,A)},Jf=p=>ct(p,(b,_)=>Uo(b,A=>A.row===_.row)?b:b.concat([_]),[]).sort((b,_)=>b.row-_.row),ss=(p,b)=>(_,A,I,H,q)=>{const J=Jf(A),ce=D(J,Ye=>Ye.row),Ne=((Ye,ve,Oe,He,ft,xt,Gt)=>{const{cols:Xt,rows:Zt}=pa(Ye),Ge=Zt[ve[0]],fo=F(ve,er=>((Er,dr,Ca)=>{const ti=Er[dr];return F(ti.cells,(el,ki)=>b0(Er,dr,ki,Ca)?[]:[el])})(Zt,er,ft)),To=D(Ge.cells,(er,Er)=>hm(Hu(Zt,Er,ft))),Bo=[...Zt];qe(ve,er=>{Bo[er]=Gt.transformRow(Zt[er],Oe)});const On=[...Xt,...Bo],Vn=((er,Er)=>Ot(Er,ho)&&hm(er.cells)?$e:(dr,Ca,ti)=>!(_t(dr.element)==="th"&&Er[ti]))(Ge,To),na=((er,Er)=>(dr,Ca,ti)=>ge.some(Lg(er,dr.element,"col",Er[ti])))(He,To);return Gm(On,fo,ft,xt,Gt.transformCell,na,Vn)})(_,ce,p,b,I,H.replaceOrInit,q);return ql(Ne,A[0].row,A[0].column)},y_=ss("thead",!0),v_=ss("tbody",!1),Ap=ss("tfoot",!1),vc=(p,b,_)=>{const A=((H,q)=>Ce(H,()=>q))(p,_.section),I=Bl(A);return Rn(I,b,!0)},Qf=(p,b,_,A)=>((I,H,q,J)=>{const ce=Bl(H),Ne=J.getWidths(ce,J);bm(ce,Ne,J)})(0,b,0,A.sizing),cn=(p,b,_,A)=>((I,H,q,J,ce)=>{const Ne=Bl(H),Ye=J.getWidths(Ne,J),ve=J.pixelWidth(),{newSizes:Oe,delta:He}=ce.calcRedestributedWidths(Ye,ve,q.pixelDelta,J.isRelative);bm(Ne,Oe,J),J.adjustTableWidth(He)})(0,b,_,A.sizing,A.resize),qv=(p,b)=>Uo(b,_=>_.column===0&&_.isLocked),Md=(p,b)=>Uo(b,_=>_.column+_.colspan>=p.grid.columns&&_.isLocked),Sb=(p,b)=>{const _=Qd(p),A=ul(b);return ct(A,(I,H)=>I+_[H.column].map(yt).getOr(0),0)},Eb=p=>(b,_)=>Yi(b,_).filter(A=>!(p?qv:Md)(b,A)).map(A=>({details:A,pixelDelta:Sb(b,A)})),eh=p=>(b,_)=>sc(b,_).filter(A=>!(p?qv:Md)(b,A.cells)),Hg=v0("th"),Vu=v0("td"),x_=oa((p,b,_,A)=>{const I=b[0].row,H=Jf(b),q=Bt(H,(J,ce)=>({grid:Pu(J.grid,I,ce.row+J.delta,_,A.getOrInit),delta:J.delta+1}),{grid:p,delta:0}).grid;return ql(q,I,b[0].column)},Yi,Ve,Ve,id),Km=oa((p,b,_,A)=>{const I=Jf(b),H=I[I.length-1],q=H.row+H.rowspan,J=Bt(I,(ce,Ne)=>Pu(ce,q,Ne.row,_,A.getOrInit),p);return ql(J,q,b[0].column)},Yi,Ve,Ve,id),w_=oa((p,b,_,A)=>{const I=b.details,H=ul(I),q=H[0].column,J=Bt(H,(ce,Ne)=>({grid:yc(ce.grid,q,Ne.column+ce.delta,_,A.getOrInit),delta:ce.delta+1}),{grid:p,delta:0}).grid;return ql(J,I[0].row,q)},Eb(!0),cn,Ve,id),Ym=oa((p,b,_,A)=>{const I=b.details,H=I[I.length-1],q=H.column+H.colspan,J=ul(I),ce=Bt(J,(Ne,Ye)=>yc(Ne,q,Ye.column,_,A.getOrInit),p);return ql(ce,I[0].row,q)},Eb(!1),cn,Ve,id),zb=oa((p,b,_,A)=>{const I=ul(b.details),H=((J,ce)=>F(J,Ne=>{const Ye=Ne.cells,ve=Bt(ce,(Oe,He)=>He>=0&&He<Oe.length?Oe.slice(0,He).concat(Oe.slice(He+1)):Oe,Ye);return ve.length>0?[Be(Ne.element,ve,Ne.section,Ne.isNew)]:[]}))(p,D(I,J=>J.column)),q=H.length>0?H[0].cells.length-1:0;return ql(H,I[0].row,Math.min(I[0].column,q))},(p,b)=>Cl(p,b).map(_=>({details:_,pixelDelta:-Sb(p,_)})),cn,Ha,id),x0=oa((p,b,_,A)=>{const I=Jf(b),H=((J,ce,Ne)=>{const{rows:Ye,cols:ve}=pa(J);return[...ve,...Ye.slice(0,ce),...Ye.slice(Ne+1)]})(p,I[0].row,I[I.length-1].row),q=Math.max(pa(H).rows.length-1,0);return ql(H,Math.min(b[0].row,q),b[0].column)},Yi,Ve,Ha,id),jg=oa((p,b,_,A)=>{const I=ul(b),H=D(I,J=>J.column),q=Fi(p,H,!0,_,A.replaceOrInit);return ql(q,b[0].row,b[0].column)},Cl,Ve,Ve,Hg),Tb=oa((p,b,_,A)=>{const I=ul(b),H=D(I,J=>J.column),q=Fi(p,H,!1,_,A.replaceOrInit);return ql(q,b[0].row,b[0].column)},Cl,Ve,Ve,Vu),th=oa(y_,Cl,Ve,Ve,Hg),Wv=oa(v_,Cl,Ve,Ve,Vu),w0=oa(Ap,Cl,Ve,Ve,Vu),Gv=oa((p,b,_,A)=>{const I=Kf(p,b,_,A.replaceOrInit);return ql(I,b[0].row,b[0].column)},Cl,Ve,Ve,Hg),Xm=oa((p,b,_,A)=>{const I=Kf(p,b,_,A.replaceOrInit);return ql(I,b[0].row,b[0].column)},Cl,Ve,Ve,Vu),cd=oa((p,b,_,A)=>{const I=b.cells;gu(I);const H=((q,J,ce,Ne)=>{const Ye=pa(q).rows;if(Ye.length===0)return q;for(let ve=J.startRow;ve<=J.finishRow;ve++)for(let Oe=J.startCol;Oe<=J.finishCol;Oe++){const He=Ye[ve],ft=ua(He,Oe).isLocked;Fr(He,Oe,Ee(Ne(),!1,ft))}return q})(p,b.bounds,0,A.merge(I));return Nd(H,ge.from(I[0]))},(p,b)=>((_,A)=>A.mergable)(0,b).filter(_=>Fg(p,_.cells)),Qf,Ve,ju),Ut=oa((p,b,_,A)=>{const I=Bt(b,(H,q)=>qm(H,q,_,A.unmerge(q)),p);return Nd(I,ge.from(b[0]))},(p,b)=>((_,A)=>A.unmergable)(0,b).filter(_=>Fg(p,_)),Qf,Ve,ju),Ab=oa((p,b,_,A)=>{const I=((J,ce)=>{const Ne=Ia(J);return Rn(Ne,ce,!0)})(b.clipboard,b.generators);var H,q;return((J,ce,Ne,Ye,ve)=>{const Oe=Rs(ce),He=((Xt,Zt,Ge)=>{const fo=Ds(Zt[0]),To=pa(Zt).cols.length+Xt.row,Bo=Rt(fo-Xt.column,On=>On+Xt.column);return{row:To,column:$t(Bo,On=>Ot(Ge,Vn=>Vn!==On)).getOr(fo-1)}})(J,ce,Oe),ft=pa(Ne).rows,xt=Bi(He,ft,Oe);return((Xt,Zt,Ge)=>{if(Xt.row>=Zt.length||Xt.column>Ds(Zt[0]))return uu.error("invalid start address out of table bounds, row: "+Xt.row+", column: "+Xt.column);const fo=Zt.slice(Xt.row),To=fo[0].cells.slice(Xt.column),Bo=Ds(Ge[0]),On=Ge.length;return uu.value({rowDelta:fo.length-On,colDelta:To.length-Bo})})(He,ce,ft).map(Xt=>{const Zt={...Xt,colDelta:Xt.colDelta-xt.length},Ge=Ea(ce,Zt,Ye),fo=Rs(Ge),To=Bi(He,ft,fo);return((Bo,On,Vn,na,er,Er)=>{const dr=Bo.row,Ca=Bo.column,ti=dr+Vn.length,el=Ca+Ds(Vn[0])+Er.length,ki=kt(Er,$e);for(let Yl=dr;Yl<ti;Yl++){let tl=0;for(let Vi=Ca;Vi<el;Vi++){if(ki[Vi]){tl++;continue}Sl(On,Yl,Vi,er)&&qm(On,ta(On[Yl],Vi),er,na.cell);const qu=Vi-Ca-tl,Wu=ua(Vn[Yl-dr],qu),_m=Wu.element,cg=na.replace(_m);Fr(On[Yl],Vi,Ee(cg,!0,Wu.isLocked))}}return On})(He,Ge,ft,Ye,ve,To)})})((H=b.row,q=b.column,{row:H,column:q}),p,I,b.generators,_).fold(()=>Nd(p,ge.some(b.element)),J=>ql(J,b.row,b.column))},(p,b)=>Js(b.element).bind(_=>Or(p,_).map(A=>({...A,generators:b.generators,clipboard:b.clipboard}))),Qf,Ve,id),pu=oa((p,b,_,A)=>{const I=pa(p).rows,H=b.cells[0].column,q=I[b.cells[0].row],J=vc(b.clipboard,b.generators,q),ce=Od(H,p,J,b.generators,_);return ql(ce,b.cells[0].row,b.cells[0].column)},eh(!0),Ve,Ve,id),Wl=oa((p,b,_,A)=>{const I=pa(p).rows,H=b.cells[b.cells.length-1].column+b.cells[b.cells.length-1].colspan,q=I[b.cells[0].row],J=vc(b.clipboard,b.generators,q),ce=Od(H,p,J,b.generators,_);return ql(ce,b.cells[0].row,H)},eh(!1),Ve,Ve,id),k0=oa((p,b,_,A)=>{const I=pa(p).rows,H=b.cells[0].row,q=I[H],J=vc(b.clipboard,b.generators,q),ce=zp(H,p,J,b.generators,_);return ql(ce,b.cells[0].row,b.cells[0].column)},sc,Ve,Ve,id),_0=oa((p,b,_,A)=>{const I=pa(p).rows,H=b.cells[b.cells.length-1].row+b.cells[b.cells.length-1].rowspan,q=I[b.cells[0].row],J=vc(b.clipboard,b.generators,q),ce=zp(H,p,J,b.generators,_);return ql(ce,H,b.cells[0].column)},sc,Ve,Ve,id),C0=(p,b)=>{const _=Ia(p);return Yi(_,b).bind(A=>{const I=A[A.length-1],H=A[0].column,q=I.column+I.colspan,J=Dt(D(_.all,ce=>gt(ce.cells,Ne=>Ne.column>=H&&Ne.column<q)));return Ci(J)}).getOr("")},Ob=(p,b)=>{const _=Ia(p);return Yi(_,b).bind(Ci).getOr("")},Kv=(p,b)=>{const _=Ia(p);return Yi(_,b).bind(A=>{const I=A[A.length-1],H=A[0].row,q=I.row+I.rowspan;return(J=>{const ce=D(J,ve=>ac(ve).type),Ne=Ho(ce,"header"),Ye=Ho(ce,"footer");if(Ne||Ye){const ve=Ho(ce,"body");return!Ne||ve||Ye?Ne||ve||!Ye?ge.none():ge.some("footer"):ge.some("header")}return ge.some("body")})(_.all.slice(H,q))}).getOr("")},S0=(p,b)=>p.dispatch("NewRow",{node:b}),E0=(p,b)=>p.dispatch("NewCell",{node:b}),qa=(p,b,_)=>{p.dispatch("TableModified",{..._,table:b})},Jm={structure:!1,style:!0},Ii={structure:!0,style:!1},oh={structure:!0,style:!0},Xi=(p,b)=>j(p)?od(b):K(p)?td(b):Gi(b),xc=(p,b,_)=>{const A=Ye=>_t(Ki(Ye))==="table",I=dl(p),H=Gs(p)?Ve:Wf,q=Ye=>{switch(Sd(p)){case"section":return C();case"sectionCells":return R();case"cells":return W();default:return((ve,Oe)=>{var He;switch((He=Ia(ve),yo(He.all,ft=>{const xt=ac(ft);return xt.type==="header"?ge.from(xt.subType):ge.none()})).getOr(Oe)){case"section":return Ar();case"sectionCells":return _b();case"cells":return ad()}})(Ye,"section")}},J=(Ye,ve,Oe,He)=>(ft,xt,Gt=!1)=>{fc(ft);const Xt=Ft.fromDom(p.getDoc()),Zt=Mi(Oe,Xt,I),Ge={sizing:Xi(p,ft),resize:Gs(p)?rd():fm(),section:q(ft)};return ve(ft)?Ye(ft,xt,Zt,Ge).bind(fo=>{b.refresh(ft.dom),qe(fo.newRows,Bo=>{S0(p,Bo.dom)}),qe(fo.newCells,Bo=>{E0(p,Bo.dom)});const To=((Bo,On)=>On.cursor.fold(()=>{const Vn=ur(Bo);return co(Vn).filter(qo).map(na=>{_.clearSelectedCells(Bo.dom);const er=p.dom.createRng();return er.selectNode(na.dom),p.selection.setRng(er),Zo(na,"data-mce-selected","1"),er})},Vn=>{const na=qf(Bu,Vn),er=p.dom.createRng();return er.setStart(na.element.dom,na.offset),er.setEnd(na.element.dom,na.offset),p.selection.setRng(er),_.clearSelectedCells(Bo.dom),ge.some(er)}))(ft,fo);return qo(ft)&&(fc(ft),Gt||qa(p,ft.dom,He)),To.map(Bo=>({rng:Bo,effect:He}))}):ge.none()},ce=J(x0,Ye=>!A(p)||rc(Ye).rows>1,Ve,Ii),Ne=J(zb,Ye=>!A(p)||rc(Ye).columns>1,Ve,Ii);return{deleteRow:ce,deleteColumn:Ne,insertRowsBefore:J(x_,$e,Ve,Ii),insertRowsAfter:J(Km,$e,Ve,Ii),insertColumnsBefore:J(w_,$e,H,Ii),insertColumnsAfter:J(Ym,$e,H,Ii),mergeCells:J(cd,$e,Ve,Ii),unmergeCells:J(Ut,$e,Ve,Ii),pasteColsBefore:J(pu,$e,Ve,Ii),pasteColsAfter:J(Wl,$e,Ve,Ii),pasteRowsBefore:J(k0,$e,Ve,Ii),pasteRowsAfter:J(_0,$e,Ve,Ii),pasteCells:J(Ab,$e,Ve,oh),makeCellsHeader:J(Gv,$e,Ve,Ii),unmakeCellsHeader:J(Xm,$e,Ve,Ii),makeColumnsHeader:J(jg,$e,Ve,Ii),unmakeColumnsHeader:J(Tb,$e,Ve,Ii),makeRowsHeader:J(th,$e,Ve,Ii),makeRowsBody:J(Wv,$e,Ve,Ii),makeRowsFooter:J(w0,$e,Ve,Ii),getTableRowType:Kv,getTableCellType:Ob,getTableColType:C0}},Nb=(p,b,_)=>{const A=to(p,b,1);_===1||A<=1?Kn(p,b):Zo(p,b,Math.min(_,A))},Mb=(p,b)=>_=>{const A=_.column+_.colspan-1,I=_.column;return A>=p&&I<b},Vg=Li([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Db=(p,b,_)=>{const A=_.substring(0,_.length-p.length),I=parseFloat(A);return A===I.toString()?b(I):Vg.invalid(_)},$u={...Vg,from:p=>ia(p,"%")?Db("%",Vg.percent,p):ia(p,"px")?Db("px",Vg.pixels,p):Vg.invalid(p)},Rb=(p,b,_)=>{const A=$u.from(_),I=Ot(p,H=>H==="0px")?((H,q)=>{const J=H.fold(()=>ut(""),ce=>ut(ce/q+"px"),()=>ut(100/q+"%"));return Rt(q,J)})(A,p.length):((H,q,J)=>H.fold(()=>q,ce=>((Ne,Ye,ve)=>{const Oe=ve/Ye;return D(Ne,He=>$u.from(He).fold(()=>He,ft=>ft*Oe+"px",ft=>ft/100*ve+"px"))})(q,J,ce),ce=>((Ne,Ye)=>D(Ne,ve=>$u.from(ve).fold(()=>ve,Oe=>Oe/Ye*100+"%",Oe=>Oe+"%")))(q,J)))(A,p,b);return Dd(I)},Uu=(p,b)=>p.length===0?b:Bt(p,(_,A)=>$u.from(A).fold(ut(0),ho,ho)+_,0),ic=(p,b)=>$u.from(p).fold(ut(p),_=>_+b+"px",_=>_+b+"%"),Dd=p=>{if(p.length===0)return p;const b=Bt(p,(A,I)=>{const H=$u.from(I).fold(()=>({value:I,remainder:0}),q=>((J,ce)=>{const Ne=Math.floor(J);return{value:Ne+"px",remainder:J-Ne}})(q),q=>({value:q+"%",remainder:0}));return{output:[H.value].concat(A.output),remainder:A.remainder+H.remainder}},{output:[],remainder:0}),_=b.output;return _.slice(0,_.length-1).concat([ic(_[_.length-1],Math.round(b.remainder))])},ws=$u.from,Rd=(p,b,_)=>{const A=Ia(p),I=A.all,H=$l(A),q=Tr(A);b.each(J=>{const ce=ws(J).fold(ut("px"),ut("px"),ut("%")),Ne=ze(p),Ye=((Oe,He)=>Sa(Oe,He,bn,ui))(A,p),ve=Rb(Ye,Ne,J);Xd(A)?((Oe,He,ft)=>{qe(He,(xt,Gt)=>{const Xt=Uu([Oe[Gt]],Zs());da(xt.element,"width",Xt+ft)})})(ve,q,ce):((Oe,He,ft)=>{qe(He,xt=>{const Gt=Oe.slice(xt.column,xt.colspan+xt.column),Xt=Uu(Gt,Zs());da(xt.element,"width",Xt+ft)})})(ve,H,ce),da(p,"width",J)}),_.each(J=>{const ce=al(p),Ne=((Ye,ve)=>oo(Ye,ve,Hs,ui))(A,p);((Ye,ve,Oe)=>{qe(Oe,He=>{ri(He.element,"height")}),qe(ve,(He,ft)=>{da(He.element,"height",Ye[ft])})})(Rb(Ne,ce,J),I,H),da(p,"height",J)})},Op=p=>ms(p).exists(b=>Rc.test(b)),Bb=p=>ms(p).exists(b=>Ou.test(b)),ym=p=>ms(p).isNone(),ii=p=>{Kn(p,"width"),Kn(p,"height")},dd=p=>{const b=Pa(p);Rd(p,ge.some(b),ge.none()),ii(p)},Qm=p=>{const b=(_=>ze(_)+"px")(p);Rd(p,ge.some(b),ge.none()),ii(p)},Fb=p=>{ri(p,"width");const b=Ur(p),_=b.length>0?b:ur(p);qe(_,A=>{ri(A,"width"),ii(A)}),ii(p)},z0={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},nh=(p,b,_,A)=>Rt(p,I=>((H,q,J,ce)=>{const Ne=Ft.fromTag("tr");for(let Ye=0;Ye<H;Ye++){const ve=Ft.fromTag(ce<q||Ye<J?"th":"td");Ye<J&&Zo(ve,"scope","row"),ce<q&&Zo(ve,"scope","col"),hr(ve,Ft.fromTag("br")),hr(Ne,ve)}return Ne})(b,_,A,I)),mn=(p,b)=>{p.selection.select(b.dom,!0),p.selection.collapse(!0)},rh=(p,b,_,A,I)=>{const H=(J=>{const ce=J.options,Ne=ce.get("table_default_styles");return ce.isSet("table_default_styles")?Ne:((Ye,ve)=>Me(Ye)||!po(Ye)?ve:K(Ye)?{...ve,width:Cd(Ye)}:{...ve,width:cl})(J,Ne)})(p),q={styles:H,attributes:cr(p),colGroups:Zn(p)};return p.undoManager.ignore(()=>{const J=((Ne,Ye,ve,Oe,He,ft=z0)=>{const xt=Ft.fromTag("table"),Gt=He!=="cells";Dn(xt,ft.styles),Yn(xt,ft.attributes),ft.colGroups&&hr(xt,(fo=>{const To=Ft.fromTag("colgroup");return Rt(fo,()=>hr(To,Ft.fromTag("col"))),To})(Ye));const Xt=Math.min(Ne,ve);if(Gt&&ve>0){const fo=Ft.fromTag("thead");hr(xt,fo);const To=nh(ve,Ye,He==="sectionCells"?Xt:0,Oe);xr(fo,To)}const Zt=Ft.fromTag("tbody");hr(xt,Zt);const Ge=nh(Gt?Ne-Xt:Ne,Ye,Gt?0:ve,Oe);return xr(Zt,Ge),xt})(_,b,I,A,Sd(p),q);Zo(J,"data-mce-id","__mce");const ce=(Ne=>{const Ye=Ft.fromTag("div"),ve=Ft.fromDom(Ne.dom.cloneNode(!0));return hr(Ye,ve),(Oe=>Oe.dom.innerHTML)(Ye)})(J);p.insertContent(ce),p.addVisual()}),Pr(Ki(p),'table[data-mce-id="__mce"]').map(J=>(K(p)?Qm(J):Me(p)?Fb(J):(j(p)||(ce=>Qo(ce)&&ce.indexOf("%")!==-1)(H.width))&&dd(J),fc(J),Kn(J,"data-mce-id"),((ce,Ne)=>{qe(_r(Ne,"tr"),Ye=>{S0(ce,Ye.dom),qe(_r(Ye,"th,td"),ve=>{E0(ce,ve.dom)})})})(p,J),((ce,Ne)=>{Pr(Ne,"td,th").each(Ae(mn,ce))})(p,J),J.dom)).getOrNull()};var Np=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const T0="x-tinymce/dom-table-",Pi=T0+"rows",fu=T0+"columns",A0=p=>{const b=Np.FakeClipboardItem(p);Np.write([b])},Lb=p=>{var b;const _=(b=Np.read())!==null&&b!==void 0?b:[];return yo(_,A=>ge.from(A.getType(p)))},Ib=p=>{Lb(p).isSome()&&Np.clear()},Pb=p=>{p.fold(Mp,b=>A0({[Pi]:b}))},Ji=()=>Lb(Pi),Mp=()=>Ib(Pi),pi=p=>{p.fold(ml,b=>A0({[fu]:b}))},fi=()=>Lb(fu),ml=()=>Ib(fu),Hi=p=>kb(Bc(p),Ri(p)).filter(xb),ji=(p,b)=>{const _=Ri(p),A=ve=>ns(ve,_),I=ve=>(Oe=>Ta(Bc(Oe),Ri(Oe)).filter(xb))(p).bind(Oe=>A(Oe).map(He=>ve(He,Oe))),H=ve=>{p.focus()},q=(ve,Oe=!1)=>I((He,ft)=>{const xt=hc(Pc(p),He,ft);ve(He,xt,Oe).each(H)}),J=()=>I((ve,Oe)=>((He,ft,xt)=>{const Gt=Ia(He);return Yi(Gt,ft).bind(Xt=>{const Zt=Rn(Gt,xt,!1),Ge=pa(Zt).rows.slice(Xt[0].row,Xt[Xt.length-1].row+Xt[Xt.length-1].rowspan),fo=F(Ge,Bo=>{const On=gt(Bo.cells,Vn=>!Vn.isLocked);return On.length>0?[{...Bo,cells:On}]:[]}),To=Zr(fo);return zi(To.length>0,To)}).map(Xt=>D(Xt,Zt=>{const Ge=xn(Zt.element);return qe(Zt.cells,fo=>{const To=Sn(fo.element);Ie(To,"colspan",fo.colspan,1),Ie(To,"rowspan",fo.rowspan,1),hr(Ge,To)}),Ge}))})(ve,hc(Pc(p),ve,Oe),Mi(Ve,Ft.fromDom(p.getDoc()),ge.none()))),ce=()=>I((ve,Oe)=>((He,ft)=>{const xt=Ia(He);return Cl(xt,ft).map(Gt=>{const Xt=Gt[Gt.length-1],Zt=Gt[0].column,Ge=Xt.column+Xt.colspan,fo=((Bo,On,Vn)=>{if(Xd(Bo)){const na=gt(Tr(Bo),Mb(On,Vn)),er=D(na,dr=>{const Ca=Sn(dr.element);return Nb(Ca,"span",Vn-On),Ca}),Er=Ft.fromTag("colgroup");return xr(Er,er),[Er]}return[]})(xt,Zt,Ge),To=((Bo,On,Vn)=>D(Bo.all,na=>{const er=gt(na.cells,Mb(On,Vn)),Er=D(er,Ca=>{const ti=Sn(Ca.element);return Nb(ti,"colspan",Vn-On),ti}),dr=Ft.fromTag("tr");return xr(dr,Er),dr}))(xt,Zt,Ge);return[...fo,...To]})})(ve,hc(Pc(p),ve,Oe))),Ne=(ve,Oe)=>Oe().each(He=>{const ft=D(He,xt=>Sn(xt));I((xt,Gt)=>{const Xt=as(Ft.fromDom(p.getDoc())),Zt=((Ge,fo,To,Bo)=>({selection:Vm(Ge),clipboard:To,generators:Bo}))(Pc(p),0,ft,Xt);ve(xt,Zt).each(H)})}),Ye=ve=>(Oe,He)=>((ft,xt)=>it(ft,xt)?ge.from(ft[xt]):ge.none())(He,"type").each(ft=>{q(ve(ft),He.no_events)});Vt({mceTableSplitCells:()=>q(b.unmergeCells),mceTableMergeCells:()=>q(b.mergeCells),mceTableInsertRowBefore:()=>q(b.insertRowsBefore),mceTableInsertRowAfter:()=>q(b.insertRowsAfter),mceTableInsertColBefore:()=>q(b.insertColumnsBefore),mceTableInsertColAfter:()=>q(b.insertColumnsAfter),mceTableDeleteCol:()=>q(b.deleteColumn),mceTableDeleteRow:()=>q(b.deleteRow),mceTableCutCol:()=>ce().each(ve=>{pi(ve),q(b.deleteColumn)}),mceTableCutRow:()=>J().each(ve=>{Pb(ve),q(b.deleteRow)}),mceTableCopyCol:()=>ce().each(ve=>pi(ve)),mceTableCopyRow:()=>J().each(ve=>Pb(ve)),mceTablePasteColBefore:()=>Ne(b.pasteColsBefore,fi),mceTablePasteColAfter:()=>Ne(b.pasteColsAfter,fi),mceTablePasteRowBefore:()=>Ne(b.pasteRowsBefore,Ji),mceTablePasteRowAfter:()=>Ne(b.pasteRowsAfter,Ji),mceTableDelete:()=>Hi(p).each(ve=>{ns(ve,_).filter(ht(_)).each(Oe=>{const He=Ft.fromText("");if(nn(Oe,He),Se(Oe),p.dom.isEmpty(p.getBody()))p.setContent(""),p.selection.setCursorLocation();else{const ft=p.dom.createRng();ft.setStart(He.dom,0),ft.setEnd(He.dom,0),p.selection.setRng(ft),p.nodeChanged()}})}),mceTableCellToggleClass:(ve,Oe)=>{I(He=>{const ft=Pc(p),xt=Ot(ft,Xt=>p.formatter.match("tablecellclass",{value:Oe},Xt.dom)),Gt=xt?p.formatter.remove:p.formatter.apply;qe(ft,Xt=>Gt("tablecellclass",{value:Oe},Xt.dom)),qa(p,He.dom,Jm)})},mceTableToggleClass:(ve,Oe)=>{I(He=>{p.formatter.toggle("tableclass",{value:Oe},He.dom),qa(p,He.dom,Jm)})},mceTableToggleCaption:()=>{Hi(p).each(ve=>{ns(ve,_).each(Oe=>{Cr(Oe,"caption").fold(()=>{const He=Ft.fromTag("caption");hr(He,Ft.fromText("Caption")),((ft,xt,Gt)=>{At(ft,0).fold(()=>{hr(ft,xt)},Xt=>{pt(Xt,xt)})})(Oe,He),p.selection.setCursorLocation(He.dom,0)},He=>{on("caption")(ve)&&yr("td",Oe).each(ft=>p.selection.setCursorLocation(ft.dom,0)),Se(He)}),qa(p,Oe.dom,Ii)})})},mceTableSizingMode:(ve,Oe)=>(He=>Hi(p).each(ft=>{Me(p)||K(p)||j(p)||ns(ft,_).each(xt=>{He!=="relative"||Op(xt)?He!=="fixed"||Bb(xt)?He!=="responsive"||ym(xt)||Fb(xt):Qm(xt):dd(xt),fc(xt),qa(p,xt.dom,Ii)})}))(Oe),mceTableCellType:Ye(ve=>ve==="th"?b.makeCellsHeader:b.unmakeCellsHeader),mceTableColType:Ye(ve=>ve==="th"?b.makeColumnsHeader:b.unmakeColumnsHeader),mceTableRowType:Ye(ve=>{switch(ve){case"header":return b.makeRowsHeader;case"footer":return b.makeRowsFooter;default:return b.makeRowsBody}})},(ve,Oe)=>p.addCommand(Oe,ve)),p.addCommand("mceInsertTable",(ve,Oe)=>{((He,ft,xt,Gt={})=>{const Xt=Zt=>Mo(Zt)&&Zt>0;if(Xt(ft)&&Xt(xt)){const Zt=Gt.headerRows||0,Ge=Gt.headerColumns||0;return rh(He,xt,ft,Ge,Zt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(p,Oe.rows,Oe.columns,Oe.options)}),p.addCommand("mceTableApplyCellStyle",(ve,Oe)=>{const He=Gt=>"tablecell"+Gt.toLowerCase().replace("-","");if(!mo(Oe))return;const ft=gt(Pc(p),xb);if(ft.length===0)return;const xt=((Gt,Xt)=>{const Zt={};return((Ge,fo,To,Bo)=>{Vt(Ge,(On,Vn)=>{(fo(On,Vn)?To:Bo)(On,Vn)})})(Gt,Xt,(Ge=>(fo,To)=>{Ge[To]=fo})(Zt),Ve),Zt})(Oe,(Gt,Xt)=>p.formatter.has(He(Xt))&&Qo(Gt));(Gt=>{for(const Xt in Gt)if(_e.call(Gt,Xt))return!1;return!0})(xt)||(Vt(xt,(Gt,Xt)=>{const Zt=He(Xt);qe(ft,Ge=>{Gt===""?p.formatter.remove(Zt,{value:null},Ge.dom,!0):p.formatter.apply(Zt,{value:Gt},Ge.dom)})}),A(ft[0]).each(Gt=>qa(p,Gt.dom,Jm)))})},ei=Li([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),gl={before:ei.before,on:ei.on,after:ei.after,cata:(p,b,_,A)=>p.fold(b,_,A),getStart:p=>p.fold(ho,ho,ho)},eg=(p,b)=>({selection:p,kill:b}),O0=(p,b)=>{const _=p.document.createRange();return _.selectNode(b.dom),_},Yv=(p,b)=>{const _=p.document.createRange();return Xv(_,b),_},Xv=(p,b)=>p.selectNodeContents(b.dom),N0=(p,b,_)=>{const A=p.document.createRange();var I;return I=A,b.fold(H=>{I.setStartBefore(H.dom)},(H,q)=>{I.setStart(H.dom,q)},H=>{I.setStartAfter(H.dom)}),((H,q)=>{q.fold(J=>{H.setEndBefore(J.dom)},(J,ce)=>{H.setEnd(J.dom,ce)},J=>{H.setEndAfter(J.dom)})})(A,_),A},ah=(p,b,_,A,I)=>{const H=p.document.createRange();return H.setStart(b.dom,_),H.setEnd(A.dom,I),H},M0=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom,width:p.width,height:p.height}),sh=Li([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Hb=(p,b,_)=>b(Ft.fromDom(_.startContainer),_.startOffset,Ft.fromDom(_.endContainer),_.endOffset),Gl=(p,b)=>{const _=((A,I)=>I.match({domRange:H=>({ltr:ut(H),rtl:ge.none}),relative:(H,q)=>({ltr:xo(()=>N0(A,H,q)),rtl:xo(()=>ge.some(N0(A,q,H)))}),exact:(H,q,J,ce)=>({ltr:xo(()=>ah(A,H,q,J,ce)),rtl:xo(()=>ge.some(ah(A,J,ce,H,q)))})}))(p,b);return((A,I)=>{const H=I.ltr();return H.collapsed?I.rtl().filter(q=>q.collapsed===!1).map(q=>sh.rtl(Ft.fromDom(q.endContainer),q.endOffset,Ft.fromDom(q.startContainer),q.startOffset)).getOrThunk(()=>Hb(0,sh.ltr,H)):Hb(0,sh.ltr,H)})(0,_)},D0=(p,b)=>Gl(p,b).match({ltr:(_,A,I,H)=>{const q=p.document.createRange();return q.setStart(_.dom,A),q.setEnd(I.dom,H),q},rtl:(_,A,I,H)=>{const q=p.document.createRange();return q.setStart(I.dom,H),q.setEnd(_.dom,A),q}});sh.ltr,sh.rtl;const Il=(p,b,_,A)=>({start:p,soffset:b,finish:_,foffset:A}),ih=(p,b,_,A)=>({start:gl.on(p,b),finish:gl.on(_,A)}),Dp=(p,b)=>{const _=D0(p,b);return Il(Ft.fromDom(_.startContainer),_.startOffset,Ft.fromDom(_.endContainer),_.endOffset)},ud=ih,zl=(p,b,_,A,I)=>jo(_,A)?ge.none():Ul(_,A,b).bind(H=>{const q=H.boxes.getOr([]);return q.length>1?(I(p,q,H.start,H.finish),ge.some(eg(ge.some(ud(_,0,_,Kr(_))),!0))):ge.none()}),lh=(p,b)=>({item:p,mode:b}),jb=(p,b,_,A=tg)=>p.property().parent(b).map(I=>lh(I,A)),tg=(p,b,_,A=Rp)=>_.sibling(p,b).map(I=>lh(I,A)),Rp=(p,b,_,A=Rp)=>{const I=p.property().children(b);return _.first(I).map(H=>lh(H,A))},R0=[{current:jb,next:tg,fallback:ge.none()},{current:tg,next:Rp,fallback:ge.some(jb)},{current:Rp,next:Rp,fallback:ge.some(tg)}],B0=(p,b,_,A,I=R0)=>$t(I,H=>H.current===_).bind(H=>H.current(p,b,A,H.next).orThunk(()=>H.fallback.bind(q=>B0(p,b,q,A)))),Vb=(p,b,_,A,I,H)=>B0(p,b,A,I).bind(q=>H(q.item)?ge.none():_(q.item)?ge.some(q.item):Vb(p,q.item,_,q.mode,I,H)),$g=p=>b=>p.property().children(b).length===0,Jv=(p,b,_,A)=>Vb(p,b,_,tg,{sibling:(I,H)=>I.query().prevSibling(H),first:I=>I.length>0?ge.some(I[I.length-1]):ge.none()},A),Bp=(p,b,_,A)=>Vb(p,b,_,tg,{sibling:(I,H)=>I.query().nextSibling(H),first:I=>I.length>0?ge.some(I[0]):ge.none()},A),ch=mm(),vm=(p,b)=>((_,A,I)=>Jv(_,A,$g(_),I))(ch,p,b),Qv=(p,b)=>((_,A,I)=>Bp(_,A,$g(_),I))(ch,p,b),dh=Li([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Kl=p=>Un(p,"tr"),og={...dh,verify:(p,b,_,A,I,H,q)=>Un(A,"td,th",q).bind(J=>Un(b,"td,th",q).map(ce=>jo(J,ce)?jo(A,J)&&Kr(J)===I?H(ce):dh.none("in same cell"):gi(Kl,[J,ce]).fold(()=>((Ne,Ye,ve)=>{const Oe=Ne.getRect(Ye),He=Ne.getRect(ve);return He.right>Oe.left&&He.left<Oe.right})(p,ce,J)?dh.success():H(ce),Ne=>H(ce)))).getOr(dh.none("default")),cata:(p,b,_,A,I)=>p.fold(b,_,A,I)},$b=on("br"),Fp=(p,b,_)=>b(p,_).bind(A=>vt(A)&&fa(A).trim().length===0?Fp(A,b,_):ge.some(A)),Ub=(p,b,_,A)=>((I,H)=>At(I,H).filter($b).orThunk(()=>At(I,H-1).filter($b)))(b,_).bind(I=>A.traverse(I).fold(()=>Fp(I,A.gather,p).map(A.relative),H=>(q=>La(q).bind(J=>{const ce=nt(J);return((Ne,Ye)=>So(Ne,Ae(jo,Ye)))(ce,q).map(Ne=>((Ye,ve,Oe,He)=>({parent:Ye,children:ve,element:Oe,index:He}))(J,ce,q,Ne))}))(H).map(q=>gl.on(q.parent,q.index)))),Zb=(p,b)=>({left:p.left,top:p.top+b,right:p.right,bottom:p.bottom+b}),uh=(p,b)=>({left:p.left,top:p.top-b,right:p.right,bottom:p.bottom-b}),F0=(p,b,_)=>({left:p.left+b,top:p.top+_,right:p.right+b,bottom:p.bottom+_}),xm=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom}),L0=(p,b)=>ge.some(p.getRect(b)),I0=(p,b,_)=>tt(b)?L0(p,b).map(xm):vt(b)?((A,I,H)=>H>=0&&H<Kr(I)?A.getRangedRect(I,H,I,H+1):H>0?A.getRangedRect(I,H-1,I,H):ge.none())(p,b,_).map(xm):ge.none(),ex=(p,b)=>tt(b)?L0(p,b).map(xm):vt(b)?p.getRangedRect(b,0,b,Kr(b)).map(xm):ge.none(),pl=Li([{none:[]},{retry:["caret"]}]),ng=(p,b,_)=>Us(b,Hr).fold(ue,A=>ex(p,A).exists(I=>((H,q)=>H.left<q.left||Math.abs(q.right-H.left)<1||H.left>q.right)(_,I))),qb={point:p=>p.bottom,adjuster:(p,b,_,A,I)=>{const H=Zb(I,5);return Math.abs(_.bottom-A.bottom)<1||_.top>I.bottom?pl.retry(H):_.top===I.bottom?pl.retry(Zb(I,1)):ng(p,b,I)?pl.retry(F0(H,5,0)):pl.none()},move:Zb,gather:Qv},mh=(p,b,_,A,I)=>I===0?ge.some(A):((H,q,J)=>H.elementFromPoint(q,J).filter(ce=>_t(ce)==="table").isSome())(p,A.left,b.point(A))?((H,q,J,ce,Ne)=>mh(H,q,J,q.move(ce,5),Ne))(p,b,_,A,I-1):p.situsFromPoint(A.left,b.point(A)).bind(H=>H.start.fold(ge.none,q=>ex(p,q).bind(J=>b.adjuster(p,q,J,_,A).fold(ge.none,ce=>mh(p,b,_,ce,I-1))).orThunk(()=>ge.some(A)),ge.none)),tx=(p,b,_)=>{const A=p.move(_,5),I=mh(b,p,_,A,100).getOr(A);return((H,q,J)=>H.point(q)>J.getInnerHeight()?ge.some(H.point(q)-J.getInnerHeight()):H.point(q)<0?ge.some(-H.point(q)):ge.none())(p,I,b).fold(()=>b.situsFromPoint(I.left,p.point(I)),H=>(b.scrollBy(0,H),b.situsFromPoint(I.left,p.point(I)-H)))},hu={tryUp:Ae(tx,{point:p=>p.top,adjuster:(p,b,_,A,I)=>{const H=uh(I,5);return Math.abs(_.top-A.top)<1||_.bottom<I.top?pl.retry(H):_.bottom===I.top?pl.retry(uh(I,1)):ng(p,b,I)?pl.retry(F0(H,5,0)):pl.none()},move:uh,gather:vm}),tryDown:Ae(tx,qb),getJumpSize:ut(5)},Wb=(p,b,_)=>p.getSelection().bind(A=>((I,H,q,J)=>($b(H)?((Ne,Ye,ve)=>ve.traverse(Ye).orThunk(()=>Fp(Ye,ve.gather,Ne)).map(ve.relative))(I,H,J):Ub(I,H,q,J)).map(Ne=>({start:Ne,finish:Ne})))(b,A.finish,A.foffset,_).fold(()=>ge.some(Kt(A.finish,A.foffset)),I=>{const H=p.fromSitus(I);return q=og.verify(p,A.finish,A.foffset,H.finish,H.foffset,_.failure,b),og.cata(q,J=>ge.none(),()=>ge.none(),J=>ge.some(Kt(J,0)),J=>ge.some(Kt(J,Kr(J))));var q})),Gb=(p,b,_,A,I,H)=>H===0?ge.none():k_(p,b,_,A,I).bind(q=>{const J=p.fromSitus(q),ce=og.verify(p,_,A,J.finish,J.foffset,I.failure,b);return og.cata(ce,()=>ge.none(),()=>ge.some(q),Ne=>jo(_,Ne)&&A===0?wm(p,_,A,uh,I):Gb(p,b,Ne,0,I,H-1),Ne=>jo(_,Ne)&&A===Kr(Ne)?wm(p,_,A,Zb,I):Gb(p,b,Ne,Kr(Ne),I,H-1))}),wm=(p,b,_,A,I)=>I0(p,b,_).bind(H=>gh(p,I,A(H,hu.getJumpSize()))),gh=(p,b,_)=>{const A=xl().browser;return A.isChromium()||A.isSafari()||A.isFirefox()?b.retry(p,_):ge.none()},k_=(p,b,_,A,I)=>I0(p,_,A).bind(H=>gh(p,I,H)),ox=(p,b,_,A,I)=>Un(A,"td,th",b).bind(H=>Un(H,"table",b).bind(q=>((J,ce)=>sa(J,Ne=>La(Ne).exists(Ye=>jo(Ye,ce)),void 0).isSome())(I,q)?((J,ce,Ne)=>Wb(J,ce,Ne).bind(Ye=>Gb(J,ce,Ye.element,Ye.offset,Ne,20).map(J.fromSitus)))(p,b,_).bind(J=>Un(J.finish,"td,th",b).map(ce=>({start:H,finish:ce,range:J}))):ge.none())),P0=(p,b,_,A,I,H)=>H(A,b).orThunk(()=>ox(p,b,_,A,I).map(q=>{const J=q.range;return eg(ge.some(ud(J.start,J.soffset,J.finish,J.foffset)),!0)})),__=(p,b)=>Un(p,"tr",b).bind(_=>Un(_,"table",b).bind(A=>{const I=_r(A,"tr");return jo(_,I[0])?((H,q,J)=>Jv(ch,H,ce=>St(ce).isSome(),J))(A,0,b).map(H=>{const q=Kr(H);return eg(ge.some(ud(H,q,H,q)),!0)}):ge.none()})),C_=(p,b)=>Un(p,"tr",b).bind(_=>Un(_,"table",b).bind(A=>{const I=_r(A,"tr");return jo(_,I[I.length-1])?((H,q,J)=>Bp(ch,H,ce=>js(ce).isSome(),J))(A,0,b).map(H=>eg(ge.some(ud(H,0,H,0)),!0)):ge.none()})),Lp=(p,b,_,A,I,H,q)=>ox(p,_,A,I,H).bind(J=>zl(b,_,J.start,J.finish,q)),Kb=p=>{let b=p;return{get:()=>b,set:_=>{b=_}}},Yb=()=>{const p=(b=>{const _=Kb(ge.none()),A=()=>_.get().each(b);return{clear:()=>{A(),_.set(ge.none())},isSet:()=>_.get().isSome(),get:()=>_.get(),set:I=>{A(),_.set(ge.some(I))}}})(Ve);return{...p,on:b=>p.get().each(b)}},nx=(p,b)=>Un(p,"td,th",b),rx=p=>es(p).exists(ha),Xb={traverse:za,gather:Qv,relative:gl.before,retry:hu.tryDown,failure:og.failedDown},H0={traverse:Fs,gather:vm,relative:gl.before,retry:hu.tryUp,failure:og.failedUp},Ip=p=>b=>b===p,Pp=Ip(38),Hp=Ip(40),jp=p=>p>=37&&p<=40,Jb={isBackward:Ip(37),isForward:Ip(39)},ph={isBackward:Ip(39),isForward:Ip(37)},Vp=Li([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ug={domRange:Vp.domRange,relative:Vp.relative,exact:Vp.exact,exactFromRange:p=>Vp.exact(p.start,p.soffset,p.finish,p.foffset),getWin:p=>{const b=(_=>_.match({domRange:A=>Ft.fromDom(A.startContainer),relative:(A,I)=>gl.getStart(A),exact:(A,I,H,q)=>A}))(p);return Ft.fromDom(cs(b).dom.defaultView)},range:Il},fh=(p,b)=>{const _=_t(p);return _==="input"?gl.after(p):Ho(["br","img"],_)?b===0?gl.before(p):gl.after(p):gl.on(p,b)},rg=p=>ge.from(p.getSelection()),j0=(p,b)=>{rg(p).each(_=>{_.removeAllRanges(),_.addRange(b)})},hh=(p,b,_,A,I)=>{const H=ah(p,b,_,A,I);j0(p,H)},V0=(p,b)=>Gl(p,b).match({ltr:(_,A,I,H)=>{hh(p,_,A,I,H)},rtl:(_,A,I,H)=>{rg(p).each(q=>{if(q.setBaseAndExtent)q.setBaseAndExtent(_.dom,A,I.dom,H);else if(q.extend)try{((J,ce,Ne,Ye,ve,Oe)=>{ce.collapse(Ne.dom,Ye),ce.extend(ve.dom,Oe)})(0,q,_,A,I,H)}catch{hh(p,I,H,_,A)}else hh(p,I,H,_,A)})}}),Tl=(p,b,_,A,I)=>{const H=((q,J,ce,Ne)=>{const Ye=fh(q,J),ve=fh(ce,Ne);return Ug.relative(Ye,ve)})(b,_,A,I);V0(p,H)},$0=(p,b,_)=>{const A=((I,H)=>{const q=I.fold(gl.before,fh,gl.after),J=H.fold(gl.before,fh,gl.after);return Ug.relative(q,J)})(b,_);V0(p,A)},ax=p=>{if(p.rangeCount>0){const b=p.getRangeAt(0),_=p.getRangeAt(p.rangeCount-1);return ge.some(Il(Ft.fromDom(b.startContainer),b.startOffset,Ft.fromDom(_.endContainer),_.endOffset))}return ge.none()},sx=p=>{if(p.anchorNode===null||p.focusNode===null)return ax(p);{const b=Ft.fromDom(p.anchorNode),_=Ft.fromDom(p.focusNode);return((A,I,H,q)=>{const J=((Ne,Ye,ve,Oe)=>{const He=Fa(Ne).dom.createRange();return He.setStart(Ne.dom,Ye),He.setEnd(ve.dom,Oe),He})(A,I,H,q),ce=jo(A,H)&&I===q;return J.collapsed&&!ce})(b,p.anchorOffset,_,p.focusOffset)?ge.some(Il(b,p.anchorOffset,_,p.focusOffset)):ax(p)}},U0=(p,b,_=!0)=>{const A=(_?Yv:O0)(p,b);j0(p,A)},Zg=p=>(b=>rg(b).filter(_=>_.rangeCount>0).bind(sx))(p).map(b=>Ug.exact(b.start,b.soffset,b.finish,b.foffset)),ix=(p,b,_)=>((A,I,H)=>((q,J,ce)=>q.caretPositionFromPoint?((Ne,Ye,ve)=>{var Oe;return ge.from((Oe=Ne.caretPositionFromPoint)===null||Oe===void 0?void 0:Oe.call(Ne,Ye,ve)).bind(He=>{if(He.offsetNode===null)return ge.none();const ft=Ne.createRange();return ft.setStart(He.offsetNode,He.offset),ft.collapse(),ge.some(ft)})})(q,J,ce):q.caretRangeFromPoint?((Ne,Ye,ve)=>{var Oe;return ge.from((Oe=Ne.caretRangeFromPoint)===null||Oe===void 0?void 0:Oe.call(Ne,Ye,ve))})(q,J,ce):ge.none())(A.document,I,H).map(q=>Il(Ft.fromDom(q.startContainer),q.startOffset,Ft.fromDom(q.endContainer),q.endOffset)))(p,b,_),bh=p=>({elementFromPoint:(b,_)=>Ft.fromPoint(Ft.fromDom(p.document),b,_),getRect:b=>b.dom.getBoundingClientRect(),getRangedRect:(b,_,A,I)=>{const H=Ug.exact(b,_,A,I);return((q,J)=>(ce=>{const Ne=ce.getClientRects(),Ye=Ne.length>0?Ne[0]:ce.getBoundingClientRect();return Ye.width>0||Ye.height>0?ge.some(Ye).map(M0):ge.none()})(D0(q,J)))(p,H)},getSelection:()=>Zg(p).map(b=>Dp(p,b)),fromSitus:b=>{const _=Ug.relative(b.start,b.finish);return Dp(p,_)},situsFromPoint:(b,_)=>ix(p,b,_).map(A=>ih(A.start,A.soffset,A.finish,A.foffset)),clearSelection:()=>{(b=>{rg(b).each(_=>_.removeAllRanges())})(p)},collapseSelection:(b=!1)=>{Zg(p).each(_=>_.fold(A=>A.collapse(b),(A,I)=>{const H=b?A:I;$0(p,H,H)},(A,I,H,q)=>{const J=b?A:H,ce=b?I:q;Tl(p,J,ce,J,ce)}))},setSelection:b=>{Tl(p,b.start,b.soffset,b.finish,b.foffset)},setRelativeSelection:(b,_)=>{$0(p,b,_)},selectNode:b=>{U0(p,b,!1)},selectContents:b=>{U0(p,b)},getInnerHeight:()=>p.innerHeight,getScrollY:()=>(b=>{const _=b!==void 0?b.dom:document,A=_.body.scrollLeft||_.documentElement.scrollLeft,I=_.body.scrollTop||_.documentElement.scrollTop;return di(A,I)})(Ft.fromDom(p.document)).top,scrollBy:(b,_)=>{((A,I,H)=>{const q=(H!==void 0?H.dom:document).defaultView;q&&q.scrollBy(A,I)})(b,_,Ft.fromDom(p.document))}}),qg=(p,b)=>({rows:p,cols:b}),lx=p=>Us(p,Oo).exists(ha),Wg=(p,b)=>lx(p)||lx(b),Qb=p=>p.dom.classList!==void 0,Z0=(p,b)=>((_,A,I)=>{const H=((q,J)=>{const ce=zt(q,J);return ce===void 0||ce===""?[]:ce.split(" ")})(_,A).concat([I]);return Zo(_,A,H.join(" ")),!0})(p,"class",b),ag=(p,b)=>{Qb(p)?p.dom.classList.add(b):Z0(p,b)},yh=(p,b)=>Qb(p)&&p.dom.classList.contains(b),cx=()=>({tag:"none"}),sg=p=>({tag:"multiple",elements:p}),dx=p=>({tag:"single",element:p}),q0=p=>{const b=Ft.fromDom((J=>{if(Go(J.target)){const ce=Ft.fromDom(J.target);if(tt(ce)&&Go(ce.dom.shadowRoot)&&J.composed&&J.composedPath){const Ne=J.composedPath();if(Ne)return co(Ne)}}return ge.from(J.target)})(p).getOr(p.target)),_=()=>p.stopPropagation(),A=()=>p.preventDefault(),I=(H=A,q=_,(...J)=>H(q.apply(null,J)));var H,q;return((J,ce,Ne,Ye,ve,Oe,He)=>({target:J,x:ce,y:Ne,stop:Ye,prevent:ve,kill:Oe,raw:He}))(b,p.clientX,p.clientY,_,A,I,p)},ux=(p,b,_,A)=>{p.dom.removeEventListener(b,_,A)},W0=$e,$p=(p,b,_)=>((A,I,H,q)=>((J,ce,Ne,Ye,ve)=>{const Oe=((He,ft)=>xt=>{He(xt)&&ft(q0(xt))})(Ne,Ye);return J.dom.addEventListener(ce,Oe,ve),{unbind:Ae(ux,J,ce,Oe,ve)}})(A,I,H,q,!1))(p,b,W0,_),Up=q0,Gg=p=>!yh(Ft.fromDom(p.target),"ephox-snooker-resizer-bar"),vh=(p,b)=>{const _=(I=Zl.selectedSelector,{get:()=>jm(Ft.fromDom(p.getBody()),I).fold(()=>Ta(Bc(p),Ri(p)).fold(cx,dx),sg)}),A=((H,q,J)=>{const ce=Oe=>{Kn(Oe,H.selected),Kn(Oe,H.firstSelected),Kn(Oe,H.lastSelected)},Ne=Oe=>{Zo(Oe,H.selected,"1")},Ye=Oe=>{ve(Oe),J()},ve=Oe=>{const He=_r(Oe,`${H.selectedSelector},${H.firstSelectedSelector},${H.lastSelectedSelector}`);qe(He,ce)};return{clearBeforeUpdate:ve,clear:Ye,selectRange:(Oe,He,ft,xt)=>{Ye(Oe),qe(He,Ne),Zo(ft,H.firstSelected,"1"),Zo(xt,H.lastSelected,"1"),q(He,ft,xt)},selectedSelector:H.selectedSelector,firstSelectedSelector:H.firstSelectedSelector,lastSelectedSelector:H.lastSelectedSelector}})(Zl,(H,q,J)=>{ns(q).each(ce=>{const Ne=D(H,He=>He.dom),Ye=dl(p),ve=Mi(Ve,Ft.fromDom(p.getDoc()),Ye),Oe=((He,ft,xt)=>{const Gt=Ia(He);return Yi(Gt,ft).map(Xt=>{const Zt=Rn(Gt,xt,!1),{rows:Ge}=pa(Zt),fo=((Bo,On)=>{const Vn=Bo.slice(0,On[On.length-1].row+1),na=Zr(Vn);return F(na,er=>{const Er=er.cells.slice(0,On[On.length-1].column+1);return D(Er,dr=>dr.element)})})(Ge,Xt),To=((Bo,On)=>{const Vn=Bo.slice(On[0].row+On[0].rowspan-1,Bo.length),na=Zr(Vn);return F(na,er=>{const Er=er.cells.slice(On[0].column+On[0].colspan-1,er.cells.length);return D(Er,dr=>dr.element)})})(Ge,Xt);return{upOrLeftCells:fo,downOrRightCells:To}})})(ce,{selection:Pc(p)},ve).map(He=>Ct(He,ft=>D(ft,xt=>xt.dom))).getOrUndefined();((He,ft,xt,Gt,Xt)=>{He.dispatch("TableSelectionChange",{cells:ft,start:xt,finish:Gt,otherCells:Xt})})(p,Ne,q.dom,J.dom,Oe)})},()=>(H=>{H.dispatch("TableSelectionClear")})(p));var I;return p.on("init",H=>{const q=p.getWin(),J=Ki(p),ce=Ri(p),Ne=((xt,Gt,Xt,Zt)=>{const Ge=((fo,To,Bo,On)=>{const Vn=Yb(),na=Vn.clear,er=Er=>{Vn.on(dr=>{On.clearBeforeUpdate(To),nx(Er.target,Bo).each(Ca=>{Ul(dr,Ca,Bo).each(ti=>{const el=ti.boxes.getOr([]);if(el.length===1){const ki=el[0],Yl=Za(ki)==="false",tl=Ma(kn(Er.target),ki,jo);Yl&&tl&&On.selectRange(To,el,ki,ki)}else el.length>1&&(On.selectRange(To,el,ti.start,ti.finish),fo.selectContents(Ca))})})})};return{clearstate:na,mousedown:Er=>{On.clear(To),nx(Er.target,Bo).filter(rx).each(Vn.set)},mouseover:Er=>{er(Er)},mouseup:Er=>{er(Er),na()}}})(bh(xt),Gt,Xt,Zt);return{clearstate:Ge.clearstate,mousedown:Ge.mousedown,mouseover:Ge.mouseover,mouseup:Ge.mouseup}})(q,J,ce,A),Ye=((xt,Gt,Xt,Zt)=>{const Ge=bh(xt),fo=()=>(Zt.clear(Gt),ge.none());return{keydown:(To,Bo,On,Vn,na,er)=>{const Er=To.raw,dr=Er.which,Ca=Er.shiftKey===!0;return Lc(Gt,Zt.selectedSelector).fold(()=>(jp(dr)&&!Ca&&Zt.clearBeforeUpdate(Gt),jp(dr)&&Ca&&!Wg(Bo,Vn)?ge.none:Hp(dr)&&Ca?Ae(Lp,Ge,Gt,Xt,Xb,Vn,Bo,Zt.selectRange):Pp(dr)&&Ca?Ae(Lp,Ge,Gt,Xt,H0,Vn,Bo,Zt.selectRange):Hp(dr)?Ae(P0,Ge,Xt,Xb,Vn,Bo,C_):Pp(dr)?Ae(P0,Ge,Xt,H0,Vn,Bo,__):ge.none),el=>{const ki=Yl=>()=>yo(Yl,Vi=>((qu,Wu,_m,cg,Ch)=>wb(cg,qu,Wu,Ch.firstSelectedSelector,Ch.lastSelectedSelector).map(Cm=>(Ch.clearBeforeUpdate(_m),Ch.selectRange(_m,Cm.boxes,Cm.start,Cm.finish),Cm.boxes)))(Vi.rows,Vi.cols,Gt,el,Zt)).fold(()=>Td(Gt,Zt.firstSelectedSelector,Zt.lastSelectedSelector).map(Vi=>{const qu=Hp(dr)||er.isForward(dr)?gl.after:gl.before;return Ge.setRelativeSelection(gl.on(Vi.first,0),qu(Vi.table)),Zt.clear(Gt),eg(ge.none(),!0)}),Vi=>ge.some(eg(ge.none(),!0)));return jp(dr)&&Ca&&!Wg(Bo,Vn)?ge.none:Hp(dr)&&Ca?ki([qg(1,0)]):Pp(dr)&&Ca?ki([qg(-1,0)]):er.isBackward(dr)&&Ca?ki([qg(0,-1),qg(-1,0)]):er.isForward(dr)&&Ca?ki([qg(0,1),qg(1,0)]):jp(dr)&&!Ca?fo:ge.none})()},keyup:(To,Bo,On,Vn,na)=>Lc(Gt,Zt.selectedSelector).fold(()=>{const er=To.raw,Er=er.which;return er.shiftKey===!0&&jp(Er)&&Wg(Bo,Vn)?((dr,Ca,ti,el,ki,Yl,tl)=>jo(ti,ki)&&el===Yl?ge.none():Un(ti,"td,th",Ca).bind(Vi=>Un(ki,"td,th",Ca).bind(qu=>zl(dr,Ca,Vi,qu,tl))))(Gt,Xt,Bo,On,Vn,na,Zt.selectRange):ge.none()},ge.none)}})(q,J,ce,A),ve=((xt,Gt,Xt,Zt)=>{const Ge=bh(xt);return(fo,To)=>{Zt.clearBeforeUpdate(Gt),Ul(fo,To,Xt).each(Bo=>{const On=Bo.boxes.getOr([]);Zt.selectRange(Gt,On,Bo.start,Bo.finish),Ge.selectContents(To),Ge.collapseSelection()})}})(q,J,ce,A);p.on("TableSelectorChange",xt=>ve(xt.start,xt.finish));const Oe=(xt,Gt)=>{(Xt=>Xt.raw.shiftKey===!0)(xt)&&(Gt.kill&&xt.kill(),Gt.selection.each(Xt=>{const Zt=Ug.relative(Xt.start,Xt.finish),Ge=D0(q,Zt);p.selection.setRng(Ge)}))},He=xt=>xt.button===0,ft=(()=>{const xt=Kb(Ft.fromDom(J)),Gt=Kb(0);return{touchEnd:Xt=>{const Zt=Ft.fromDom(Xt.target);if(on("td")(Zt)||on("th")(Zt)){const Ge=xt.get(),fo=Gt.get();jo(Ge,Zt)&&Xt.timeStamp-fo<300&&(Xt.preventDefault(),ve(Zt,Zt))}xt.set(Zt),Gt.set(Xt.timeStamp)}}})();p.on("dragstart",xt=>{Ne.clearstate()}),p.on("mousedown",xt=>{He(xt)&&Gg(xt)&&Ne.mousedown(Up(xt))}),p.on("mouseover",xt=>{var Gt;(Gt=xt).buttons!==void 0&&!(1&Gt.buttons)||!Gg(xt)||Ne.mouseover(Up(xt))}),p.on("mouseup",xt=>{He(xt)&&Gg(xt)&&Ne.mouseup(Up(xt))}),p.on("touchend",ft.touchEnd),p.on("keyup",xt=>{const Gt=Up(xt);if(Gt.raw.shiftKey&&jp(Gt.raw.which)){const Xt=p.selection.getRng(),Zt=Ft.fromDom(Xt.startContainer),Ge=Ft.fromDom(Xt.endContainer);Ye.keyup(Gt,Zt,Xt.startOffset,Ge,Xt.endOffset).each(fo=>{Oe(Gt,fo)})}}),p.on("keydown",xt=>{const Gt=Up(xt);b.hide();const Xt=p.selection.getRng(),Zt=Ft.fromDom(Xt.startContainer),Ge=Ft.fromDom(Xt.endContainer),fo=Fl(Jb,ph)(Ft.fromDom(p.selection.getStart()));Ye.keydown(Gt,Zt,Xt.startOffset,Ge,Xt.endOffset,fo).each(To=>{Oe(Gt,To)}),b.show()}),p.on("NodeChange",()=>{const xt=p.selection,Gt=Ft.fromDom(xt.getStart()),Xt=Ft.fromDom(xt.getEnd());gi(ns,[Gt,Xt]).fold(()=>A.clear(J),Ve)})}),p.on("PreInit",()=>{p.serializer.addTempAttr(Zl.firstSelected),p.serializer.addTempAttr(Zl.lastSelected)}),{getSelectedCells:()=>((H,q,J,ce)=>{switch(H.tag){case"none":return q();case"single":return(Ne=>[Ne.dom])(H.element);case"multiple":return(Ne=>D(Ne,Ye=>Ye.dom))(H.elements)}})(_.get(),ut([])),clearSelectedCells:H=>A.clear(Ft.fromDom(H))}},Bd=p=>{let b=[];return{bind:_=>{if(_===void 0)throw new Error("Event bind error: undefined handler");b.push(_)},unbind:_=>{b=gt(b,A=>A!==_)},trigger:(..._)=>{const A={};qe(p,(I,H)=>{A[I]=_[H]}),qe(b,I=>{I(A)})}}},Zu=p=>({registry:Ct(p,b=>({bind:b.bind,unbind:b.unbind})),trigger:Ct(p,b=>b.trigger)}),xh=p=>p.slice(0).sort(),fl=(p,b)=>{const _=gt(b,A=>!Ho(p,A));_.length>0&&(A=>{throw new Error("Unsupported keys for object: "+xh(A).join(", "))})(_)},Zp=p=>((b,_)=>((A,I,H)=>{if(I.length===0)throw new Error("You must specify at least one required field.");return((q,J)=>{if(!Wo(J))throw new Error("The "+q+" fields must be an array. Was: "+J+".");qe(J,ce=>{if(!Qo(ce))throw new Error("The value "+ce+" in the "+q+" fields was not a string.")})})("required",I),(q=>{const J=xh(q);$t(J,(ce,Ne)=>Ne<J.length-1&&ce===J[Ne+1]).each(ce=>{throw new Error("The field: "+ce+" occurs more than once in the combined fields: ["+J.join(", ")+"].")})})(I),q=>{const J=No(q);Ot(I,Ne=>Ho(J,Ne))||((Ne,Ye)=>{throw new Error("All required keys ("+xh(Ne).join(", ")+") were not specified. Specified keys were: "+xh(Ye).join(", ")+".")})(I,J),A(I,J);const ce=gt(I,Ne=>!H.validate(q[Ne],Ne));return ce.length>0&&((Ne,Ye)=>{throw new Error("All values need to be of type: "+Ye+". Keys ("+xh(Ne).join(", ")+") were not.")})(ce,H.label),q}})(b,_,{validate:gn,label:"function"}))(fl,p),qp=Zp(["compare","extract","mutate","sink"]),wh=Zp(["element","start","stop","destroy"]),mx=Zp(["forceDrop","drop","move","delayDrop"]),G0=()=>{const p=(()=>{const A=Zu({move:Bd(["info"])});return{onEvent:Ve,reset:Ve,events:A.registry}})(),b=(()=>{let A=ge.none();const I=Zu({move:Bd(["info"])});return{onEvent:(H,q)=>{q.extract(H).each(J=>{((Ne,Ye)=>{const ve=A.map(Oe=>Ne.compare(Oe,Ye));return A=ge.some(Ye),ve})(q,J).each(Ne=>{I.trigger.move(Ne)})})},reset:()=>{A=ge.none()},events:I.registry}})();let _=p;return{on:()=>{_.reset(),_=b},off:()=>{_.reset(),_=p},isOn:()=>_===b,onEvent:(A,I)=>{_.onEvent(A,I)},events:b.events}},ig=p=>{const b=p.replace(/\./g,"-");return{resolve:_=>b+"-"+_}},Vc=ig("ephox-dragster").resolve;var kh=qp({compare:(p,b)=>di(b.left-p.left,b.top-p.top),extract:p=>ge.some(di(p.x,p.y)),sink:(p,b)=>{const _=(J=>{const ce={layerClass:Vc("blocker"),...J},Ne=Ft.fromTag("div");return Zo(Ne,"role","presentation"),Dn(Ne,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ag(Ne,Vc("blocker")),ag(Ne,ce.layerClass),{element:ut(Ne),destroy:()=>{Se(Ne)}}})(b),A=$p(_.element(),"mousedown",p.forceDrop),I=$p(_.element(),"mouseup",p.drop),H=$p(_.element(),"mousemove",p.move),q=$p(_.element(),"mouseout",p.delayDrop);return wh({element:_.element,start:J=>{hr(J,_.element())},stop:()=>{Se(_.element())},destroy:()=>{_.destroy(),I.unbind(),H.unbind(),q.unbind(),A.unbind()}})},mutate:(p,b)=>{p.mutate(b.left,b.top)}});const km=ig("ephox-snooker").resolve,Pl=km("resizer-bar"),Fd=km("resizer-rows"),Wp=km("resizer-cols"),Kg=p=>{const b=_r(p.parent(),"."+Pl);qe(b,Se)},K0=(p,b,_)=>{const A=p.origin();qe(b,I=>{I.each(H=>{const q=_(A,H);ag(q,Pl),hr(p.parent(),q)})})},gx=(p,b,_,A,I)=>{const H=us(_),q=b.isResizable,J=A.length>0?Yc.positions(A,_):[],ce=J.length>0?((ve,Oe)=>F(ve.all,(He,ft)=>Oe(He.element)?[ft]:[]))(p,q):[];((ve,Oe,He,ft)=>{K0(ve,Oe,(xt,Gt)=>{const Xt=((Zt,Ge,fo,To,Bo)=>{const On=Ft.fromTag("div");return Dn(On,{position:"absolute",left:Ge+"px",top:fo-3.5+"px",height:"7px",width:To+"px"}),Yn(On,{"data-row":Zt,role:"presentation"}),On})(Gt.row,He.left-xt.left,Gt.y-xt.top,ft);return ag(Xt,Fd),Xt})})(b,gt(J,(ve,Oe)=>Uo(ce,He=>Oe===He)),H,yt(_));const Ne=I.length>0?Jc.positions(I,_):[],Ye=Ne.length>0?((ve,Oe)=>{const He=[];return Rt(ve.grid.columns,ft=>{Jd(ve,ft).map(xt=>xt.element).forall(Oe)&&He.push(ft)}),gt(He,ft=>{const xt=vd(ve,Gt=>Gt.column===ft);return Ot(xt,Gt=>Oe(Gt.element))})})(p,q):[];((ve,Oe,He,ft)=>{K0(ve,Oe,(xt,Gt)=>{const Xt=((Zt,Ge,fo,To,Bo)=>{const On=Ft.fromTag("div");return Dn(On,{position:"absolute",left:Ge-3.5+"px",top:fo+"px",height:Bo+"px",width:"7px"}),Yn(On,{"data-column":Zt,role:"presentation"}),On})(Gt.col,Gt.x-xt.left,He.top-xt.top,0,ft);return ag(Xt,Wp),Xt})})(b,gt(Ne,(ve,Oe)=>Uo(Ye,He=>Oe===He)),H,mc(_))},lg=(p,b)=>{if(Kg(p),p.isResizable(b)){const _=Ia(b),A=Ti(_),I=Qd(_);gx(_,p,b,A,I)}},Yg=(p,b)=>{const _=_r(p.parent(),"."+Pl);qe(_,b)},ey=p=>{Yg(p,b=>{da(b,"display","none")})},Y0=p=>{Yg(p,b=>{da(b,"display","block")})},Gp=km("resizer-bar-dragging"),_h=p=>{const b=(()=>{const ve=Zu({drag:Bd(["xDelta","yDelta","target"])});let Oe=ge.none();const He=(()=>{const ft=Zu({drag:Bd(["xDelta","yDelta"])});return{mutate:(xt,Gt)=>{ft.trigger.drag(xt,Gt)},events:ft.registry}})();return He.events.drag.bind(ft=>{Oe.each(xt=>{ve.trigger.drag(ft.xDelta,ft.yDelta,xt)})}),{assign:ft=>{Oe=ge.some(ft)},get:()=>Oe,mutate:He.mutate,events:ve.registry}})(),_=((ve,Oe={})=>{var He;return((ft,xt,Gt)=>{let Xt=!1;const Zt=Zu({start:Bd([]),stop:Bd([])}),Ge=G0(),fo=()=>{On.stop(),Ge.isOn()&&(Ge.off(),Zt.trigger.stop())},To=((Vn,na)=>{let er=null;const Er=()=>{jt(er)||(clearTimeout(er),er=null)};return{cancel:Er,throttle:(...dr)=>{Er(),er=setTimeout(()=>{er=null,Vn.apply(null,dr)},200)}}})(fo);Ge.events.move.bind(Vn=>{xt.mutate(ft,Vn.info)});const Bo=Vn=>(...na)=>{Xt&&Vn.apply(null,na)},On=xt.sink(mx({forceDrop:fo,drop:Bo(fo),move:Bo(Vn=>{To.cancel(),Ge.onEvent(Vn,xt)}),delayDrop:Bo(To.throttle)}),Gt);return{element:On.element,go:Vn=>{On.start(Vn),Ge.on(),Zt.trigger.start()},on:()=>{Xt=!0},off:()=>{Xt=!1},isActive:()=>Xt,destroy:()=>{On.destroy()},events:Zt.registry}})(ve,(He=Oe.mode)!==null&&He!==void 0?He:kh,Oe)})(b,{});let A=ge.none();const I=(ve,Oe)=>ge.from(zt(ve,Oe));b.events.drag.bind(ve=>{I(ve.target,"data-row").each(Oe=>{const He=qn(ve.target,"top");da(ve.target,"top",He+ve.yDelta+"px")}),I(ve.target,"data-column").each(Oe=>{const He=qn(ve.target,"left");da(ve.target,"left",He+ve.xDelta+"px")})});const H=(ve,Oe)=>qn(ve,Oe)-to(ve,"data-initial-"+Oe,0);_.events.stop.bind(()=>{b.get().each(ve=>{A.each(Oe=>{I(ve,"data-row").each(He=>{const ft=H(ve,"top");Kn(ve,"data-initial-top"),Ye.trigger.adjustHeight(Oe,ft,parseInt(He,10))}),I(ve,"data-column").each(He=>{const ft=H(ve,"left");Kn(ve,"data-initial-left"),Ye.trigger.adjustWidth(Oe,ft,parseInt(He,10))}),lg(p,Oe)})})});const q=(ve,Oe)=>{Ye.trigger.startAdjust(),b.assign(ve),Zo(ve,"data-initial-"+Oe,qn(ve,Oe)),ag(ve,Gp),da(ve,"opacity","0.2"),_.go(p.parent())},J=$p(p.parent(),"mousedown",ve=>{var Oe;Oe=ve.target,yh(Oe,Fd)&&q(ve.target,"top"),(He=>yh(He,Wp))(ve.target)&&q(ve.target,"left")}),ce=ve=>jo(ve,p.view()),Ne=$p(p.view(),"mouseover",ve=>{var Oe;(Oe=ve.target,Un(Oe,"table",ce).filter(ha)).fold(()=>{qo(ve.target)&&Kg(p)},He=>{_.isActive()&&(A=ge.some(He),lg(p,He))})}),Ye=Zu({adjustHeight:Bd(["table","delta","row"]),adjustWidth:Bd(["table","delta","column"]),startAdjust:Bd([])});return{destroy:()=>{J.unbind(),Ne.unbind(),_.destroy(),Kg(p)},refresh:ve=>{lg(p,ve)},on:_.on,off:_.off,hideBars:Ae(ey,p),showBars:Ae(Y0,p),events:Ye.registry}},ty=p=>Go(p)&&p.nodeName==="TABLE",Kp="bar-",Qi=p=>zt(p,"data-mce-resize")!=="false",S_=p=>{const b=Yb(),_=Yb(),A=Yb();let I,H,q,J;const ce=ve=>Xi(p,ve),Ne=()=>Ed(p)?fm():rd(),Ye=(ve,Oe,He,ft)=>{const xt=(Zt=>{return ni(Ge=Zt,"corner-")?((fo,To)=>fo.substring(7))(Ge):Ge;var Ge})(Oe),Gt=ia(xt,"e"),Xt=ni(xt,"n");if(H===""&&dd(ve),J===""&&(Zt=>{const Ge=(fo=>al(fo)+"px")(Zt);Rd(Zt,ge.none(),ge.some(Ge)),ii(Zt)})(ve),He!==I&&H!==""){da(ve,"width",H);const Zt=Ne(),Ge=ce(ve),fo=Ed(p)||Gt?(To=>rc(To).columns)(ve)-1:0;Hc(ve,He-I,fo,Zt,Ge)}else if((Zt=>/^(\d+(\.\d+)?)%$/.test(Zt))(H)){const Zt=parseFloat(H.replace("%",""));da(ve,"width",He*Zt/I+"%")}if((Zt=>/^(\d+(\.\d+)?)px$/.test(Zt))(H)&&(Zt=>{const Ge=Ia(Zt);Xd(Ge)||qe(ur(Zt),fo=>{const To=Xn(fo,"width");da(fo,"width",To),Kn(fo,"width")})})(ve),ft!==q&&J!==""){da(ve,"height",J);const Zt=Xt?0:(Ge=>rc(Ge).rows)(ve)-1;jc(ve,ft-q,Zt)}};return p.on("init",()=>{const ve=((Oe,He)=>Oe.inline?((ft,xt,Gt)=>({parent:ut(xt),view:ut(ft),origin:ut(di(0,0)),isResizable:Gt}))(Ft.fromDom(Oe.getBody()),(()=>{const ft=Ft.fromTag("div");return Dn(ft,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),hr(rn(Ft.fromDom(document)),ft),ft})(),He):((ft,xt)=>{const Gt=_o(ft)?(Xt=>Ft.fromDom(cs(Xt).dom.documentElement))(ft):ft;return{parent:ut(Gt),view:ut(ft),origin:ut(di(0,0)),isResizable:xt}})(Ft.fromDom(Oe.getDoc()),He))(p,Qi);if(A.set(ve),(Oe=>{const He=Oe.options.get("object_resizing");return Ho(He.split(","),"table")})(p)&&Le(p)){const Oe=((He,ft,xt)=>{const Gt=Yc,Xt=Jc,Zt=_h(He),Ge=Zu({beforeResize:Bd(["table","type"]),afterResize:Bd(["table","type"]),startDrag:Bd([])});return Zt.events.adjustHeight.bind(fo=>{const To=fo.table;Ge.trigger.beforeResize(To,"row");const Bo=Gt.delta(fo.delta,To);jc(To,Bo,fo.row),Ge.trigger.afterResize(To,"row")}),Zt.events.startAdjust.bind(fo=>{Ge.trigger.startDrag()}),Zt.events.adjustWidth.bind(fo=>{const To=fo.table;Ge.trigger.beforeResize(To,"col");const Bo=Xt.delta(fo.delta,To),On=xt(To);Hc(To,Bo,fo.column,ft,On),Ge.trigger.afterResize(To,"col")}),{on:Zt.on,off:Zt.off,refreshBars:Zt.refresh,hideBars:Zt.hideBars,showBars:Zt.showBars,destroy:Zt.destroy,events:Ge.registry}})(ve,Ne(),ce);p.mode.isReadOnly()||Oe.on(),Oe.events.startDrag.bind(He=>{b.set(p.selection.getRng())}),Oe.events.beforeResize.bind(He=>{const ft=He.table.dom;((xt,Gt,Xt,Zt,Ge)=>{xt.dispatch("ObjectResizeStart",{target:Gt,width:Xt,height:Zt,origin:Ge})})(p,ft,Vf(ft),Mu(ft),Kp+He.type)}),Oe.events.afterResize.bind(He=>{const ft=He.table,xt=ft.dom;fc(ft),b.on(Gt=>{p.selection.setRng(Gt),p.focus()}),((Gt,Xt,Zt,Ge,fo)=>{Gt.dispatch("ObjectResized",{target:Xt,width:Zt,height:Ge,origin:fo})})(p,xt,Vf(xt),Mu(xt),Kp+He.type),p.undoManager.add()}),_.set(Oe)}}),p.on("ObjectResizeStart",ve=>{const Oe=ve.target;if(ty(Oe)&&!p.mode.isReadOnly()){const He=Ft.fromDom(Oe);qe(p.dom.select(".mce-clonedresizable"),ft=>{p.dom.addClass(ft,"mce-"+cm(p)+"-columns")}),!Bb(He)&&K(p)?Qm(He):!Op(He)&&j(p)&&dd(He),ym(He)&&ni(ve.origin,Kp)&&dd(He),I=ve.width,H=Me(p)?"":vb(p,Oe).getOr(""),q=ve.height,J=Vs(p,Oe).getOr("")}}),p.on("ObjectResized",ve=>{const Oe=ve.target;if(ty(Oe)){const He=Ft.fromDom(Oe),ft=ve.origin;(xt=>ni(xt,"corner-"))(ft)&&Ye(He,ft,ve.width,ve.height),fc(He),qa(p,He.dom,Jm)}}),p.on("SwitchMode",()=>{_.on(ve=>{p.mode.isReadOnly()?(ve.off(),ve.hideBars()):(ve.on(),ve.showBars())})}),p.on("dragstart dragend",ve=>{_.on(Oe=>{ve.type==="dragstart"?(Oe.hideBars(),Oe.off()):(Oe.on(),Oe.showBars())})}),p.on("remove",()=>{_.on(ve=>{ve.destroy()}),A.on(ve=>{((Oe,He)=>{Oe.inline&&Se(He.parent())})(p,ve)})}),{refresh:ve=>{_.on(Oe=>Oe.refreshBars(Ft.fromDom(ve)))},hide:()=>{_.on(ve=>ve.hideBars())},show:()=>{_.on(ve=>ve.showBars())}}},Sr=p=>{(I=>{const H=I.options.register;H("table_clone_elements",{processor:"string[]"}),H("table_use_colgroups",{processor:"boolean",default:!0}),H("table_header_type",{processor:q=>{const J=Ho(["section","cells","sectionCells","auto"],q);return J?{value:q,valid:J}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),H("table_sizing_mode",{processor:"string",default:"auto"}),H("table_default_attributes",{processor:"object",default:{border:"1"}}),H("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),H("table_column_resizing",{processor:q=>{const J=Ho(["preservetable","resizetable"],q);return J?{value:q,valid:J}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),H("table_resize_bars",{processor:"boolean",default:!0}),H("table_style_by_css",{processor:"boolean",default:!0}),H("table_merge_content_on_paste",{processor:"boolean",default:!0})})(p);const b=S_(p),_=vh(p,b),A=xc(p,b,_);return ji(p,A),((I,H)=>{const q=Ri(I),J=ce=>Ta(Bc(I)).bind(Ne=>ns(Ne,q).map(Ye=>{const ve=hc(Pc(I),Ye,Ne);return ce(Ye,ve)})).getOr("");Vt({mceTableRowType:()=>J(H.getTableRowType),mceTableCellType:()=>J(H.getTableCellType),mceTableColType:()=>J(H.getTableColType)},(ce,Ne)=>I.addQueryValueHandler(Ne,ce))})(p,A),Zf(p,A),{getSelectedCells:_.getSelectedCells,clearSelectedCells:_.clearSelectedCells}};wo.add("dom",p=>({table:Sr(p)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;-webkit-text-decoration:none;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;-webkit-text-decoration:none;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,0.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#006ce7;color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--grid .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled:not(.tox-collection__item--state-disabled){border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e;background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{min-width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important;box-shadow:0 0 0 1px red}.tox .tox-rgb-container{position:relative}.tox .tox-rgb-form .tox-invalid-icon{align-content:center;align-items:center;display:none;height:100%;position:absolute;right:0;top:0}.tox .tox-rgb-form .tox-invalid-icon .tox-control-wrap__status-icon-invalid{margin:0}.tox .tox-rgb-warning-note{background-color:#f5cccc;border:1px solid #f0b3b3;border-radius:3px;color:#77181f;padding:3px}.tox input.tox-invalid+.tox-invalid-icon{display:flex}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-conversations{display:flex;flex-direction:column;position:relative;height:100%;min-width:300px;max-width:300px;width:300px}.tox .tox-conversations__header{align-items:center;display:flex;justify-content:space-between;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 12px;background:#fff}.tox .tox-conversations__title{font-size:20px;font-weight:400;padding:8px 0 8px 0;color:#222f3e;line-height:28px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;padding:8px 8px 16px 8px;position:relative}.tox .tox-comment:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected{background-color:#fff2c9;border:1px solid #ffcf30;box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-comment.tox-comment--selected:focus{border:2px solid #006ce7;margin:-1px}.tox .tox-comment.tox-comment--selected:focus:not(:first-child){margin-top:7px}.tox .tox-comment.tox-comment--selected .tox-comment__single{margin-bottom:12px}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus{position:relative}.tox .tox-comment.tox-comment--selected .tox-comment__single:focus::after{top:-9px;pointer-events:none;position:absolute;content:"";display:block;bottom:-9px;left:-9px;right:-9px;border-radius:6px;border:2px solid #006ce7}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial;transition:max-height .5s cubic-bezier(0, 1, 0, 1);white-space:pre-wrap}.tox .tox-comment__body.tox-comment__body--expanded{max-height:100em;transition:max-height 1s ease-in-out}.tox .tox-comment__body.tox-comment__body--pending{transition:max-height 0s}.tox .tox-comment__body p{margin:0}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__expander p:focus{font-weight:700}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-tbtn.tox-comment__mention-btn{display:flex;width:34px;height:34px;padding:5px;justify-content:center;align-items:center;margin:0;background-color:transparent}.tox .tox-comment-thread{background:#fff;position:relative;border-radius:6px;background-color:transparent}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto;padding:12px;scroll-behavior:smooth}.tox .tox-comment--disappearing{transition:opacity .5s ease}.tox .tox-comment[data-transitioning-destination=deleting]{opacity:0}.tox .tox-skeleton .tox-skeleton__line{height:16px;width:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}.tox .tox-skeleton .tox-skeleton__circle{height:36px;width:36px;margin-right:8px;border-radius:100%;background:linear-gradient(to right,rgba(240,240,240,.5) 8%,rgba(240,240,240,.7) 18%,rgba(240,240,240,.5) 33%);animation:wave 2s infinite ease-out}@keyframes wave{0%{background-position:-268px 0}100%{background-position:268px 0}}.tox .tox-ring-loader{width:10px;height:10px;border:1px solid #fff;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1s linear infinite}@keyframes rotation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,0.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;-webkit-text-decoration:none;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34 47 3.1%);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:max-content}.tox .tox-notification a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;-webkit-text-decoration:underline;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#f0f0f0;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:first-child{animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;-webkit-text-decoration:none;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,0.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,0.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__resize-handle:only-child{margin-left:auto}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0%)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,0.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:first-child{border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,0.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,0.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+ .tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-icon-custom-state{flex-grow:1;display:flex;justify-content:flex-end}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-top:1px solid #f0f0f0;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{display:flex;flex-direction:column;height:100%;min-width:248px;width:316px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{background-color:#fff;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);color:#222f3e;font-size:20px;font-weight:400;line-height:28px;padding:12px;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{background-color:#f0f0f0;display:flex;flex:1;flex-direction:column;gap:12px;overflow-y:auto;padding:10px 12px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{background-color:#fff;border:1px solid #f0f0f0;border-radius:6px;color:#222f3e;cursor:pointer;display:flex;flex-direction:column;font-size:14px;gap:12px;padding:12px;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{box-shadow:0 4px 8px 0 rgba(34,47,62,.1)}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #006ce7;box-shadow:0 0 0 2px #006ce7!important}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#fff5cc;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);position:relative}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 #e3b82a;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;box-shadow:0 0 0 2px #e3b82a}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date{display:flex;gap:12px;justify-content:space-between}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-date-label{font-size:16px;line-height:24px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-label{font-size:12px;font-weight:600;line-height:24px;padding:0}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author{align-items:center;display:flex;flex:1 0 0;gap:8px;height:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-author-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:700;line-height:18px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__avatar{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card-check-icon{color:#222f3e;height:24px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let $o=0;const sn=X=>{const lt=new Date().getTime(),Lt=Math.floor(Jo()*1e9);return $o++,X+"_"+Lt+$o+String(lt)},Qo=(X,be,lt)=>{var Lt;return lt(X,be.prototype)?!0:((Lt=X.constructor)===null||Lt===void 0?void 0:Lt.name)===be.name},mo=X=>{const be=typeof X;return X===null?"null":be==="object"&&Array.isArray(X)?"array":be==="object"&&Qo(X,String,(lt,Lt)=>Lt.isPrototypeOf(lt))?"string":be},Wo=X=>be=>mo(be)===X,jt=X=>be=>typeof be===X,Co=Wo("string"),Io=jt("boolean"),Go=X=>X==null,gn=X=>!Go(X),Mo=jt("function"),Ve=jt("number"),ut=(X,be)=>lt=>X(be(lt)),ho=X=>()=>X,uo=(X,be)=>X===be,Ae=ho(!1);class ht{constructor(be,lt){this.tag=be,this.value=lt}static some(be){return new ht(!0,be)}static none(){return ht.singletonNone}fold(be,lt){return this.tag?lt(this.value):be()}isSome(){return this.tag}isNone(){return!this.tag}map(be){return this.tag?ht.some(be(this.value)):ht.none()}bind(be){return this.tag?be(this.value):ht.none()}exists(be){return this.tag&&be(this.value)}forall(be){return!this.tag||be(this.value)}filter(be){return!this.tag||be(this.value)?this:ht.none()}getOr(be){return this.tag?this.value:be}or(be){return this.tag?this:be}getOrThunk(be){return this.tag?this.value:be()}orThunk(be){return this.tag?this:be()}getOrDie(be){if(this.tag)return this.value;throw new Error(be??"Called getOrDie on None")}static from(be){return gn(be)?ht.some(be):ht.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(be){this.tag&&be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ht.singletonNone=new ht(!1);const bo=Array.prototype.indexOf,ue=(X,be)=>bo.call(X,be),$e=(X,be)=>ue(X,be)>-1,ge=(X,be)=>{const lt=X.length,Lt=new Array(lt);for(let pn=0;pn<lt;pn++){const $=X[pn];Lt[pn]=be($,pn)}return Lt},mt=(X,be)=>{for(let lt=0,Lt=X.length;lt<Lt;lt++){const pn=X[lt];be(pn,lt)}},Ro=(X,be)=>{const lt=[];for(let Lt=0,pn=X.length;Lt<pn;Lt++){const $=X[Lt];be($,Lt)&&lt.push($)}return lt},go=(X,be,lt)=>(mt(X,(Lt,pn)=>{lt=be(lt,Lt,pn)}),lt),Ho=Object.keys,Uo=(X,be)=>{const lt=Ho(X);for(let Lt=0,pn=lt.length;Lt<pn;Lt++){const $=lt[Lt],ne=X[$];be(ne,$)}};typeof window<"u"||Function("return this;")();const Rt=8,D=9,qe=11,Je=1,gt=3,Bt=X=>X.dom.nodeName.toLowerCase(),ct=X=>X.dom.nodeType,$t=X=>be=>ct(be)===X,So=X=>ct(X)===Rt||Bt(X)==="#comment",Dt=$t(Je),F=$t(gt),Ot=$t(D),kt=$t(qe),ro=(X,be,lt)=>{if(Co(lt)||Io(lt)||Ve(lt))X.setAttribute(be,lt+"");else throw console.error("Invalid call to Attribute.set. Key ",be,":: Value ",lt,":: Element ",X),new Error("Attribute value was not simple")},co=(X,be,lt)=>{ro(X.dom,be,lt)},ao=(X,be)=>{const lt=X.dom;Uo(be,(Lt,pn)=>{ro(lt,pn,Lt)})},yo=(X,be)=>{const lt=X.dom.getAttribute(be);return lt===null?void 0:lt},No=(X,be)=>ht.from(yo(X,be)),_e=(X,be)=>{X.dom.removeAttribute(be)},Vt=X=>go(X.dom.attributes,(be,lt)=>(be[lt.name]=lt.value,be),{}),Ct=(X,be)=>{const Lt=(be||document).createElement("div");if(Lt.innerHTML=X,!Lt.hasChildNodes()||Lt.childNodes.length>1){const pn="HTML does not have a single root node";throw console.error(pn,X),new Error(pn)}return fe(Lt.childNodes[0])},et=(X,be)=>{const Lt=(be||document).createElement(X);return fe(Lt)},ye=(X,be)=>{const Lt=(be||document).createTextNode(X);return fe(Lt)},fe=X=>{if(X==null)throw new Error("Node cannot be null or undefined");return{dom:X}},ke={fromHtml:Ct,fromTag:et,fromText:ye,fromDom:fe,fromPoint:(X,be,lt)=>ht.from(X.dom.elementFromPoint(be,lt)).map(fe)},he=(X,be)=>{const lt=X.dom;if(lt.nodeType!==Je)return!1;{const Lt=lt;if(Lt.matches!==void 0)return Lt.matches(be);if(Lt.msMatchesSelector!==void 0)return Lt.msMatchesSelector(be);if(Lt.webkitMatchesSelector!==void 0)return Lt.webkitMatchesSelector(be);if(Lt.mozMatchesSelector!==void 0)return Lt.mozMatchesSelector(be);throw new Error("Browser lacks native selectors")}},De=X=>X.nodeType!==Je&&X.nodeType!==D&&X.nodeType!==qe||X.childElementCount===0,at=(X,be)=>{const lt=be===void 0?document:be.dom;return De(lt)?[]:ge(lt.querySelectorAll(X),ke.fromDom)},_t=(X,be)=>{const lt=be===void 0?document:be.dom;return De(lt)?ht.none():ht.from(lt.querySelector(X)).map(ke.fromDom)},We=(X,be)=>X.dom===be.dom,dt=he,io=(X,be,lt=uo)=>X.exists(Lt=>lt(Lt,be)),tt=(X=>be=>be.replace(X,""))(/^\s+|\s+$/g),vt=X=>X.style!==void 0&&Mo(X.style.getPropertyValue),_o=X=>ke.fromDom(X.dom.ownerDocument),Fo=X=>Ot(X)?X:_o(X),on=X=>ht.from(X.dom.parentNode).map(ke.fromDom),_n=(X,be)=>{const lt=Mo(be)?be:Ae;let Lt=X.dom;const pn=[];for(;Lt.parentNode!==null&&Lt.parentNode!==void 0;){const $=Lt.parentNode,ne=ke.fromDom($);if(pn.push(ne),lt(ne)===!0)break;Lt=$}return pn},Zo=X=>ht.from(X.dom.previousSibling).map(ke.fromDom),Yn=X=>ht.from(X.dom.nextSibling).map(ke.fromDom),zt=X=>ge(X.dom.childNodes,ke.fromDom),Xo=(X,be)=>{const lt=X.dom.childNodes;return ht.from(lt[be]).map(ke.fromDom)},Kn=X=>Xo(X,0),ar=X=>kt(X)&&gn(X.dom.host),Vr=X=>ke.fromDom(X.dom.getRootNode()),Ft=X=>{const be=Vr(X);return ar(be)?ht.some(be):ht.none()},Gr=X=>ke.fromDom(X.dom.host),Nr=X=>{const be=F(X)?X.dom.parentNode:X.dom;if(be==null||be.ownerDocument===null)return!1;const lt=be.ownerDocument;return Ft(ke.fromDom(be)).fold(()=>lt.body.contains(be),ut(Nr,Gr))},yr=(X,be,lt)=>{if(!Co(lt))throw console.error("Invalid call to CSS.set. Property ",be,":: Value ",lt,":: Element ",X),new Error("CSS value must be a string: "+lt);vt(X)&&X.style.setProperty(be,lt)},jo=(X,be)=>{vt(X)&&X.style.removeProperty(be)},$r=(X,be,lt)=>{const Lt=X.dom;yr(Lt,be,lt)},ls=(X,be)=>{const lt=X.dom,pn=window.getComputedStyle(lt).getPropertyValue(be);return pn===""&&!Nr(X)?Fa(lt,be):pn},Fa=(X,be)=>vt(X)?X.style.getPropertyValue(be):"",cs=(X,be)=>{const lt=X.dom,Lt=Fa(lt,be);return ht.from(Lt).filter(pn=>pn.length>0)},La=(X,be)=>{const lt=X.dom;jo(lt,be),io(No(X,"style").map(tt),"")&&_e(X,"style")},es=(X,be)=>{on(X).each(Lt=>{Lt.dom.insertBefore(be.dom,X.dom)})},ts=(X,be)=>{Yn(X).fold(()=>{on(X).each(pn=>{za(pn,be)})},Lt=>{es(Lt,be)})},Fs=(X,be)=>{Kn(X).fold(()=>{za(X,be)},Lt=>{X.dom.insertBefore(be.dom,Lt.dom)})},za=(X,be)=>{X.dom.appendChild(be.dom)},nt=(X,be)=>{es(X,be),za(be,X)},At=(X,be)=>{mt(be,(lt,Lt)=>{const pn=Lt===0?X:be[Lt-1];ts(pn,lt)})},pt=(X,be)=>{mt(be,lt=>{za(X,lt)})},nn=(X,be)=>{let lt=[];return mt(zt(X),Lt=>{be(Lt)&&(lt=lt.concat([Lt])),lt=lt.concat(nn(Lt,be))}),lt};var vr=(X,be,lt,Lt,pn)=>X(lt,Lt)?ht.some(lt):Mo(pn)&&pn(lt)?ht.none():be(lt,Lt,pn);const hr=(X,be,lt)=>{let Lt=X.dom;const pn=Mo(lt)?lt:Ae;for(;Lt.parentNode;){Lt=Lt.parentNode;const $=ke.fromDom(Lt);if(be($))return ht.some($);if(pn($))break}return ht.none()},Os=X=>{const be=X.dom;be.parentNode!==null&&be.parentNode.removeChild(be)},ga=X=>{const be=zt(X);be.length>0&&At(X,be),Os(X)},xr=(X,be)=>at(be,X),Te=(X,be,lt)=>hr(X,Lt=>he(Lt,be),lt),Se=(X,be)=>_t(be,X),Nt=(X,be,lt)=>vr((pn,$)=>he(pn,$),Te,X,be,lt),xn=((X,be)=>{const lt=$=>{if(!X($))throw new Error("Can only get "+be+" value of a "+be+" node");return Lt($).getOr("")},Lt=$=>X($)?ht.from($.dom.nodeValue):ht.none();return{get:lt,getOption:Lt,set:($,ne)=>{if(!X($))throw new Error("Can only set raw "+be+" value of a "+be+" node");$.dom.nodeValue=ne}}})(F,"text"),Sn=X=>xn.get(X),Ln=(X,be)=>xn.set(X,be);var Qr=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],wr=()=>{const X=Eo=>ke.fromDom(Eo.dom.cloneNode(!1)),be=Eo=>Fo(Eo).dom,lt=Eo=>Dt(Eo)?Bt(Eo)==="body"?!0:$e(Qr,Bt(Eo)):!1,Lt=Eo=>Dt(Eo)?$e(["br","img","hr","input"],Bt(Eo)):!1,pn=Eo=>Dt(Eo)&&yo(Eo,"contenteditable")==="false",$=(Eo,nr)=>Eo.dom.compareDocumentPosition(nr.dom),ne=(Eo,nr)=>{const la=Vt(Eo);ao(nr,la)},Re=Eo=>{const nr=Bt(Eo);return $e(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],nr)},bt=Eo=>Dt(Eo)?No(Eo,"lang"):ht.none();return{up:ho({selector:Te,closest:Nt,predicate:hr,all:_n}),down:ho({selector:xr,predicate:nn}),styles:ho({get:ls,getRaw:cs,set:$r,remove:La}),attrs:ho({get:yo,set:co,remove:_e,copyTo:ne}),insert:ho({before:es,after:ts,afterAll:At,append:za,appendAll:pt,prepend:Fs,wrap:nt}),remove:ho({unwrap:ga,remove:Os}),create:ho({nu:ke.fromTag,clone:X,text:ke.fromText}),query:ho({comparePosition:$,prevSibling:Zo,nextSibling:Yn}),property:ho({children:zt,name:Bt,parent:on,document:be,isText:F,isComment:So,isElement:Dt,isSpecial:Re,getLanguage:bt,getText:Sn,setText:Ln,isBoundary:lt,isEmptyTag:Lt,isNonEditable:pn}),eq:We,is:dt}};const dn=(X,be)=>({element:X,offset:be}),Ee=(X,be,lt)=>X.property().isText(be)&&X.property().getText(be).trim().length===0||X.property().isComment(be)?lt(be).bind(Lt=>Ee(X,Lt,lt).orThunk(()=>ht.some(Lt))):ht.none(),Be=(X,be)=>X.property().isText(be)?X.property().getText(be).length:X.property().children(be).length,so=(X,be)=>{const lt=Ee(X,be,X.query().prevSibling).getOr(be);if(X.property().isText(lt))return dn(lt,Be(X,lt));const Lt=X.property().children(lt);return Lt.length>0?so(X,Lt[Lt.length-1]):dn(lt,Be(X,lt))},Lo=so,Vo=wr(),qo=X=>Lo(Vo,X),rn=(X,be,lt)=>X.dispatch("ToggledAccordion",{element:be,state:lt}),un=(X,be,lt)=>X.dispatch("ToggledAllAccordions",{elements:be,state:lt}),Nn="details",or="mce-accordion",_r="mce-accordion-summary",wa="mce-accordion-body",sa="div";var Us=tinymce.util.Tools.resolve("tinymce.util.Tools");const ea=X=>(X==null?void 0:X.nodeName)==="SUMMARY",Cr=X=>(X==null?void 0:X.nodeName)==="DETAILS",Pr=X=>X.hasAttribute("open"),Un=X=>{const be=X.selection.getNode();return ea(be)||!!X.dom.getParent(be,ea)},Ma=X=>{const be=X.selection.getRng();return Cr(be.startContainer)&&be.collapsed&&be.startOffset===0},os=X=>!Un(X)&&X.dom.isEditable(X.selection.getNode())&&!X.mode.isReadOnly(),zi=X=>ht.from(X.dom.getParent(X.selection.getNode(),Cr)),jl=X=>zi(X).isSome(),wn=X=>(X.innerHTML='<br data-mce-bogus="1" />',X),ni=X=>wn(X.dom.create("p")),ia=X=>wn(X.dom.create("summary")),Ga=(X,be)=>{const lt=ni(X);be.insertAdjacentElement("afterend",lt),X.selection.setCursorLocation(lt,0)},yl=(X,be)=>{if(ea(be==null?void 0:be.lastChild)){const lt=ni(X);be.appendChild(lt),X.selection.setCursorLocation(lt,0)}},Mr=(X,be)=>{if(!ea(be==null?void 0:be.firstChild)){const lt=ia(X);be.prepend(lt),X.selection.setCursorLocation(lt,0)}},Xs=X=>be=>{yl(X,be),Mr(X,be)},da=X=>{Us.each(Us.grep(X.dom.select("details",X.getBody())),Xs(X))},Dn=X=>{if(!os(X))return;const be=ke.fromDom(X.getBody()),lt=sn("acc"),Lt=X.dom.encode(X.selection.getRng().toString()||X.translate("Accordion summary...")),pn=X.dom.encode(X.translate("Accordion body...")),$=`<summary class="${_r}">${Lt}</summary>`,ne=`<${sa} class="${wa}"><p>${pn}</p></${sa}>`;X.undoManager.transact(()=>{X.insertContent([`<details data-mce-id="${lt}" class="${or}" open="open">`,$,ne,"</details>"].join("")),Se(be,`[data-mce-id="${lt}"]`).each(Re=>{_e(Re,"data-mce-id"),Se(Re,"summary").each(bt=>{const Eo=X.dom.createRng(),nr=qo(bt);Eo.setStart(nr.element.dom,nr.offset),Eo.setEnd(nr.element.dom,nr.offset),X.selection.setRng(Eo)})})})},Xn=(X,be)=>{const lt=be??!Pr(X);return lt?X.setAttribute("open","open"):X.removeAttribute("open"),lt},Ml=(X,be)=>{zi(X).each(lt=>{rn(X,lt,Xn(lt,be))})},Ua=X=>{X.mode.isReadOnly()||zi(X).each(be=>{const{nextSibling:lt}=be;lt?(X.selection.select(lt,!0),X.selection.collapse(!0)):Ga(X,be),be.remove()})},ri=(X,be)=>{const lt=Array.from(X.getBody().querySelectorAll("details"));lt.length!==0&&(mt(lt,Lt=>Xn(Lt,be??!Pr(Lt))),un(X,lt,be))},to=X=>{X.addCommand("InsertAccordion",()=>Dn(X)),X.addCommand("ToggleAccordion",(be,lt)=>Ml(X,lt)),X.addCommand("ToggleAllAccordions",(be,lt)=>ri(X,lt)),X.addCommand("RemoveAccordion",()=>Ua(X))};var bi=tinymce.util.Tools.resolve("tinymce.html.Node");const Ns=X=>{var be,lt;return(lt=(be=X.attr("class"))===null||be===void 0?void 0:be.split(" "))!==null&&lt!==void 0?lt:[]},qn=(X,be)=>{const lt=new Set([...Ns(X),...be]),Lt=Array.from(lt);Lt.length>0&&X.attr("class",Lt.join(" "))},Zs=(X,be)=>{const lt=Ro(Ns(X),Lt=>!be.has(Lt));X.attr("class",lt.length>0?lt.join(" "):null)},Vl=X=>X.name===Nn&&$e(Ns(X),or),yi=X=>X.name===sa&&$e(Ns(X),wa),Da=X=>{const be=X.children();let lt,Lt;const pn=[];for(let $=0;$<be.length;$++){const ne=be[$];ne.name==="summary"&&Go(lt)?lt=ne:yi(ne)&&Go(Lt)?Lt=ne:pn.push(ne)}return{summaryNode:lt,wrapperNode:Lt,otherNodes:pn}},Js=X=>{const be=new bi("br",1);be.attr("data-mce-bogus","1"),X.empty(),X.append(be)},ur=X=>{X.on("PreInit",()=>{const{serializer:be,parser:lt}=X;lt.addNodeFilter(Nn,Lt=>{for(let pn=0;pn<Lt.length;pn++){const $=Lt[pn];if(Vl($)){const ne=$,{summaryNode:Re,wrapperNode:bt,otherNodes:Eo}=Da(ne),nr=gn(Re),la=nr?Re:new bi("summary",1);Go(la.firstChild)&&Js(la),qn(la,[_r]),nr||(gn(ne.firstChild)?ne.insert(la,ne.firstChild,!0):ne.append(la));const _s=gn(bt),Ls=_s?bt:new bi(sa,1);if(Ls.attr("data-mce-bogus","1"),qn(Ls,[wa]),Eo.length>0)for(let ai=0;ai<Eo.length;ai++){const Cs=Eo[ai];Ls.append(Cs)}if(Go(Ls.firstChild)){const ai=new bi("p",1);Js(ai),Ls.append(ai)}_s||ne.append(Ls)}}}),be.addNodeFilter(Nn,Lt=>{const pn=new Set([_r]);for(let $=0;$<Lt.length;$++){const ne=Lt[$];if(Vl(ne)){const Re=ne,{summaryNode:bt,wrapperNode:Eo}=Da(Re);gn(bt)&&Zs(bt,pn),gn(Eo)&&Eo.unwrap()}}})})};var Ur=tinymce.util.Tools.resolve("tinymce.util.VK");const ns=X=>{X.on("keydown",be=>{(!be.shiftKey&&be.keyCode===Ur.ENTER&&Un(X)||Ma(X))&&(be.preventDefault(),X.execCommand("ToggleAccordion"))})},ks=X=>{ns(X),X.on("ExecCommand",be=>{const lt=be.command.toLowerCase();(lt==="delete"||lt==="forwarddelete")&&jl(X)&&da(X)})};var Q=tinymce.util.Tools.resolve("tinymce.Env");const Ce=X=>{Q.browser.isSafari()&&X.on("click",be=>{if(ea(be.target)){const lt=be.target,Lt=X.selection.getRng();Lt.collapsed&&Lt.startContainer===lt.parentNode&&Lt.startOffset===0&&X.selection.setCursorLocation(lt,0)}})},Xe=X=>be=>{const lt=()=>be.setEnabled(os(X));return X.on("NodeChange",lt),()=>X.off("NodeChange",lt)},Wt=X=>{const be=()=>X.execCommand("InsertAccordion");X.ui.registry.addButton("accordion",{icon:"accordion",tooltip:"Insert accordion",onSetup:Xe(X),onAction:be}),X.ui.registry.addMenuItem("accordion",{icon:"accordion",text:"Accordion",onSetup:Xe(X),onAction:be}),X.ui.registry.addToggleButton("accordiontoggle",{icon:"accordion-toggle",tooltip:"Toggle accordion",onAction:()=>X.execCommand("ToggleAccordion")}),X.ui.registry.addToggleButton("accordionremove",{icon:"remove",tooltip:"Delete accordion",onAction:()=>X.execCommand("RemoveAccordion")}),X.ui.registry.addContextToolbar("accordion",{predicate:lt=>X.dom.is(lt,"details")&&X.getBody().contains(lt)&&X.dom.isEditable(lt.parentNode),items:"accordiontoggle accordionremove",scope:"node",position:"node"})};var xo=()=>{wo.add("accordion",X=>{Wt(X),to(X),ks(X),ur(X),Ce(X)})};xo()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=(qe,Je,gt)=>{const Bt=Je==="UL"?"InsertUnorderedList":"InsertOrderedList";qe.execCommand(Bt,!1,gt===!1?null:{"list-style-type":gt})},$o=qe=>{qe.addCommand("ApplyUnorderedListStyle",(Je,gt)=>{Jo(qe,"UL",gt["list-style-type"])}),qe.addCommand("ApplyOrderedListStyle",(Je,gt)=>{Jo(qe,"OL",gt["list-style-type"])})},sn=qe=>Je=>Je.options.get(qe),Qo=qe=>{const Je=qe.options.register;Je("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Je("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},mo=sn("advlist_number_styles"),Wo=sn("advlist_bullet_styles"),jt=qe=>qe==null,Co=qe=>!jt(qe);var Io=tinymce.util.Tools.resolve("tinymce.util.Tools");class Go{constructor(Je,gt){this.tag=Je,this.value=gt}static some(Je){return new Go(!0,Je)}static none(){return Go.singletonNone}fold(Je,gt){return this.tag?gt(this.value):Je()}isSome(){return this.tag}isNone(){return!this.tag}map(Je){return this.tag?Go.some(Je(this.value)):Go.none()}bind(Je){return this.tag?Je(this.value):Go.none()}exists(Je){return this.tag&&Je(this.value)}forall(Je){return!this.tag||Je(this.value)}filter(Je){return!this.tag||Je(this.value)?this:Go.none()}getOr(Je){return this.tag?this.value:Je}or(Je){return this.tag?this:Je}getOrThunk(Je){return this.tag?this.value:Je()}orThunk(Je){return this.tag?this:Je()}getOrDie(Je){if(this.tag)return this.value;throw new Error(Je??"Called getOrDie on None")}static from(Je){return Co(Je)?Go.some(Je):Go.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Je){this.tag&&Je(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Go.singletonNone=new Go(!1);const gn=(qe,Je,gt)=>{for(let Bt=0,ct=qe.length;Bt<ct;Bt++){const $t=qe[Bt];if(Je($t,Bt))return Go.some($t);if(gt($t,Bt))break}return Go.none()},Mo=qe=>/\btox\-/.test(qe.className),Ve=(qe,Je)=>qe.dom.isChildOf(Je,qe.getBody()),ut=qe=>Je=>Co(Je)&&qe.test(Je.nodeName),ho=ut(/^(OL|UL|DL)$/),uo=ut(/^(TH|TD)$/),Ae=(qe,Je,gt)=>gn(Je,Bt=>ho(Bt)&&!Mo(Bt),uo).exists(Bt=>Bt.nodeName===gt&&Ve(qe,Bt)),ht=qe=>{const Je=qe.dom.getParent(qe.selection.getNode(),"ol,ul"),gt=qe.dom.getStyle(Je,"listStyleType");return Go.from(gt)},bo=(qe,Je)=>Je!==null&&!qe.dom.isEditable(Je),ue=(qe,Je)=>{const gt=qe.dom.getParent(Je,"ol,ul,dl");return bo(qe,gt)||!qe.selection.isEditable()},$e=(qe,Je)=>{const gt=qe.selection.getNode();return Je({parents:qe.dom.getParents(gt),element:gt}),qe.on("NodeChange",Je),()=>qe.off("NodeChange",Je)},ge=qe=>qe.replace(/\-/g," ").replace(/\b\w/g,Je=>Je.toUpperCase()),mt=qe=>jt(qe)||qe==="default"?"":qe,Ro=(qe,Je)=>gt=>{const Bt=($t,So)=>{const Dt=$t.selection.getStart(!0);gt.setActive(Ae($t,So,Je)),gt.setEnabled(!ue($t,Dt))};return $e(qe,$t=>Bt(qe,$t.parents))},go=(qe,Je,gt,Bt,ct,$t)=>{qe.ui.registry.addSplitButton(Je,{tooltip:gt,icon:ct==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:So=>{const Dt=Io.map($t,F=>{const Ot=ct==="OL"?"num":"bull",kt=F==="disc"||F==="decimal"?"default":F,ro=mt(F),co=ge(F);return{type:"choiceitem",value:ro,icon:"list-"+Ot+"-"+kt,text:co}});So(Dt)},onAction:()=>qe.execCommand(Bt),onItemAction:(So,Dt)=>{Jo(qe,ct,Dt)},select:So=>ht(qe).map(F=>So===F).getOr(!1),onSetup:Ro(qe,ct)})},Ho=(qe,Je,gt,Bt,ct,$t)=>{qe.ui.registry.addToggleButton(Je,{active:!1,tooltip:gt,icon:ct==="OL"?"ordered-list":"unordered-list",onSetup:Ro(qe,ct),onAction:()=>qe.queryCommandState(Bt)||$t===""?qe.execCommand(Bt):Jo(qe,ct,$t)})},Uo=(qe,Je,gt,Bt,ct,$t)=>{$t.length>1?go(qe,Je,gt,Bt,ct,$t):Ho(qe,Je,gt,Bt,ct,mt($t[0]))},Rt=qe=>{Uo(qe,"numlist","Numbered list","InsertOrderedList","OL",mo(qe)),Uo(qe,"bullist","Bullet list","InsertUnorderedList","UL",Wo(qe))};var D=()=>{wo.add("advlist",qe=>{qe.hasPlugin("lists")?(Qo(qe),Rt(qe),$o(qe)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};D()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Jo=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),$o=tinymce.util.Tools.resolve("tinymce.util.Tools");const sn=qe=>Je=>Je.options.get(qe),Qo=qe=>{const Je=qe.options.register;Je("allow_html_in_named_anchor",{processor:"boolean",default:!1})},mo=sn("allow_html_in_named_anchor"),Wo="a:not([href])",jt=qe=>!qe,Co=qe=>qe.getAttribute("id")||qe.getAttribute("name")||"",Io=qe=>qe.nodeName.toLowerCase()==="a",Go=qe=>Io(qe)&&!qe.getAttribute("href")&&Co(qe)!=="",gn=qe=>Go(qe)&&!qe.firstChild,Mo=qe=>{const Je=qe.dom;Jo(Je).walk(qe.selection.getRng(),gt=>{$o.each(gt,Bt=>{gn(Bt)&&Je.remove(Bt,!1)})})},Ve=qe=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(qe),ut=qe=>qe.dom.getParent(qe.selection.getStart(),Wo),ho=qe=>{const Je=ut(qe);return Je?Co(Je):""},uo=(qe,Je)=>{qe.undoManager.transact(()=>{mo(qe)||qe.selection.collapse(!0),qe.selection.isCollapsed()?qe.insertContent(qe.dom.createHTML("a",{id:Je})):(Mo(qe),qe.formatter.remove("namedAnchor",void 0,void 0,!0),qe.formatter.apply("namedAnchor",{value:Je}),qe.addVisual())})},Ae=(qe,Je,gt)=>{gt.removeAttribute("name"),gt.id=Je,qe.addVisual(),qe.undoManager.add()},ht=(qe,Je)=>{const gt=ut(qe);gt?Ae(qe,Je,gt):uo(qe,Je),qe.focus()},bo=(qe,Je)=>Ve(Je)?(ht(qe,Je),!0):(qe.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),ue=qe=>{const Je=ho(qe);qe.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Je},onSubmit:gt=>{bo(qe,gt.getData().id)&&gt.close()}})},$e=qe=>{qe.addCommand("mceAnchor",()=>{ue(qe)})},ge=qe=>jt(qe.attr("href"))&&!jt(qe.attr("id")||qe.attr("name")),mt=qe=>ge(qe)&&!qe.firstChild,Ro=qe=>Je=>{for(let gt=0;gt<Je.length;gt++){const Bt=Je[gt];mt(Bt)&&Bt.attr("contenteditable",qe)}},go=qe=>{qe.on("PreInit",()=>{qe.parser.addNodeFilter("a",Ro("false")),qe.serializer.addNodeFilter("a",Ro(null))})},Ho=qe=>{qe.formatter.register("namedAnchor",{inline:"a",selector:Wo,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(Je,gt,Bt)=>Go(Je)})},Uo=qe=>Je=>{const gt=()=>{Je.setEnabled(qe.selection.isEditable())};return qe.on("NodeChange",gt),gt(),()=>{qe.off("NodeChange",gt)}},Rt=qe=>{const Je=()=>qe.execCommand("mceAnchor");qe.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:Je,onSetup:gt=>{const Bt=qe.selection.selectorChangedWithUnbind("a:not([href])",gt.setActive).unbind,ct=Uo(qe)(gt);return()=>{Bt(),ct()}}}),qe.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:Je,onSetup:Uo(qe)})};var D=()=>{wo.add("anchor",qe=>{Qo(qe),go(qe),$e(qe),Rt(qe),qe.on("PreInit",()=>{Ho(qe)})})};D()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,$o=kt=>ro=>ro.options.get(kt),sn=kt=>{const ro=kt.options.register;ro("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Jo().source+"$","i")}),ro("link_default_target",{processor:"string"}),ro("link_default_protocol",{processor:"string",default:"https"})},Qo=$o("autolink_pattern"),mo=$o("link_default_target"),Wo=$o("link_default_protocol"),jt=$o("allow_unsafe_link_target"),Co=(kt,ro,co)=>{var ao;return co(kt,ro.prototype)?!0:((ao=kt.constructor)===null||ao===void 0?void 0:ao.name)===ro.name},Io=kt=>{const ro=typeof kt;return kt===null?"null":ro==="object"&&Array.isArray(kt)?"array":ro==="object"&&Co(kt,String,(co,ao)=>ao.isPrototypeOf(co))?"string":ro},Go=kt=>ro=>Io(ro)===kt,gn=kt=>ro=>kt===ro,Mo=Go("string"),Ve=gn(void 0),ut=kt=>kt==null,ho=kt=>!ut(kt),uo=kt=>ro=>!kt(ro),Ae=Object.hasOwnProperty,ht=(kt,ro)=>Ae.call(kt,ro),bo=(kt,ro,co)=>kt.length>=ro.length&&kt.substr(co,co+ro.length)===ro,ue=(kt,ro,co=0,ao)=>{const yo=kt.indexOf(ro,co);return yo!==-1?Ve(ao)?!0:yo+ro.length<=ao:!1},$e=(kt,ro)=>bo(kt,ro,0),ge="\uFEFF",mt=kt=>kt===ge,Ro=kt=>kt.replace(/\uFEFF/g,"");var go=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const Ho=kt=>kt.nodeType===3,Uo=kt=>kt.nodeType===1,Rt=kt=>/^[(\[{ \u00a0]$/.test(kt),D=kt=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(kt),qe=kt=>/[?!,.;:]/.test(kt),Je=(kt,ro,co)=>{for(let ao=ro-1;ao>=0;ao--){const yo=kt.charAt(ao);if(!mt(yo)&&co(yo))return ao}return-1},gt=(kt,ro)=>{let co=kt,ao=ro;for(;Uo(co)&&co.childNodes[ao];)co=co.childNodes[ao],ao=Ho(co)?co.data.length:co.childNodes.length;return{container:co,offset:ao}},Bt=(kt,ro)=>{var co;const ao=kt.schema.getVoidElements(),yo=Qo(kt),{dom:No,selection:_e}=kt;if(No.getParent(_e.getNode(),"a[href]")!==null||kt.mode.isReadOnly())return null;const Vt=_e.getRng(),Ct=go(No,We=>No.isBlock(We)||ht(ao,We.nodeName.toLowerCase())||No.getContentEditable(We)==="false"),{container:et,offset:ye}=gt(Vt.endContainer,Vt.endOffset),fe=(co=No.getParent(et,No.isBlock))!==null&&co!==void 0?co:No.getRoot(),it=Ct.backwards(et,ye+ro,(We,dt)=>{const io=We.data,Oo=Je(io,dt,uo(Rt));return Oo===-1||qe(io[Oo])?Oo:Oo+1},fe);if(!it)return null;let ke=it.container;const he=Ct.backwards(it.container,it.offset,(We,dt)=>{ke=We;const io=Je(We.data,dt,Rt);return io===-1?io:io+1},fe),De=No.createRng();he?De.setStart(he.container,he.offset):De.setStart(ke,0),De.setEnd(it.container,it.offset);const _t=Ro(De.toString()).match(yo);if(_t){let We=_t[0];return $e(We,"www.")?We=Wo(kt)+"://"+We:ue(We,"@")&&!D(We)&&(We="mailto:"+We),{rng:De,url:We}}else return null},ct=(kt,ro)=>{const{dom:co,selection:ao}=kt,{rng:yo,url:No}=ro,_e=ao.getBookmark();ao.setRng(yo);const Vt="createlink",Ct={command:Vt,ui:!1,value:No};if(!kt.dispatch("BeforeExecCommand",Ct).isDefaultPrevented()){kt.getDoc().execCommand(Vt,!1,No),kt.dispatch("ExecCommand",Ct);const ye=mo(kt);if(Mo(ye)){const fe=ao.getNode();co.setAttrib(fe,"target",ye),ye==="_blank"&&!jt(kt)&&co.setAttrib(fe,"rel","noopener")}}ao.moveToBookmark(_e),kt.nodeChanged()},$t=kt=>{const ro=Bt(kt,-1);ho(ro)&&ct(kt,ro)},So=$t,Dt=kt=>{const ro=Bt(kt,0);ho(ro)&&ct(kt,ro)},F=kt=>{kt.on("keydown",ro=>{ro.keyCode===13&&!ro.isDefaultPrevented()&&Dt(kt)}),kt.on("keyup",ro=>{ro.keyCode===32?$t(kt):(ro.keyCode===48&&ro.shiftKey||ro.keyCode===221)&&So(kt)})};var Ot=()=>{wo.add("autolink",kt=>{sn(kt),F(kt)})};Ot()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=(ct,$t,So)=>{var Dt;return So(ct,$t.prototype)?!0:((Dt=ct.constructor)===null||Dt===void 0?void 0:Dt.name)===$t.name},$o=ct=>{const $t=typeof ct;return ct===null?"null":$t==="object"&&Array.isArray(ct)?"array":$t==="object"&&Jo(ct,String,(So,Dt)=>Dt.isPrototypeOf(So))?"string":$t},sn=ct=>$t=>$o($t)===ct,Qo=ct=>$t=>ct===$t,mo=sn("string"),Wo=Qo(void 0);var jt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Co=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Io=tinymce.util.Tools.resolve("tinymce.util.Tools");const Go=ct=>ct.dispatch("RestoreDraft"),gn=ct=>ct.dispatch("StoreDraft"),Mo=ct=>ct.dispatch("RemoveDraft"),Ve=ct=>{const $t={s:1e3,m:6e4},So=/^(\d+)([ms]?)$/.exec(ct);return(So&&So[2]?$t[So[2]]:1)*parseInt(ct,10)},ut=ct=>$t=>$t.options.get(ct),ho=ct=>{const $t=ct.options.register,So=Dt=>{const F=mo(Dt);return F?{value:Ve(Dt),valid:F}:{valid:!1,message:"Must be a string."}};$t("autosave_ask_before_unload",{processor:"boolean",default:!0}),$t("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),$t("autosave_restore_when_empty",{processor:"boolean",default:!1}),$t("autosave_interval",{processor:So,default:"30s"}),$t("autosave_retention",{processor:So,default:"20m"})},uo=ut("autosave_ask_before_unload"),Ae=ut("autosave_restore_when_empty"),ht=ut("autosave_interval"),bo=ut("autosave_retention"),ue=ct=>{const $t=document.location;return ct.options.get("autosave_prefix").replace(/{path}/g,$t.pathname).replace(/{query}/g,$t.search).replace(/{hash}/g,$t.hash).replace(/{id}/g,ct.id)},$e=(ct,$t)=>{if(Wo($t))return ct.dom.isEmpty(ct.getBody());{const So=Io.trim($t);if(So==="")return!0;{const Dt=new DOMParser().parseFromString(So,"text/html");return ct.dom.isEmpty(Dt)}}},ge=ct=>{var $t;const So=parseInt(($t=Co.getItem(ue(ct)+"time"))!==null&&$t!==void 0?$t:"0",10)||0;return new Date().getTime()-So>bo(ct)?(mt(ct,!1),!1):!0},mt=(ct,$t)=>{const So=ue(ct);Co.removeItem(So+"draft"),Co.removeItem(So+"time"),$t!==!1&&Mo(ct)},Ro=ct=>{const $t=ue(ct);!$e(ct)&&ct.isDirty()&&(Co.setItem($t+"draft",ct.getContent({format:"raw",no_events:!0})),Co.setItem($t+"time",new Date().getTime().toString()),gn(ct))},go=ct=>{var $t;const So=ue(ct);ge(ct)&&(ct.setContent(($t=Co.getItem(So+"draft"))!==null&&$t!==void 0?$t:"",{format:"raw"}),Go(ct))},Ho=ct=>{const $t=ht(ct);jt.setEditorInterval(ct,()=>{Ro(ct)},$t)},Uo=ct=>{ct.undoManager.transact(()=>{go(ct),mt(ct)}),ct.focus()},Rt=ct=>({hasDraft:()=>ge(ct),storeDraft:()=>Ro(ct),restoreDraft:()=>go(ct),removeDraft:$t=>mt(ct,$t),isEmpty:$t=>$e(ct,$t)});var D=tinymce.util.Tools.resolve("tinymce.EditorManager");const qe=ct=>{ct.editorManager.on("BeforeUnload",$t=>{let So;Io.each(D.get(),Dt=>{Dt.plugins.autosave&&Dt.plugins.autosave.storeDraft(),!So&&Dt.isDirty()&&uo(Dt)&&(So=Dt.translate("You have unsaved changes are you sure you want to navigate away?"))}),So&&($t.preventDefault(),$t.returnValue=So)})},Je=ct=>$t=>{const So=()=>ge(ct)&&!ct.mode.isReadOnly();$t.setEnabled(So());const Dt=()=>$t.setEnabled(So());return ct.on("StoreDraft RestoreDraft RemoveDraft",Dt),()=>ct.off("StoreDraft RestoreDraft RemoveDraft",Dt)},gt=ct=>{Ho(ct);const $t=()=>{Uo(ct)};ct.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:$t,onSetup:Je(ct)}),ct.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:$t,onSetup:Je(ct)})};var Bt=()=>{wo.add("autosave",ct=>(ho(ct),qe(ct),gt(ct),ct.on("init",()=>{Ae(ct)&&ct.dom.isEmpty(ct.getBody())&&go(ct)}),Rt(ct)))};Bt()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=(ye,fe)=>ye.dispatch("insertCustomChar",{chr:fe}),$o=(ye,fe)=>{const it=Jo(ye,fe).chr;ye.execCommand("mceInsertContent",!1,it)},sn=(ye,fe,it)=>{var ke;return it(ye,fe.prototype)?!0:((ke=ye.constructor)===null||ke===void 0?void 0:ke.name)===fe.name},Qo=ye=>{const fe=typeof ye;return ye===null?"null":fe==="object"&&Array.isArray(ye)?"array":fe==="object"&&sn(ye,String,(it,ke)=>ke.isPrototypeOf(it))?"string":fe},mo=ye=>fe=>Qo(fe)===ye,Wo=ye=>fe=>typeof fe===ye,jt=ye=>fe=>ye===fe,Co=mo("array"),Io=jt(null),Go=jt(void 0),gn=ye=>ye==null,Mo=ye=>!gn(ye),Ve=Wo("function"),ho=(ye=>()=>ye)(!1);class uo{constructor(fe,it){this.tag=fe,this.value=it}static some(fe){return new uo(!0,fe)}static none(){return uo.singletonNone}fold(fe,it){return this.tag?it(this.value):fe()}isSome(){return this.tag}isNone(){return!this.tag}map(fe){return this.tag?uo.some(fe(this.value)):uo.none()}bind(fe){return this.tag?fe(this.value):uo.none()}exists(fe){return this.tag&&fe(this.value)}forall(fe){return!this.tag||fe(this.value)}filter(fe){return!this.tag||fe(this.value)?this:uo.none()}getOr(fe){return this.tag?this.value:fe}or(fe){return this.tag?this:fe}getOrThunk(fe){return this.tag?this.value:fe()}orThunk(fe){return this.tag?this:fe()}getOrDie(fe){if(this.tag)return this.value;throw new Error(fe??"Called getOrDie on None")}static from(fe){return Mo(fe)?uo.some(fe):uo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(fe){this.tag&&fe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}uo.singletonNone=new uo(!1);const Ae=Array.prototype.push,ht=(ye,fe)=>{const it=ye.length,ke=new Array(it);for(let he=0;he<it;he++){const De=ye[he];ke[he]=fe(De,he)}return ke},bo=(ye,fe)=>{for(let it=0,ke=ye.length;it<ke;it++){const he=ye[it];fe(he,it)}},ue=(ye,fe,it)=>{for(let ke=0,he=ye.length;ke<he;ke++){const De=ye[ke];if(fe(De,ke))return uo.some(De);if(it(De,ke))break}return uo.none()},$e=(ye,fe)=>ue(ye,fe,ho),ge=ye=>{const fe=[];for(let it=0,ke=ye.length;it<ke;++it){if(!Co(ye[it]))throw new Error("Arr.flatten item "+it+" was not an array, input: "+ye);Ae.apply(fe,ye[it])}return fe},mt=(ye,fe)=>ge(ht(ye,fe));var Ro=tinymce.util.Tools.resolve("tinymce.util.Tools");const go=ye=>fe=>fe.options.get(ye),Ho=ye=>{const fe=ye.options.register,it=ke=>Ve(ke)||Co(ke);fe("charmap",{processor:it}),fe("charmap_append",{processor:it})},Uo=go("charmap"),Rt=go("charmap_append"),D=Ro.isArray,qe="User Defined",Je=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],gt=ye=>Ro.grep(ye,fe=>D(fe)&&fe.length===2),Bt=ye=>D(ye)?gt(ye):typeof ye=="function"?ye():[],ct=(ye,fe)=>{const it=Uo(ye);it&&(fe=[{name:qe,characters:Bt(it)}]);const ke=Rt(ye);if(ke){const he=Ro.grep(fe,De=>De.name===qe);return he.length?(he[0].characters=[...he[0].characters,...Bt(ke)],fe):fe.concat({name:qe,characters:Bt(ke)})}return fe},$t=ye=>{const fe=ct(ye,Je());return fe.length>1?[{name:"All",characters:mt(fe,it=>it.characters)}].concat(fe):fe},So=ye=>({getCharMap:()=>$t(ye),insertChar:ke=>{$o(ye,ke)}}),Dt=ye=>{let fe=ye;return{get:()=>fe,set:he=>{fe=he}}},F=(ye,fe)=>{let it=null;const ke=()=>{Io(it)||(clearTimeout(it),it=null)};return{cancel:ke,throttle:(...De)=>{ke(),it=setTimeout(()=>{it=null,ye.apply(null,De)},fe)}}},Ot=(ye,fe,it=0,ke)=>{const he=ye.indexOf(fe,it);return he!==-1?Go(ke)?!0:he+fe.length<=ke:!1},kt=String.fromCodePoint,ro=(ye,fe,it)=>Ot(kt(ye).toLowerCase(),it)?!0:Ot(fe.toLowerCase(),it)||Ot(fe.toLowerCase().replace(/\s+/g,""),it),co=(ye,fe)=>{const it=[],ke=fe.toLowerCase();return bo(ye.characters,he=>{ro(he[0],he[1],ke)&&it.push(he)}),ht(it,he=>({text:he[1],value:kt(he[0]),icon:kt(he[0])}))},ao="pattern",yo=(ye,fe)=>{const it=()=>[{label:"Search",type:"input",name:ao},{type:"collection",name:"results"}],ke=()=>ht(fe,_o=>({title:_o.name,name:_o.name,items:it()})),he=()=>({type:"panel",items:it()}),De=()=>({type:"tabpanel",tabs:ke()}),at=fe.length===1?Dt(qe):Dt("All"),_t=(_o,Fo)=>{$e(fe,on=>on.name===at.get()).each(on=>{const _n=co(on,Fo);_o.setData({results:_n})})},dt=F(_o=>{const Fo=_o.getData().pattern;_t(_o,Fo)},40),io=fe.length===1?he():De(),Oo={pattern:"",results:co(fe[0],"")},tt={title:"Special Character",size:"normal",body:io,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Oo,onAction:(_o,Fo)=>{Fo.name==="results"&&($o(ye,Fo.value),_o.close())},onTabChange:(_o,Fo)=>{at.set(Fo.newTabName),dt.throttle(_o)},onChange:(_o,Fo)=>{Fo.name===ao&&dt.throttle(_o)}};ye.windowManager.open(tt).focus(ao)},No=(ye,fe)=>{ye.addCommand("mceShowCharmap",()=>{yo(ye,fe)})},_e=(ye,fe)=>{ye.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(it,ke)=>new Promise((he,De)=>{he(co(fe,it))}),onAction:(it,ke,he)=>{ye.selection.setRng(ke),ye.insertContent(he),it.hide()}})},Vt=ye=>fe=>{const it=()=>{fe.setEnabled(ye.selection.isEditable())};return ye.on("NodeChange",it),it(),()=>{ye.off("NodeChange",it)}},Ct=ye=>{const fe=()=>ye.execCommand("mceShowCharmap");ye.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:fe,onSetup:Vt(ye)}),ye.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:fe,onSetup:Vt(ye)})};var et=()=>{wo.add("charmap",ye=>{Ho(ye);const fe=$t(ye);return No(ye,fe),Ct(ye),_e(ye,fe[0]),So(ye)})};et()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=(jt,Co)=>{jt.focus(),jt.undoManager.transact(()=>{jt.setContent(Co)}),jt.selection.setCursorLocation(),jt.nodeChanged()},$o=jt=>jt.getContent({source_view:!0}),sn=jt=>{const Co=$o(jt);jt.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Co},onSubmit:Io=>{Jo(jt,Io.getData().code),Io.close()}})},Qo=jt=>{jt.addCommand("mceCodeEditor",()=>{sn(jt)})},mo=jt=>{const Co=()=>jt.execCommand("mceCodeEditor");jt.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Co}),jt.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Co})};var Wo=()=>{wo.add("code",jt=>(Qo(jt),mo(jt),{}))};Wo()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=he=>De=>he===De,$o=Jo(null),sn=Jo(void 0),Qo=he=>he==null,mo=he=>!Qo(he),Wo=()=>{},Co=(he=>()=>he)(!1);class Io{constructor(De,at){this.tag=De,this.value=at}static some(De){return new Io(!0,De)}static none(){return Io.singletonNone}fold(De,at){return this.tag?at(this.value):De()}isSome(){return this.tag}isNone(){return!this.tag}map(De){return this.tag?Io.some(De(this.value)):Io.none()}bind(De){return this.tag?De(this.value):Io.none()}exists(De){return this.tag&&De(this.value)}forall(De){return!this.tag||De(this.value)}filter(De){return!this.tag||De(this.value)?this:Io.none()}getOr(De){return this.tag?this.value:De}or(De){return this.tag?this:De}getOrThunk(De){return this.tag?this.value:De()}orThunk(De){return this.tag?this:De()}getOrDie(De){if(this.tag)return this.value;throw new Error(De??"Called getOrDie on None")}static from(De){return mo(De)?Io.some(De):Io.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(De){this.tag&&De(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Io.singletonNone=new Io(!1);const Go=(he,De)=>{for(let at=0,_t=he.length;at<_t;at++){const We=he[at];if(De(We,at))return!0}return!1},gn=(he,De)=>{const at=he.length,_t=new Array(at);for(let We=0;We<at;We++){const dt=he[We];_t[We]=De(dt,We)}return _t},Mo=(he,De)=>{for(let at=0,_t=he.length;at<_t;at++){const We=he[at];De(We,at)}},Ve=he=>{let De=he;return{get:()=>De,set:We=>{De=We}}},ut=(he,De)=>{let at=null;const _t=()=>{$o(at)||(clearTimeout(at),at=null)};return{cancel:_t,throttle:(...dt)=>{_t(),at=setTimeout(()=>{at=null,he.apply(null,dt)},De)}}},ho=(he,De)=>{he.insertContent(De)},uo=Object.keys,Ae=Object.hasOwnProperty,ht=(he,De)=>{const at=uo(he);for(let _t=0,We=at.length;_t<We;_t++){const dt=at[_t],io=he[dt];De(io,dt)}},bo=(he,De)=>ue(he,(at,_t)=>({k:_t,v:De(at,_t)})),ue=(he,De)=>{const at={};return ht(he,(_t,We)=>{const dt=De(_t,We);at[dt.k]=dt.v}),at},$e=(he,De)=>Ae.call(he,De),Ro=(he=>(...De)=>{if(De.length===0)throw new Error("Can't merge zero objects");const at={};for(let _t=0;_t<De.length;_t++){const We=De[_t];for(const dt in We)$e(We,dt)&&(at[dt]=he(at[dt],We[dt]))}return at})((he,De)=>De),go=he=>{const De=Ve(Io.none()),at=()=>De.get().each(he);return{clear:()=>{at(),De.set(Io.none())},isSet:()=>De.get().isSome(),get:()=>De.get(),set:Oo=>{at(),De.set(Io.some(Oo))}}},Ho=()=>{const he=go(Wo);return{...he,on:at=>he.get().each(at)}},Uo=(he,De,at)=>De===""||he.length>=De.length&&he.substr(at,at+De.length)===De,Rt=(he,De,at=0,_t)=>{const We=he.indexOf(De,at);return We!==-1?sn(_t)?!0:We+De.length<=_t:!1},D=(he,De)=>Uo(he,De,0);var qe=tinymce.util.Tools.resolve("tinymce.Resource");const Je="tinymce.plugins.emoticons",gt=he=>De=>De.options.get(he),Bt=(he,De)=>{const at=he.options.register;at("emoticons_database",{processor:"string",default:"emojis"}),at("emoticons_database_url",{processor:"string",default:`${De}/js/${ct(he)}${he.suffix}.js`}),at("emoticons_database_id",{processor:"string",default:Je}),at("emoticons_append",{processor:"object",default:{}}),at("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},ct=gt("emoticons_database"),$t=gt("emoticons_database_url"),So=gt("emoticons_database_id"),Dt=gt("emoticons_append"),F=gt("emoticons_images_url"),Ot="All",kt={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},ro=(he,De)=>$e(he,De)?he[De]:De,co=he=>{const De=Dt(he);return bo(De,at=>({keywords:[],category:"user",...at}))},ao=(he,De,at)=>{const _t=Ho(),We=Ho(),dt=F(he),io=_n=>D(_n.char,"<img")?_n.char.replace(/src="([^"]+)"/,(Zo,Yn)=>`src="${dt}${Yn}"`):_n.char,Oo=_n=>{const Zo={},Yn=[];ht(_n,(zt,Xo)=>{const Kn={title:Xo,keywords:zt.keywords,char:io(zt),category:ro(kt,zt.category)},ar=Zo[Kn.category]!==void 0?Zo[Kn.category]:[];Zo[Kn.category]=ar.concat([Kn]),Yn.push(Kn)}),_t.set(Zo),We.set(Yn)};he.on("init",()=>{qe.load(at,De).then(_n=>{const Zo=co(he);Oo(Ro(_n,Zo))},_n=>{console.log(`Failed to load emojis: ${_n}`),_t.set({}),We.set([])})});const tt=_n=>_n===Ot?vt():_t.get().bind(Zo=>Io.from(Zo[_n])).getOr([]),vt=()=>We.get().getOr([]),_o=()=>[Ot].concat(uo(_t.get().getOr({}))),Fo=()=>on()?Promise.resolve(!0):new Promise((_n,Zo)=>{let Yn=15;const zt=setInterval(()=>{on()?(clearInterval(zt),_n(!0)):(Yn--,Yn<0&&(console.log("Could not load emojis from url: "+De),clearInterval(zt),Zo(!1)))},100)}),on=()=>_t.isSet()&&We.isSet();return{listCategories:_o,hasLoaded:on,waitForLoad:Fo,listAll:vt,listCategory:tt}},yo=(he,De)=>Rt(he.title.toLowerCase(),De)||Go(he.keywords,at=>Rt(at.toLowerCase(),De)),No=(he,De,at)=>{const _t=[],We=De.toLowerCase(),dt=at.fold(()=>Co,io=>Oo=>Oo>=io);for(let io=0;io<he.length&&!((De.length===0||yo(he[io],We))&&(_t.push({value:he[io].char,text:he[io].title,icon:he[io].char}),dt(_t.length)));io++);return _t},_e="pattern",Vt=(he,De)=>{const at={pattern:"",results:No(De.listAll(),"",Io.some(300))},_t=Ve(Ot),We=_o=>{const Fo=_o.getData(),on=_t.get(),_n=De.listCategory(on),Zo=No(_n,Fo[_e],on===Ot?Io.some(300):Io.none());_o.setData({results:Zo})},dt=ut(_o=>{We(_o)},200),io={label:"Search",type:"input",name:_e},Oo={type:"collection",name:"results"},tt=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:gn(De.listCategories(),Fo=>({title:Fo,name:Fo,items:[io,Oo]}))},initialData:at,onTabChange:(Fo,on)=>{_t.set(on.newTabName),dt.throttle(Fo)},onChange:dt.throttle,onAction:(Fo,on)=>{on.name==="results"&&(ho(he,on.value),Fo.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),vt=he.windowManager.open(tt());vt.focus(_e),De.hasLoaded()||(vt.block("Loading emojis..."),De.waitForLoad().then(()=>{vt.redial(tt()),dt.throttle(vt),vt.focus(_e),vt.unblock()}).catch(_o=>{vt.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),vt.focus(_e),vt.unblock()}))},Ct=(he,De)=>{he.addCommand("mceEmoticons",()=>Vt(he,De))},et=he=>{he.on("PreInit",()=>{he.parser.addAttributeFilter("data-emoticon",De=>{Mo(De,at=>{at.attr("data-mce-resize","false"),at.attr("data-mce-placeholder","1")})})})},ye=(he,De)=>{he.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(at,_t)=>De.waitForLoad().then(()=>{const We=De.listAll();return No(We,at,Io.some(_t))}),onAction:(at,_t,We)=>{he.selection.setRng(_t),he.insertContent(We),at.hide()}})},fe=he=>De=>{const at=()=>{De.setEnabled(he.selection.isEditable())};return he.on("NodeChange",at),at(),()=>{he.off("NodeChange",at)}},it=he=>{const De=()=>he.execCommand("mceEmoticons");he.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:De,onSetup:fe(he)}),he.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:De,onSetup:fe(he)})};var ke=()=>{wo.add("emoticons",(he,De)=>{Bt(he,De);const at=$t(he),_t=So(he),We=ao(he,at,_t);return Ct(he,We),it(he),ye(he,We),et(he),{getAllEmojis:()=>We.waitForLoad().then(()=>We.listAll())}})};ke()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=gt=>gt==null,$o=gt=>!Jo(gt),sn=()=>{},Qo=gt=>()=>gt;class mo{constructor(Bt,ct){this.tag=Bt,this.value=ct}static some(Bt){return new mo(!0,Bt)}static none(){return mo.singletonNone}fold(Bt,ct){return this.tag?ct(this.value):Bt()}isSome(){return this.tag}isNone(){return!this.tag}map(Bt){return this.tag?mo.some(Bt(this.value)):mo.none()}bind(Bt){return this.tag?Bt(this.value):mo.none()}exists(Bt){return this.tag&&Bt(this.value)}forall(Bt){return!this.tag||Bt(this.value)}filter(Bt){return!this.tag||Bt(this.value)?this:mo.none()}getOr(Bt){return this.tag?this.value:Bt}or(Bt){return this.tag?this:Bt}getOrThunk(Bt){return this.tag?this.value:Bt()}orThunk(Bt){return this.tag?this:Bt()}getOrDie(Bt){if(this.tag)return this.value;throw new Error(Bt??"Called getOrDie on None")}static from(Bt){return $o(Bt)?mo.some(Bt):mo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Bt){this.tag&&Bt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}mo.singletonNone=new mo(!1);const Wo=(gt,Bt)=>Bt>=0&&Bt<gt.length?mo.some(gt[Bt]):mo.none(),jt=gt=>Wo(gt,0);var Co=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const Io=typeof window<"u"?window:Function("return this;")(),Go=function(gt,Bt,ct){const $t=window.Prism;window.Prism={manual:!0};var So=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},Dt=function(F){var Ot=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,kt=0,ro={},co={manual:F.Prism&&F.Prism.manual,disableWorkerMessageHandler:F.Prism&&F.Prism.disableWorkerMessageHandler,util:{encode:function ke(he){return he instanceof ao?new ao(he.type,ke(he.content),he.alias):Array.isArray(he)?he.map(ke):he.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(ke){return Object.prototype.toString.call(ke).slice(8,-1)},objId:function(ke){return ke.__id||Object.defineProperty(ke,"__id",{value:++kt}),ke.__id},clone:function ke(he,De){De=De||{};var at,_t;switch(co.util.type(he)){case"Object":if(_t=co.util.objId(he),De[_t])return De[_t];at={},De[_t]=at;for(var We in he)he.hasOwnProperty(We)&&(at[We]=ke(he[We],De));return at;case"Array":return _t=co.util.objId(he),De[_t]?De[_t]:(at=[],De[_t]=at,he.forEach(function(dt,io){at[io]=ke(dt,De)}),at);default:return he}},getLanguage:function(ke){for(;ke;){var he=Ot.exec(ke.className);if(he)return he[1].toLowerCase();ke=ke.parentElement}return"none"},setLanguage:function(ke,he){ke.className=ke.className.replace(RegExp(Ot,"gi"),""),ke.classList.add("language-"+he)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(at){var ke=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(at.stack)||[])[1];if(ke){var he=document.getElementsByTagName("script");for(var De in he)if(he[De].src==ke)return he[De]}return null}},isActive:function(ke,he,De){for(var at="no-"+he;ke;){var _t=ke.classList;if(_t.contains(he))return!0;if(_t.contains(at))return!1;ke=ke.parentElement}return!!De}},languages:{plain:ro,plaintext:ro,text:ro,txt:ro,extend:function(ke,he){var De=co.util.clone(co.languages[ke]);for(var at in he)De[at]=he[at];return De},insertBefore:function(ke,he,De,at){at=at||co.languages;var _t=at[ke],We={};for(var dt in _t)if(_t.hasOwnProperty(dt)){if(dt==he)for(var io in De)De.hasOwnProperty(io)&&(We[io]=De[io]);De.hasOwnProperty(dt)||(We[dt]=_t[dt])}var Oo=at[ke];return at[ke]=We,co.languages.DFS(co.languages,function(tt,vt){vt===Oo&&tt!=ke&&(this[tt]=We)}),We},DFS:function ke(he,De,at,_t){_t=_t||{};var We=co.util.objId;for(var dt in he)if(he.hasOwnProperty(dt)){De.call(he,dt,he[dt],at||dt);var io=he[dt],Oo=co.util.type(io);Oo==="Object"&&!_t[We(io)]?(_t[We(io)]=!0,ke(io,De,null,_t)):Oo==="Array"&&!_t[We(io)]&&(_t[We(io)]=!0,ke(io,De,dt,_t))}}},plugins:{},highlightAll:function(ke,he){co.highlightAllUnder(document,ke,he)},highlightAllUnder:function(ke,he,De){var at={callback:De,container:ke,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};co.hooks.run("before-highlightall",at),at.elements=Array.prototype.slice.apply(at.container.querySelectorAll(at.selector)),co.hooks.run("before-all-elements-highlight",at);for(var _t=0,We;We=at.elements[_t++];)co.highlightElement(We,he===!0,at.callback)},highlightElement:function(ke,he,De){var at=co.util.getLanguage(ke),_t=co.languages[at];co.util.setLanguage(ke,at);var We=ke.parentElement;We&&We.nodeName.toLowerCase()==="pre"&&co.util.setLanguage(We,at);var dt=ke.textContent,io={element:ke,language:at,grammar:_t,code:dt};function Oo(vt){io.highlightedCode=vt,co.hooks.run("before-insert",io),io.element.innerHTML=io.highlightedCode,co.hooks.run("after-highlight",io),co.hooks.run("complete",io),De&&De.call(io.element)}if(co.hooks.run("before-sanity-check",io),We=io.element.parentElement,We&&We.nodeName.toLowerCase()==="pre"&&!We.hasAttribute("tabindex")&&We.setAttribute("tabindex","0"),!io.code){co.hooks.run("complete",io),De&&De.call(io.element);return}if(co.hooks.run("before-highlight",io),!io.grammar){Oo(co.util.encode(io.code));return}if(he&&F.Worker){var tt=new Worker(co.filename);tt.onmessage=function(vt){Oo(vt.data)},tt.postMessage(JSON.stringify({language:io.language,code:io.code,immediateClose:!0}))}else Oo(co.highlight(io.code,io.grammar,io.language))},highlight:function(ke,he,De){var at={code:ke,grammar:he,language:De};if(co.hooks.run("before-tokenize",at),!at.grammar)throw new Error('The language "'+at.language+'" has no grammar.');return at.tokens=co.tokenize(at.code,at.grammar),co.hooks.run("after-tokenize",at),ao.stringify(co.util.encode(at.tokens),at.language)},tokenize:function(ke,he){var De=he.rest;if(De){for(var at in De)he[at]=De[at];delete he.rest}var _t=new _e;return Vt(_t,_t.head,ke),No(ke,_t,he,_t.head,0),et(_t)},hooks:{all:{},add:function(ke,he){var De=co.hooks.all;De[ke]=De[ke]||[],De[ke].push(he)},run:function(ke,he){var De=co.hooks.all[ke];if(!(!De||!De.length))for(var at=0,_t;_t=De[at++];)_t(he)}},Token:ao};F.Prism=co;function ao(ke,he,De,at){this.type=ke,this.content=he,this.alias=De,this.length=(at||"").length|0}ao.stringify=function ke(he,De){if(typeof he=="string")return he;if(Array.isArray(he)){var at="";return he.forEach(function(Oo){at+=ke(Oo,De)}),at}var _t={type:he.type,content:ke(he.content,De),tag:"span",classes:["token",he.type],attributes:{},language:De},We=he.alias;We&&(Array.isArray(We)?Array.prototype.push.apply(_t.classes,We):_t.classes.push(We)),co.hooks.run("wrap",_t);var dt="";for(var io in _t.attributes)dt+=" "+io+'="'+(_t.attributes[io]||"").replace(/"/g,"&quot;")+'"';return"<"+_t.tag+' class="'+_t.classes.join(" ")+'"'+dt+">"+_t.content+"</"+_t.tag+">"};function yo(ke,he,De,at){ke.lastIndex=he;var _t=ke.exec(De);if(_t&&at&&_t[1]){var We=_t[1].length;_t.index+=We,_t[0]=_t[0].slice(We)}return _t}function No(ke,he,De,at,_t,We){for(var dt in De)if(!(!De.hasOwnProperty(dt)||!De[dt])){var io=De[dt];io=Array.isArray(io)?io:[io];for(var Oo=0;Oo<io.length;++Oo){if(We&&We.cause==dt+","+Oo)return;var tt=io[Oo],vt=tt.inside,_o=!!tt.lookbehind,Fo=!!tt.greedy,on=tt.alias;if(Fo&&!tt.pattern.global){var _n=tt.pattern.toString().match(/[imsuy]*$/)[0];tt.pattern=RegExp(tt.pattern.source,_n+"g")}for(var Zo=tt.pattern||tt,Yn=at.next,zt=_t;Yn!==he.tail&&!(We&&zt>=We.reach);zt+=Yn.value.length,Yn=Yn.next){var Xo=Yn.value;if(he.length>ke.length)return;if(!(Xo instanceof ao)){var Kn=1,ar;if(Fo){if(ar=yo(Zo,zt,ke,_o),!ar||ar.index>=ke.length)break;var Nr=ar.index,Vr=ar.index+ar[0].length,Ft=zt;for(Ft+=Yn.value.length;Nr>=Ft;)Yn=Yn.next,Ft+=Yn.value.length;if(Ft-=Yn.value.length,zt=Ft,Yn.value instanceof ao)continue;for(var Gr=Yn;Gr!==he.tail&&(Ft<Vr||typeof Gr.value=="string");Gr=Gr.next)Kn++,Ft+=Gr.value.length;Kn--,Xo=ke.slice(zt,Ft),ar.index-=zt}else if(ar=yo(Zo,0,Xo,_o),!ar)continue;var Nr=ar.index,yr=ar[0],jo=Xo.slice(0,Nr),$r=Xo.slice(Nr+yr.length),ls=zt+Xo.length;We&&ls>We.reach&&(We.reach=ls);var Fa=Yn.prev;jo&&(Fa=Vt(he,Fa,jo),zt+=jo.length),Ct(he,Fa,Kn);var cs=new ao(dt,vt?co.tokenize(yr,vt):yr,on,yr);if(Yn=Vt(he,Fa,cs),$r&&Vt(he,Yn,$r),Kn>1){var La={cause:dt+","+Oo,reach:ls};No(ke,he,De,Yn.prev,zt,La),We&&La.reach>We.reach&&(We.reach=La.reach)}}}}}}function _e(){var ke={value:null,prev:null,next:null},he={value:null,prev:ke,next:null};ke.next=he,this.head=ke,this.tail=he,this.length=0}function Vt(ke,he,De){var at=he.next,_t={value:De,prev:he,next:at};return he.next=_t,at.prev=_t,ke.length++,_t}function Ct(ke,he,De){for(var at=he.next,_t=0;_t<De&&at!==ke.tail;_t++)at=at.next;he.next=at,at.prev=he,ke.length-=_t}function et(ke){for(var he=[],De=ke.head.next;De!==ke.tail;)he.push(De.value),De=De.next;return he}if(!F.document)return F.addEventListener&&(co.disableWorkerMessageHandler||F.addEventListener("message",function(ke){var he=JSON.parse(ke.data),De=he.language,at=he.code,_t=he.immediateClose;F.postMessage(co.highlight(at,co.languages[De],De)),_t&&F.close()},!1)),co;var ye=co.util.currentScript();ye&&(co.filename=ye.src,ye.hasAttribute("data-manual")&&(co.manual=!0));function fe(){co.manual||co.highlightAll()}if(!co.manual){var it=document.readyState;it==="loading"||it==="interactive"&&ye&&ye.defer?document.addEventListener("DOMContentLoaded",fe):window.requestAnimationFrame?window.requestAnimationFrame(fe):window.setTimeout(fe,16)}return co}(So);return Dt.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(F){function Ot(kt,ro){return"___"+kt.toUpperCase()+ro+"___"}Object.defineProperties(F.languages["markup-templating"]={},{buildPlaceholders:{value:function(kt,ro,co,ao){if(kt.language===ro){var yo=kt.tokenStack=[];kt.code=kt.code.replace(co,function(No){if(typeof ao=="function"&&!ao(No))return No;for(var _e=yo.length,Vt;kt.code.indexOf(Vt=Ot(ro,_e))!==-1;)++_e;return yo[_e]=No,Vt}),kt.grammar=F.languages.markup}}},tokenizePlaceholders:{value:function(kt,ro){if(kt.language!==ro||!kt.tokenStack)return;kt.grammar=F.languages[ro];var co=0,ao=Object.keys(kt.tokenStack);function yo(No){for(var _e=0;_e<No.length&&!(co>=ao.length);_e++){var Vt=No[_e];if(typeof Vt=="string"||Vt.content&&typeof Vt.content=="string"){var Ct=ao[co],et=kt.tokenStack[Ct],ye=typeof Vt=="string"?Vt:Vt.content,fe=Ot(ro,Ct),it=ye.indexOf(fe);if(it>-1){++co;var ke=ye.substring(0,it),he=new F.Token(ro,F.tokenize(et,kt.grammar),"language-"+ro,et),De=ye.substring(it+fe.length),at=[];ke&&at.push.apply(at,yo([ke])),at.push(he),De&&at.push.apply(at,yo([De])),typeof Vt=="string"?No.splice.apply(No,[_e,1].concat(at)):Vt.content=at}}else Vt.content&&yo(Vt.content)}return No}yo(kt.tokens)}}})}(Dt),Dt.languages.c=Dt.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Dt.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Dt.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Dt.languages.c.string],char:Dt.languages.c.char,comment:Dt.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Dt.languages.c}}}}),Dt.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Dt.languages.c.boolean,function(F){var Ot=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,kt=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return Ot.source});F.languages.cpp=F.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Ot.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Ot,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),F.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return kt})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),F.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:F.languages.cpp}}}}),F.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),F.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:F.languages.extend("cpp",{})}}),F.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},F.languages.cpp["base-clause"])}(Dt),function(F){function Ot(ar,Vr){return ar.replace(/<<(\d+)>>/g,function(Ft,Gr){return"(?:"+Vr[+Gr]+")"})}function kt(ar,Vr,Ft){return RegExp(Ot(ar,Vr),"")}function ro(ar,Vr){for(var Ft=0;Ft<Vr;Ft++)ar=ar.replace(/<<self>>/g,function(){return"(?:"+ar+")"});return ar.replace(/<<self>>/g,"[^\\s\\S]")}var co={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function ao(ar){return"\\b(?:"+ar.trim().replace(/ /g,"|")+")\\b"}var yo=ao(co.typeDeclaration),No=RegExp(ao(co.type+" "+co.typeDeclaration+" "+co.contextual+" "+co.other)),_e=ao(co.typeDeclaration+" "+co.contextual+" "+co.other),Vt=ao(co.type+" "+co.typeDeclaration+" "+co.other),Ct=ro(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),et=ro(/\((?:[^()]|<<self>>)*\)/.source,2),ye=/@?\b[A-Za-z_]\w*\b/.source,fe=Ot(/<<0>>(?:\s*<<1>>)?/.source,[ye,Ct]),it=Ot(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[_e,fe]),ke=/\[\s*(?:,\s*)*\]/.source,he=Ot(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[it,ke]),De=Ot(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[Ct,et,ke]),at=Ot(/\(<<0>>+(?:,<<0>>+)+\)/.source,[De]),_t=Ot(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[at,it,ke]),We={keyword:No,punctuation:/[<>()?,.:[\]]/},dt=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,io=/"(?:\\.|[^\\"\r\n])*"/.source,Oo=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;F.languages.csharp=F.languages.extend("clike",{string:[{pattern:kt(/(^|[^$\\])<<0>>/.source,[Oo]),lookbehind:!0,greedy:!0},{pattern:kt(/(^|[^@$\\])<<0>>/.source,[io]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:kt(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[it]),lookbehind:!0,inside:We},{pattern:kt(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[ye,_t]),lookbehind:!0,inside:We},{pattern:kt(/(\busing\s+)<<0>>(?=\s*=)/.source,[ye]),lookbehind:!0},{pattern:kt(/(\b<<0>>\s+)<<1>>/.source,[yo,fe]),lookbehind:!0,inside:We},{pattern:kt(/(\bcatch\s*\(\s*)<<0>>/.source,[it]),lookbehind:!0,inside:We},{pattern:kt(/(\bwhere\s+)<<0>>/.source,[ye]),lookbehind:!0},{pattern:kt(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[he]),lookbehind:!0,inside:We},{pattern:kt(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[_t,Vt,ye]),inside:We}],keyword:No,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),F.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),F.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:kt(/([(,]\s*)<<0>>(?=\s*:)/.source,[ye]),lookbehind:!0,alias:"punctuation"}}),F.languages.insertBefore("csharp","class-name",{namespace:{pattern:kt(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[ye]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:kt(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[et]),lookbehind:!0,alias:"class-name",inside:We},"return-type":{pattern:kt(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[_t,it]),inside:We,alias:"class-name"},"constructor-invocation":{pattern:kt(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[_t]),lookbehind:!0,inside:We,alias:"class-name"},"generic-method":{pattern:kt(/<<0>>\s*<<1>>(?=\s*\()/.source,[ye,Ct]),inside:{function:kt(/^<<0>>/.source,[ye]),generic:{pattern:RegExp(Ct),alias:"class-name",inside:We}}},"type-list":{pattern:kt(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[yo,fe,ye,_t,No.source,et,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:kt(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[fe,et]),lookbehind:!0,greedy:!0,inside:F.languages.csharp},keyword:No,"class-name":{pattern:RegExp(_t),greedy:!0,inside:We},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var tt=io+"|"+dt,vt=Ot(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[tt]),_o=ro(Ot(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[vt]),2),Fo=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,on=Ot(/<<0>>(?:\s*\(<<1>>*\))?/.source,[it,_o]);F.languages.insertBefore("csharp","class-name",{attribute:{pattern:kt(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[Fo,on]),lookbehind:!0,greedy:!0,inside:{target:{pattern:kt(/^<<0>>(?=\s*:)/.source,[Fo]),alias:"keyword"},"attribute-arguments":{pattern:kt(/\(<<0>>*\)/.source,[_o]),inside:F.languages.csharp},"class-name":{pattern:RegExp(it),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var _n=/:[^}\r\n]+/.source,Zo=ro(Ot(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[vt]),2),Yn=Ot(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Zo,_n]),zt=ro(Ot(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[tt]),2),Xo=Ot(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[zt,_n]);function Kn(ar,Vr){return{interpolation:{pattern:kt(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[ar]),lookbehind:!0,inside:{"format-string":{pattern:kt(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Vr,_n]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:F.languages.csharp}}},string:/[\s\S]+/}}F.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:kt(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Yn]),lookbehind:!0,greedy:!0,inside:Kn(Yn,Zo)},{pattern:kt(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Xo]),lookbehind:!0,greedy:!0,inside:Kn(Xo,zt)}],char:{pattern:RegExp(dt),greedy:!0}}),F.languages.dotnet=F.languages.cs=F.languages.csharp}(Dt),function(F){var Ot=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;F.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Ot.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Ot.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Ot.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Ot.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Ot,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},F.languages.css.atrule.inside.rest=F.languages.css;var kt=F.languages.markup;kt&&(kt.tag.addInlined("style","css"),kt.tag.addAttribute("style","css"))}(Dt),function(F){var Ot=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,kt=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,ro={pattern:RegExp(/(^|[^\w.])/.source+kt+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};F.languages.java=F.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[ro,{pattern:RegExp(/(^|[^\w.])/.source+kt+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:ro.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+kt+/[A-Z]\w*\b/.source),lookbehind:!0,inside:ro.inside}],keyword:Ot,function:[F.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),F.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),F.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":ro,keyword:Ot,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+kt+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:ro.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+kt+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:ro.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return Ot.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Dt),Dt.languages.javascript=Dt.languages.extend("clike",{"class-name":[Dt.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Dt.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Dt.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Dt.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Dt.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Dt.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Dt.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Dt.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Dt.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Dt.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Dt.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Dt.languages.markup&&(Dt.languages.markup.tag.addInlined("script","javascript"),Dt.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Dt.languages.js=Dt.languages.javascript,Dt.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Dt.languages.markup.tag.inside["attr-value"].inside.entity=Dt.languages.markup.entity,Dt.languages.markup.doctype.inside["internal-subset"].inside=Dt.languages.markup,Dt.hooks.add("wrap",function(F){F.type==="entity"&&(F.attributes.title=F.content.replace(/&amp;/,"&"))}),Object.defineProperty(Dt.languages.markup.tag,"addInlined",{value:function(Ot,kt){var ro={};ro["language-"+kt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Dt.languages[kt]},ro.cdata=/^<!\[CDATA\[|\]\]>$/i;var co={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:ro}};co["language-"+kt]={pattern:/[\s\S]+/,inside:Dt.languages[kt]};var ao={};ao[Ot]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Ot}),"i"),lookbehind:!0,greedy:!0,inside:co},Dt.languages.insertBefore("markup","cdata",ao)}}),Object.defineProperty(Dt.languages.markup.tag,"addAttribute",{value:function(F,Ot){Dt.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+F+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Ot,"language-"+Ot],inside:Dt.languages[Ot]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Dt.languages.html=Dt.languages.markup,Dt.languages.mathml=Dt.languages.markup,Dt.languages.svg=Dt.languages.markup,Dt.languages.xml=Dt.languages.extend("markup",{}),Dt.languages.ssml=Dt.languages.xml,Dt.languages.atom=Dt.languages.xml,Dt.languages.rss=Dt.languages.xml,function(F){var Ot=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,kt=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],ro=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,co=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,ao=/[{}\[\](),:;]/;F.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:Ot,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:kt,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:ro,operator:co,punctuation:ao};var yo={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:F.languages.php},No=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:yo}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:yo}}];F.languages.insertBefore("php","variable",{string:No,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:Ot,string:No,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:kt,number:ro,operator:co,punctuation:ao}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),F.hooks.add("before-tokenize",function(_e){if(/<\?/.test(_e.code)){var Vt=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;F.languages["markup-templating"].buildPlaceholders(_e,"php",Vt)}}),F.hooks.add("after-tokenize",function(_e){F.languages["markup-templating"].tokenizePlaceholders(_e,"php")})}(Dt),Dt.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Dt.languages.python["string-interpolation"].inside.interpolation.inside.rest=Dt.languages.python,Dt.languages.py=Dt.languages.python,function(F){F.languages.ruby=F.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),F.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var Ot={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:F.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete F.languages.ruby.function;var kt="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",ro=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;F.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+kt+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:Ot,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:Ot,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+ro),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+ro+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),F.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+kt),greedy:!0,inside:{interpolation:Ot,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:Ot,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:Ot,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+kt),greedy:!0,inside:{interpolation:Ot,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:Ot,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete F.languages.ruby.string,F.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),F.languages.rb=F.languages.ruby}(Dt),window.Prism=$t,Dt}(),gn=gt=>Bt=>Bt.options.get(gt),Mo=gt=>{const Bt=gt.options.register;Bt("codesample_languages",{processor:"object[]"}),Bt("codesample_global_prismjs",{processor:"boolean",default:!1})},Ve=gn("codesample_languages"),ut=gn("codesample_global_prismjs"),ho=gt=>Io.Prism&&ut(gt)?Io.Prism:Go,uo=gt=>$o(gt)&&gt.nodeName==="PRE"&&gt.className.indexOf("language-")!==-1,Ae=gt=>{const Bt=gt.selection?gt.selection.getNode():null;return uo(Bt)?mo.some(Bt):mo.none()},ht=(gt,Bt,ct)=>{const $t=gt.dom;gt.undoManager.transact(()=>{const So=Ae(gt);return ct=Co.DOM.encode(ct),So.fold(()=>{gt.insertContent('<pre id="__new" class="language-'+Bt+'">'+ct+"</pre>");const Dt=$t.select("#__new")[0];$t.setAttrib(Dt,"id",null),gt.selection.select(Dt)},Dt=>{$t.setAttrib(Dt,"class","language-"+Bt),Dt.innerHTML=ct,ho(gt).highlightElement(Dt),gt.selection.select(Dt)})})},bo=gt=>Ae(gt).bind(ct=>mo.from(ct.textContent)).getOr(""),ue=gt=>{const Bt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],ct=Ve(gt);return ct||Bt},$e=(gt,Bt)=>Ae(gt).fold(()=>Bt,$t=>{const So=$t.className.match(/language-(\w+)/);return So?So[1]:Bt}),ge=gt=>{const Bt=ue(gt),ct=jt(Bt).fold(Qo(""),Dt=>Dt.value),$t=$e(gt,ct),So=bo(gt);gt.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:Bt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:$t,code:So},onSubmit:Dt=>{const F=Dt.getData();ht(gt,F.language,F.code),Dt.close()}})},mt=gt=>{gt.addCommand("codesample",()=>{const Bt=gt.selection.getNode();gt.selection.isCollapsed()||uo(Bt)?ge(gt):gt.formatter.toggle("code")})},go=(gt=>Bt=>Bt.replace(gt,""))(/^\s+|\s+$/g);var Ho=tinymce.util.Tools.resolve("tinymce.util.Tools");const Uo=gt=>{gt.on("PreProcess",Bt=>{const ct=gt.dom,$t=ct.select("pre[contenteditable=false]",Bt.node);Ho.each(Ho.grep($t,uo),So=>{const Dt=So.textContent;ct.setAttrib(So,"class",go(ct.getAttrib(So,"class"))),ct.setAttrib(So,"contentEditable",null),ct.setAttrib(So,"data-mce-highlighted",null);let F;for(;F=So.firstChild;)So.removeChild(F);const Ot=ct.add(So,"code");Ot.textContent=Dt})}),gt.on("SetContent",()=>{const Bt=gt.dom,ct=Ho.grep(Bt.select("pre"),$t=>uo($t)&&Bt.getAttrib($t,"data-mce-highlighted")!=="true");ct.length&&gt.undoManager.transact(()=>{Ho.each(ct,$t=>{var So;Ho.each(Bt.select("br",$t),Dt=>{Bt.replace(gt.getDoc().createTextNode(`
`),Dt)}),$t.innerHTML=Bt.encode((So=$t.textContent)!==null&&So!==void 0?So:""),ho(gt).highlightElement($t),Bt.setAttrib($t,"data-mce-highlighted",!0),$t.className=go($t.className)})})}),gt.on("PreInit",()=>{gt.parser.addNodeFilter("pre",Bt=>{var ct;for(let $t=0,So=Bt.length;$t<So;$t++){const Dt=Bt[$t];((ct=Dt.attr("class"))!==null&&ct!==void 0?ct:"").indexOf("language-")!==-1&&(Dt.attr("contenteditable","false"),Dt.attr("data-mce-highlighted","false"))}})})},Rt=(gt,Bt=sn)=>ct=>{const $t=()=>{ct.setEnabled(gt.selection.isEditable()),Bt(ct)};return gt.on("NodeChange",$t),$t(),()=>{gt.off("NodeChange",$t)}},D=gt=>{const Bt=gt.selection.getStart();return gt.dom.is(Bt,'pre[class*="language-"]')},qe=gt=>{const Bt=()=>gt.execCommand("codesample");gt.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:Bt,onSetup:Rt(gt,ct=>{ct.setActive(D(gt))})}),gt.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:Bt,onSetup:Rt(gt)})};var Je=()=>{wo.add("codesample",gt=>{Mo(gt),Uo(gt),qe(gt),mt(gt),gt.on("dblclick",Bt=>{uo(Bt.target)&&ge(gt)})})};Je()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=(tt,vt,_o)=>{var Fo;return _o(tt,vt.prototype)?!0:((Fo=tt.constructor)===null||Fo===void 0?void 0:Fo.name)===vt.name},$o=tt=>{const vt=typeof tt;return tt===null?"null":vt==="object"&&Array.isArray(tt)?"array":vt==="object"&&Jo(tt,String,(_o,Fo)=>Fo.isPrototypeOf(_o))?"string":vt},sn=tt=>vt=>$o(vt)===tt,Qo=tt=>vt=>typeof vt===tt,mo=sn("string"),Wo=Qo("boolean"),jt=tt=>tt==null,Co=tt=>!jt(tt),Io=Qo("function"),Go=Qo("number"),gn=(tt,vt)=>_o=>tt(vt(_o)),Ve=(tt=>()=>tt)(!1);class ut{constructor(vt,_o){this.tag=vt,this.value=_o}static some(vt){return new ut(!0,vt)}static none(){return ut.singletonNone}fold(vt,_o){return this.tag?_o(this.value):vt()}isSome(){return this.tag}isNone(){return!this.tag}map(vt){return this.tag?ut.some(vt(this.value)):ut.none()}bind(vt){return this.tag?vt(this.value):ut.none()}exists(vt){return this.tag&&vt(this.value)}forall(vt){return!this.tag||vt(this.value)}filter(vt){return!this.tag||vt(this.value)?this:ut.none()}getOr(vt){return this.tag?this.value:vt}or(vt){return this.tag?this:vt}getOrThunk(vt){return this.tag?this.value:vt()}orThunk(vt){return this.tag?this:vt()}getOrDie(vt){if(this.tag)return this.value;throw new Error(vt??"Called getOrDie on None")}static from(vt){return Co(vt)?ut.some(vt):ut.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(vt){this.tag&&vt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ut.singletonNone=new ut(!1);const ho=(tt,vt)=>{const _o=tt.length,Fo=new Array(_o);for(let on=0;on<_o;on++){const _n=tt[on];Fo[on]=vt(_n,on)}return Fo},uo=(tt,vt)=>{for(let _o=0,Fo=tt.length;_o<Fo;_o++){const on=tt[_o];vt(on,_o)}},Ae=(tt,vt)=>{const _o=[];for(let Fo=0,on=tt.length;Fo<on;Fo++){const _n=tt[Fo];vt(_n,Fo)&&_o.push(_n)}return _o},ht=11,bo=1,ue=3,$e=(tt,vt)=>{const Fo=(vt||document).createElement("div");if(Fo.innerHTML=tt,!Fo.hasChildNodes()||Fo.childNodes.length>1){const on="HTML does not have a single root node";throw console.error(on,tt),new Error(on)}return Ro(Fo.childNodes[0])},ge=(tt,vt)=>{const Fo=(vt||document).createElement(tt);return Ro(Fo)},mt=(tt,vt)=>{const Fo=(vt||document).createTextNode(tt);return Ro(Fo)},Ro=tt=>{if(tt==null)throw new Error("Node cannot be null or undefined");return{dom:tt}},Ho={fromHtml:$e,fromTag:ge,fromText:mt,fromDom:Ro,fromPoint:(tt,vt,_o)=>ut.from(tt.dom.elementFromPoint(vt,_o)).map(Ro)},Uo=(tt,vt)=>{const _o=tt.dom;if(_o.nodeType!==bo)return!1;{const Fo=_o;if(Fo.matches!==void 0)return Fo.matches(vt);if(Fo.msMatchesSelector!==void 0)return Fo.msMatchesSelector(vt);if(Fo.webkitMatchesSelector!==void 0)return Fo.webkitMatchesSelector(vt);if(Fo.mozMatchesSelector!==void 0)return Fo.mozMatchesSelector(vt);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const Rt=tt=>tt.dom.nodeName.toLowerCase(),D=tt=>tt.dom.nodeType,qe=tt=>vt=>D(vt)===tt,Je=qe(bo),gt=qe(ue),Bt=qe(ht),ct=tt=>vt=>Je(vt)&&Rt(vt)===tt,$t=tt=>ut.from(tt.dom.parentNode).map(Ho.fromDom),So=tt=>ho(tt.dom.childNodes,Ho.fromDom),Dt=(tt,vt,_o)=>{if(mo(_o)||Wo(_o)||Go(_o))tt.setAttribute(vt,_o+"");else throw console.error("Invalid call to Attribute.set. Key ",vt,":: Value ",_o,":: Element ",tt),new Error("Attribute value was not simple")},F=(tt,vt,_o)=>{Dt(tt.dom,vt,_o)},Ot=(tt,vt)=>{tt.dom.removeAttribute(vt)},kt=tt=>Bt(tt)&&Co(tt.dom.host),ro=tt=>Ho.fromDom(tt.dom.getRootNode()),co=tt=>{const vt=ro(tt);return kt(vt)?ut.some(vt):ut.none()},ao=tt=>Ho.fromDom(tt.dom.host),yo=tt=>{const vt=gt(tt)?tt.dom.parentNode:tt.dom;if(vt==null||vt.ownerDocument===null)return!1;const _o=vt.ownerDocument;return co(Ho.fromDom(vt)).fold(()=>_o.body.contains(vt),gn(yo,ao))},No=(tt,vt,_o)=>{let Fo=tt.dom;const on=Io(_o)?_o:Ve;for(;Fo.parentNode;){Fo=Fo.parentNode;const _n=Ho.fromDom(Fo);if(vt(_n))return ut.some(_n);if(on(_n))break}return ut.none()},_e=(tt,vt,_o)=>No(tt,Fo=>Uo(Fo,vt),_o),Vt=tt=>tt.style!==void 0&&Io(tt.style.getPropertyValue),Ct=(tt,vt)=>{const _o=tt.dom,on=window.getComputedStyle(_o).getPropertyValue(vt);return on===""&&!yo(tt)?et(_o,vt):on},et=(tt,vt)=>Vt(tt)?tt.style.getPropertyValue(vt):"",ye=tt=>Ct(tt,"direction")==="rtl"?"rtl":"ltr",fe=(tt,vt)=>Ae(So(tt),vt),it=(tt,vt)=>fe(tt,_o=>Uo(_o,vt)),ke=tt=>$t(tt).filter(Je),he=(tt,vt)=>(vt?_e(tt,"ol,ul"):ut.some(tt)).getOr(tt),De=ct("li"),at=(tt,vt,_o)=>{uo(vt,Fo=>{const on=Ho.fromDom(Fo),_n=De(on),Zo=he(on,_n);ke(Zo).each(zt=>{if(tt.setStyle(Zo.dom,"direction",null),ye(zt)===_o?Ot(Zo,"dir"):F(Zo,"dir",_o),ye(Zo)!==_o&&tt.setStyle(Zo.dom,"direction",_o),_n){const Kn=it(Zo,"li[dir],li[style]");uo(Kn,ar=>{Ot(ar,"dir"),tt.setStyle(ar.dom,"direction",null)})}})})},_t=(tt,vt)=>{tt.selection.isEditable()&&(at(tt.dom,tt.selection.getSelectedBlocks(),vt),tt.nodeChanged())},We=tt=>{tt.addCommand("mceDirectionLTR",()=>{_t(tt,"ltr")}),tt.addCommand("mceDirectionRTL",()=>{_t(tt,"rtl")})},dt=(tt,vt)=>_o=>{const Fo=on=>{const _n=Ho.fromDom(on.element);_o.setActive(ye(_n)===vt),_o.setEnabled(tt.selection.isEditable())};return tt.on("NodeChange",Fo),_o.setEnabled(tt.selection.isEditable()),()=>tt.off("NodeChange",Fo)},io=tt=>{tt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>tt.execCommand("mceDirectionLTR"),onSetup:dt(tt,"ltr")}),tt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>tt.execCommand("mceDirectionRTL"),onSetup:dt(tt,"rtl")})};var Oo=()=>{wo.add("directionality",tt=>{We(tt),io(tt)})};Oo()})();(function(){const wo=le=>{let ze=le;return{get:()=>ze,set:zn=>{ze=zn}}};var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager");const $o=le=>({isFullscreen:()=>le.get()!==null}),sn=(le,ze,yt)=>{var no;return yt(le,ze.prototype)?!0:((no=le.constructor)===null||no===void 0?void 0:no.name)===ze.name},Qo=le=>{const ze=typeof le;return le===null?"null":ze==="object"&&Array.isArray(le)?"array":ze==="object"&&sn(le,String,(yt,no)=>no.isPrototypeOf(yt))?"string":ze},mo=le=>ze=>Qo(ze)===le,Wo=le=>ze=>typeof ze===le,jt=le=>ze=>le===ze,Co=mo("string"),Io=mo("object"),Go=mo("array"),gn=jt(null),Mo=Wo("boolean"),Ve=jt(void 0),ut=le=>le==null,ho=le=>!ut(le),uo=Wo("function"),Ae=Wo("number"),ht=()=>{},bo=(le,ze)=>(...yt)=>le(ze.apply(null,yt)),ue=(le,ze)=>yt=>le(ze(yt)),$e=le=>()=>le;function ge(le,...ze){return(...yt)=>{const no=ze.concat(yt);return le.apply(null,no)}}const mt=$e(!1),Ro=$e(!0);class go{constructor(ze,yt){this.tag=ze,this.value=yt}static some(ze){return new go(!0,ze)}static none(){return go.singletonNone}fold(ze,yt){return this.tag?yt(this.value):ze()}isSome(){return this.tag}isNone(){return!this.tag}map(ze){return this.tag?go.some(ze(this.value)):go.none()}bind(ze){return this.tag?ze(this.value):go.none()}exists(ze){return this.tag&&ze(this.value)}forall(ze){return!this.tag||ze(this.value)}filter(ze){return!this.tag||ze(this.value)?this:go.none()}getOr(ze){return this.tag?this.value:ze}or(ze){return this.tag?this:ze}getOrThunk(ze){return this.tag?this.value:ze()}orThunk(ze){return this.tag?this:ze()}getOrDie(ze){if(this.tag)return this.value;throw new Error(ze??"Called getOrDie on None")}static from(ze){return ho(ze)?go.some(ze):go.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ze){this.tag&&ze(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}go.singletonNone=new go(!1);const Ho=Array.prototype.push,Uo=(le,ze)=>{const yt=le.length,no=new Array(yt);for(let zn=0;zn<yt;zn++){const mr=le[zn];no[zn]=ze(mr,zn)}return no},Rt=(le,ze)=>{for(let yt=0,no=le.length;yt<no;yt++){const zn=le[yt];ze(zn,yt)}},D=(le,ze)=>{const yt=[];for(let no=0,zn=le.length;no<zn;no++){const mr=le[no];ze(mr,no)&&yt.push(mr)}return yt},qe=(le,ze,yt)=>{for(let no=0,zn=le.length;no<zn;no++){const mr=le[no];if(ze(mr,no))return go.some(mr);if(yt(mr,no))break}return go.none()},Je=(le,ze)=>qe(le,ze,mt),gt=le=>{const ze=[];for(let yt=0,no=le.length;yt<no;++yt){if(!Go(le[yt]))throw new Error("Arr.flatten item "+yt+" was not an array, input: "+le);Ho.apply(ze,le[yt])}return ze},Bt=(le,ze)=>gt(Uo(le,ze)),ct=(le,ze)=>ze>=0&&ze<le.length?go.some(le[ze]):go.none(),$t=le=>ct(le,0),So=(le,ze)=>{for(let yt=0;yt<le.length;yt++){const no=ze(le[yt],yt);if(no.isSome())return no}return go.none()},Dt=(le,ze,yt)=>le.isSome()&&ze.isSome()?go.some(yt(le.getOrDie(),ze.getOrDie())):go.none(),F=le=>{const ze=wo(go.none()),yt=()=>ze.get().each(le);return{clear:()=>{yt(),ze.set(go.none())},isSet:()=>ze.get().isSome(),get:()=>ze.get(),set:Ps=>{yt(),ze.set(go.some(Ps))}}},Ot=()=>F(le=>le.unbind()),kt=()=>{const le=F(ht);return{...le,on:yt=>le.get().each(yt)}},ro=(le,ze)=>{let yt=null;return{cancel:()=>{gn(yt)||(clearTimeout(yt),yt=null)},throttle:(...mr)=>{gn(yt)&&(yt=setTimeout(()=>{yt=null,le.apply(null,mr)},ze))}}},co=Object.keys,ao=(le,ze)=>{const yt=co(le);for(let no=0,zn=yt.length;no<zn;no++){const mr=yt[no],Fr=le[mr];ze(Fr,mr)}},yo=typeof window<"u"?window:Function("return this;")(),No=(le,ze)=>{let yt=ze??yo;for(let no=0;no<le.length&&yt!==void 0&&yt!==null;++no)yt=yt[le[no]];return yt},_e=(le,ze)=>{const yt=le.split(".");return No(yt,ze)},Vt=(le,ze)=>_e(le,ze),Ct=(le,ze)=>{const yt=Vt(le,ze);if(yt==null)throw new Error(le+" not available on this browser");return yt},et=Object.getPrototypeOf,ye=le=>Ct("HTMLElement",le),fe=le=>{const ze=_e("ownerDocument.defaultView",le);return Io(le)&&(ye(ze).prototype.isPrototypeOf(le)||/^HTML\w*Element$/.test(et(le).constructor.name))},it=9,ke=11,he=1,De=3,at=le=>le.dom.nodeType,_t=le=>ze=>at(ze)===le,We=le=>dt(le)&&fe(le.dom),dt=_t(he),io=_t(De),Oo=_t(ke),tt=(le,ze,yt)=>{if(Co(yt)||Mo(yt)||Ae(yt))le.setAttribute(ze,yt+"");else throw console.error("Invalid call to Attribute.set. Key ",ze,":: Value ",yt,":: Element ",le),new Error("Attribute value was not simple")},vt=(le,ze,yt)=>{tt(le.dom,ze,yt)},_o=(le,ze)=>{const yt=le.dom.getAttribute(ze);return yt===null?void 0:yt},Fo=(le,ze)=>{le.dom.removeAttribute(ze)},on=le=>le.dom.classList!==void 0,_n=(le,ze)=>on(le)&&le.dom.classList.contains(ze),Zo=(le,ze,yt=0,no)=>{const zn=le.indexOf(ze,yt);return zn!==-1?Ve(no)?!0:zn+ze.length<=no:!1},Yn=le=>le.style!==void 0&&uo(le.style.getPropertyValue),zt=(le,ze)=>{const no=(ze||document).createElement("div");if(no.innerHTML=le,!no.hasChildNodes()||no.childNodes.length>1){const zn="HTML does not have a single root node";throw console.error(zn,le),new Error(zn)}return ar(no.childNodes[0])},Xo=(le,ze)=>{const no=(ze||document).createElement(le);return ar(no)},Kn=(le,ze)=>{const no=(ze||document).createTextNode(le);return ar(no)},ar=le=>{if(le==null)throw new Error("Node cannot be null or undefined");return{dom:le}},Ft={fromHtml:zt,fromTag:Xo,fromText:Kn,fromDom:ar,fromPoint:(le,ze,yt)=>go.from(le.dom.elementFromPoint(ze,yt)).map(ar)},Gr=(le,ze)=>{const yt=le.dom;if(yt.nodeType!==he)return!1;{const no=yt;if(no.matches!==void 0)return no.matches(ze);if(no.msMatchesSelector!==void 0)return no.msMatchesSelector(ze);if(no.webkitMatchesSelector!==void 0)return no.webkitMatchesSelector(ze);if(no.mozMatchesSelector!==void 0)return no.mozMatchesSelector(ze);throw new Error("Browser lacks native selectors")}},Nr=le=>le.nodeType!==he&&le.nodeType!==it&&le.nodeType!==ke||le.childElementCount===0,yr=(le,ze)=>{const yt=document;return Nr(yt)?[]:Uo(yt.querySelectorAll(le),Ft.fromDom)},jo=(le,ze)=>le.dom===ze.dom,$r=le=>Ft.fromDom(le.dom.ownerDocument),ls=le=>go.from(le.dom.parentNode).map(Ft.fromDom),Fa=(le,ze)=>{const yt=uo(ze)?ze:mt;let no=le.dom;const zn=[];for(;no.parentNode!==null&&no.parentNode!==void 0;){const mr=no.parentNode,Fr=Ft.fromDom(mr);if(zn.push(Fr),yt(Fr)===!0)break;no=mr}return zn},cs=le=>{const ze=yt=>D(yt,no=>!jo(le,no));return ls(le).map(es).map(ze).getOr([])},La=le=>go.from(le.dom.nextSibling).map(Ft.fromDom),es=le=>Uo(le.dom.childNodes,Ft.fromDom),ts=le=>Oo(le)&&ho(le.dom.host),Fs=le=>Ft.fromDom(le.dom.getRootNode()),za=le=>{const ze=Fs(le);return ts(ze)?go.some(ze):go.none()},nt=le=>Ft.fromDom(le.dom.host),At=le=>{if(ho(le.target)){const ze=Ft.fromDom(le.target);if(dt(ze)&&pt(ze)&&le.composed&&le.composedPath){const yt=le.composedPath();if(yt)return $t(yt)}}return go.from(le.target)},pt=le=>ho(le.dom.shadowRoot),nn=le=>{const ze=io(le)?le.dom.parentNode:le.dom;if(ze==null||ze.ownerDocument===null)return!1;const yt=ze.ownerDocument;return za(Ft.fromDom(ze)).fold(()=>yt.body.contains(ze),ue(nn,nt))},vr=le=>{const ze=le.dom.body;if(ze==null)throw new Error("Body is not available yet");return Ft.fromDom(ze)},hr=(le,ze,yt)=>{if(!Co(yt))throw console.error("Invalid call to CSS.set. Property ",ze,":: Value ",yt,":: Element ",le),new Error("CSS value must be a string: "+yt);Yn(le)&&le.style.setProperty(ze,yt)},Os=(le,ze,yt)=>{const no=le.dom;hr(no,ze,yt)},ga=(le,ze)=>{const yt=le.dom;ao(ze,(no,zn)=>{hr(yt,zn,no)})},xr=(le,ze)=>{const yt=le.dom,zn=window.getComputedStyle(yt).getPropertyValue(ze);return zn===""&&!nn(le)?Te(yt,ze):zn},Te=(le,ze)=>Yn(le)?le.style.getPropertyValue(ze):"",Se=(le,ze,yt,no,zn,mr,Fr)=>({target:le,x:ze,y:yt,stop:no,prevent:zn,kill:mr,raw:Fr}),Nt=le=>{const ze=Ft.fromDom(At(le).getOr(le.target)),yt=()=>le.stopPropagation(),no=()=>le.preventDefault(),zn=bo(no,yt);return Se(ze,le.clientX,le.clientY,yt,no,zn,le)},Pt=(le,ze)=>yt=>{le(yt)&&ze(Nt(yt))},xn=(le,ze,yt,no,zn)=>{const mr=Pt(yt,no);return le.dom.addEventListener(ze,mr,zn),{unbind:ge(Ln,le,ze,mr,zn)}},Sn=(le,ze,yt,no)=>xn(le,ze,yt,no,!1),Ln=(le,ze,yt,no)=>{le.dom.removeEventListener(ze,yt,no)},Qr=Ro,wr=(le,ze,yt)=>Sn(le,ze,Qr,yt),dn=le=>{let ze=!1,yt;return(...no)=>(ze||(ze=!0,yt=le.apply(null,no)),yt)},Ee=(le,ze,yt,no)=>{const zn=le.isiOS()&&/ipad/i.test(yt)===!0,mr=le.isiOS()&&!zn,Fr=le.isiOS()||le.isAndroid(),Ps=Fr||no("(pointer:coarse)"),ua=zn||!mr&&Fr&&no("(min-device-width:768px)"),ta=mr||Fr&&!ua,Ds=ze.isSafari()&&le.isiOS()&&/safari/i.test(yt)===!1,pa=!ta&&!ua&&!Ds;return{isiPad:$e(zn),isiPhone:$e(mr),isTablet:$e(ua),isPhone:$e(ta),isTouch:$e(Ps),isAndroid:le.isAndroid,isiOS:le.isiOS,isWebView:$e(Ds),isDesktop:$e(pa)}},Be=(le,ze)=>{for(let yt=0;yt<le.length;yt++){const no=le[yt];if(no.test(ze))return no}},so=(le,ze)=>{const yt=Be(le,ze);if(!yt)return{major:0,minor:0};const no=zn=>Number(ze.replace(yt,"$"+zn));return qo(no(1),no(2))},Lo=(le,ze)=>{const yt=String(ze).toLowerCase();return le.length===0?Vo():so(le,yt)},Vo=()=>qo(0,0),qo=(le,ze)=>({major:le,minor:ze}),rn={nu:qo,detect:Lo,unknown:Vo},un=(le,ze)=>So(ze.brands,yt=>{const no=yt.brand.toLowerCase();return Je(le,zn=>{var mr;return no===((mr=zn.brand)===null||mr===void 0?void 0:mr.toLowerCase())}).map(zn=>({current:zn.name,version:rn.nu(parseInt(yt.version,10),0)}))}),Nn=(le,ze)=>{const yt=String(ze).toLowerCase();return Je(le,no=>no.search(yt))},or=(le,ze)=>Nn(le,ze).map(yt=>{const no=rn.detect(yt.versionRegexes,ze);return{current:yt.name,version:no}}),_r=(le,ze)=>Nn(le,ze).map(yt=>{const no=rn.detect(yt.versionRegexes,ze);return{current:yt.name,version:no}}),wa=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sa=le=>ze=>Zo(ze,le),Us=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:le=>Zo(le,"edge/")&&Zo(le,"chrome")&&Zo(le,"safari")&&Zo(le,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,wa],search:le=>Zo(le,"chrome")&&!Zo(le,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:le=>Zo(le,"msie")||Zo(le,"trident")},{name:"Opera",versionRegexes:[wa,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sa("firefox")},{name:"Safari",versionRegexes:[wa,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:le=>(Zo(le,"safari")||Zo(le,"mobile/"))&&Zo(le,"applewebkit")}],ea=[{name:"Windows",search:sa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:le=>Zo(le,"iphone")||Zo(le,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sa("linux"),versionRegexes:[]},{name:"Solaris",search:sa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Cr={browsers:$e(Us),oses:$e(ea)},Pr="Edge",Un="Chromium",Ma="IE",os="Opera",zi="Firefox",jl="Safari",wn=()=>ni({current:void 0,version:rn.unknown()}),ni=le=>{const ze=le.current,yt=le.version,no=zn=>()=>ze===zn;return{current:ze,version:yt,isEdge:no(Pr),isChromium:no(Un),isIE:no(Ma),isOpera:no(os),isFirefox:no(zi),isSafari:no(jl)}},ia={unknown:wn,nu:ni,edge:$e(Pr),chromium:$e(Un),ie:$e(Ma),opera:$e(os),firefox:$e(zi),safari:$e(jl)},Ga="Windows",yl="iOS",Mr="Android",Xs="Linux",da="macOS",Dn="Solaris",Xn="FreeBSD",Ml="ChromeOS",Ua=()=>ri({current:void 0,version:rn.unknown()}),ri=le=>{const ze=le.current,yt=le.version,no=zn=>()=>ze===zn;return{current:ze,version:yt,isWindows:no(Ga),isiOS:no(yl),isAndroid:no(Mr),isMacOS:no(da),isLinux:no(Xs),isSolaris:no(Dn),isFreeBSD:no(Xn),isChromeOS:no(Ml)}},to={unknown:Ua,nu:ri,windows:$e(Ga),ios:$e(yl),android:$e(Mr),linux:$e(Xs),macos:$e(da),solaris:$e(Dn),freebsd:$e(Xn),chromeos:$e(Ml)},Ns={detect:(le,ze,yt)=>{const no=Cr.browsers(),zn=Cr.oses(),mr=ze.bind(ua=>un(no,ua)).orThunk(()=>or(no,le)).fold(ia.unknown,ia.nu),Fr=_r(zn,le).fold(to.unknown,to.nu),Ps=Ee(Fr,mr,le,yt);return{browser:mr,os:Fr,deviceType:Ps}}},qn=le=>window.matchMedia(le).matches;let Zs=dn(()=>Ns.detect(window.navigator.userAgent,go.from(window.navigator.userAgentData),qn));const Vl=()=>Zs(),yi=(le,ze)=>({left:le,top:ze,translate:(no,zn)=>yi(le+no,ze+zn)}),Da=yi,Js=le=>{const ze=le!==void 0?le.dom:document,yt=ze.body.scrollLeft||ze.documentElement.scrollLeft,no=ze.body.scrollTop||ze.documentElement.scrollTop;return Da(yt,no)},ur=le=>{const ze=le===void 0?window:le;return Vl().browser.isFirefox()?go.none():go.from(ze.visualViewport)},Ur=(le,ze,yt,no)=>({x:le,y:ze,width:yt,height:no,right:le+yt,bottom:ze+no}),ns=le=>{const ze=le===void 0?window:le,yt=ze.document,no=Js(Ft.fromDom(yt));return ur(ze).fold(()=>{const zn=ze.document.documentElement,mr=zn.clientWidth,Fr=zn.clientHeight;return Ur(no.left,no.top,mr,Fr)},zn=>Ur(Math.max(zn.pageLeft,no.left),Math.max(zn.pageTop,no.top),zn.width,zn.height))},ks=(le,ze,yt)=>ur(yt).map(no=>{const zn=mr=>ze(Nt(mr));return no.addEventListener(le,zn),{unbind:()=>no.removeEventListener(le,zn)}}).getOrThunk(()=>({unbind:ht}));var Q=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ce=tinymce.util.Tools.resolve("tinymce.Env");const Xe=(le,ze)=>{le.dispatch("FullscreenStateChanged",{state:ze}),le.dispatch("ResizeEditor")},Wt=le=>ze=>ze.options.get(le),xo=le=>{const ze=le.options.register;ze("fullscreen_native",{processor:"boolean",default:!1})},X=Wt("fullscreen_native"),be=le=>{const ze=Ft.fromDom(le.getElement());return za(ze).map(nt).getOrThunk(()=>vr($r(ze)))},lt=le=>le.fullscreenElement!==void 0?le.fullscreenElement:le.msFullscreenElement!==void 0?le.msFullscreenElement:le.webkitFullscreenElement!==void 0?le.webkitFullscreenElement:null,Lt=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",pn=le=>{const ze=le.dom;ze.requestFullscreen?ze.requestFullscreen():ze.msRequestFullscreen?ze.msRequestFullscreen():ze.webkitRequestFullScreen&&ze.webkitRequestFullScreen()},$=le=>{const ze=le.dom;ze.exitFullscreen?ze.exitFullscreen():ze.msExitFullscreen?ze.msExitFullscreen():ze.webkitCancelFullScreen&&ze.webkitCancelFullScreen()},ne=le=>le.dom===lt($r(le).dom),Re=(le,ze,yt)=>D(Fa(le,yt),ze),bt=(le,ze)=>D(cs(le),ze),Eo=le=>yr(le),nr=(le,ze,yt)=>Re(le,no=>Gr(no,ze),yt),la=(le,ze)=>bt(le,yt=>Gr(yt,ze)),_s="data-ephox-mobile-fullscreen-style",Ls="display:none!important;",ai="position:absolute!important;",Cs="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Dl="background-color:rgb(255,255,255)!important;",Ac=Ce.os.isAndroid(),Rl=le=>{const ze=xr(le,"background-color");return ze!==void 0&&ze!==""?"background-color:"+ze+"!important":Dl},Is=(le,ze,yt)=>{const no=ta=>la(ta,"*:not(.tox-silver-sink)"),zn=ta=>Ds=>{const pa=_o(Ds,"style"),_i=pa===void 0?"no-styles":pa.trim();_i!==ta&&(vt(Ds,_s,_i),ga(Ds,le.parseStyle(ta)))},mr=nr(ze,"*"),Fr=Bt(mr,no),Ps=Rl(yt);Rt(Fr,zn(Ls)),Rt(mr,zn(ai+Cs+Ps)),zn((Ac===!0?"":ai)+Cs+Ps)(ze)},Oc=le=>{const ze=Eo("["+_s+"]");Rt(ze,yt=>{const no=_o(yt,_s);no&&no!=="no-styles"?ga(yt,le.parseStyle(no)):Fo(yt,"style"),Fo(yt,_s)})},Ze=Q.DOM,Fm=()=>ns(window),lm=le=>window.scrollTo(le.x,le.y),vl=ur().fold(()=>({bind:ht,unbind:ht}),le=>{const ze=kt(),yt=Ot(),no=Ot(),zn=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},mr=()=>{window.requestAnimationFrame(()=>{ze.on(ta=>ga(ta,{top:le.offsetTop+"px",left:le.offsetLeft+"px",height:le.height+"px",width:le.width+"px"}))})},Fr=ro(()=>{zn(),mr()},50);return{bind:ta=>{ze.set(ta),Fr.throttle(),yt.set(ks("resize",Fr.throttle)),no.set(ks("scroll",Fr.throttle))},unbind:()=>{ze.on(()=>{yt.clear(),no.clear()}),ze.clear()}}}),Lm=(le,ze)=>{const yt=document.body,no=document.documentElement,zn=le.getContainer(),mr=Ft.fromDom(zn),Fr=La(mr).filter(xi=>We(xi)&&_n(xi,"tox-silver-sink")),Ps=be(le),ua=ze.get(),ta=Ft.fromDom(le.getBody()),Ds=Ce.deviceType.isTouch(),pa=zn.style,_i=le.iframeElement,wl=_i==null?void 0:_i.style,Au=xi=>{xi(yt,"tox-fullscreen"),xi(no,"tox-fullscreen"),xi(zn,"tox-fullscreen"),za(mr).map(ka=>nt(ka).dom).each(ka=>{xi(ka,"tox-fullscreen"),xi(ka,"tox-shadowhost")})},Rs=()=>{Ds&&Oc(le.dom),Au(Ze.removeClass),vl.unbind(),go.from(ze.get()).each(xi=>xi.fullscreenChangeHandler.unbind())};if(ua)ua.fullscreenChangeHandler.unbind(),X(le)&&ne(Ps)&&$($r(Ps)),wl.width=ua.iframeWidth,wl.height=ua.iframeHeight,pa.width=ua.containerWidth,pa.height=ua.containerHeight,pa.top=ua.containerTop,pa.left=ua.containerLeft,Dt(Fr,ua.sinkCssPosition,(xi,ka)=>{Os(xi,"position",ka)}),Rs(),lm(ua.scrollPos),ze.set(null),Xe(le,!1),le.off("remove",Rs);else{const xi=wr($r(Ps),Lt(),ds=>{X(le)&&!ne(Ps)&&ze.get()!==null&&Lm(le,ze)}),ka={scrollPos:Fm(),containerWidth:pa.width,containerHeight:pa.height,containerTop:pa.top,containerLeft:pa.left,iframeWidth:wl.width,iframeHeight:wl.height,fullscreenChangeHandler:xi,sinkCssPosition:Fr.map(ds=>xr(ds,"position"))};Ds&&Is(le.dom,mr,ta),wl.width=wl.height="100%",pa.width=pa.height="",Au(Ze.addClass),Fr.each(ds=>{Os(ds,"position","fixed")}),vl.bind(mr),le.on("remove",Rs),ze.set(ka),X(le)&&pn(Ps),Xe(le,!0)}},Wr=(le,ze)=>{le.addCommand("mceFullScreen",()=>{Lm(le,ze)})};var ci=tinymce.util.Tools.resolve("tinymce.util.VK");const Yd=(le,ze)=>{le.on("init",()=>{le.on("keydown",yt=>{yt.keyCode===ci.TAB&&!(yt.metaKey||yt.ctrlKey)&&ze.get()&&yt.preventDefault()})})},xl=(le,ze)=>yt=>{yt.setActive(ze.get()!==null);const no=zn=>yt.setActive(zn.state);return le.on("FullscreenStateChanged",no),()=>le.off("FullscreenStateChanged",no)},Ms=(le,ze)=>{const yt=()=>le.execCommand("mceFullScreen");le.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:yt,onSetup:xl(le,ze),context:"any"}),le.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:yt,onSetup:xl(le,ze),shortcut:"Meta+Shift+F",context:"any"})};var vi=()=>{Jo.add("fullscreen",le=>{const ze=wo(null);return le.inline||(xo(le),Wr(le,ze),Ms(le,ze),Yd(le,ze),le.addShortcut("Meta+Shift+F","","mceFullScreen")),$o(ze)})};vi()})();(function(){const wo=We=>{let dt=We;return{get:()=>dt,set:tt=>{dt=tt}}};var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager");const $o=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let sn=0;const Qo=We=>{const io=new Date().getTime(),Oo=Math.floor($o()*1e9);return sn++,We+"_"+Oo+sn+String(io)},mo=We=>({addTab:io=>{var Oo;const tt=(Oo=io.name)!==null&&Oo!==void 0?Oo:Qo("tab-name"),vt=We.get();vt[tt]=io,We.set(vt)}}),Wo=(We,dt)=>{We.addCommand("mceHelp",dt)},jt=We=>dt=>dt.options.get(We),Co=We=>{const dt=We.options.register;dt("help_tabs",{processor:"array"})},Io=jt("help_tabs"),Go=jt("forced_plugins"),gn=(We,dt)=>{We.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:dt,context:"any"}),We.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:dt,context:"any"})},Mo=(We,dt,io)=>{var Oo;return io(We,dt.prototype)?!0:((Oo=We.constructor)===null||Oo===void 0?void 0:Oo.name)===dt.name},Ve=We=>{const dt=typeof We;return We===null?"null":dt==="object"&&Array.isArray(We)?"array":dt==="object"&&Mo(We,String,(io,Oo)=>Oo.isPrototypeOf(io))?"string":dt},ut=We=>dt=>Ve(dt)===We,ho=We=>dt=>typeof dt===We,uo=We=>dt=>We===dt,Ae=ut("string"),ht=uo(void 0),bo=We=>We==null,ue=We=>!bo(We),$e=ho("function"),mt=(We=>()=>We)(!1);class Ro{constructor(dt,io){this.tag=dt,this.value=io}static some(dt){return new Ro(!0,dt)}static none(){return Ro.singletonNone}fold(dt,io){return this.tag?io(this.value):dt()}isSome(){return this.tag}isNone(){return!this.tag}map(dt){return this.tag?Ro.some(dt(this.value)):Ro.none()}bind(dt){return this.tag?dt(this.value):Ro.none()}exists(dt){return this.tag&&dt(this.value)}forall(dt){return!this.tag||dt(this.value)}filter(dt){return!this.tag||dt(this.value)?this:Ro.none()}getOr(dt){return this.tag?this.value:dt}or(dt){return this.tag?this:dt}getOrThunk(dt){return this.tag?this.value:dt()}orThunk(dt){return this.tag?this:dt()}getOrDie(dt){if(this.tag)return this.value;throw new Error(dt??"Called getOrDie on None")}static from(dt){return ue(dt)?Ro.some(dt):Ro.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(dt){this.tag&&dt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ro.singletonNone=new Ro(!1);const go=Array.prototype.slice,Ho=Array.prototype.indexOf,Uo=(We,dt)=>Ho.call(We,dt),Rt=(We,dt)=>Uo(We,dt)>-1,D=(We,dt)=>{const io=We.length,Oo=new Array(io);for(let tt=0;tt<io;tt++){const vt=We[tt];Oo[tt]=dt(vt,tt)}return Oo},qe=(We,dt)=>{const io=[];for(let Oo=0,tt=We.length;Oo<tt;Oo++){const vt=We[Oo];dt(vt,Oo)&&io.push(vt)}return io},Je=(We,dt,io)=>{for(let Oo=0,tt=We.length;Oo<tt;Oo++){const vt=We[Oo];if(dt(vt,Oo))return Ro.some(vt);if(io(vt,Oo))break}return Ro.none()},gt=(We,dt)=>Je(We,dt,mt),Bt=(We,dt)=>{const io=go.call(We,0);return io.sort(dt),io},ct=Object.keys,$t=Object.hasOwnProperty,So=(We,dt)=>Dt(We,dt)?Ro.from(We[dt]):Ro.none(),Dt=(We,dt)=>$t.call(We,dt),F=We=>{const dt=[],io=Oo=>{dt.push(Oo)};for(let Oo=0;Oo<We.length;Oo++)We[Oo].each(io);return dt};var Ot=tinymce.util.Tools.resolve("tinymce.Resource"),kt=tinymce.util.Tools.resolve("tinymce.util.I18n");const ro=(We,dt)=>Ot.load(`tinymce.html-i18n.help-keynav.${dt}`,`${We}/js/i18n/keynav/${dt}.js`),co=We=>ro(We,kt.getCode()).catch(()=>ro(We,"en")),ao=(We,dt)=>{We.on("init",()=>{co(dt)})},yo=async We=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await co(We)}]});var No=tinymce.util.Tools.resolve("tinymce.Env");const _e=We=>{const dt=No.os.isMacOS()||No.os.isiOS(),tt=dt?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},vt=We.split("+"),_o=D(vt,Fo=>{const on=Fo.toLowerCase().trim();return Dt(tt,on)?tt[on]:Fo});return dt?_o.join("").replace(/\s/,""):_o.join("+")},Vt=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Alt + F12"],action:"Focus to notification"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],Ct=()=>{const We=D(Vt,io=>{const Oo=D(io.shortcuts,_e).join(" or ");return[io.action,Oo]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:We}]}},et=D([{key:"accordion",name:"Accordion"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"advlist",name:"List Styles"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"advcode",name:"Enhanced Code Editor",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"advtable",name:"Enhanced Tables",type:"premium"},{key:"exportpdf",name:"Export to PDF",type:"premium"},{key:"exportword",name:"Export to Word",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"editimage",name:"Image Editing",type:"premium"},{key:"importword",name:"Import from Word",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"math",name:"Math",type:"premium"},{key:"markdown",name:"Markdown",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"revisionhistory",name:"Revision History",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"advtemplate",name:"Templates",type:"premium",slug:"advanced-templates"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],We=>({...We,type:We.type||"opensource",slug:We.slug||We.key})),ye=We=>{const dt=()=>{const _n=qe(et,({type:zt})=>zt==="premium"),Zo=Bt(D(_n,zt=>zt.name),(zt,Xo)=>zt.localeCompare(Xo)),Yn=D(Zo,zt=>`<li>${zt}</li>`).join("");return"<div><p><b>"+kt.translate("Premium plugins:")+"</b></p><ul>"+Yn+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+kt.translate("Learn more...")+"</a></li></ul></div>"},io=_n=>`<a data-alloy-tabstop="true" tabindex="-1" href="${_n.url}" target="_blank" rel="noopener">${_n.name}</a>`,Oo=(_n,Zo)=>{const Yn=_n.plugins[Zo].getMetadata;if($e(Yn)){const zt=Yn();return{name:zt.name,html:io(zt)}}else return{name:Zo,html:Zo}},tt=(_n,Zo)=>gt(et,Yn=>Yn.key===Zo).fold(()=>Oo(_n,Zo),Yn=>{const zt=Yn.type==="premium"?`${Yn.name}*`:Yn.name,Xo=io({name:zt,url:`https://www.tiny.cloud/docs/tinymce/7/${Yn.slug}/`});return{name:zt,html:Xo}}),vt=_n=>{const Zo=ct(_n.plugins),Yn=Go(_n);return ht(Yn)?Zo:qe(Zo,zt=>!Rt(Yn,zt))},_o=_n=>{const Zo=vt(_n),Yn=Bt(D(Zo,Vr=>tt(_n,Vr)),(Vr,Ft)=>Vr.name.localeCompare(Ft.name)),zt=D(Yn,Vr=>"<li>"+Vr.html+"</li>"),Xo=zt.length,Kn=zt.join("");return"<p><b>"+kt.translate(["Plugins installed ({0}):",Xo])+"</b></p><ul>"+Kn+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(_n=>_n==null?"":"<div>"+_o(_n)+"</div>")(We),dt()].join("")}]}};var fe=tinymce.util.Tools.resolve("tinymce.EditorManager");const it=()=>{const io='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/7/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((tt,vt)=>tt.indexOf("@")===0?"X.X.X":tt+"."+vt)(fe.majorVersion,fe.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+kt.translate(["You are using {0}",io])+"</p>",presets:"document"}]}},ke=(We,dt)=>{const io={},Oo=D(We,tt=>{var vt;if(Ae(tt))return Dt(dt,tt)&&(io[tt]=dt[tt]),tt;{const _o=(vt=tt.name)!==null&&vt!==void 0?vt:Qo("tab-name");return io[_o]=tt,_o}});return{tabs:io,names:Oo}},he=We=>{const dt=ct(We),io=dt.indexOf("versions");return io!==-1&&(dt.splice(io,1),dt.push("versions")),{tabs:We,names:dt}},De=async(We,dt,io)=>{const Oo=Ct(),tt=await yo(io),vt=ye(We),_o=it(),Fo={[Oo.name]:Oo,[tt.name]:tt,[vt.name]:vt,[_o.name]:_o,...dt.get()};return Ro.from(Io(We)).fold(()=>he(Fo),on=>ke(on,Fo))},at=(We,dt,io)=>()=>{De(We,dt,io).then(({tabs:Oo,names:tt})=>{const vt=D(tt,on=>So(Oo,on)),Fo={type:"tabpanel",tabs:F(vt)};We.windowManager.open({title:"Help",size:"medium",body:Fo,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var _t=()=>{Jo.add("help",(We,dt)=>{const io=wo({}),Oo=mo(io);Co(We);const tt=at(We,io,dt);return gn(We,tt),Wo(We,tt),We.shortcuts.add("Alt+0","Open help dialog","mceHelp"),ao(We,dt),Oo})};_t()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=Object.getPrototypeOf,$o=($,ne,Re)=>{var bt;return Re($,ne.prototype)?!0:((bt=$.constructor)===null||bt===void 0?void 0:bt.name)===ne.name},sn=$=>{const ne=typeof $;return $===null?"null":ne==="object"&&Array.isArray($)?"array":ne==="object"&&$o($,String,(Re,bt)=>bt.isPrototypeOf(Re))?"string":ne},Qo=$=>ne=>sn(ne)===$,mo=$=>ne=>typeof ne===$,Wo=$=>ne=>$===ne,jt=($,ne)=>Io($)&&$o($,ne,(Re,bt)=>Jo(Re)===bt),Co=Qo("string"),Io=Qo("object"),Go=$=>jt($,Object),gn=Qo("array"),Mo=Wo(null),Ve=mo("boolean"),ut=$=>$==null,ho=$=>!ut($),uo=mo("function"),Ae=mo("number"),ht=($,ne)=>{if(gn($)){for(let Re=0,bt=$.length;Re<bt;++Re)if(!ne($[Re]))return!1;return!0}return!1},bo=()=>{};class ue{constructor(ne,Re){this.tag=ne,this.value=Re}static some(ne){return new ue(!0,ne)}static none(){return ue.singletonNone}fold(ne,Re){return this.tag?Re(this.value):ne()}isSome(){return this.tag}isNone(){return!this.tag}map(ne){return this.tag?ue.some(ne(this.value)):ue.none()}bind(ne){return this.tag?ne(this.value):ue.none()}exists(ne){return this.tag&&ne(this.value)}forall(ne){return!this.tag||ne(this.value)}filter(ne){return!this.tag||ne(this.value)?this:ue.none()}getOr(ne){return this.tag?this.value:ne}or(ne){return this.tag?this:ne}getOrThunk(ne){return this.tag?this.value:ne()}orThunk(ne){return this.tag?this:ne()}getOrDie(ne){if(this.tag)return this.value;throw new Error(ne??"Called getOrDie on None")}static from(ne){return ho(ne)?ue.some(ne):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ne){this.tag&&ne(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const $e=Object.keys,ge=Object.hasOwnProperty,mt=($,ne)=>{const Re=$e($);for(let bt=0,Eo=Re.length;bt<Eo;bt++){const nr=Re[bt],la=$[nr];ne(la,nr)}},Ro=$=>(ne,Re)=>{$[Re]=ne},go=($,ne,Re,bt)=>{mt($,(Eo,nr)=>{(ne(Eo,nr)?Re:bt)(Eo,nr)})},Ho=($,ne)=>{const Re={};return go($,ne,Ro(Re),bo),Re},Uo=($,ne)=>ge.call($,ne),Rt=($,ne)=>Uo($,ne)&&$[ne]!==void 0&&$[ne]!==null,D=Array.prototype.push,qe=$=>{const ne=[];for(let Re=0,bt=$.length;Re<bt;++Re){if(!gn($[Re]))throw new Error("Arr.flatten item "+Re+" was not an array, input: "+$);D.apply(ne,$[Re])}return ne},Je=($,ne)=>ne>=0&&ne<$.length?ue.some($[ne]):ue.none(),gt=$=>Je($,0),Bt=($,ne)=>{for(let Re=0;Re<$.length;Re++){const bt=ne($[Re],Re);if(bt.isSome())return bt}return ue.none()};typeof window<"u"||Function("return this;")();const ct=($,ne,Re)=>{if(Co(Re)||Ve(Re)||Ae(Re))$.setAttribute(ne,Re+"");else throw console.error("Invalid call to Attribute.set. Key ",ne,":: Value ",Re,":: Element ",$),new Error("Attribute value was not simple")},$t=($,ne,Re)=>{ct($.dom,ne,Re)},So=($,ne)=>{$.dom.removeAttribute(ne)},Dt=($,ne)=>{const bt=(ne||document).createElement("div");if(bt.innerHTML=$,!bt.hasChildNodes()||bt.childNodes.length>1){const Eo="HTML does not have a single root node";throw console.error(Eo,$),new Error(Eo)}return kt(bt.childNodes[0])},F=($,ne)=>{const bt=(ne||document).createElement($);return kt(bt)},Ot=($,ne)=>{const bt=(ne||document).createTextNode($);return kt(bt)},kt=$=>{if($==null)throw new Error("Node cannot be null or undefined");return{dom:$}},co={fromHtml:Dt,fromTag:F,fromText:Ot,fromDom:kt,fromPoint:($,ne,Re)=>ue.from($.dom.elementFromPoint(ne,Re)).map(kt)};var ao=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),yo=tinymce.util.Tools.resolve("tinymce.util.URI");const No=$=>$.length>0,_e=$=>ne=>ne.options.get($),Vt=$=>{const ne=$.options.register;ne("image_dimensions",{processor:"boolean",default:!0}),ne("image_advtab",{processor:"boolean",default:!1}),ne("image_uploadtab",{processor:"boolean",default:!0}),ne("image_prepend_url",{processor:"string",default:""}),ne("image_class_list",{processor:"object[]"}),ne("image_description",{processor:"boolean",default:!0}),ne("image_title",{processor:"boolean",default:!1}),ne("image_caption",{processor:"boolean",default:!1}),ne("image_list",{processor:Re=>{const bt=Re===!1||Co(Re)||ht(Re,Io)||uo(Re);return bt?{value:Re,valid:bt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Ct=_e("image_dimensions"),et=_e("image_advtab"),ye=_e("image_uploadtab"),fe=_e("image_prepend_url"),it=_e("image_class_list"),ke=_e("image_description"),he=_e("image_title"),De=_e("image_caption"),at=_e("image_list"),_t=_e("a11y_advanced_options"),We=_e("automatic_uploads"),dt=$=>No($.options.get("images_upload_url")),io=$=>ho($.options.get("images_upload_handler")),Oo=($,ne)=>Math.max(parseInt($,10),parseInt(ne,10)),tt=$=>new Promise(ne=>{const Re=document.createElement("img"),bt=nr=>{Re.onload=Re.onerror=null,Re.parentNode&&Re.parentNode.removeChild(Re),ne(nr)};Re.onload=()=>{const nr=Oo(Re.width,Re.clientWidth),la=Oo(Re.height,Re.clientHeight),_s={width:nr,height:la};bt(Promise.resolve(_s))},Re.onerror=()=>{bt(Promise.reject(`Failed to get image dimensions for: ${$}`))};const Eo=Re.style;Eo.visibility="hidden",Eo.position="fixed",Eo.bottom=Eo.left="0px",Eo.width=Eo.height="auto",document.body.appendChild(Re),Re.src=$}),vt=$=>($&&($=$.replace(/px$/,"")),$),_o=$=>($.length>0&&/^[0-9]+$/.test($)&&($+="px"),$),Fo=$=>{if($.margin){const ne=String($.margin).split(" ");switch(ne.length){case 1:$["margin-top"]=$["margin-top"]||ne[0],$["margin-right"]=$["margin-right"]||ne[0],$["margin-bottom"]=$["margin-bottom"]||ne[0],$["margin-left"]=$["margin-left"]||ne[0];break;case 2:$["margin-top"]=$["margin-top"]||ne[0],$["margin-right"]=$["margin-right"]||ne[1],$["margin-bottom"]=$["margin-bottom"]||ne[0],$["margin-left"]=$["margin-left"]||ne[1];break;case 3:$["margin-top"]=$["margin-top"]||ne[0],$["margin-right"]=$["margin-right"]||ne[1],$["margin-bottom"]=$["margin-bottom"]||ne[2],$["margin-left"]=$["margin-left"]||ne[1];break;case 4:$["margin-top"]=$["margin-top"]||ne[0],$["margin-right"]=$["margin-right"]||ne[1],$["margin-bottom"]=$["margin-bottom"]||ne[2],$["margin-left"]=$["margin-left"]||ne[3]}delete $.margin}return $},on=($,ne)=>{const Re=at($);Co(Re)?fetch(Re).then(bt=>{bt.ok&&bt.json().then(ne)}):uo(Re)?Re(ne):ne(Re)},_n=($,ne,Re)=>{const bt=()=>{Re.onload=Re.onerror=null,$.selection&&($.selection.select(Re),$.nodeChanged())};Re.onload=()=>{!ne.width&&!ne.height&&Ct($)&&$.dom.setAttribs(Re,{width:String(Re.clientWidth),height:String(Re.clientHeight)}),bt()},Re.onerror=bt},Zo=$=>new Promise((ne,Re)=>{const bt=new FileReader;bt.onload=()=>{ne(bt.result)},bt.onerror=()=>{var Eo;Re((Eo=bt.error)===null||Eo===void 0?void 0:Eo.message)},bt.readAsDataURL($)}),Yn=$=>$.nodeName==="IMG"&&($.hasAttribute("data-mce-object")||$.hasAttribute("data-mce-placeholder")),zt=($,ne)=>{const Re=$.options.get;return yo.isDomSafe(ne,"img",{allow_html_data_urls:Re("allow_html_data_urls"),allow_script_urls:Re("allow_script_urls"),allow_svg_data_urls:Re("allow_svg_data_urls")})},Xo=ao.DOM,Kn=$=>$.style.marginLeft&&$.style.marginRight&&$.style.marginLeft===$.style.marginRight?vt($.style.marginLeft):"",ar=$=>$.style.marginTop&&$.style.marginBottom&&$.style.marginTop===$.style.marginBottom?vt($.style.marginTop):"",Vr=$=>$.style.borderWidth?vt($.style.borderWidth):"",Ft=($,ne)=>{var Re;return $.hasAttribute(ne)&&(Re=$.getAttribute(ne))!==null&&Re!==void 0?Re:""},Gr=$=>$.parentNode!==null&&$.parentNode.nodeName==="FIGURE",Nr=($,ne,Re)=>{Re===""||Re===null?$.removeAttribute(ne):$.setAttribute(ne,Re)},yr=$=>{const ne=Xo.create("figure",{class:"image"});Xo.insertAfter(ne,$),ne.appendChild($),ne.appendChild(Xo.create("figcaption",{contentEditable:"true"},"Caption")),ne.contentEditable="false"},jo=$=>{const ne=$.parentNode;ho(ne)&&(Xo.insertAfter($,ne),Xo.remove(ne))},$r=$=>{Gr($)?jo($):yr($)},ls=($,ne)=>{const Re=$.getAttribute("style"),bt=ne(Re!==null?Re:"");bt.length>0?($.setAttribute("style",bt),$.setAttribute("data-mce-style",bt)):$.removeAttribute("style")},Fa=($,ne)=>(Re,bt,Eo)=>{const nr=Re.style;nr[bt]?(nr[bt]=_o(Eo),ls(Re,ne)):Nr(Re,bt,Eo)},cs=($,ne)=>$.style[ne]?vt($.style[ne]):Ft($,ne),La=($,ne)=>{const Re=_o(ne);$.style.marginLeft=Re,$.style.marginRight=Re},es=($,ne)=>{const Re=_o(ne);$.style.marginTop=Re,$.style.marginBottom=Re},ts=($,ne)=>{const Re=_o(ne);$.style.borderWidth=Re},Fs=($,ne)=>{$.style.borderStyle=ne},za=$=>{var ne;return(ne=$.style.borderStyle)!==null&&ne!==void 0?ne:""},nt=$=>ho($)&&$.nodeName==="FIGURE",At=$=>$.nodeName==="IMG",pt=$=>Xo.getAttrib($,"alt").length===0&&Xo.getAttrib($,"role")==="presentation",nn=$=>pt($)?"":Ft($,"alt"),vr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),hr=($,ne)=>{var Re;const bt=document.createElement("img");return Nr(bt,"style",ne.style),(Kn(bt)||ne.hspace!=="")&&La(bt,ne.hspace),(ar(bt)||ne.vspace!=="")&&es(bt,ne.vspace),(Vr(bt)||ne.border!=="")&&ts(bt,ne.border),(za(bt)||ne.borderStyle!=="")&&Fs(bt,ne.borderStyle),$((Re=bt.getAttribute("style"))!==null&&Re!==void 0?Re:"")},Os=($,ne)=>{const Re=document.createElement("img");if(Pt($,{...ne,caption:!1},Re),Te(Re,ne.alt,ne.isDecorative),ne.caption){const bt=Xo.create("figure",{class:"image"});return bt.appendChild(Re),bt.appendChild(Xo.create("figcaption",{contentEditable:"true"},"Caption")),bt.contentEditable="false",bt}else return Re},ga=($,ne)=>({src:Ft(ne,"src"),alt:nn(ne),title:Ft(ne,"title"),width:cs(ne,"width"),height:cs(ne,"height"),class:Ft(ne,"class"),style:$(Ft(ne,"style")),caption:Gr(ne),hspace:Kn(ne),vspace:ar(ne),border:Vr(ne),borderStyle:za(ne),isDecorative:pt(ne)}),xr=($,ne,Re,bt,Eo)=>{Re[bt]!==ne[bt]&&Eo($,bt,String(Re[bt]))},Te=($,ne,Re)=>{if(Re){Xo.setAttrib($,"role","presentation");const bt=co.fromDom($);$t(bt,"alt","")}else{if(Mo(ne)){const bt=co.fromDom($);So(bt,"alt")}else{const bt=co.fromDom($);$t(bt,"alt",ne)}Xo.getAttrib($,"role")==="presentation"&&Xo.setAttrib($,"role","")}},Se=($,ne,Re)=>{(Re.alt!==ne.alt||Re.isDecorative!==ne.isDecorative)&&Te($,Re.alt,Re.isDecorative)},Nt=($,ne)=>(Re,bt,Eo)=>{$(Re,Eo),ls(Re,ne)},Pt=($,ne,Re)=>{const bt=ga($,Re);xr(Re,bt,ne,"caption",(Eo,nr,la)=>$r(Eo)),xr(Re,bt,ne,"src",Nr),xr(Re,bt,ne,"title",Nr),xr(Re,bt,ne,"width",Fa("width",$)),xr(Re,bt,ne,"height",Fa("height",$)),xr(Re,bt,ne,"class",Nr),xr(Re,bt,ne,"style",Nt((Eo,nr)=>Nr(Eo,"style",nr),$)),xr(Re,bt,ne,"hspace",Nt(La,$)),xr(Re,bt,ne,"vspace",Nt(es,$)),xr(Re,bt,ne,"border",Nt(ts,$)),xr(Re,bt,ne,"borderStyle",Nt(Fs,$)),Se(Re,bt,ne)},xn=($,ne)=>{const Re=$.dom.styles.parse(ne),bt=Fo(Re),Eo=$.dom.styles.parse($.dom.styles.serialize(bt));return $.dom.styles.serialize(Eo)},Sn=$=>{const ne=$.selection.getNode(),Re=$.dom.getParent(ne,"figure.image");return Re?$.dom.select("img",Re)[0]:ne&&(ne.nodeName!=="IMG"||Yn(ne))?null:ne},Ln=($,ne)=>{var Re;const bt=$.dom,Eo=Ho($.schema.getTextBlockElements(),(la,_s)=>!$.schema.isValidChild(_s,"figure")),nr=bt.getParent(ne.parentNode,la=>Rt(Eo,la.nodeName),$.getBody());return nr&&(Re=bt.split(nr,ne))!==null&&Re!==void 0?Re:ne},Qr=$=>{const ne=Sn($);return ne?ga(Re=>xn($,Re),ne):vr()},wr=($,ne)=>{const Re=Os(Eo=>xn($,Eo),ne);$.dom.setAttrib(Re,"data-mce-id","__mcenew"),$.focus(),$.selection.setContent(Re.outerHTML);const bt=$.dom.select('*[data-mce-id="__mcenew"]')[0];if($.dom.setAttrib(bt,"data-mce-id",null),nt(bt)){const Eo=Ln($,bt);$.selection.select(Eo)}else $.selection.select(bt)},dn=($,ne)=>{$.dom.setAttrib(ne,"src",ne.getAttribute("src"))},Ee=($,ne)=>{if(ne){const Re=$.dom.is(ne.parentNode,"figure.image")?ne.parentNode:ne;$.dom.remove(Re),$.focus(),$.nodeChanged(),$.dom.isEmpty($.getBody())&&($.setContent(""),$.selection.setCursorLocation())}},Be=($,ne)=>{const Re=Sn($);if(Re)if(Pt(bt=>xn($,bt),ne,Re),dn($,Re),nt(Re.parentNode)){const bt=Re.parentNode;Ln($,bt),$.selection.select(Re.parentNode)}else $.selection.select(Re),_n($,ne,Re)},so=($,ne)=>{const Re=ne.src;return{...ne,src:zt($,Re)?Re:""}},Lo=($,ne)=>{const Re=Sn($);if(Re){const Eo={...ga(la=>xn($,la),Re),...ne},nr=so($,Eo);Eo.src?Be($,nr):Ee($,Re)}else ne.src&&wr($,{...vr(),...ne})},rn=($=>(...ne)=>{if(ne.length===0)throw new Error("Can't merge zero objects");const Re={};for(let bt=0;bt<ne.length;bt++){const Eo=ne[bt];for(const nr in Eo)Uo(Eo,nr)&&(Re[nr]=$(Re[nr],Eo[nr]))}return Re})(($,ne)=>Go($)&&Go(ne)?rn($,ne):ne);var un=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Nn=tinymce.util.Tools.resolve("tinymce.util.Tools");const or=$=>Co($.value)?$.value:"",_r=$=>Co($.text)?$.text:Co($.title)?$.title:"",wa=($,ne)=>{const Re=[];return Nn.each($,bt=>{const Eo=_r(bt);if(bt.menu!==void 0){const nr=wa(bt.menu,ne);Re.push({text:Eo,items:nr})}else{const nr=ne(bt);Re.push({text:Eo,value:nr})}}),Re},sa=($=or)=>ne=>ne?ue.from(ne).map(Re=>wa(Re,$)):ue.none(),Us=$=>sa(or)($),ea=$=>Uo($,"items"),Cr=($,ne)=>Bt($,Re=>ea(Re)?Cr(Re.items,ne):Re.value===ne?ue.some(Re):ue.none()),Un={sanitizer:sa,sanitize:Us,findEntry:($,ne)=>$.bind(Re=>Cr(Re,ne))},os={makeTab:$=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},zi=$=>{const ne=Un.sanitizer(Ze=>$.convertURL(Ze.value||Ze.url||"","src")),Re=new Promise(Ze=>{on($,Fm=>{Ze(ne(Fm).map(lm=>qe([[{text:"None",value:""}],lm])))})}),bt=Un.sanitize(it($)),Eo=et($),nr=ye($),la=dt($),_s=io($),Ls=Qr($),ai=ke($),Cs=he($),Dl=Ct($),Ac=De($),Rl=_t($),Is=We($),Oc=ue.some(fe($)).filter(Ze=>Co(Ze)&&Ze.length>0);return Re.then(Ze=>({image:Ls,imageList:Ze,classList:bt,hasAdvTab:Eo,hasUploadTab:nr,hasUploadUrl:la,hasUploadHandler:_s,hasDescription:ai,hasImageTitle:Cs,hasDimensions:Dl,hasImageCaption:Ac,prependURL:Oc,hasAccessibilityOptions:Rl,automaticUploads:Is}))},jl=$=>{const ne={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},Re=$.imageList.map(Cs=>({name:"images",type:"listbox",label:"Image list",items:Cs})),bt={name:"alt",type:"input",label:"Alternative description",enabled:!($.hasAccessibilityOptions&&$.image.isDecorative)},Eo={name:"title",type:"input",label:"Image title"},nr={name:"dimensions",type:"sizeinput"},la={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},_s=$.classList.map(Cs=>({name:"classes",type:"listbox",label:"Class",items:Cs})),Ls={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},ai=Cs=>Cs?{type:"grid",columns:2}:{type:"panel"};return qe([[ne],Re.toArray(),$.hasAccessibilityOptions&&$.hasDescription?[la]:[],$.hasDescription?[bt]:[],$.hasImageTitle?[Eo]:[],$.hasDimensions?[nr]:[],[{...ai($.classList.isSome()&&$.hasImageCaption),items:qe([_s.toArray(),$.hasImageCaption?[Ls]:[]])}]])},ni={makeTab:$=>({title:"General",name:"general",items:jl($)}),makeItems:jl},Ga={makeTab:$=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},yl=$=>({prevImage:Un.findEntry($.imageList,$.image.src),prevAlt:$.image.alt,open:!0}),Mr=$=>({src:{value:$.src,meta:{}},images:$.src,alt:$.alt,title:$.title,dimensions:{width:$.width,height:$.height},classes:$.class,caption:$.caption,style:$.style,vspace:$.vspace,border:$.border,hspace:$.hspace,borderstyle:$.borderStyle,fileinput:[],isDecorative:$.isDecorative}),Xs=($,ne)=>({src:$.src.value,alt:($.alt===null||$.alt.length===0)&&ne?null:$.alt,title:$.title,width:$.dimensions.width,height:$.dimensions.height,class:$.classes,style:$.style,caption:$.caption,hspace:$.hspace,vspace:$.vspace,border:$.border,borderStyle:$.borderstyle,isDecorative:$.isDecorative}),da=($,ne)=>/^(?:[a-zA-Z]+:)?\/\//.test(ne)?ue.none():$.prependURL.bind(Re=>ne.substring(0,Re.length)!==Re?ue.some(Re+ne):ue.none()),Dn=($,ne)=>{const Re=ne.getData();da($,Re.src.value).each(bt=>{ne.setData({src:{value:bt,meta:Re.src.meta}})})},Xn=($,ne,Re)=>{$.hasDescription&&Co(Re.alt)&&(ne.alt=Re.alt),$.hasAccessibilityOptions&&(ne.isDecorative=Re.isDecorative||ne.isDecorative||!1),$.hasImageTitle&&Co(Re.title)&&(ne.title=Re.title),$.hasDimensions&&(Co(Re.width)&&(ne.dimensions.width=Re.width),Co(Re.height)&&(ne.dimensions.height=Re.height)),Co(Re.class)&&Un.findEntry($.classList,Re.class).each(bt=>{ne.classes=bt.value}),$.hasImageCaption&&Ve(Re.caption)&&(ne.caption=Re.caption),$.hasAdvTab&&(Co(Re.style)&&(ne.style=Re.style),Co(Re.vspace)&&(ne.vspace=Re.vspace),Co(Re.border)&&(ne.border=Re.border),Co(Re.hspace)&&(ne.hspace=Re.hspace),Co(Re.borderstyle)&&(ne.borderstyle=Re.borderstyle))},Ml=($,ne)=>{const Re=ne.getData(),bt=Re.src.meta;if(bt!==void 0){const Eo=rn({},Re);Xn($,Eo,bt),ne.setData(Eo)}},Ua=($,ne,Re,bt)=>{const Eo=bt.getData(),nr=Eo.src.value,la=Eo.src.meta||{};!la.width&&!la.height&&ne.hasDimensions&&(No(nr)?$.imageSize(nr).then(_s=>{Re.open&&bt.setData({dimensions:_s})}).catch(_s=>console.error(_s)):bt.setData({dimensions:{width:"",height:""}}))},ri=($,ne,Re)=>{const bt=Re.getData(),Eo=Un.findEntry($.imageList,bt.src.value);ne.prevImage=Eo,Re.setData({images:Eo.map(nr=>nr.value).getOr("")})},to=($,ne,Re,bt)=>{Dn(ne,bt),Ml(ne,bt),Ua($,ne,Re,bt),ri(ne,Re,bt)},bi=($,ne,Re,bt)=>{const Eo=bt.getData(),nr=Un.findEntry(ne.imageList,Eo.images);nr.each(la=>{Eo.alt===""||Re.prevImage.map(Ls=>Ls.text===Eo.alt).getOr(!1)?la.value===""?bt.setData({src:la,alt:Re.prevAlt}):bt.setData({src:la,alt:la.text}):bt.setData({src:la})}),Re.prevImage=nr,to($,ne,Re,bt)},Ns=($,ne,Re,bt)=>{const Eo=bt.getData();bt.block("Uploading image"),gt(Eo.fileinput).fold(()=>{bt.unblock()},nr=>{const la=URL.createObjectURL(nr),_s=()=>{bt.unblock(),URL.revokeObjectURL(la)},Ls=ai=>{bt.setData({src:{value:ai,meta:{}}}),bt.showTab("general"),to($,ne,Re,bt),bt.focus("src")};Zo(nr).then(ai=>{const Cs=$.createBlobCache(nr,la,ai);ne.automaticUploads?$.uploadImage(Cs).then(Dl=>{Ls(Dl.url),_s()}).catch(Dl=>{_s(),$.alertErr(Dl,()=>{bt.focus("fileinput")})}):($.addToBlobCache(Cs),Ls(Cs.blobUri()),bt.unblock())})})},qn=($,ne,Re)=>(bt,Eo)=>{Eo.name==="src"?to($,ne,Re,bt):Eo.name==="images"?bi($,ne,Re,bt):Eo.name==="alt"?Re.prevAlt=bt.getData().alt:Eo.name==="fileinput"?Ns($,ne,Re,bt):Eo.name==="isDecorative"&&bt.setEnabled("alt",!bt.getData().isDecorative)},Zs=$=>()=>{$.open=!1},Vl=$=>$.hasAdvTab||$.hasUploadUrl||$.hasUploadHandler?{type:"tabpanel",tabs:qe([[ni.makeTab($)],$.hasAdvTab?[os.makeTab($)]:[],$.hasUploadTab&&($.hasUploadUrl||$.hasUploadHandler)?[Ga.makeTab($)]:[]])}:{type:"panel",items:ni.makeItems($)},yi=($,ne,Re)=>bt=>{const Eo=rn(Mr(ne.image),bt.getData()),nr={...Eo,style:hr(Re.normalizeCss,Xs(Eo,!1))};$.execCommand("mceUpdateImage",!1,Xs(nr,ne.hasAccessibilityOptions)),$.editorUpload.uploadImagesAuto(),bt.close()},Da=$=>ne=>zt($,ne)?tt($.documentBaseURI.toAbsolute(ne)).then(Re=>({width:String(Re.width),height:String(Re.height)})):Promise.resolve({width:"",height:""}),Js=$=>(ne,Re,bt)=>{var Eo;return $.editorUpload.blobCache.create({blob:ne,blobUri:Re,name:(Eo=ne.name)===null||Eo===void 0?void 0:Eo.replace(/\.[^\.]+$/,""),filename:ne.name,base64:bt.split(",")[1]})},ur=$=>ne=>{$.editorUpload.blobCache.add(ne)},Ur=$=>(ne,Re)=>{$.windowManager.alert(ne,Re)},ns=$=>ne=>xn($,ne),ks=$=>ne=>$.dom.parseStyle(ne),Q=$=>(ne,Re)=>$.dom.serializeStyle(ne,Re),Ce=$=>ne=>un($).upload([ne],!1).then(Re=>{var bt;return Re.length===0?Promise.reject("Failed to upload image"):Re[0].status===!1?Promise.reject((bt=Re[0].error)===null||bt===void 0?void 0:bt.message):Re[0]}),Xe=$=>{const ne={imageSize:Da($),addToBlobCache:ur($),createBlobCache:Js($),alertErr:Ur($),normalizeCss:ns($),parseStyle:ks($),serializeStyle:Q($),uploadImage:Ce($)};return{open:()=>{zi($).then(bt=>{const Eo=yl(bt);return{title:"Insert/Edit Image",size:"normal",body:Vl(bt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Mr(bt.image),onSubmit:yi($,bt,ne),onChange:qn(ne,bt,Eo),onClose:Zs(Eo)}}).then($.windowManager.open)}}},Wt=$=>{$.addCommand("mceImage",Xe($).open),$.addCommand("mceUpdateImage",(ne,Re)=>{$.undoManager.transact(()=>Lo($,Re))})},xo=$=>{const ne=$.attr("class");return ho(ne)&&/\bimage\b/.test(ne)},X=$=>ne=>{let Re=ne.length;const bt=Eo=>{Eo.attr("contenteditable",$?"true":null)};for(;Re--;){const Eo=ne[Re];xo(Eo)&&(Eo.attr("contenteditable",$?"false":null),Nn.each(Eo.getAll("figcaption"),bt))}},be=$=>{$.on("PreInit",()=>{$.parser.addNodeFilter("figure",X(!0)),$.serializer.addNodeFilter("figure",X(!1))})},lt=$=>ne=>{const Re=()=>{ne.setEnabled($.selection.isEditable())};return $.on("NodeChange",Re),Re(),()=>{$.off("NodeChange",Re)}},Lt=$=>{$.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Xe($).open,onSetup:ne=>{ne.setActive(ho(Sn($)));const Re=$.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",ne.setActive).unbind,bt=lt($)(ne);return()=>{Re(),bt()}}}),$.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Xe($).open,onSetup:lt($)}),$.ui.registry.addContextMenu("image",{update:ne=>$.selection.isEditable()&&(nt(ne)||At(ne)&&!Yn(ne))?["image"]:[]})};var pn=()=>{wo.add("image",$=>{Vt($),be($),Lt($),Wt($)})};pn()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=(_e,Vt,Ct)=>{var et;return Ct(_e,Vt.prototype)?!0:((et=_e.constructor)===null||et===void 0?void 0:et.name)===Vt.name},$o=_e=>{const Vt=typeof _e;return _e===null?"null":Vt==="object"&&Array.isArray(_e)?"array":Vt==="object"&&Jo(_e,String,(Ct,et)=>et.isPrototypeOf(Ct))?"string":Vt},sn=_e=>Vt=>$o(Vt)===_e,Qo=_e=>Vt=>typeof Vt===_e,mo=sn("string"),Wo=sn("object"),jt=sn("array"),Co=Qo("function");var Io=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Go=tinymce.util.Tools.resolve("tinymce.EditorManager"),gn=tinymce.util.Tools.resolve("tinymce.Env"),Mo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ve=_e=>Vt=>Vt.options.get(_e),ut=_e=>{const Vt=_e.options.register,Ct=et=>mo(et)||Co(et)||Wo(et);Vt("importcss_merge_classes",{processor:"boolean",default:!0}),Vt("importcss_exclusive",{processor:"boolean",default:!0}),Vt("importcss_selector_converter",{processor:"function"}),Vt("importcss_selector_filter",{processor:Ct}),Vt("importcss_file_filter",{processor:Ct}),Vt("importcss_groups",{processor:"object[]"}),Vt("importcss_append",{processor:"boolean",default:!1})},ho=Ve("importcss_merge_classes"),uo=Ve("importcss_exclusive"),Ae=Ve("importcss_selector_converter"),ht=Ve("importcss_selector_filter"),bo=Ve("importcss_groups"),ue=Ve("importcss_append"),$e=Ve("importcss_file_filter"),ge=Ve("skin"),mt=Ve("skin_url"),Ro=Array.prototype.push,go=(_e,Vt)=>{const Ct=_e.length,et=new Array(Ct);for(let ye=0;ye<Ct;ye++){const fe=_e[ye];et[ye]=Vt(fe,ye)}return et},Ho=_e=>{const Vt=[];for(let Ct=0,et=_e.length;Ct<et;++Ct){if(!jt(_e[Ct]))throw new Error("Arr.flatten item "+Ct+" was not an array, input: "+_e);Ro.apply(Vt,_e[Ct])}return Vt},Uo=(_e,Vt)=>Ho(go(_e,Vt)),Rt=()=>{const _e=[],Vt=[],Ct={};return{addItemToGroup:(it,ke)=>{Ct[it]?Ct[it].push(ke):(Vt.push(it),Ct[it]=[ke])},addItem:it=>{_e.push(it)},toFormats:()=>Uo(Vt,ke=>{const he=Ct[ke];return he.length===0?[]:[{title:ke,items:he}]}).concat(_e)}},D=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,qe=_e=>{const Vt=gn.cacheSuffix;return mo(_e)&&(_e=_e.replace("?"+Vt,"").replace("&"+Vt,"")),_e},Je=(_e,Vt)=>{const Ct=ge(_e);if(Ct){const et=mt(_e),ye=et?_e.documentBaseURI.toAbsolute(et):Go.baseURL+"/skins/ui/"+Ct,fe=Go.baseURL+"/skins/content/",it=_e.editorManager.suffix;return Vt===ye+"/content"+(_e.inline?".inline":"")+`${it}.css`||Vt.indexOf(fe)!==-1}return!1},gt=_e=>mo(_e)?Vt=>Vt.indexOf(_e)!==-1:_e instanceof RegExp?Vt=>_e.test(Vt):_e,Bt=_e=>_e.styleSheet,ct=_e=>_e.selectorText,$t=(_e,Vt,Ct)=>{const et=[],ye={},fe=(it,ke)=>{let he=it.href,De;if(he=qe(he),!(!he||Ct&&!Ct(he,ke)||Je(_e,he))){Mo.each(it.imports,at=>{fe(at,!0)});try{De=it.cssRules||it.rules}catch{}Mo.each(De,at=>{Bt(at)&&at.styleSheet?fe(at.styleSheet,!0):ct(at)&&Mo.each(at.selectorText.split(","),_t=>{et.push(Mo.trim(_t))})})}};Mo.each(_e.contentCSS,it=>{ye[it]=!0}),Ct||(Ct=(it,ke)=>ke||ye[it]);try{Mo.each(Vt.styleSheets,it=>{fe(it)})}catch{}return et},So=(_e,Vt)=>{let Ct={};const et=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(Vt);if(!et)return;const ye=et[1],fe=et[2].substr(1).split(".").join(" "),it=Mo.makeMap("a,img");return et[1]?(Ct={title:Vt},_e.schema.getTextBlockElements()[ye]?Ct.block=ye:_e.schema.getBlockElements()[ye]||it[ye.toLowerCase()]?Ct.selector=ye:Ct.inline=ye):et[2]&&(Ct={inline:"span",title:Vt.substr(1),classes:fe}),ho(_e)?Ct.classes=fe:Ct.attributes={class:fe},Ct},Dt=(_e,Vt)=>Mo.grep(_e,Ct=>!Ct.filter||Ct.filter(Vt)),F=_e=>Mo.map(_e,Vt=>Mo.extend({},Vt,{original:Vt,selectors:{},filter:gt(Vt.filter)})),Ot=(_e,Vt)=>Vt===null||uo(_e),kt=(_e,Vt,Ct,et)=>!(Ot(_e,Ct)?Vt in et:Vt in Ct.selectors),ro=(_e,Vt,Ct,et)=>{Ot(_e,Ct)?et[Vt]=!0:Ct.selectors[Vt]=!0},co=(_e,Vt,Ct,et)=>{let ye;const fe=Ae(_e);return et&&et.selector_converter?ye=et.selector_converter:fe?ye=fe:ye=()=>So(_e,Ct),ye.call(Vt,Ct,et)},ao=_e=>{_e.on("init",()=>{const Vt=Rt(),Ct={},et=gt(ht(_e)),ye=F(bo(_e)),fe=(ke,he)=>{if(kt(_e,ke,he,Ct)){ro(_e,ke,he,Ct);const De=co(_e,_e.plugins.importcss,ke,he);if(De){const at=De.name||Io.DOM.uniqueId();return _e.formatter.register(at,De),{title:De.title,format:at}}}return null};Mo.each($t(_e,_e.getDoc(),gt($e(_e))),ke=>{if(!D.test(ke)&&(!et||et(ke))){const he=Dt(ye,ke);if(he.length>0)Mo.each(he,De=>{const at=fe(ke,De);at&&Vt.addItemToGroup(De.title,at)});else{const De=fe(ke,null);De&&Vt.addItem(De)}}});const it=Vt.toFormats();_e.dispatch("addStyleModifications",{items:it,replace:!ue(_e)})})},yo=_e=>({convertSelectorToFormat:Ct=>So(_e,Ct)});var No=()=>{wo.add("importcss",_e=>(ut(_e),ao(_e),yo(_e)))};No()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=ge=>mt=>mt.options.get(ge),$o=ge=>{const mt=ge.options.register;mt("insertdatetime_dateformat",{processor:"string",default:ge.translate("%Y-%m-%d")}),mt("insertdatetime_timeformat",{processor:"string",default:ge.translate("%H:%M:%S")}),mt("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),mt("insertdatetime_element",{processor:"boolean",default:!1})},sn=Jo("insertdatetime_dateformat"),Qo=Jo("insertdatetime_timeformat"),mo=Jo("insertdatetime_formats"),Wo=Jo("insertdatetime_element"),jt=ge=>{const mt=mo(ge);return mt.length>0?mt[0]:Qo(ge)},Co="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Io="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Go="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),gn="January February March April May June July August September October November December".split(" "),Mo=(ge,mt)=>{if(ge=""+ge,ge.length<mt)for(let Ro=0;Ro<mt-ge.length;Ro++)ge="0"+ge;return ge},Ve=(ge,mt,Ro=new Date)=>(mt=mt.replace("%D","%m/%d/%Y"),mt=mt.replace("%r","%I:%M:%S %p"),mt=mt.replace("%Y",""+Ro.getFullYear()),mt=mt.replace("%y",""+Ro.getYear()),mt=mt.replace("%m",Mo(Ro.getMonth()+1,2)),mt=mt.replace("%d",Mo(Ro.getDate(),2)),mt=mt.replace("%H",""+Mo(Ro.getHours(),2)),mt=mt.replace("%M",""+Mo(Ro.getMinutes(),2)),mt=mt.replace("%S",""+Mo(Ro.getSeconds(),2)),mt=mt.replace("%I",""+((Ro.getHours()+11)%12+1)),mt=mt.replace("%p",Ro.getHours()<12?"AM":"PM"),mt=mt.replace("%B",""+ge.translate(gn[Ro.getMonth()])),mt=mt.replace("%b",""+ge.translate(Go[Ro.getMonth()])),mt=mt.replace("%A",""+ge.translate(Io[Ro.getDay()])),mt=mt.replace("%a",""+ge.translate(Co[Ro.getDay()])),mt=mt.replace("%%","%"),mt),ut=(ge,mt,Ro,go)=>{const Ho=ge.dom.create("time",{datetime:Ro},go);ge.dom.replace(Ho,mt),ge.selection.select(Ho,!0),ge.selection.collapse(!1)},ho=(ge,mt)=>{if(Wo(ge)&&ge.selection.isEditable()){const Ro=Ve(ge,mt);let go;/%[HMSIp]/.test(mt)?go=Ve(ge,"%Y-%m-%dT%H:%M"):go=Ve(ge,"%Y-%m-%d");const Ho=ge.dom.getParent(ge.selection.getStart(),"time");Ho?ut(ge,Ho,go,Ro):ge.insertContent('<time datetime="'+go+'">'+Ro+"</time>")}else ge.insertContent(Ve(ge,mt))},uo=ge=>{ge.addCommand("mceInsertDate",(mt,Ro)=>{ho(ge,Ro??sn(ge))}),ge.addCommand("mceInsertTime",(mt,Ro)=>{ho(ge,Ro??Qo(ge))})},Ae=ge=>{let mt=ge;return{get:()=>mt,set:Ho=>{mt=Ho}}};var ht=tinymce.util.Tools.resolve("tinymce.util.Tools");const bo=ge=>mt=>{const Ro=()=>{mt.setEnabled(ge.selection.isEditable())};return ge.on("NodeChange",Ro),Ro(),()=>{ge.off("NodeChange",Ro)}},ue=ge=>{const mt=mo(ge),Ro=Ae(jt(ge)),go=Uo=>ge.execCommand("mceInsertDate",!1,Uo);ge.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Uo=>Uo===Ro.get(),fetch:Uo=>{Uo(ht.map(mt,Rt=>({type:"choiceitem",text:Ve(ge,Rt),value:Rt})))},onAction:Uo=>{go(Ro.get())},onItemAction:(Uo,Rt)=>{Ro.set(Rt),go(Rt)},onSetup:bo(ge)});const Ho=Uo=>()=>{Ro.set(Uo),go(Uo)};ge.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>ht.map(mt,Uo=>({type:"menuitem",text:Ve(ge,Uo),onAction:Ho(Uo)})),onSetup:bo(ge)})};var $e=()=>{wo.add("insertdatetime",ge=>{$o(ge),uo(ge),ue(ge)})};$e()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=(Q,Ce,Xe)=>{var Wt;return Xe(Q,Ce.prototype)?!0:((Wt=Q.constructor)===null||Wt===void 0?void 0:Wt.name)===Ce.name},$o=Q=>{const Ce=typeof Q;return Q===null?"null":Ce==="object"&&Array.isArray(Q)?"array":Ce==="object"&&Jo(Q,String,(Xe,Wt)=>Wt.isPrototypeOf(Xe))?"string":Ce},sn=Q=>Ce=>$o(Ce)===Q,Qo=Q=>Ce=>typeof Ce===Q,mo=Q=>Ce=>Q===Ce,Wo=sn("string"),jt=sn("object"),Co=sn("array"),Io=mo(null),Go=Qo("boolean"),gn=Q=>Q==null,Mo=Q=>!gn(Q),Ve=Qo("function"),ut=(Q,Ce)=>{if(Co(Q)){for(let Xe=0,Wt=Q.length;Xe<Wt;++Xe)if(!Ce(Q[Xe]))return!1;return!0}return!1},ho=()=>{},uo=Q=>()=>Q,Ae=(Q,Ce)=>Q===Ce;class ht{constructor(Ce,Xe){this.tag=Ce,this.value=Xe}static some(Ce){return new ht(!0,Ce)}static none(){return ht.singletonNone}fold(Ce,Xe){return this.tag?Xe(this.value):Ce()}isSome(){return this.tag}isNone(){return!this.tag}map(Ce){return this.tag?ht.some(Ce(this.value)):ht.none()}bind(Ce){return this.tag?Ce(this.value):ht.none()}exists(Ce){return this.tag&&Ce(this.value)}forall(Ce){return!this.tag||Ce(this.value)}filter(Ce){return!this.tag||Ce(this.value)?this:ht.none()}getOr(Ce){return this.tag?this.value:Ce}or(Ce){return this.tag?this:Ce}getOrThunk(Ce){return this.tag?this.value:Ce()}orThunk(Ce){return this.tag?this:Ce()}getOrDie(Ce){if(this.tag)return this.value;throw new Error(Ce??"Called getOrDie on None")}static from(Ce){return Mo(Ce)?ht.some(Ce):ht.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ce){this.tag&&Ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ht.singletonNone=new ht(!1);const bo=Array.prototype.indexOf,ue=Array.prototype.push,$e=(Q,Ce)=>bo.call(Q,Ce),ge=(Q,Ce)=>$e(Q,Ce)>-1,mt=(Q,Ce)=>{const Xe=Q.length,Wt=new Array(Xe);for(let xo=0;xo<Xe;xo++){const X=Q[xo];Wt[xo]=Ce(X,xo)}return Wt},Ro=(Q,Ce)=>{for(let Xe=0,Wt=Q.length;Xe<Wt;Xe++){const xo=Q[Xe];Ce(xo,Xe)}},go=(Q,Ce,Xe)=>(Ro(Q,(Wt,xo)=>{Xe=Ce(Xe,Wt,xo)}),Xe),Ho=Q=>{const Ce=[];for(let Xe=0,Wt=Q.length;Xe<Wt;++Xe){if(!Co(Q[Xe]))throw new Error("Arr.flatten item "+Xe+" was not an array, input: "+Q);ue.apply(Ce,Q[Xe])}return Ce},Uo=(Q,Ce)=>Ho(mt(Q,Ce)),Rt=(Q,Ce)=>{for(let Xe=0;Xe<Q.length;Xe++){const Wt=Ce(Q[Xe],Xe);if(Wt.isSome())return Wt}return ht.none()},D=(Q,Ce,Xe=Ae)=>Q.exists(Wt=>Xe(Wt,Ce)),qe=Q=>{const Ce=[],Xe=Wt=>{Ce.push(Wt)};for(let Wt=0;Wt<Q.length;Wt++)Q[Wt].each(Xe);return Ce},Je=(Q,Ce)=>Q?ht.some(Ce):ht.none(),gt=Q=>Ce=>Ce.options.get(Q),Bt=Q=>{const Ce=Q.options.register;Ce("link_assume_external_targets",{processor:Xe=>{const Wt=Wo(Xe)||Go(Xe);return Wt?Xe===!0?{value:1,valid:Wt}:Xe==="http"||Xe==="https"?{value:Xe,valid:Wt}:{value:0,valid:Wt}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),Ce("link_context_toolbar",{processor:"boolean",default:!1}),Ce("link_list",{processor:Xe=>Wo(Xe)||Ve(Xe)||ut(Xe,jt)}),Ce("link_default_target",{processor:"string"}),Ce("link_default_protocol",{processor:"string",default:"https"}),Ce("link_target_list",{processor:Xe=>Go(Xe)||ut(Xe,jt),default:!0}),Ce("link_rel_list",{processor:"object[]",default:[]}),Ce("link_class_list",{processor:"object[]",default:[]}),Ce("link_title",{processor:"boolean",default:!0}),Ce("allow_unsafe_link_target",{processor:"boolean",default:!1}),Ce("link_quicklink",{processor:"boolean",default:!1})},ct=gt("link_assume_external_targets"),$t=gt("link_context_toolbar"),So=gt("link_list"),Dt=gt("link_default_target"),F=gt("link_default_protocol"),Ot=gt("link_target_list"),kt=gt("link_rel_list"),ro=gt("link_class_list"),co=gt("link_title"),ao=gt("allow_unsafe_link_target"),yo=gt("link_quicklink"),No=Object.keys,_e=Object.hasOwnProperty,Vt=(Q,Ce)=>{const Xe=No(Q);for(let Wt=0,xo=Xe.length;Wt<xo;Wt++){const X=Xe[Wt],be=Q[X];Ce(be,X)}},Ct=Q=>(Ce,Xe)=>{Q[Xe]=Ce},et=(Q,Ce,Xe,Wt)=>{Vt(Q,(xo,X)=>{(Ce(xo,X)?Xe:Wt)(xo,X)})},ye=(Q,Ce)=>{const Xe={};return et(Q,Ce,Ct(Xe),ho),Xe},fe=(Q,Ce)=>_e.call(Q,Ce),it=(Q,Ce)=>fe(Q,Ce)&&Q[Ce]!==void 0&&Q[Ce]!==null;var ke=tinymce.util.Tools.resolve("tinymce.util.URI"),he=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),De=tinymce.util.Tools.resolve("tinymce.util.Tools");const at=Q=>Mo(Q)&&Q.nodeName.toLowerCase()==="a",_t=Q=>at(Q)&&!!io(Q),We=(Q,Ce)=>{if(Q.collapsed)return[];{const Xe=Q.cloneContents(),Wt=Xe.firstChild,xo=new he(Wt,Xe),X=[];let be=Wt;do Ce(be)&&X.push(be);while(be=xo.next());return X}},dt=Q=>/^\w+:/i.test(Q),io=Q=>{var Ce,Xe;return(Xe=(Ce=Q.getAttribute("data-mce-href"))!==null&&Ce!==void 0?Ce:Q.getAttribute("href"))!==null&&Xe!==void 0?Xe:""},Oo=(Q,Ce)=>{const Xe=["noopener"],Wt=Q?Q.split(/\s+/):[],xo=Lt=>De.trim(Lt.sort().join(" ")),X=Lt=>(Lt=be(Lt),Lt.length>0?Lt.concat(Xe):Xe),be=Lt=>Lt.filter(pn=>De.inArray(Xe,pn)===-1),lt=Ce?X(Wt):be(Wt);return lt.length>0?xo(lt):""},tt=Q=>Q.replace(/\uFEFF/g,""),vt=(Q,Ce)=>(Ce=Ce||on(Q.selection.getRng())[0]||Q.selection.getNode(),Xo(Ce)?ht.from(Q.dom.select("a[href]",Ce)[0]):ht.from(Q.dom.getParent(Ce,"a[href]"))),_o=(Q,Ce)=>vt(Q,Ce).isSome(),Fo=(Q,Ce)=>{const Xe=Ce.fold(()=>Q.getContent({format:"text"}),Wt=>Wt.innerText||Wt.textContent||"");return tt(Xe)},on=Q=>We(Q,_t),_n=Q=>De.grep(Q,_t),Zo=Q=>_n(Q).length>0,Yn=Q=>on(Q).length>0,zt=Q=>{const Ce=Q.schema.getTextInlineElements(),Xe=X=>X.nodeType===1&&!at(X)&&!fe(Ce,X.nodeName.toLowerCase());if(vt(Q).exists(X=>X.hasAttribute("data-mce-block")))return!1;const xo=Q.selection.getRng();return xo.collapsed?!0:We(xo,Xe).length===0},Xo=Q=>Mo(Q)&&Q.nodeName==="FIGURE"&&/\bimage\b/i.test(Q.className),Kn=Q=>go(["title","rel","class","target"],(Xe,Wt)=>(Q[Wt].each(xo=>{Xe[Wt]=xo.length>0?xo:null}),Xe),{href:Q.href}),ar=(Q,Ce)=>(Ce==="http"||Ce==="https")&&!dt(Q)?Ce+"://"+Q:Q,Vr=(Q,Ce)=>{const Xe={...Ce};if(kt(Q).length===0&&!ao(Q)){const Wt=Oo(Xe.rel,Xe.target==="_blank");Xe.rel=Wt||null}return ht.from(Xe.target).isNone()&&Ot(Q)===!1&&(Xe.target=Dt(Q)),Xe.href=ar(Xe.href,ct(Q)),Xe},Ft=(Q,Ce,Xe,Wt)=>{Xe.each(xo=>{fe(Ce,"innerText")?Ce.innerText=xo:Ce.textContent=xo}),Q.dom.setAttribs(Ce,Wt),Q.selection.select(Ce)},Gr=(Q,Ce,Xe,Wt)=>{const xo=Q.dom;Xo(Ce)?es(xo,Ce,Wt):Xe.fold(()=>{Q.execCommand("mceInsertLink",!1,Wt)},X=>{Q.insertContent(xo.createHTML("a",Wt,xo.encode(X)))})},Nr=(Q,Ce,Xe)=>{const Wt=Q.selection.getNode(),xo=vt(Q,Wt),X=Vr(Q,Kn(Xe));Q.undoManager.transact(()=>{Xe.href===Ce.href&&Ce.attach(),xo.fold(()=>{Gr(Q,Wt,Xe.text,X)},be=>{Q.focus(),Ft(Q,be,Xe.text,X)})})},yr=Q=>{const Ce=Q.dom,Xe=Q.selection,Wt=Xe.getBookmark(),xo=Xe.getRng().cloneRange(),X=Ce.getParent(xo.startContainer,"a[href]",Q.getBody()),be=Ce.getParent(xo.endContainer,"a[href]",Q.getBody());X&&xo.setStartBefore(X),be&&xo.setEndAfter(be),Xe.setRng(xo),Q.execCommand("unlink"),Xe.moveToBookmark(Wt)},jo=Q=>{Q.undoManager.transact(()=>{const Ce=Q.selection.getNode();Xo(Ce)?La(Q,Ce):yr(Q),Q.focus()})},$r=Q=>{const{class:Ce,href:Xe,rel:Wt,target:xo,text:X,title:be}=Q;return ye({class:Ce.getOrNull(),href:Xe,rel:Wt.getOrNull(),target:xo.getOrNull(),text:X.getOrNull(),title:be.getOrNull()},(lt,Lt)=>Io(lt)===!1)},ls=(Q,Ce)=>{const Xe=Q.options.get,Wt={allow_html_data_urls:Xe("allow_html_data_urls"),allow_script_urls:Xe("allow_script_urls"),allow_svg_data_urls:Xe("allow_svg_data_urls")},xo=Ce.href;return{...Ce,href:ke.isDomSafe(xo,"a",Wt)?xo:""}},Fa=(Q,Ce,Xe)=>{const Wt=ls(Q,Xe);Q.hasPlugin("rtc",!0)?Q.execCommand("createlink",!1,$r(Wt)):Nr(Q,Ce,Wt)},cs=Q=>{Q.hasPlugin("rtc",!0)?Q.execCommand("unlink"):jo(Q)},La=(Q,Ce)=>{var Xe;const Wt=Q.dom.select("img",Ce)[0];if(Wt){const xo=Q.dom.getParents(Wt,"a[href]",Ce)[0];xo&&((Xe=xo.parentNode)===null||Xe===void 0||Xe.insertBefore(Wt,xo),Q.dom.remove(xo))}},es=(Q,Ce,Xe)=>{var Wt;const xo=Q.select("img",Ce)[0];if(xo){const X=Q.create("a",Xe);(Wt=xo.parentNode)===null||Wt===void 0||Wt.insertBefore(X,xo),X.appendChild(xo)}},ts=Q=>Wo(Q.value)?Q.value:"",Fs=Q=>Wo(Q.text)?Q.text:Wo(Q.title)?Q.title:"",za=(Q,Ce)=>{const Xe=[];return De.each(Q,Wt=>{const xo=Fs(Wt);if(Wt.menu!==void 0){const X=za(Wt.menu,Ce);Xe.push({text:xo,items:X})}else{const X=Ce(Wt);Xe.push({text:xo,value:X})}}),Xe},nt=(Q=ts)=>Ce=>ht.from(Ce).map(Xe=>za(Xe,Q)),nn={sanitize:Q=>nt(ts)(Q),sanitizeWith:nt,createUi:(Q,Ce)=>Xe=>({name:Q,type:"listbox",label:Ce,items:Xe}),getValue:ts},vr=Q=>it(Q,"items"),hr=(Q,Ce)=>Rt(Ce,Xe=>vr(Xe)?hr(Q,Xe.items):Je(Xe.value===Q,Xe)),Os=(Q,Ce,Xe,Wt)=>{const xo=Wt[Ce],X=Q.length>0;return xo!==void 0?hr(xo,Xe).map(be=>({url:{value:be.value,meta:{text:X?Q:be.text,attach:ho}},text:X?Q:be.text})):ht.none()},ga=(Q,Ce)=>Ce==="link"?Q.link:Ce==="anchor"?Q.anchor:ht.none(),Te={init:(Q,Ce)=>{const Xe={text:Q.text,title:Q.title},Wt=Lt=>{var pn;return Je(Xe.title.length<=0,ht.from((pn=Lt.meta)===null||pn===void 0?void 0:pn.title).getOr(""))},xo=Lt=>{var pn;return Je(Xe.text.length<=0,ht.from((pn=Lt.meta)===null||pn===void 0?void 0:pn.text).getOr(Lt.value))},X=Lt=>{const pn=xo(Lt.url),$=Wt(Lt.url);return pn.isSome()||$.isSome()?ht.some({...pn.map(ne=>({text:ne})).getOr({}),...$.map(ne=>({title:ne})).getOr({})}):ht.none()},be=(Lt,pn)=>{const $=ga(Ce,pn).getOr([]);return Os(Xe.text,pn,$,Lt)};return{onChange:(Lt,pn)=>{const $=pn.name;return $==="url"?X(Lt()):ge(["anchor","link"],$)?be(Lt(),$):(($==="text"||$==="title")&&(Xe[$]=Lt()[$]),ht.none())}}},getDelta:Os};var Se=tinymce.util.Tools.resolve("tinymce.util.Delay");const Nt=(Q,Ce,Xe)=>{const Wt=Q.selection.getRng();Se.setEditorTimeout(Q,()=>{Q.windowManager.confirm(Ce,xo=>{Q.selection.setRng(Wt),Xe(xo)})})},Pt=Q=>{const Ce=Q.href;return Ce.indexOf("@")>0&&Ce.indexOf("/")===-1&&Ce.indexOf("mailto:")===-1?ht.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Wt=>({...Wt,href:"mailto:"+Ce})}):ht.none()},xn=(Q,Ce)=>Xe=>{const Wt=Xe.href;return Q===1&&!dt(Wt)||Q===0&&/^\s*www(\.|\d\.)/i.test(Wt)?ht.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${Ce}:// prefix?`,preprocess:X=>({...X,href:Ce+"://"+Wt})}):ht.none()},Ln={preprocess:(Q,Ce)=>Rt([Pt,xn(ct(Q),F(Q))],Xe=>Xe(Ce)).fold(()=>Promise.resolve(Ce),Xe=>new Promise(Wt=>{Nt(Q,Xe.message,xo=>{Wt(xo?Xe.preprocess(Ce):Ce)})}))},wr={getAnchors:Q=>{const Ce=Q.dom.select("a:not([href])"),Xe=Uo(Ce,Wt=>{const xo=Wt.name||Wt.id;return xo?[{text:xo,value:"#"+xo}]:[]});return Xe.length>0?ht.some([{text:"None",value:""}].concat(Xe)):ht.none()}},Ee={getClasses:Q=>{const Ce=ro(Q);return Ce.length>0?nn.sanitize(Ce):ht.none()}},Be=Q=>{try{return ht.some(JSON.parse(Q))}catch{return ht.none()}},Lo={getLinks:Q=>{const Ce=Wt=>Q.convertURL(Wt.value||Wt.url||"","href"),Xe=So(Q);return new Promise(Wt=>{Wo(Xe)?fetch(Xe).then(xo=>xo.ok?xo.text().then(Be):Promise.reject()).then(Wt,()=>Wt(ht.none())):Ve(Xe)?Xe(xo=>Wt(ht.some(xo))):Wt(ht.from(Xe))}).then(Wt=>Wt.bind(nn.sanitizeWith(Ce)).map(xo=>xo.length>0?[{text:"None",value:""}].concat(xo):xo))}},qo={getRels:(Q,Ce)=>{const Xe=kt(Q);if(Xe.length>0){const Wt=D(Ce,"_blank"),xo=ao(Q)===!1,X=lt=>Oo(nn.getValue(lt),Wt);return(xo?nn.sanitizeWith(X):nn.sanitize)(Xe)}return ht.none()}},rn=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Nn={getTargets:Q=>{const Ce=Ot(Q);return Co(Ce)?nn.sanitize(Ce).orThunk(()=>ht.some(rn)):Ce===!1?ht.none():ht.some(rn)}},or=(Q,Ce,Xe)=>{const Wt=Q.getAttrib(Ce,Xe);return Wt!==null&&Wt.length>0?ht.some(Wt):ht.none()},_r=(Q,Ce)=>{const Xe=Q.dom,xo=zt(Q)?ht.some(Fo(Q.selection,Ce)):ht.none(),X=Ce.bind($=>ht.from(Xe.getAttrib($,"href"))),be=Ce.bind($=>ht.from(Xe.getAttrib($,"target"))),lt=Ce.bind($=>or(Xe,$,"rel")),Lt=Ce.bind($=>or(Xe,$,"class")),pn=Ce.bind($=>or(Xe,$,"title"));return{url:X,text:xo,title:pn,target:be,rel:lt,linkClass:Lt}},sa={collect:(Q,Ce)=>Lo.getLinks(Q).then(Xe=>{const Wt=_r(Q,Ce);return{anchor:Wt,catalogs:{targets:Nn.getTargets(Q),rels:qo.getRels(Q,Wt.target),classes:Ee.getClasses(Q),anchor:wr.getAnchors(Q),link:Xe},optNode:Ce,flags:{titleEnabled:co(Q)}}})},Us=(Q,Ce)=>Xe=>{const Wt=Xe.getData();if(!Wt.url.value){cs(Q),Xe.close();return}const xo=lt=>ht.from(Wt[lt]).filter(Lt=>!D(Ce.anchor[lt],Lt)),X={href:Wt.url.value,text:xo("text"),target:xo("target"),rel:xo("rel"),class:xo("linkClass"),title:xo("title")},be={href:Wt.url.value,attach:Wt.url.meta!==void 0&&Wt.url.meta.attach?Wt.url.meta.attach:ho};Ln.preprocess(Q,X).then(lt=>{Fa(Q,be,lt)}),Xe.close()},ea=Q=>{const Ce=vt(Q);return sa.collect(Q,Ce)},Cr=(Q,Ce)=>{const Xe=Q.anchor,Wt=Xe.url.getOr("");return{url:{value:Wt,meta:{original:{value:Wt}}},text:Xe.text.getOr(""),title:Xe.title.getOr(""),anchor:Wt,link:Wt,rel:Xe.rel.getOr(""),target:Xe.target.or(Ce).getOr(""),linkClass:Xe.linkClass.getOr("")}},Pr=(Q,Ce,Xe)=>{const Wt=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],xo=Q.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),X=Q.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],be=ht.from(Dt(Xe)),lt=Cr(Q,be),Lt=Q.catalogs,pn=Te.init(lt,Lt);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Ho([Wt,xo,X,qe([Lt.anchor.map(nn.createUi("anchor","Anchors")),Lt.rels.map(nn.createUi("rel","Rel")),Lt.targets.map(nn.createUi("target","Open link in...")),Lt.link.map(nn.createUi("link","Link list")),Lt.classes.map(nn.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:lt,onChange:(ne,{name:Re})=>{pn.onChange(ne.getData,{name:Re}).each(bt=>{ne.setData(bt)})},onSubmit:Ce}},Un=Q=>{ea(Q).then(Xe=>{const Wt=Us(Q,Xe);return Pr(Xe,Wt,Q)}).then(Xe=>{Q.windowManager.open(Xe)})},Ma=Q=>{Q.addCommand("mceLink",(Ce,Xe)=>{(Xe==null?void 0:Xe.dialog)===!0||!yo(Q)?Un(Q):Q.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},os=Q=>{Q.addShortcut("Meta+K","",()=>{Q.execCommand("mceLink")})},zi=Q=>{let Ce=Q;return{get:()=>Ce,set:xo=>{Ce=xo}}},jl=Q=>{const Ce=zi(ht.none()),Xe=()=>Ce.get().each(Q);return{clear:()=>{Xe(),Ce.set(ht.none())},isSet:()=>Ce.get().isSome(),get:()=>Ce.get(),set:lt=>{Xe(),Ce.set(ht.some(lt))}}},wn=()=>{const Q=jl(ho);return{...Q,on:Xe=>Q.get().each(Xe)}},ni=(Q,Ce)=>Q.substring(Ce),ia=(Q,Ce,Xe)=>Ce===""||Q.length>=Ce.length&&Q.substr(Xe,Xe+Ce.length)===Ce,Ga=(Q,Ce)=>yl(Q,Ce)?ni(Q,Ce.length):Q,yl=(Q,Ce)=>ia(Q,Ce,0);var Mr=tinymce.util.Tools.resolve("tinymce.util.VK");const Xs=(Q,Ce)=>{document.body.appendChild(Q),Q.dispatchEvent(Ce),document.body.removeChild(Q)},da=Q=>{const Ce=document.createElement("a");Ce.target="_blank",Ce.href=Q,Ce.rel="noreferrer noopener";const Xe=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Xe),Xs(Ce,Xe)},Dn=Q=>Q.altKey===!0&&Q.shiftKey===!1&&Q.ctrlKey===!1&&Q.metaKey===!1,Xn=(Q,Ce)=>{if(Ce){const Xe=io(Ce);if(/^#/.test(Xe)){const Wt=Q.dom.select(`${Xe},[name="${Ga(Xe,"#")}"]`);Wt.length&&Q.selection.scrollIntoView(Wt[0],!0)}else da(Ce.href)}},Ml=Q=>{const Ce=Q.selection.getRng(),Xe=Ce.startContainer;return _t(Xe)&&Ce.startContainer===Ce.endContainer&&Q.dom.select("img",Xe).length===1},Ua=(Q,Ce)=>{const Xe=_n(Q.dom.getParents(Ce));return Je(Xe.length===1,Xe[0])},ri=Q=>{const Ce=on(Q.selection.getRng());return Je(Ce.length>0,Ce[0]).or(Ua(Q,Q.selection.getNode()))},to=Q=>Q.selection.isCollapsed()||Ml(Q)?Ua(Q,Q.selection.getStart()):ri(Q),bi=Q=>{const Ce=wn(),Xe=()=>Ce.get().or(to(Q)),Wt=()=>Xe().each(xo=>Xn(Q,xo));return Q.on("contextmenu",xo=>{Ua(Q,xo.target).each(Ce.set)}),Q.on("SelectionChange",()=>{Ce.isSet()||to(Q).each(Ce.set)}),Q.on("click",xo=>{Ce.clear();const X=_n(Q.dom.getParents(xo.target));X.length===1&&Mr.metaKeyPressed(xo)&&(xo.preventDefault(),Xn(Q,X[0]))}),Q.on("keydown",xo=>{Ce.clear(),!xo.isDefaultPrevented()&&xo.keyCode===13&&Dn(xo)&&Xe().each(X=>{xo.preventDefault(),Xn(Q,X)})}),{gotoSelectedLink:Wt}},Ns=Q=>()=>{Q.execCommand("mceLink",!1,{dialog:!0})},qn=(Q,Ce)=>(Q.on("NodeChange",Ce),()=>Q.off("NodeChange",Ce)),Zs=Q=>Ce=>{const Xe=()=>{Ce.setActive(!Q.mode.isReadOnly()&&_o(Q,Q.selection.getNode())),Ce.setEnabled(Q.selection.isEditable())};return Xe(),qn(Q,Xe)},Vl=Q=>Ce=>{const Xe=()=>{Ce.setEnabled(Q.selection.isEditable())};return Xe(),qn(Q,Xe)},yi=Q=>Ce=>{const Xe=X=>Zo(X)||Yn(Q.selection.getRng()),Wt=Q.dom.getParents(Q.selection.getStart()),xo=X=>{Ce.setEnabled(Xe(X)&&Q.selection.isEditable())};return xo(Wt),qn(Q,X=>xo(X.parents))},Da=(Q,Ce)=>{Q.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Ns(Q),onSetup:Zs(Q)}),Q.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ce.gotoSelectedLink,onSetup:yi(Q)}),Q.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>cs(Q),onSetup:yi(Q)})},Js=(Q,Ce)=>{Q.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ce.gotoSelectedLink,onSetup:yi(Q)}),Q.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ns(Q),onSetup:Vl(Q)}),Q.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>cs(Q),onSetup:yi(Q)})},ur=Q=>{const Ce="link unlink openlink",Xe="link";Q.ui.registry.addContextMenu("link",{update:Wt=>Q.dom.isEditable(Wt)?Zo(Q.dom.getParents(Wt,"a"))?Ce:Xe:""})},Ur=(Q,Ce)=>{const Xe=X=>{X.selection.collapse(!1)},Wt=X=>{const be=Q.selection.getNode();return X.setEnabled(_o(Q,be)&&Q.selection.isEditable()),ho},xo=X=>{const be=vt(Q),lt=zt(Q);if(be.isNone()&&lt){const Lt=Fo(Q.selection,be);return Je(Lt.length===0,X)}else return ht.none()};Q.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Zs(Q)},label:"Link",predicate:X=>$t(Q)&&_o(Q,X),initValue:()=>vt(Q).fold(uo(""),io),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:X=>{const be=Q.selection.getNode();return X.setActive(_o(Q,be)),Zs(Q)(X)},onAction:X=>{const be=X.getValue(),lt=xo(be);Fa(Q,{href:be,attach:ho},{href:be,text:lt,title:ht.none(),rel:ht.none(),target:ht.from(Dt(Q)),class:ht.none()}),Xe(Q),X.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Wt,onAction:X=>{cs(Q),X.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Wt,onAction:X=>{Ce.gotoSelectedLink(),X.hide()}}]})},ns=Q=>{const Ce=bi(Q);Da(Q,Ce),Js(Q,Ce),ur(Q),Ur(Q,Ce)};var ks=()=>{wo.add("link",Q=>{Bt(Q),Ma(Q),ns(Q),os(Q)})};ks()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=(T,j,K)=>{var Me;return K(T,j.prototype)?!0:((Me=T.constructor)===null||Me===void 0?void 0:Me.name)===j.name},$o=T=>{const j=typeof T;return T===null?"null":j==="object"&&Array.isArray(T)?"array":j==="object"&&Jo(T,String,(K,Me)=>Me.isPrototypeOf(K))?"string":j},sn=T=>j=>$o(j)===T,Qo=T=>j=>typeof j===T,mo=sn("string"),Wo=sn("object"),jt=sn("array"),Co=Qo("boolean"),Io=T=>T==null,Go=T=>!Io(T),gn=Qo("function"),Mo=Qo("number"),Ve=()=>{},ut=(T,j)=>K=>T(j(K)),ho=T=>()=>T,uo=(T,j)=>T===j;function Ae(T,...j){return(...K)=>{const Me=j.concat(K);return T.apply(null,Me)}}const ht=T=>j=>!T(j),bo=ho(!1);class ue{constructor(j,K){this.tag=j,this.value=K}static some(j){return new ue(!0,j)}static none(){return ue.singletonNone}fold(j,K){return this.tag?K(this.value):j()}isSome(){return this.tag}isNone(){return!this.tag}map(j){return this.tag?ue.some(j(this.value)):ue.none()}bind(j){return this.tag?j(this.value):ue.none()}exists(j){return this.tag&&j(this.value)}forall(j){return!this.tag||j(this.value)}filter(j){return!this.tag||j(this.value)?this:ue.none()}getOr(j){return this.tag?this.value:j}or(j){return this.tag?this:j}getOrThunk(j){return this.tag?this.value:j()}orThunk(j){return this.tag?this:j()}getOrDie(j){if(this.tag)return this.value;throw new Error(j??"Called getOrDie on None")}static from(j){return Go(j)?ue.some(j):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(j){this.tag&&j(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const $e=Array.prototype.slice,ge=Array.prototype.indexOf,mt=Array.prototype.push,Ro=(T,j)=>ge.call(T,j),go=(T,j)=>Ro(T,j)>-1,Ho=(T,j)=>{for(let K=0,Me=T.length;K<Me;K++){const Le=T[K];if(j(Le,K))return!0}return!1},Uo=(T,j)=>{const K=T.length,Me=new Array(K);for(let Le=0;Le<K;Le++){const po=T[Le];Me[Le]=j(po,Le)}return Me},Rt=(T,j)=>{for(let K=0,Me=T.length;K<Me;K++){const Le=T[K];j(Le,K)}},D=(T,j)=>{const K=[];for(let Me=0,Le=T.length;Me<Le;Me++){const po=T[Me];j(po,Me)&&K.push(po)}return K},qe=(T,j)=>{if(T.length===0)return[];{let K=j(T[0]);const Me=[];let Le=[];for(let po=0,In=T.length;po<In;po++){const cr=T[po],Zn=j(cr);Zn!==K&&(Me.push(Le),Le=[]),K=Zn,Le.push(cr)}return Le.length!==0&&Me.push(Le),Me}},Je=(T,j,K)=>(Rt(T,(Me,Le)=>{K=j(K,Me,Le)}),K),gt=(T,j,K)=>{for(let Me=0,Le=T.length;Me<Le;Me++){const po=T[Me];if(j(po,Me))return ue.some(po);if(K(po,Me))break}return ue.none()},Bt=(T,j)=>gt(T,j,bo),ct=T=>{const j=[];for(let K=0,Me=T.length;K<Me;++K){if(!jt(T[K]))throw new Error("Arr.flatten item "+K+" was not an array, input: "+T);mt.apply(j,T[K])}return j},$t=(T,j)=>ct(Uo(T,j)),So=T=>{const j=$e.call(T,0);return j.reverse(),j},Dt=(T,j)=>j>=0&&j<T.length?ue.some(T[j]):ue.none(),F=T=>Dt(T,0),Ot=T=>Dt(T,T.length-1),kt=(T,j)=>{const K=[],Me=gn(j)?Le=>Ho(K,po=>j(po,Le)):Le=>go(K,Le);for(let Le=0,po=T.length;Le<po;Le++){const In=T[Le];Me(In)||K.push(In)}return K},ro=(T,j,K=uo)=>T.exists(Me=>K(Me,j)),co=(T,j,K=uo)=>ao(T,j,K).getOr(T.isNone()&&j.isNone()),ao=(T,j,K)=>T.isSome()&&j.isSome()?ue.some(K(T.getOrDie(),j.getOrDie())):ue.none(),yo=8,No=11,_e=1,Vt=3,Ct=(T,j)=>{const Me=(j||document).createElement("div");if(Me.innerHTML=T,!Me.hasChildNodes()||Me.childNodes.length>1){const Le="HTML does not have a single root node";throw console.error(Le,T),new Error(Le)}return fe(Me.childNodes[0])},et=(T,j)=>{const Me=(j||document).createElement(T);return fe(Me)},ye=(T,j)=>{const Me=(j||document).createTextNode(T);return fe(Me)},fe=T=>{if(T==null)throw new Error("Node cannot be null or undefined");return{dom:T}},ke={fromHtml:Ct,fromTag:et,fromText:ye,fromDom:fe,fromPoint:(T,j,K)=>ue.from(T.dom.elementFromPoint(j,K)).map(fe)},he=(T,j)=>{const K=T.dom;if(K.nodeType!==_e)return!1;{const Me=K;if(Me.matches!==void 0)return Me.matches(j);if(Me.msMatchesSelector!==void 0)return Me.msMatchesSelector(j);if(Me.webkitMatchesSelector!==void 0)return Me.webkitMatchesSelector(j);if(Me.mozMatchesSelector!==void 0)return Me.mozMatchesSelector(j);throw new Error("Browser lacks native selectors")}},De=(T,j)=>T.dom===j.dom,at=(T,j)=>{const K=T.dom,Me=j.dom;return K===Me?!1:K.contains(Me)},_t=he,We=typeof window<"u"?window:Function("return this;")(),dt=(T,j)=>{let K=j??We;for(let Me=0;Me<T.length&&K!==void 0&&K!==null;++Me)K=K[T[Me]];return K},io=(T,j)=>{const K=T.split(".");return dt(K,j)},Oo=(T,j)=>io(T,j),tt=(T,j)=>{const K=Oo(T,j);if(K==null)throw new Error(T+" not available on this browser");return K},vt=Object.getPrototypeOf,_o=T=>tt("HTMLElement",T),Fo=T=>{const j=io("ownerDocument.defaultView",T);return Wo(T)&&(_o(j).prototype.isPrototypeOf(T)||/^HTML\w*Element$/.test(vt(T).constructor.name))},on=T=>T.dom.nodeName.toLowerCase(),_n=T=>T.dom.nodeType,Zo=T=>j=>_n(j)===T,Yn=T=>_n(T)===yo||on(T)==="#comment",zt=T=>Xo(T)&&Fo(T.dom),Xo=Zo(_e),Kn=Zo(Vt),ar=Zo(No),Vr=T=>j=>Xo(j)&&on(j)===T,Ft=T=>ue.from(T.dom.parentNode).map(ke.fromDom),Gr=T=>ue.from(T.dom.parentElement).map(ke.fromDom),Nr=T=>ue.from(T.dom.nextSibling).map(ke.fromDom),yr=T=>Uo(T.dom.childNodes,ke.fromDom),jo=(T,j)=>{const K=T.dom.childNodes;return ue.from(K[j]).map(ke.fromDom)},$r=T=>jo(T,0),ls=T=>jo(T,T.dom.childNodes.length-1),Fa=T=>ar(T)&&Go(T.dom.host),cs=T=>ke.fromDom(T.dom.getRootNode()),La=T=>{const j=cs(T);return Fa(j)?ue.some(j):ue.none()},es=T=>ke.fromDom(T.dom.host),ts=T=>{const j=Kn(T)?T.dom.parentNode:T.dom;if(j==null||j.ownerDocument===null)return!1;const K=j.ownerDocument;return La(ke.fromDom(j)).fold(()=>K.body.contains(j),ut(ts,es))};var Fs=(T,j,K,Me,Le)=>T(K,Me)?ue.some(K):gn(Le)&&Le(K)?ue.none():j(K,Me,Le);const za=(T,j,K)=>{let Me=T.dom;const Le=gn(K)?K:bo;for(;Me.parentNode;){Me=Me.parentNode;const po=ke.fromDom(Me);if(j(po))return ue.some(po);if(Le(po))break}return ue.none()},nt=(T,j,K)=>Fs((Le,po)=>po(Le),za,T,j,K),At=(T,j,K)=>za(T,Me=>he(Me,j),K),pt=(T,j,K)=>Fs((Le,po)=>he(Le,po),At,T,j,K),nn=T=>pt(T,"[contenteditable]"),vr=(T,j=!1)=>ts(T)?T.dom.isContentEditable:nn(T).fold(ho(j),K=>hr(K)==="true"),hr=T=>T.dom.contentEditable,Os=(T,j)=>{Ft(T).each(Me=>{Me.dom.insertBefore(j.dom,T.dom)})},ga=(T,j)=>{Nr(T).fold(()=>{Ft(T).each(Le=>{Te(Le,j)})},Me=>{Os(Me,j)})},xr=(T,j)=>{$r(T).fold(()=>{Te(T,j)},Me=>{T.dom.insertBefore(j.dom,Me.dom)})},Te=(T,j)=>{T.dom.appendChild(j.dom)},Se=(T,j)=>{Rt(j,K=>{Os(T,K)})},Nt=(T,j)=>{Rt(j,K=>{Te(T,K)})},Pt=T=>{T.dom.textContent="",Rt(yr(T),j=>{xn(j)})},xn=T=>{const j=T.dom;j.parentNode!==null&&j.parentNode.removeChild(j)};var Sn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ln=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Qr=tinymce.util.Tools.resolve("tinymce.util.VK");const wr=T=>Uo(T,ke.fromDom),dn=Object.keys,Ee=(T,j)=>{const K=dn(T);for(let Me=0,Le=K.length;Me<Le;Me++){const po=K[Me],In=T[po];j(In,po)}},Be=T=>(j,K)=>{T[K]=j},so=(T,j,K,Me)=>{Ee(T,(Le,po)=>{(j(Le,po)?K:Me)(Le,po)})},Lo=(T,j)=>{const K={};return so(T,j,Be(K),Ve),K},Vo=(T,j,K)=>{if(mo(K)||Co(K)||Mo(K))T.setAttribute(j,K+"");else throw console.error("Invalid call to Attribute.set. Key ",j,":: Value ",K,":: Element ",T),new Error("Attribute value was not simple")},qo=(T,j)=>{const K=T.dom;Ee(j,(Me,Le)=>{Vo(K,Le,Me)})},rn=T=>Je(T.dom.attributes,(j,K)=>(j[K.name]=K.value,j),{}),un=(T,j)=>ke.fromDom(T.dom.cloneNode(j)),Nn=T=>un(T,!0),or=(T,j)=>{const K=ke.fromTag(j),Me=rn(T);return qo(K,Me),K},_r=(T,j)=>{const K=or(T,j);ga(T,K);const Me=yr(T);return Nt(K,Me),xn(T),K};var wa=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),sa=tinymce.util.Tools.resolve("tinymce.util.Tools");const Us=T=>j=>Go(j)&&j.nodeName.toLowerCase()===T,ea=T=>j=>Go(j)&&T.test(j.nodeName),Cr=T=>Go(T)&&T.nodeType===3,Pr=T=>Go(T)&&T.nodeType===1,Un=ea(/^(OL|UL|DL)$/),Ma=ea(/^(OL|UL)$/),os=Us("ol"),zi=ea(/^(LI|DT|DD)$/),jl=ea(/^(DT|DD)$/),wn=ea(/^(TH|TD)$/),ni=Us("br"),ia=T=>{var j;return((j=T.parentNode)===null||j===void 0?void 0:j.firstChild)===T},Ga=(T,j)=>Go(j)&&j.nodeName in T.schema.getTextBlockElements(),yl=(T,j)=>Go(T)&&T.nodeName in j,Mr=(T,j)=>Go(j)&&j.nodeName in T.schema.getVoidElements(),Xs=(T,j)=>ni(j)?T.isBlock(j.nextSibling)&&!ni(j.previousSibling):!1,da=(T,j,K)=>{const Me=T.isEmpty(j);return K&&T.select("span[data-mce-type=bookmark]",j).length>0?!1:Me},Dn=(T,j)=>T.isChildOf(j,T.getRoot()),Xn=T=>j=>j.options.get(T),Ml=T=>{const j=T.options.register;j("lists_indent_on_tab",{processor:"boolean",default:!0})},Ua=Xn("lists_indent_on_tab"),ri=Xn("forced_root_block"),to=Xn("forced_root_block_attrs"),bi=(T,j,K={})=>{const Me=T.dom,Le=T.schema.getBlockElements(),po=Me.createFragment(),In=ri(T),cr=to(T);let Zn,kn,ha=!1;for(kn=Me.create(In,{...cr,...K.style?{style:K.style}:{}}),yl(j.firstChild,Le)||po.appendChild(kn);Zn=j.firstChild;){const Za=Zn.nodeName;!ha&&(Za!=="SPAN"||Zn.getAttribute("data-mce-type")!=="bookmark")&&(ha=!0),yl(Zn,Le)?(po.appendChild(Zn),kn=null):(kn||(kn=Me.create(In,cr),po.appendChild(kn)),kn.appendChild(Zn))}return!ha&&kn&&kn.appendChild(Me.create("br",{"data-mce-bogus":"1"})),po},Ns=wa.DOM,qn=(T,j,K)=>{const Me=kn=>{const ha=kn.parentNode;ha&&sa.each(Le,Za=>{ha.insertBefore(Za,K.parentNode)}),Ns.remove(kn)},Le=Ns.select('span[data-mce-type="bookmark"]',j),po=bi(T,K),In=Ns.createRng();In.setStartAfter(K),In.setEndAfter(j);const cr=In.extractContents();for(let kn=cr.firstChild;kn;kn=kn.firstChild)if(kn.nodeName==="LI"&&T.dom.isEmpty(kn)){Ns.remove(kn);break}T.dom.isEmpty(cr)||Ns.insertAfter(cr,j),Ns.insertAfter(po,j);const Zn=K.parentElement;Zn&&da(T.dom,Zn)&&Me(Zn),Ns.remove(K),da(T.dom,j)&&Ns.remove(j)},Zs=Vr("dd"),Vl=Vr("dt"),yi=(T,j)=>{Zs(j)?_r(j,"dt"):Vl(j)&&Gr(j).each(K=>qn(T,K.dom,j.dom))},Da=T=>{Vl(T)&&_r(T,"dd")},Js=(T,j,K)=>{j==="Indent"?Rt(K,Da):Rt(K,Me=>yi(T,Me))},ur=(T,j)=>{if(Cr(T))return{container:T,offset:j};const K=Sn.getNode(T,j);return Cr(K)?{container:K,offset:j>=T.childNodes.length?K.data.length:0}:K.previousSibling&&Cr(K.previousSibling)?{container:K.previousSibling,offset:K.previousSibling.data.length}:K.nextSibling&&Cr(K.nextSibling)?{container:K.nextSibling,offset:0}:{container:T,offset:j}},Ur=T=>{const j=T.cloneRange(),K=ur(T.startContainer,T.startOffset);j.setStart(K.container,K.offset);const Me=ur(T.endContainer,T.endOffset);return j.setEnd(Me.container,Me.offset),j},ns=["OL","UL","DL"],ks=ns.join(","),Q=(T,j)=>{const K=j||T.selection.getStart(!0);return T.dom.getParent(K,ks,pn(T,K))},Ce=(T,j)=>Go(T)&&j.length===1&&j[0]===T,Xe=T=>D(T.querySelectorAll(ks),Un),Wt=T=>{const j=Q(T),K=T.selection.getSelectedBlocks();return Ce(j,K)?Xe(j):D(K,Me=>Un(Me)&&j!==Me)},xo=(T,j)=>{const K=sa.map(j,Me=>{const Le=T.dom.getParent(Me,"li,dd,dt",pn(T,Me));return Le||Me});return kt(K)},X=T=>{const j=T.selection.getSelectedBlocks();return D(xo(T,j),zi)},be=T=>D(X(T),jl),lt=(T,j)=>{const K=T.dom.getParents(j,"TD,TH");return K.length>0?K[0]:T.getBody()},Lt=(T,j)=>!Un(j)&&!zi(j)&&Ho(ns,K=>T.isValidChild(j.nodeName,K)),pn=(T,j)=>{const K=T.dom.getParents(j,T.dom.isBlock),Me=po=>po.nodeName.toLowerCase()!==ri(T);return Bt(K,po=>Me(po)&&Lt(T.schema,po)).getOr(T.getBody())},$=T=>Ft(T).exists(j=>zi(j.dom)&&$r(j).exists(K=>!Un(K.dom))&&ls(j).exists(K=>!Un(K.dom))),ne=(T,j)=>{const K=T.dom.getParents(j,"ol,ul",pn(T,j));return Ot(K)},Re=T=>{const j=ne(T,T.selection.getStart()),K=D(T.selection.getSelectedBlocks(),Ma);return j.toArray().concat(K)},bt=T=>{const j=T.selection.getStart();return T.dom.getParents(j,"ol,ul",pn(T,j))},Eo=T=>{const j=Re(T),K=bt(T);return Bt(K,Me=>$(ke.fromDom(Me))).fold(()=>nr(T,j),Me=>[Me])},nr=(T,j)=>{const K=Uo(j,Me=>ne(T,Me).getOr(Me));return kt(K)},la=T=>/\btox\-/.test(T.className),_s=(T,j)=>gt(T,Un,wn).exists(K=>K.nodeName===j&&!la(K)),Ls=(T,j)=>j!==null&&!T.dom.isEditable(j),ai=T=>{const j=Q(T);return Ls(T,j)||!T.selection.isEditable()},Cs=(T,j)=>{const K=T.dom.getParent(j,"ol,ul,dl");return Ls(T,K)||!T.selection.isEditable()},Dl=(T,j)=>{const K=T.selection.getNode();return j({parents:T.dom.getParents(K),element:K}),T.on("NodeChange",j),()=>T.off("NodeChange",j)},Ac=(T,j)=>{const Me=document.createDocumentFragment();return Rt(T,Le=>{Me.appendChild(Le.dom)}),ke.fromDom(Me)},Rl=(T,j,K)=>T.dispatch("ListMutation",{action:j,element:K}),Oc=(T=>j=>j.replace(T,""))(/^\s+|\s+$/g),Ze=T=>T.length>0,Fm=T=>!Ze(T),lm=T=>T.style!==void 0&&gn(T.style.getPropertyValue),vl=(T,j,K)=>{if(!mo(K))throw console.error("Invalid call to CSS.set. Property ",j,":: Value ",K,":: Element ",T),new Error("CSS value must be a string: "+K);lm(T)&&T.style.setProperty(j,K)},Lm=(T,j,K)=>{const Me=T.dom;vl(Me,j,K)},Wr=T=>_t(T,"OL,UL"),ci=T=>_t(T,"LI"),Yd=T=>$r(T).exists(Wr),xl=T=>ls(T).exists(Wr),Ms=T=>"listAttributes"in T,vi=T=>"isComment"in T,le=T=>"isFragment"in T,ze=T=>T.depth>0,yt=T=>T.isSelected,no=T=>{const j=yr(T),K=xl(T)?j.slice(0,-1):j;return Uo(K,Nn)},zn=(T,j,K)=>Ft(T).filter(Xo).map(Me=>({depth:j,dirty:!1,isSelected:K,content:no(T),itemAttributes:rn(T),listAttributes:rn(Me),listType:on(Me),isInPreviousLi:!1})),mr=(T,j)=>{Te(T.item,j.list)},Fr=T=>{for(let j=1;j<T.length;j++)mr(T[j-1],T[j])},Ps=(T,j)=>{ao(Ot(T),F(j),mr)},ua=(T,j)=>{const K={list:ke.fromTag(j,T),item:ke.fromTag("li",T)};return Te(K.list,K.item),K},ta=(T,j,K)=>{const Me=[];for(let Le=0;Le<K;Le++)Me.push(ua(T,Ms(j)?j.listType:j.parentListType));return Me},Ds=(T,j)=>{for(let K=0;K<T.length-1;K++)Lm(T[K].item,"list-style-type","none");Ot(T).each(K=>{Ms(j)&&(qo(K.list,j.listAttributes),qo(K.item,j.itemAttributes)),Nt(K.item,j.content)})},pa=(T,j)=>{on(T.list)!==j.listType&&(T.list=_r(T.list,j.listType)),qo(T.list,j.listAttributes)},_i=(T,j,K)=>{const Me=ke.fromTag("li",T);return qo(Me,j),Nt(Me,K),Me},wl=(T,j)=>{Te(T.list,j),T.item=j},Au=(T,j,K)=>{const Me=j.slice(0,K.depth);return Ot(Me).each(Le=>{if(Ms(K)){const po=_i(T,K.itemAttributes,K.content);wl(Le,po),pa(Le,K)}else if(le(K))Nt(Le.item,K.content);else{const po=ke.fromHtml(`<!--${K.content}-->`);Te(Le.list,po)}}),Me},Rs=(T,j,K)=>{const Me=ta(T,K,K.depth-j.length);return Fr(Me),Ds(Me,K),Ps(j,Me),j.concat(Me)},xi=(T,j)=>{let K=ue.none();const Me=Je(j,(Le,po,In)=>vi(po)?In===0?(K=ue.some(po),Le):Au(T,Le,po):po.depth>Le.length?Rs(T,Le,po):Au(T,Le,po),[]);return K.each(Le=>{const po=ke.fromHtml(`<!--${Le.content}-->`);F(Me).each(In=>{xr(In.list,po)})}),F(Me).map(Le=>Le.list)},ka=(T,j)=>{switch(T){case"Indent":j.depth++;break;case"Outdent":j.depth--;break;case"Flatten":j.depth=0}j.dirty=!0},ds=(T,j)=>{Ms(T)&&Ms(j)&&(T.listType=j.listType,T.listAttributes={...j.listAttributes})},Ia=T=>{T.listAttributes=Lo(T.listAttributes,(j,K)=>K!=="start")},Bl=(T,j)=>{const K=T[j].depth,Me=po=>po.depth===K&&!po.dirty,Le=po=>po.depth<K;return gt(So(T.slice(0,j)),Me,Le).orThunk(()=>gt(T.slice(j+1),Me,Le))},rs=T=>(Rt(T,(j,K)=>{Bl(T,K).fold(()=>{j.dirty&&Ms(j)&&Ia(j)},Me=>ds(j,Me))}),T),yn=T=>{let j=T;return{get:()=>j,set:Le=>{j=Le}}},vd=(T,j,K,Me)=>{var Le;if(Yn(Me))return[{depth:T+1,content:(Le=Me.dom.nodeValue)!==null&&Le!==void 0?Le:"",dirty:!1,isSelected:!1,isComment:!0}];j.each(cr=>{De(cr.start,Me)&&K.set(!0)});const po=zn(Me,T,K.get());j.each(cr=>{De(cr.end,Me)&&K.set(!1)});const In=ls(Me).filter(Wr).map(cr=>Tr(T,j,K,cr)).getOr([]);return po.toArray().concat(In)},$l=(T,j,K,Me)=>$r(Me).filter(Wr).fold(()=>vd(T,j,K,Me),Le=>{const po=Je(yr(Me),(In,cr,Zn)=>{if(Zn===0)return In;if(ci(cr))return In.concat(vd(T,j,K,cr));{const kn={isFragment:!0,depth:T,content:[cr],isSelected:!1,dirty:!1,parentListType:on(Le)};return In.concat(kn)}},[]);return Tr(T,j,K,Le).concat(po)}),Tr=(T,j,K,Me)=>$t(yr(Me),Le=>{const po=Wr(Le)?Tr:$l,In=T+1;return po(In,j,K,Le)}),Xd=(T,j)=>{const K=yn(!1),Me=0;return Uo(T,Le=>({sourceList:Le,entries:Tr(Me,j,K,Le)}))},Jd=(T,j)=>{const K=rs(j);return Uo(K,Me=>{const Le=vi(Me)?Ac([ke.fromHtml(`<!--${Me.content}-->`)]):Ac(Me.content),po=Ms(Me)?Me.itemAttributes:{};return ke.fromDom(bi(T,Le.dom,po))})},Qd=(T,j)=>{const K=rs(j);return xi(T.contentDocument,K).toArray()},Dr=(T,j)=>$t(qe(j,ze),K=>F(K).exists(ze)?Qd(T,K):Jd(T,K)),Ti=(T,j)=>{Rt(D(T,yt),K=>ka(j,K))},Fl=T=>{const j=Uo(X(T),ke.fromDom);return ao(Bt(j,ht(Yd)),Bt(So(j),ht(Yd)),(K,Me)=>({start:K,end:Me}))},Im=(T,j,K)=>{const Me=Xd(j,Fl(T));Rt(Me,Le=>{Ti(Le.entries,K);const po=Dr(T,Le.entries);Rt(po,In=>{Rl(T,K==="Indent"?"IndentList":"OutdentList",In.dom)}),Se(Le.sourceList,po),xn(Le.sourceList)})},eu=(T,j)=>{const K=wr(Eo(T)),Me=wr(be(T));let Le=!1;if(K.length||Me.length){const po=T.selection.getBookmark();Im(T,K,j),Js(T,j,Me),T.selection.moveToBookmark(po),T.selection.setRng(Ur(T.selection.getRng())),T.nodeChanged(),Le=!0}return Le},al=(T,j)=>!ai(T)&&eu(T,j),mc=T=>al(T,"Indent"),Ai=T=>al(T,"Outdent"),di=T=>al(T,"Flatten"),xd="\uFEFF",us=T=>T===xd,vs=(T,j,K)=>za(T,j,K).isSome(),wd=(T,j)=>vs(T,Ae(De,j));var Nc=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const ca=wa.DOM,Wi=T=>{const j={},K=Me=>{let Le=T[Me?"startContainer":"endContainer"],po=T[Me?"startOffset":"endOffset"];if(Pr(Le)){const In=ca.create("span",{"data-mce-type":"bookmark"});Le.hasChildNodes()?(po=Math.min(po,Le.childNodes.length-1),Me?Le.insertBefore(In,Le.childNodes[po]):ca.insertAfter(In,Le.childNodes[po])):Le.appendChild(In),Le=In,po=0}j[Me?"startContainer":"endContainer"]=Le,j[Me?"startOffset":"endOffset"]=po};return K(!0),T.collapsed||K(),j},Mc=T=>{const j=Me=>{const Le=cr=>{var Zn;let kn=(Zn=cr.parentNode)===null||Zn===void 0?void 0:Zn.firstChild,ha=0;for(;kn;){if(kn===cr)return ha;(!Pr(kn)||kn.getAttribute("data-mce-type")!=="bookmark")&&ha++,kn=kn.nextSibling}return-1};let po=T[Me?"startContainer":"endContainer"],In=T[Me?"startOffset":"endOffset"];if(po){if(Pr(po)&&po.parentNode){const cr=po;In=Le(po),po=po.parentNode,ca.remove(cr),!po.hasChildNodes()&&ca.isBlock(po)&&po.appendChild(ca.create("br"))}T[Me?"startContainer":"endContainer"]=po,T[Me?"startOffset":"endOffset"]=In}};j(!0),j();const K=ca.createRng();return K.setStart(T.startContainer,T.startOffset),T.endContainer&&K.setEnd(T.endContainer,T.endOffset),Ur(K)},Ll=T=>{switch(T){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Dc=(T,j,K)=>{const Me=K["list-style-type"]?K["list-style-type"]:null;T.setStyle(j,"list-style-type",Me)},kd=(T,j)=>{sa.each(j,(K,Me)=>{T.setAttribute(Me,K)})},_p=(T,j,K)=>{kd(j,K["list-attributes"]),sa.each(T.select("li",j),Me=>{kd(Me,K["list-item-attributes"])})},gc=(T,j,K)=>{Dc(T,j,K),_p(T,j,K)},Yc=(T,j,K)=>{sa.each(K,Me=>T.setStyle(j,Me,""))},Xc=(T,j)=>Go(j)&&!yl(j,T.schema.getBlockElements()),Jc=(T,j,K,Me)=>{let Le=j[K?"startContainer":"endContainer"];const po=j[K?"startOffset":"endOffset"];Pr(Le)&&(Le=Le.childNodes[Math.min(po,Le.childNodes.length-1)]||Le),!K&&ni(Le.nextSibling)&&(Le=Le.nextSibling);const In=Zn=>{for(;!T.dom.isBlock(Zn)&&Zn.parentNode&&Me!==Zn;)Zn=Zn.parentNode;return Zn},cr=(Zn,kn)=>{var ha;const Za=new Ln(Zn,In(Zn)),Ki=kn?"next":"prev";let Ri;for(;Ri=Za[Ki]();)if(!(Mr(T,Ri)||us(Ri.textContent)||((ha=Ri.textContent)===null||ha===void 0?void 0:ha.length)===0))return ue.some(Ri);return ue.none()};if(K&&Cr(Le))if(us(Le.textContent))Le=cr(Le,!1).getOr(Le);else for(Le.parentNode!==null&&Xc(T,Le.parentNode)&&(Le=Le.parentNode);Le.previousSibling!==null&&(Xc(T,Le.previousSibling)||Cr(Le.previousSibling));)Le=Le.previousSibling;if(!K&&Cr(Le))if(us(Le.textContent))Le=cr(Le,!0).getOr(Le);else for(Le.parentNode!==null&&Xc(T,Le.parentNode)&&(Le=Le.parentNode);Le.nextSibling!==null&&(Xc(T,Le.nextSibling)||Cr(Le.nextSibling));)Le=Le.nextSibling;for(;Le.parentNode!==Me;){const Zn=Le.parentNode;if(Ga(T,Le)||/^(TD|TH)$/.test(Zn.nodeName))return Le;Le=Zn}return Le},sl=(T,j,K)=>{const Me=[],Le=T.dom,po=Jc(T,j,!0,K),In=Jc(T,j,!1,K);let cr;const Zn=[];for(let kn=po;kn&&(Zn.push(kn),kn!==In);kn=kn.nextSibling);return sa.each(Zn,kn=>{var ha;if(Ga(T,kn)){Me.push(kn),cr=null;return}if(Le.isBlock(kn)||ni(kn)){ni(kn)&&Le.remove(kn),cr=null;return}const Za=kn.nextSibling;if(Nc.isBookmarkNode(kn)&&(Un(Za)||Ga(T,Za)||!Za&&kn.parentNode===K)){cr=null;return}cr||(cr=Le.create("p"),(ha=kn.parentNode)===null||ha===void 0||ha.insertBefore(cr,kn),Me.push(cr)),cr.appendChild(kn)}),Me},Hn=(T,j,K)=>{const Me=T.getStyle(j,"list-style-type");let Le=K?K["list-style-type"]:"";return Le=Le===null?"":Le,Me===Le},Rc=(T,j)=>{const K=T.selection.getStart(!0),Me=Jc(T,j,!0,T.getBody());return wd(ke.fromDom(Me),ke.fromDom(j.commonAncestorContainer))?j.commonAncestorContainer:K},Ou=(T,j,K)=>{const Me=T.selection.getRng();let Le="LI";const po=pn(T,Rc(T,Me)),In=T.dom;if(In.getContentEditable(T.selection.getNode())==="false")return;j=j.toUpperCase(),j==="DL"&&(Le="DT");const cr=Wi(Me),Zn=D(sl(T,Me,po),T.dom.isEditable);sa.each(Zn,kn=>{let ha;const Za=kn.previousSibling,Ki=kn.parentNode;zi(Ki)||(Za&&Un(Za)&&Za.nodeName===j&&Hn(In,Za,K)?(ha=Za,kn=In.rename(kn,Le),Za.appendChild(kn)):(ha=In.create(j),Ki.insertBefore(ha,kn),ha.appendChild(kn),kn=In.rename(kn,Le)),Yc(In,kn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),gc(In,ha,K),ou(T.dom,ha))}),T.selection.setRng(Mc(cr))},Cp=(T,j)=>Un(T)&&T.nodeName===(j==null?void 0:j.nodeName),Pm=(T,j,K)=>{const Me=T.getStyle(j,"list-style-type",!0),Le=T.getStyle(K,"list-style-type",!0);return Me===Le},Ss=(T,j)=>T.className===j.className,tu=(T,j,K)=>Cp(j,K)&&Pm(T,j,K)&&Ss(j,K),ou=(T,j)=>{let K,Me=j.nextSibling;if(tu(T,j,Me)){const Le=Me;for(;K=Le.firstChild;)j.appendChild(K);T.remove(Le)}if(Me=j.previousSibling,tu(T,j,Me)){const Le=Me;for(;K=Le.lastChild;)j.insertBefore(K,j.firstChild);T.remove(Le)}},qs=(T,j,K,Me)=>{if(j.nodeName!==K){const Le=T.dom.rename(j,K);gc(T.dom,Le,Me),Rl(T,Ll(K),Le)}else gc(T.dom,j,Me),Rl(T,Ll(K),j)},Ws=(T,j,K,Me)=>{if(j.classList.forEach((Le,po,In)=>{Le.startsWith("tox-")&&(In.remove(Le),In.length===0&&j.removeAttribute("class"))}),j.nodeName!==K){const Le=T.dom.rename(j,K);gc(T.dom,Le,Me),Rl(T,Ll(K),Le)}else gc(T.dom,j,Me),Rl(T,Ll(K),j)},_d=(T,j,K,Me,Le)=>{const po=Un(j);if(po&&j.nodeName===Me&&!ms(Le)&&!la(j))di(T);else{Ou(T,Me,Le);const In=Wi(T.selection.getRng()),cr=po?[j,...K]:K,Zn=po&&la(j)?Ws:qs;sa.each(cr,kn=>{Zn(T,kn,Me,Le)}),T.selection.setRng(Mc(In))}},ms=T=>"list-style-type"in T,Ng=(T,j,K,Me)=>{if(j!==T.getBody())if(j)if(j.nodeName===K&&!ms(Me)&&!la(j))di(T);else{const Le=Wi(T.selection.getRng());la(j)&&j.classList.forEach((In,cr,Zn)=>{In.startsWith("tox-")&&(Zn.remove(In),Zn.length===0&&j.removeAttribute("class"))}),gc(T.dom,j,Me);const po=T.dom.rename(j,K);ou(T.dom,po),T.selection.setRng(Mc(Le)),Ou(T,K,Me),Rl(T,Ll(K),po)}else Ou(T,K,Me),Rl(T,Ll(K),j)},Qc=(T,j,K)=>{const Me=Q(T);if(Cs(T,Me))return;const Le=Wt(T),po=Wo(K)?K:{};Le.length>0?_d(T,Me,Le,j,po):Ng(T,Me,j,po)},tc=wa.DOM,Nu=(T,j)=>{const K=j.parentElement;if(K&&K.nodeName==="LI"&&K.firstChild===j){const Me=K.previousSibling;Me&&Me.nodeName==="LI"?(Me.appendChild(j),da(T,K)&&tc.remove(K)):tc.setStyle(K,"listStyleType","none")}if(Un(K)){const Me=K.previousSibling;Me&&Me.nodeName==="LI"&&Me.appendChild(j)}},Pa=(T,j)=>{const K=sa.grep(T.select("ol,ul",j));sa.each(K,Me=>{Nu(T,Me)})},Oi=(T,j,K,Me)=>{let Le=j.startContainer;const po=j.startOffset;if(Cr(Le)&&(K?po<Le.data.length:po>0))return Le;const In=T.schema.getNonEmptyElements();Pr(Le)&&(Le=Sn.getNode(Le,po));const cr=new Ln(Le,Me);K&&Xs(T.dom,Le)&&cr.next();const Zn=K?cr.next.bind(cr):cr.prev2.bind(cr);for(;Le=Zn();)if(Le.nodeName==="LI"&&!Le.hasChildNodes()||In[Le.nodeName]||Cr(Le)&&Le.data.length>0)return Le;return null},si=(T,j)=>{const K=j.childNodes;return K.length===1&&!Un(K[0])&&T.isBlock(K[0])},bn=T=>ue.from(T).map(ke.fromDom).filter(zt).exists(j=>vr(j)&&!go(["details"],on(j))),Hs=(T,j)=>{si(T,j)&&bn(j.firstChild)&&T.remove(j.firstChild,!0)},ed=(T,j,K)=>{let Me;const Le=si(T,K)?K.firstChild:K;if(Hs(T,j),!da(T,j,!0))for(;Me=j.firstChild;)Le.appendChild(Me)},Sa=(T,j,K)=>{let Me;const Le=j.parentNode;if(!Dn(T,j)||!Dn(T,K))return;Un(K.lastChild)&&(Me=K.lastChild),Le===K.lastChild&&ni(Le.previousSibling)&&T.remove(Le.previousSibling);const po=K.lastChild;po&&ni(po)&&j.hasChildNodes()&&T.remove(po),da(T,K,!0)&&Pt(ke.fromDom(K)),ed(T,j,K),Me&&K.appendChild(Me);const cr=at(ke.fromDom(K),ke.fromDom(j))?T.getParents(j,Un,K):[];T.remove(j),Rt(cr,Zn=>{da(T,Zn)&&Zn!==T.getRoot()&&T.remove(Zn)})},ui=(T,j,K)=>{Pt(ke.fromDom(K)),Sa(T.dom,j,K),T.selection.setCursorLocation(K,0)},oc=(T,j,K,Me)=>{const Le=T.dom;if(Le.isEmpty(Me))ui(T,K,Me);else{const po=Wi(j);Sa(Le,K,Me),T.selection.setRng(Mc(po))}},oo=(T,j,K,Me)=>{const Le=Wi(j);Sa(T.dom,K,Me);const po=Mc(Le);T.selection.setRng(po)},Ni=(T,j)=>{const K=T.dom,Me=T.selection,Le=Me.getStart(),po=lt(T,Le),In=K.getParent(Me.getStart(),"LI",po);if(In){const cr=In.parentElement;if(cr===T.getBody()&&da(K,cr))return!0;const Zn=Ur(Me.getRng()),kn=K.getParent(Oi(T,Zn,j,po),"LI",po),ha=kn&&(j?K.isChildOf(In,kn):K.isChildOf(kn,In));if(kn&&kn!==In&&!ha)return T.undoManager.transact(()=>{j?oc(T,Zn,kn,In):ia(In)?Ai(T):oo(T,Zn,In,kn)}),!0;if(ha&&!j&&kn!==In)return T.undoManager.transact(()=>{if(Zn.commonAncestorContainer.parentElement){const Za=Wi(Zn),Ki=Zn.commonAncestorContainer.parentElement;ed(K,Zn.commonAncestorContainer.parentElement,kn),Ki.remove();const Ri=Mc(Za);T.selection.setRng(Ri)}}),!0;if(!kn&&!j&&Zn.startOffset===0&&Zn.endOffset===0)return T.undoManager.transact(()=>{di(T)}),!0}return!1},xs=(T,j,K)=>{const Me=T.getParent(j.parentNode,T.isBlock,K);T.remove(j),Me&&T.isEmpty(Me)&&T.remove(Me)},vo=(T,j)=>{const K=T.dom,Me=T.selection.getStart(),Le=lt(T,Me),po=K.getParent(Me,K.isBlock,Le);if(po&&K.isEmpty(po,void 0,{checkRootAsContent:!0})){const In=Ur(T.selection.getRng()),cr=K.getParent(Oi(T,In,j,Le),"LI",Le);if(cr){const Zn=Ki=>go(["td","th","caption"],on(Ki)),kn=Ki=>Ki.dom===Le,ha=nt(ke.fromDom(cr),Zn,kn),Za=nt(ke.fromDom(In.startContainer),Zn,kn);return co(ha,Za,De)?(T.undoManager.transact(()=>{const Ki=cr.parentNode;xs(K,po,Le),ou(K,Ki),T.selection.select(cr,!0),T.selection.collapse(j)}),!0):!1}}return!1},Gi=(T,j)=>Ni(T,j)||vo(T,j),td=T=>{const j=T.selection.getStart(),K=lt(T,j);return T.dom.getParent(j,"LI,DT,DD",K)||X(T).length>0},od=T=>td(T)?(T.undoManager.transact(()=>{let j=!0;const K=()=>j=!1;T.on("input",K),T.execCommand("Delete"),T.off("input",K),j&&T.dispatch("input"),Pa(T.dom,T.getBody())}),!0):!1,wi=(T,j)=>{const K=T.selection;return!Cs(T,K.getNode())&&(K.isCollapsed()?Gi(T,j):od(T))},Lr=T=>{T.on("ExecCommand",j=>{const K=j.command.toLowerCase();(K==="delete"||K==="forwarddelete")&&td(T)&&Pa(T.dom,T.getBody())}),T.on("keydown",j=>{j.keyCode===Qr.BACKSPACE?wi(T,!1)&&j.preventDefault():j.keyCode===Qr.DELETE&&wi(T,!0)&&j.preventDefault()})},fa=T=>({backspaceDelete:j=>{wi(T,j)}}),nu=(T,j)=>{const K=Q(T);K===null||Cs(T,K)||T.undoManager.transact(()=>{Wo(j.styles)&&T.dom.setStyles(K,j.styles),Wo(j.attrs)&&Ee(j.attrs,(Me,Le)=>T.dom.setAttrib(K,Le,Me))})},_a=T=>{const j=So(Oc(T).split("")),K=Uo(j,(Me,Le)=>{const po=Me.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Le)*po});return Je(K,(Me,Le)=>Me+Le,0)},Kr=T=>{if(T--,T<0)return"";{const j=T%26,K=Math.floor(T/26),Me=Kr(K),Le=String.fromCharCode(65+j);return Me+Le}},pc=T=>/^[A-Z]+$/.test(T),Mg=T=>/^[a-z]+$/.test(T),js=T=>/^[0-9]+$/.test(T),St=T=>js(T)?2:pc(T)?0:Mg(T)?1:Fm(T)?3:4,il=T=>{switch(St(T)){case 2:return ue.some({listStyleType:ue.none(),start:T});case 0:return ue.some({listStyleType:ue.some("upper-alpha"),start:_a(T).toString()});case 1:return ue.some({listStyleType:ue.some("lower-alpha"),start:_a(T).toString()});case 3:return ue.some({listStyleType:ue.none(),start:""});case 4:return ue.none()}},Dg=T=>{const j=parseInt(T.start,10);return ro(T.listStyleType,"upper-alpha")?Kr(j):ro(T.listStyleType,"lower-alpha")?Kr(j).toLowerCase():T.start},gs=T=>{const j=Q(T);!os(j)||Cs(T,j)||T.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Dg({start:T.dom.getAttrib(j,"start","1"),listStyleType:ue.from(T.dom.getStyle(j,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:K=>{const Me=K.getData();il(Me.start).each(Le=>{T.execCommand("mceListUpdate",!1,{attrs:{start:Le.start==="1"?"":Le.start},styles:{"list-style-type":Le.listStyleType.getOr("")}})}),K.close()}})},ll=(T,j)=>()=>{const K=Q(T);return Go(K)&&K.nodeName===j},mi=T=>{T.addCommand("mceListProps",()=>{gs(T)})},ps=T=>{T.on("BeforeExecCommand",j=>{const K=j.command.toLowerCase();K==="indent"?mc(T):K==="outdent"&&Ai(T)}),T.addCommand("InsertUnorderedList",(j,K)=>{Qc(T,"UL",K)}),T.addCommand("InsertOrderedList",(j,K)=>{Qc(T,"OL",K)}),T.addCommand("InsertDefinitionList",(j,K)=>{Qc(T,"DL",K)}),T.addCommand("RemoveList",()=>{di(T)}),mi(T),T.addCommand("mceListUpdate",(j,K)=>{Wo(K)&&nu(T,K)}),T.addQueryStateHandler("InsertUnorderedList",ll(T,"UL")),T.addQueryStateHandler("InsertOrderedList",ll(T,"OL")),T.addQueryStateHandler("InsertDefinitionList",ll(T,"DL"))};var kl=tinymce.util.Tools.resolve("tinymce.html.Node");const Qs=T=>T.type===3,Mi=T=>T.length===0,as=T=>{const j=(Le,po)=>{const In=kl.create("li");Rt(Le,cr=>In.append(cr)),po?T.insert(In,po,!0):T.append(In)},K=(Le,po)=>Qs(po)?[...Le,po]:!Mi(Le)&&!Qs(po)?(j(Le,po),[]):Le,Me=Je(T.children(),K,[]);Mi(Me)||j(Me)},Di=T=>{T.on("PreInit",()=>{const{parser:j}=T;j.addNodeFilter("ul,ol",K=>Rt(K,as))})},cl=T=>{T.on("keydown",j=>{j.keyCode!==Qr.TAB||Qr.metaKeyPressed(j)||T.undoManager.transact(()=>{(j.shiftKey?Ai(T):mc(T))&&j.preventDefault()})})},Cd=T=>{Ua(T)&&cl(T),Lr(T)},dl=(T,j)=>K=>{const Me=Le=>{K.setActive(_s(Le.parents,j)),K.setEnabled(!Cs(T,Le.element)&&T.selection.isEditable())};return K.setEnabled(T.selection.isEditable()),Dl(T,Me)},Sd=T=>{const j=K=>()=>T.execCommand(K);T.hasPlugin("advlist")||(T.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:j("InsertOrderedList"),onSetup:dl(T,"OL")}),T.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:j("InsertUnorderedList"),onSetup:dl(T,"UL")}))},cm=(T,j)=>K=>Dl(T,Le=>K.setEnabled(_s(Le.parents,j)&&!Cs(T,Le.element))),Ed=T=>{const j={text:"List properties...",icon:"ordered-list",onAction:()=>T.execCommand("mceListProps"),onSetup:cm(T,"OL")};T.ui.registry.addMenuItem("listprops",j),T.ui.registry.addContextMenu("lists",{update:K=>{const Me=Q(T,K);return os(Me)?["listprops"]:[]}})};var Gs=()=>{wo.add("lists",T=>(Ml(T),Di(T),T.hasPlugin("rtc",!0)?mi(T):(Cd(T),ps(T)),Sd(T),Ed(T),fa(T)))};Gs()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=(Te,Se,Nt)=>{var Pt;return Nt(Te,Se.prototype)?!0:((Pt=Te.constructor)===null||Pt===void 0?void 0:Pt.name)===Se.name},$o=Te=>{const Se=typeof Te;return Te===null?"null":Se==="object"&&Array.isArray(Te)?"array":Se==="object"&&Jo(Te,String,(Nt,Pt)=>Pt.isPrototypeOf(Nt))?"string":Se},sn=Te=>Se=>$o(Se)===Te,Qo=sn("string"),mo=sn("object"),Wo=sn("array"),jt=Te=>Te==null,Co=Te=>!jt(Te);class Io{constructor(Se,Nt){this.tag=Se,this.value=Nt}static some(Se){return new Io(!0,Se)}static none(){return Io.singletonNone}fold(Se,Nt){return this.tag?Nt(this.value):Se()}isSome(){return this.tag}isNone(){return!this.tag}map(Se){return this.tag?Io.some(Se(this.value)):Io.none()}bind(Se){return this.tag?Se(this.value):Io.none()}exists(Se){return this.tag&&Se(this.value)}forall(Se){return!this.tag||Se(this.value)}filter(Se){return!this.tag||Se(this.value)?this:Io.none()}getOr(Se){return this.tag?this.value:Se}or(Se){return this.tag?this:Se}getOrThunk(Se){return this.tag?this.value:Se()}orThunk(Se){return this.tag?this:Se()}getOrDie(Se){if(this.tag)return this.value;throw new Error(Se??"Called getOrDie on None")}static from(Se){return Co(Se)?Io.some(Se):Io.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Se){this.tag&&Se(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Io.singletonNone=new Io(!1);const Go=Array.prototype.push,gn=(Te,Se)=>{for(let Nt=0,Pt=Te.length;Nt<Pt;Nt++){const xn=Te[Nt];Se(xn,Nt)}},Mo=Te=>{const Se=[];for(let Nt=0,Pt=Te.length;Nt<Pt;++Nt){if(!Wo(Te[Nt]))throw new Error("Arr.flatten item "+Nt+" was not an array, input: "+Te);Go.apply(Se,Te[Nt])}return Se},Ve=Te=>{let Se=Te;return{get:()=>Se,set:xn=>{Se=xn}}},ut=Object.keys,ho=Object.hasOwnProperty,uo=(Te,Se)=>{const Nt=ut(Te);for(let Pt=0,xn=Nt.length;Pt<xn;Pt++){const Sn=Nt[Pt],Ln=Te[Sn];Se(Ln,Sn)}},Ae=(Te,Se)=>ht(Te,Se)?Io.from(Te[Se]):Io.none(),ht=(Te,Se)=>ho.call(Te,Se),bo=Te=>Se=>Se.options.get(Te),ue=Te=>{const Se=Te.options.register;Se("audio_template_callback",{processor:"function"}),Se("video_template_callback",{processor:"function"}),Se("iframe_template_callback",{processor:"function"}),Se("media_live_embeds",{processor:"boolean",default:!0}),Se("media_filter_html",{processor:"boolean",default:!0}),Se("media_url_resolver",{processor:"function"}),Se("media_alt_source",{processor:"boolean",default:!0}),Se("media_poster",{processor:"boolean",default:!0}),Se("media_dimensions",{processor:"boolean",default:!0})},$e=bo("audio_template_callback"),ge=bo("video_template_callback"),mt=bo("iframe_template_callback"),Ro=bo("media_live_embeds"),go=bo("media_filter_html"),Ho=bo("media_url_resolver"),Uo=bo("media_alt_source"),Rt=bo("media_poster"),D=bo("media_dimensions");var qe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Je=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),gt=tinymce.util.Tools.resolve("tinymce.html.DomParser");const Bt=Je.DOM,ct=Te=>Te.replace(/px$/,""),$t=Te=>{const Se=Te.attr("style"),Nt=Se?Bt.parseStyle(Se):{};return{type:"ephox-embed-iri",source:Te.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:Ae(Nt,"max-width").map(ct).getOr(""),height:Ae(Nt,"max-height").map(ct).getOr("")}},So=(Te,Se)=>{let Nt={};const xn=gt({validate:!1,forced_root_block:!1},Se).parse(Te);for(let Sn=xn;Sn;Sn=Sn.walk())if(Sn.type===1){const Ln=Sn.name;if(Sn.attr("data-ephox-embed-iri")){Nt=$t(Sn);break}else!Nt.source&&Ln==="param"&&(Nt.source=Sn.attr("movie")),(Ln==="iframe"||Ln==="object"||Ln==="embed"||Ln==="video"||Ln==="audio")&&(Nt.type||(Nt.type=Ln),Nt=qe.extend(Sn.attributes.map,Nt)),Ln==="source"&&(Nt.source?Nt.altsource||(Nt.altsource=Sn.attr("src")):Nt.source=Sn.attr("src")),Ln==="img"&&!Nt.poster&&(Nt.poster=Sn.attr("src"))}return Nt.source=Nt.source||Nt.src||"",Nt.altsource=Nt.altsource||"",Nt.poster=Nt.poster||"",Nt},Dt=Te=>{var Se;const Nt={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Pt=(Se=Te.toLowerCase().split(".").pop())!==null&&Se!==void 0?Se:"";return Ae(Nt,Pt).getOr("")};var F=tinymce.util.Tools.resolve("tinymce.html.Node"),Ot=tinymce.util.Tools.resolve("tinymce.html.Serializer");const kt=(Te,Se={})=>gt({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Se},Te),ro=Je.DOM,co=Te=>/^[0-9.]+$/.test(Te)?Te+"px":Te,ao=(Te,Se)=>{const Nt=Se.attr("style"),Pt=Nt?ro.parseStyle(Nt):{};Co(Te.width)&&(Pt["max-width"]=co(Te.width)),Co(Te.height)&&(Pt["max-height"]=co(Te.height)),Se.attr("style",ro.serializeStyle(Pt))},yo=["source","altsource"],No=(Te,Se,Nt,Pt)=>{let xn=0,Sn=0;const Ln=kt(Pt);Ln.addNodeFilter("source",wr=>xn=wr.length);const Qr=Ln.parse(Te);for(let wr=Qr;wr;wr=wr.walk())if(wr.type===1){const dn=wr.name;if(wr.attr("data-ephox-embed-iri")){ao(Se,wr);break}else{switch(dn){case"video":case"object":case"embed":case"img":case"iframe":Se.height!==void 0&&Se.width!==void 0&&(wr.attr("width",Se.width),wr.attr("height",Se.height));break}if(Nt)switch(dn){case"video":wr.attr("poster",Se.poster),wr.attr("src",null);for(let Be=xn;Be<2;Be++)if(Se[yo[Be]]){const so=new F("source",1);so.attr("src",Se[yo[Be]]),so.attr("type",Se[yo[Be]+"mime"]||null),wr.append(so)}break;case"iframe":wr.attr("src",Se.source);break;case"object":const Ee=wr.getAll("img").length>0;if(Se.poster&&!Ee){wr.attr("src",Se.poster);const Be=new F("img",1);Be.attr("src",Se.poster),Be.attr("width",Se.width),Be.attr("height",Se.height),wr.append(Be)}break;case"source":if(Sn<2&&(wr.attr("src",Se[yo[Sn]]),wr.attr("type",Se[yo[Sn]+"mime"]||null),!Se[yo[Sn]])){wr.remove();continue}Sn++;break;case"img":Se.poster||wr.remove();break}}}return Ot({},Pt).serialize(Qr)},_e=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Vt=Te=>{const Se=Te.match(/^(https?:\/\/|www\.)(.+)$/i);return Se&&Se.length>1?Se[1]==="www."?"https://":Se[1]:"https://"},Ct=(Te,Se)=>{const Nt=Vt(Se),Pt=Te.regex.exec(Se);let xn=Nt+Te.url;if(Co(Pt))for(let Sn=0;Sn<Pt.length;Sn++)xn=xn.replace("$"+Sn,()=>Pt[Sn]?Pt[Sn]:"");return xn.replace(/\?$/,"")},et=Te=>{const Se=_e.filter(Nt=>Nt.regex.test(Te));return Se.length>0?qe.extend({},Se[0],{url:Ct(Se[0],Te)}):null},ye=(Te,Se)=>{if(Se)return Se(Te);{const Nt=Te.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Te.source+'" width="'+Te.width+'" height="'+Te.height+'"'+Nt+"></iframe>"}},fe=Te=>{let Se='<object data="'+Te.source+'" width="'+Te.width+'" height="'+Te.height+'" type="application/x-shockwave-flash">';return Te.poster&&(Se+='<img src="'+Te.poster+'" width="'+Te.width+'" height="'+Te.height+'" />'),Se+="</object>",Se},it=(Te,Se)=>Se?Se(Te):'<audio controls="controls" src="'+Te.source+'">'+(Te.altsource?`
<source src="`+Te.altsource+'"'+(Te.altsourcemime?' type="'+Te.altsourcemime+'"':"")+` />
`:"")+"</audio>",ke=(Te,Se)=>Se?Se(Te):'<video width="'+Te.width+'" height="'+Te.height+'"'+(Te.poster?' poster="'+Te.poster+'"':"")+` controls="controls">
<source src="`+Te.source+'"'+(Te.sourcemime?' type="'+Te.sourcemime+'"':"")+` />
`+(Te.altsource?'<source src="'+Te.altsource+'"'+(Te.altsourcemime?' type="'+Te.altsourcemime+'"':"")+` />
`:"")+"</video>",he=(Te,Se)=>{var Nt;const Pt=qe.extend({},Se);if(!Pt.source&&(qe.extend(Pt,So((Nt=Pt.embed)!==null&&Nt!==void 0?Nt:"",Te.schema)),!Pt.source))return"";Pt.altsource||(Pt.altsource=""),Pt.poster||(Pt.poster=""),Pt.source=Te.convertURL(Pt.source,"source"),Pt.altsource=Te.convertURL(Pt.altsource,"source"),Pt.sourcemime=Dt(Pt.source),Pt.altsourcemime=Dt(Pt.altsource),Pt.poster=Te.convertURL(Pt.poster,"poster");const xn=et(Pt.source);if(xn&&(Pt.source=xn.url,Pt.type=xn.type,Pt.allowfullscreen=xn.allowFullscreen,Pt.width=Pt.width||String(xn.w),Pt.height=Pt.height||String(xn.h)),Pt.embed)return No(Pt.embed,Pt,!0,Te.schema);{const Sn=$e(Te),Ln=ge(Te),Qr=mt(Te);return Pt.width=Pt.width||"300",Pt.height=Pt.height||"150",qe.each(Pt,(wr,dn)=>{Pt[dn]=Te.dom.encode(""+wr)}),Pt.type==="iframe"?ye(Pt,Qr):Pt.sourcemime==="application/x-shockwave-flash"?fe(Pt):Pt.sourcemime.indexOf("audio")!==-1?it(Pt,Sn):ke(Pt,Ln)}},De=Te=>Te.hasAttribute("data-mce-object")||Te.hasAttribute("data-ephox-embed-iri"),at=Te=>{Te.on("mousedown",Se=>{const Nt=Te.dom.getParent(Se.target,".mce-preview-object");Nt&&Te.dom.getAttrib(Nt,"data-mce-selected")==="2"&&Se.stopImmediatePropagation()}),Te.on("click keyup touchend",()=>{const Se=Te.selection.getNode();Se&&Te.dom.hasClass(Se,"mce-preview-object")&&Te.dom.getAttrib(Se,"data-mce-selected")&&Se.setAttribute("data-mce-selected","2")}),Te.on("ObjectResized",Se=>{const Nt=Se.target;if(Nt.getAttribute("data-mce-object")){let Pt=Nt.getAttribute("data-mce-html");Pt&&(Pt=unescape(Pt),Nt.setAttribute("data-mce-html",escape(No(Pt,{width:String(Se.width),height:String(Se.height)},!1,Te.schema))))}})},_t={},We=(Te,Se,Nt)=>new Promise((Pt,xn)=>{const Sn=Ln=>(Ln.html&&(_t[Te.source]=Ln),Pt({url:Te.source,html:Ln.html?Ln.html:Se(Te)}));_t[Te.source]?Sn(_t[Te.source]):Nt({url:Te.source}).then(Sn).catch(xn)}),dt=(Te,Se)=>Promise.resolve({html:Se(Te),url:Te.source}),io=Te=>Se=>he(Te,Se),Oo=(Te,Se)=>{const Nt=Ho(Te);return Nt?We(Se,io(Te),Nt):dt(Se,io(Te))},tt=Te=>ht(_t,Te),vt=(Te,Se)=>Ae(Se,Te).bind(Nt=>Ae(Nt,"meta")),_o=(Te,Se,Nt)=>Pt=>{const xn=()=>Ae(Te,Pt),Sn=()=>Ae(Se,Pt),Ln=dn=>Ae(dn,"value").bind(Ee=>Ee.length>0?Io.some(Ee):Io.none()),Qr=()=>xn().bind(dn=>mo(dn)?Ln(dn).orThunk(Sn):Sn().orThunk(()=>Io.from(dn))),wr=()=>Sn().orThunk(()=>xn().bind(dn=>mo(dn)?Ln(dn):Io.from(dn)));return{[Pt]:(Pt===Nt?Qr():wr()).getOr("")}},Fo=(Te,Se)=>{const Nt={};return Ae(Te,"dimensions").each(Pt=>{gn(["width","height"],xn=>{Ae(Se,xn).orThunk(()=>Ae(Pt,xn)).each(Sn=>Nt[xn]=Sn)})}),Nt},on=(Te,Se)=>{const Nt=Se&&Se!=="dimensions"?vt(Se,Te).getOr({}):{},Pt=_o(Te,Nt,Se);return{...Pt("source"),...Pt("altsource"),...Pt("poster"),...Pt("embed"),...Fo(Te,Nt)}},_n=Te=>{const Se={...Te,source:{value:Ae(Te,"source").getOr("")},altsource:{value:Ae(Te,"altsource").getOr("")},poster:{value:Ae(Te,"poster").getOr("")}};return gn(["width","height"],Nt=>{Ae(Te,Nt).each(Pt=>{const xn=Se.dimensions||{};xn[Nt]=Pt,Se.dimensions=xn})}),Se},Zo=Te=>Se=>{const Nt=Se&&Se.msg?"Media embed handler error: "+Se.msg:"Media embed handler threw unknown error.";Te.notificationManager.open({type:"error",text:Nt})},Yn=Te=>{const Se=Te.selection.getNode(),Nt=De(Se)?Te.serializer.serialize(Se,{selection:!0}):"",Pt=So(Nt,Te.schema),Sn=(()=>{if(ar(Pt.source,Pt.type)){const Ln=Te.dom.getRect(Se);return{width:Ln.w.toString().replace(/px$/,""),height:Ln.h.toString().replace(/px$/,"")}}else return{}})();return{embed:Nt,...Pt,...Sn}},zt=(Te,Se)=>Nt=>{if(Qo(Nt.url)&&Nt.url.trim().length>0){const Pt=Nt.html,Sn={...So(Pt,Se.schema),source:Nt.url,embed:Pt};Te.setData(_n(Sn))}},Xo=(Te,Se)=>{const Nt=Te.dom.select("*[data-mce-object]");for(let Pt=0;Pt<Se.length;Pt++)for(let xn=Nt.length-1;xn>=0;xn--)Se[Pt]===Nt[xn]&&Nt.splice(xn,1);Te.selection.select(Nt[0])},Kn=(Te,Se)=>{const Nt=Te.dom.select("*[data-mce-object]");Te.insertContent(Se),Xo(Te,Nt),Te.nodeChanged()},ar=(Te,Se)=>Co(Se)&&Se==="ephox-embed-iri"&&Co(et(Te)),Vr=(Te,Se)=>((Pt,xn)=>Pt.width!==xn.width||Pt.height!==xn.height)(Te,Se)&&ar(Se.source,Te.type),Ft=(Te,Se,Nt)=>{var Pt;Se.embed=Vr(Te,Se)&&D(Nt)?he(Nt,{...Se,embed:""}):No((Pt=Se.embed)!==null&&Pt!==void 0?Pt:"",Se,!1,Nt.schema),Se.embed&&(Te.source===Se.source||tt(Se.source))?Kn(Nt,Se.embed):Oo(Nt,Se).then(xn=>{Kn(Nt,xn.html)}).catch(Zo(Nt))},Gr=Te=>{const Se=Yn(Te),Nt=Ve(Se),Pt=_n(Se),xn=(un,Nn)=>{const or=on(Nn.getData(),"source");un.source!==or.source&&(zt(rn,Te)({url:or.source,html:""}),Oo(Te,or).then(zt(rn,Te)).catch(Zo(Te)))},Sn=un=>{var Nn;const or=on(un.getData()),_r=So((Nn=or.embed)!==null&&Nn!==void 0?Nn:"",Te.schema);un.setData(_n(_r))},Ln=(un,Nn,or)=>{const _r=on(un.getData(),Nn),wa=Vr(or,_r)&&D(Te)?{..._r,embed:""}:_r,sa=he(Te,wa);un.setData(_n({...wa,embed:sa}))},Qr=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],wr=D(Te)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],dn={title:"General",name:"general",items:Mo([Qr,wr])},Be={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},so=[];Uo(Te)&&so.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),Rt(Te)&&so.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Lo={title:"Advanced",name:"advanced",items:so},Vo=[dn,Be];so.length>0&&Vo.push(Lo);const qo={type:"tabpanel",tabs:Vo},rn=Te.windowManager.open({title:"Insert/Edit Media",size:"normal",body:qo,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:un=>{const Nn=on(un.getData());Ft(Nt.get(),Nn,Te),un.close()},onChange:(un,Nn)=>{switch(Nn.name){case"source":xn(Nt.get(),un);break;case"embed":Sn(un);break;case"dimensions":case"altsource":case"poster":Ln(un,Nn.name,Nt.get());break}Nt.set(on(un.getData()))},initialData:Pt})},Nr=Te=>({showDialog:()=>{Gr(Te)}}),yr=Te=>{const Se=()=>{Gr(Te)};Te.addCommand("mceMedia",Se)},jo=(Te,Se,Nt)=>Te.length>=Se.length&&Te.substr(Nt,Nt+Se.length)===Se,$r=(Te,Se)=>jo(Te,Se,0);var ls=tinymce.util.Tools.resolve("tinymce.Env");const Fa=Te=>{const Se=Te.name;return Se==="iframe"||Se==="video"||Se==="audio"},cs=(Te,Se,Nt,Pt=null)=>{const xn=Te.attr(Nt);return Co(xn)?xn:ht(Se,Nt)?null:Pt},La=(Te,Se,Nt)=>{const Pt=Se.name==="img"||Te.name==="video",xn=Pt?"300":null,Sn=Te.name==="audio"?"30":"150",Ln=Pt?Sn:null;Se.attr({width:cs(Te,Nt,"width",xn),height:cs(Te,Nt,"height",Ln)})},es=(Te,Se,Nt,Pt)=>{const xn=kt(Te.schema).parse(Pt,{context:Se});for(;xn.firstChild;)Nt.append(xn.firstChild)},ts=(Te,Se)=>{const Nt=Se.name,Pt=new F("img",1);return za(Te,Se,Pt),La(Se,Pt,{}),Pt.attr({style:Se.attr("style"),src:ls.transparentSrc,"data-mce-object":Nt,class:"mce-object mce-object-"+Nt}),Pt},Fs=(Te,Se)=>{var Nt;const Pt=Se.name,xn=new F("span",1);xn.attr({contentEditable:"false",style:Se.attr("style"),"data-mce-object":Pt,class:"mce-preview-object mce-object-"+Pt}),za(Te,Se,xn);const Sn=Te.dom.parseStyle((Nt=Se.attr("style"))!==null&&Nt!==void 0?Nt:""),Ln=new F(Pt,1);if(La(Se,Ln,Sn),Ln.attr({src:Se.attr("src"),style:Se.attr("style"),class:Se.attr("class")}),Pt==="iframe")Ln.attr({allowfullscreen:Se.attr("allowfullscreen"),frameborder:"0",sandbox:Se.attr("sandbox"),referrerpolicy:Se.attr("referrerpolicy")});else{gn(["controls","crossorigin","currentTime","loop","muted","poster","preload"],Ee=>{Ln.attr(Ee,Se.attr(Ee))});const dn=xn.attr("data-mce-html");Co(dn)&&es(Te,Pt,Ln,unescape(dn))}const Qr=new F("span",1);return Qr.attr("class","mce-shim"),xn.append(Ln),xn.append(Qr),xn},za=(Te,Se,Nt)=>{var Pt;const xn=(Pt=Se.attributes)!==null&&Pt!==void 0?Pt:[];let Sn=xn.length;for(;Sn--;){const dn=xn[Sn].name;let Ee=xn[Sn].value;dn!=="width"&&dn!=="height"&&dn!=="style"&&!$r(dn,"data-mce-")&&((dn==="data"||dn==="src")&&(Ee=Te.convertURL(Ee,dn)),Nt.attr("data-mce-p-"+dn,Ee))}const Ln=Ot({inner:!0},Te.schema),Qr=new F("div",1);gn(Se.children(),dn=>Qr.append(dn));const wr=Ln.serialize(Qr);wr&&(Nt.attr("data-mce-html",escape(wr)),Nt.empty())},nt=Te=>{const Se=Te.attr("class");return Qo(Se)&&/\btiny-pageembed\b/.test(Se)},At=Te=>{let Se=Te;for(;Se=Se.parent;)if(Se.attr("data-ephox-embed-iri")||nt(Se))return!0;return!1},pt=Te=>Se=>{let Nt=Se.length,Pt;for(;Nt--;)Pt=Se[Nt],Pt.parent&&(Pt.parent.attr("data-mce-object")||(Fa(Pt)&&Ro(Te)?At(Pt)||Pt.replace(Fs(Te,Pt)):At(Pt)||Pt.replace(ts(Te,Pt))))},nn=(Te,Se,Nt)=>{const Pt=Te.options.get,xn=Pt("xss_sanitization"),Sn=go(Te);return kt(Te.schema,{sanitize:xn,validate:Sn}).parse(Nt,{context:Se})},vr=Te=>{Te.on("PreInit",()=>{const{schema:Se,serializer:Nt,parser:Pt}=Te,xn=Se.getBoolAttrs();gn("webkitallowfullscreen mozallowfullscreen".split(" "),Sn=>{xn[Sn]={}}),uo({embed:["wmode"]},(Sn,Ln)=>{const Qr=Se.getElementRule(Ln);Qr&&gn(Sn,wr=>{Qr.attributes[wr]={},Qr.attributesOrder.push(wr)})}),Pt.addNodeFilter("iframe,video,audio,object,embed",pt(Te)),Nt.addAttributeFilter("data-mce-object",(Sn,Ln)=>{var Qr;let wr=Sn.length;for(;wr--;){const dn=Sn[wr];if(!dn.parent)continue;const Ee=dn.attr(Ln),Be=new F(Ee,1);if(Ee!=="audio"){const qo=dn.attr("class");qo&&qo.indexOf("mce-preview-object")!==-1&&dn.firstChild?Be.attr({width:dn.firstChild.attr("width"),height:dn.firstChild.attr("height")}):Be.attr({width:dn.attr("width"),height:dn.attr("height")})}Be.attr({style:dn.attr("style")});const so=(Qr=dn.attributes)!==null&&Qr!==void 0?Qr:[];let Lo=so.length;for(;Lo--;){const qo=so[Lo].name;qo.indexOf("data-mce-p-")===0&&Be.attr(qo.substr(11),so[Lo].value)}const Vo=dn.attr("data-mce-html");if(Vo){const qo=nn(Te,Ee,unescape(Vo));gn(qo.children(),rn=>Be.append(rn))}dn.replace(Be)}})}),Te.on("SetContent",()=>{const Se=Te.dom;gn(Se.select("span.mce-preview-object"),Nt=>{Se.select("span.mce-shim",Nt).length===0&&Se.add(Nt,"span",{class:"mce-shim"})})})},hr=Te=>{Te.on("ResolveName",Se=>{let Nt;Se.target.nodeType===1&&(Nt=Se.target.getAttribute("data-mce-object"))&&(Se.name=Nt)})},Os=Te=>Se=>{const Nt=()=>{Se.setEnabled(Te.selection.isEditable())};return Te.on("NodeChange",Nt),Nt(),()=>{Te.off("NodeChange",Nt)}},ga=Te=>{const Se=()=>Te.execCommand("mceMedia");Te.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Se,onSetup:Nt=>{const Pt=Te.selection;Nt.setActive(De(Pt.getNode()));const xn=Pt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",Nt.setActive).unbind,Sn=Os(Te)(Nt);return()=>{xn(),Sn()}}}),Te.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Se,onSetup:Os(Te)})};var xr=()=>{wo.add("media",Te=>(ue(Te),yr(Te),ga(Te),hr(Te),vr(Te),at(Te),Nr(Te)))};xr()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=Ae=>ht=>typeof ht===Ae,$o=Jo("boolean"),sn=Jo("number"),Qo=Ae=>ht=>ht.options.get(Ae),mo=Ae=>{const ht=Ae.options.register;ht("nonbreaking_force_tab",{processor:bo=>$o(bo)?{value:bo?3:0,valid:!0}:sn(bo)?{value:bo,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),ht("nonbreaking_wrap",{processor:"boolean",default:!0})},Wo=Qo("nonbreaking_force_tab"),jt=Qo("nonbreaking_wrap"),Co=(Ae,ht)=>{let bo="";for(let ue=0;ue<ht;ue++)bo+=Ae;return bo},Io=Ae=>Ae.plugins.visualchars?Ae.plugins.visualchars.isEnabled():!1,Go=(Ae,ht)=>{const bo=()=>Io(Ae)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",ue=()=>`<span class="${bo()}" contenteditable="false">${Co("&nbsp;",ht)}</span>`,ge=jt(Ae)||Ae.plugins.visualchars?ue():Co("&nbsp;",ht);Ae.undoManager.transact(()=>Ae.insertContent(ge))},gn=Ae=>{Ae.addCommand("mceNonBreaking",()=>{Go(Ae,1)})};var Mo=tinymce.util.Tools.resolve("tinymce.util.VK");const Ve=Ae=>{const ht=Wo(Ae);ht>0&&Ae.on("keydown",bo=>{if(bo.keyCode===Mo.TAB&&!bo.isDefaultPrevented()){if(bo.shiftKey)return;bo.preventDefault(),bo.stopImmediatePropagation(),Go(Ae,ht)}})},ut=Ae=>ht=>{const bo=()=>{ht.setEnabled(Ae.selection.isEditable())};return Ae.on("NodeChange",bo),bo(),()=>{Ae.off("NodeChange",bo)}},ho=Ae=>{const ht=()=>Ae.execCommand("mceNonBreaking");Ae.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:ht,onSetup:ut(Ae)}),Ae.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:ht,onSetup:ut(Ae)})};var uo=()=>{wo.add("nonbreaking",Ae=>{mo(Ae),gn(Ae),ho(Ae),Ve(Ae)})};uo()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Jo=tinymce.util.Tools.resolve("tinymce.Env");const $o=ut=>ho=>ho.options.get(ut),sn=ut=>{const ho=ut.options.register;ho("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),ho("pagebreak_split_block",{processor:"boolean",default:!1})},Qo=$o("pagebreak_separator"),mo=$o("pagebreak_split_block"),Wo="mce-pagebreak",jt=ut=>{const ho=`<img src="${Jo.transparentSrc}" class="${Wo}" data-mce-resize="false" data-mce-placeholder />`;return ut?`<p>${ho}</p>`:ho},Co=ut=>{const ho=Qo(ut),uo=()=>mo(ut),Ae=new RegExp(ho.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,ht=>"\\"+ht),"gi");ut.on("BeforeSetContent",ht=>{ht.content=ht.content.replace(Ae,jt(uo()))}),ut.on("PreInit",()=>{ut.serializer.addNodeFilter("img",ht=>{let bo=ht.length,ue,$e;for(;bo--;)if(ue=ht[bo],$e=ue.attr("class"),$e&&$e.indexOf(Wo)!==-1){const ge=ue.parent;if(ge&&ut.schema.getBlockElements()[ge.name]&&uo()){ge.type=3,ge.value=ho,ge.raw=!0,ue.remove();continue}ue.type=3,ue.value=ho,ue.raw=!0}})})},Io=ut=>{ut.addCommand("mcePageBreak",()=>{ut.insertContent(jt(mo(ut)))})},Go=ut=>{ut.on("ResolveName",ho=>{ho.target.nodeName==="IMG"&&ut.dom.hasClass(ho.target,Wo)&&(ho.name="pagebreak")})},gn=ut=>ho=>{const uo=()=>{ho.setEnabled(ut.selection.isEditable())};return ut.on("NodeChange",uo),uo(),()=>{ut.off("NodeChange",uo)}},Mo=ut=>{const ho=()=>ut.execCommand("mcePageBreak");ut.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:ho,onSetup:gn(ut)}),ut.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:ho,onSetup:gn(ut)})};var Ve=()=>{wo.add("pagebreak",ut=>{sn(ut),Io(ut),Mo(ut),Co(ut),Go(ut)})};Ve()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager"),Jo=tinymce.util.Tools.resolve("tinymce.Env"),$o=tinymce.util.Tools.resolve("tinymce.util.Tools");const sn=Ve=>ut=>ut.options.get(Ve),Qo=sn("content_style"),mo=sn("content_css_cors"),Wo=sn("body_class"),jt=sn("body_id"),Co=Ve=>{var ut;let ho="";const uo=Ve.dom.encode,Ae=(ut=Qo(Ve))!==null&&ut!==void 0?ut:"";ho+='<base href="'+uo(Ve.documentBaseURI.getURI())+'">';const ht=mo(Ve)?' crossorigin="anonymous"':"";$o.each(Ve.contentCSS,Ho=>{ho+='<link type="text/css" rel="stylesheet" href="'+uo(Ve.documentBaseURI.toAbsolute(Ho))+'"'+ht+">"}),Ae&&(ho+='<style type="text/css">'+Ae+"</style>");const bo=jt(Ve),ue=Wo(Ve),ge='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(Jo.os.isMacOS()||Jo.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",mt=Ve.getBody().dir,Ro=mt?' dir="'+uo(mt)+'"':"";return"<!DOCTYPE html><html><head>"+ho+'</head><body id="'+uo(bo)+'" class="mce-content-body '+uo(ue)+'"'+Ro+">"+Ve.getContent()+ge+"</body></html>"},Io=Ve=>{const ut=Co(Ve);Ve.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:ut}}).focus("close")},Go=Ve=>{Ve.addCommand("mcePreview",()=>{Io(Ve)})},gn=Ve=>{const ut=()=>Ve.execCommand("mcePreview");Ve.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:ut,context:"any"}),Ve.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:ut,context:"any"})};var Mo=()=>{wo.add("preview",Ve=>{Go(Ve),gn(Ve)})};Mo()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=(Ct,et,ye)=>{var fe;return ye(Ct,et.prototype)?!0:((fe=Ct.constructor)===null||fe===void 0?void 0:fe.name)===et.name},$o=Ct=>{const et=typeof Ct;return Ct===null?"null":et==="object"&&Array.isArray(Ct)?"array":et==="object"&&Jo(Ct,String,(ye,fe)=>fe.isPrototypeOf(ye))?"string":et},sn=Ct=>et=>$o(et)===Ct,Qo=Ct=>et=>typeof et===Ct,mo=sn("string"),Wo=Qo("boolean"),jt=Ct=>Ct==null,Co=Ct=>!jt(Ct),Io=Qo("function"),Go=Ct=>et=>et.options.get(Ct),gn=Ct=>{const et=Ct.options.register,ye=he=>De=>{const at=Wo(De)||mo(De);return at?Wo(De)?{value:De?he:"",valid:at}:{value:De.trim(),valid:at}:{valid:!1,message:"Must be a boolean or string."}},fe="bold italic | quicklink h2 h3 blockquote";et("quickbars_selection_toolbar",{processor:ye(fe),default:fe});const it="quickimage quicktable";et("quickbars_insert_toolbar",{processor:ye(it),default:it});const ke="alignleft aligncenter alignright";et("quickbars_image_toolbar",{processor:ye(ke),default:ke})},Mo=Go("quickbars_selection_toolbar"),Ve=Go("quickbars_insert_toolbar"),ut=Go("quickbars_image_toolbar"),ho=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let uo=0;const Ae=Ct=>{const ye=new Date().getTime(),fe=Math.floor(ho()*1e9);return uo++,Ct+"_"+fe+uo+String(ye)},ht=(Ct,et,ye)=>{Ct.execCommand("mceInsertTable",!1,{rows:ye,columns:et})},bo=(Ct,et,ye)=>{const fe=Ct.editorUpload.blobCache,it=fe.create(Ae("mceu"),ye,et);fe.add(it),Ct.insertContent(Ct.dom.createHTML("img",{src:it.blobUri()}))},ue=Ct=>new Promise(et=>{const ye=new FileReader;ye.onloadend=()=>{et(ye.result.split(",")[1])},ye.readAsDataURL(Ct)});var $e=tinymce.util.Tools.resolve("tinymce.util.Delay");const ge=Ct=>new Promise(et=>{let ye=!1;const fe=document.createElement("input");fe.type="file",fe.accept="image/*",fe.style.position="fixed",fe.style.left="0",fe.style.top="0",fe.style.opacity="0.001",document.body.appendChild(fe);const it=De=>{var at;ye||((at=fe.parentNode)===null||at===void 0||at.removeChild(fe),ye=!0,et(De))},ke=De=>{it(Array.prototype.slice.call(De.target.files))};fe.addEventListener("input",ke),fe.addEventListener("change",ke);const he=De=>{const at=()=>{it([])};ye||(De.type==="focusin"?$e.setEditorTimeout(Ct,at,1e3):at()),Ct.off("focusin remove",he)};Ct.on("focusin remove",he),fe.click()}),mt=Ct=>{Ct.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{ge(Ct).then(et=>{if(et.length>0){const ye=et[0];ue(ye).then(fe=>{bo(Ct,fe,ye)})}})}}),Ct.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{ht(Ct,2,2)}})},go=(Ct=>()=>Ct)(!1);class Ho{constructor(et,ye){this.tag=et,this.value=ye}static some(et){return new Ho(!0,et)}static none(){return Ho.singletonNone}fold(et,ye){return this.tag?ye(this.value):et()}isSome(){return this.tag}isNone(){return!this.tag}map(et){return this.tag?Ho.some(et(this.value)):Ho.none()}bind(et){return this.tag?et(this.value):Ho.none()}exists(et){return this.tag&&et(this.value)}forall(et){return!this.tag||et(this.value)}filter(et){return!this.tag||et(this.value)?this:Ho.none()}getOr(et){return this.tag?this.value:et}or(et){return this.tag?this:et}getOrThunk(et){return this.tag?this.value:et()}orThunk(et){return this.tag?this:et()}getOrDie(et){if(this.tag)return this.value;throw new Error(et??"Called getOrDie on None")}static from(et){return Co(et)?Ho.some(et):Ho.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(et){this.tag&&et(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ho.singletonNone=new Ho(!1),typeof window<"u"||Function("return this;")();const Uo=1,Rt=Ct=>Ct.dom.nodeName.toLowerCase(),D=(Ct,et)=>{const ye=Ct.dom;return ye&&ye.hasAttribute?ye.hasAttribute(et):!1};var qe=(Ct,et,ye,fe,it)=>Ct(ye,fe)?Ho.some(ye):Io(it)&&it(ye)?Ho.none():et(ye,fe,it);const Je=(Ct,et)=>{const fe=(et||document).createElement("div");if(fe.innerHTML=Ct,!fe.hasChildNodes()||fe.childNodes.length>1){const it="HTML does not have a single root node";throw console.error(it,Ct),new Error(it)}return ct(fe.childNodes[0])},gt=(Ct,et)=>{const fe=(et||document).createElement(Ct);return ct(fe)},Bt=(Ct,et)=>{const fe=(et||document).createTextNode(Ct);return ct(fe)},ct=Ct=>{if(Ct==null)throw new Error("Node cannot be null or undefined");return{dom:Ct}},So={fromHtml:Je,fromTag:gt,fromText:Bt,fromDom:ct,fromPoint:(Ct,et,ye)=>Ho.from(Ct.dom.elementFromPoint(et,ye)).map(ct)},Dt=(Ct,et)=>{const ye=Ct.dom;if(ye.nodeType!==Uo)return!1;{const fe=ye;if(fe.matches!==void 0)return fe.matches(et);if(fe.msMatchesSelector!==void 0)return fe.msMatchesSelector(et);if(fe.webkitMatchesSelector!==void 0)return fe.webkitMatchesSelector(et);if(fe.mozMatchesSelector!==void 0)return fe.mozMatchesSelector(et);throw new Error("Browser lacks native selectors")}},F=(Ct,et,ye)=>{let fe=Ct.dom;const it=Io(ye)?ye:go;for(;fe.parentNode;){fe=fe.parentNode;const ke=So.fromDom(fe);if(et(ke))return Ho.some(ke);if(it(ke))break}return Ho.none()},Ot=(Ct,et,ye)=>qe((it,ke)=>ke(it),F,Ct,et,ye),kt=(Ct,et,ye)=>Ot(Ct,et,ye).isSome(),ro=(Ct,et,ye)=>F(Ct,fe=>Dt(fe,et),ye),co=(Ct,et,ye)=>qe((it,ke)=>Dt(it,ke),ro,Ct,et,ye),ao=Ct=>{const et=Ve(Ct);et.length>0&&Ct.ui.registry.addContextToolbar("quickblock",{predicate:ye=>{const fe=So.fromDom(ye),it=Ct.schema.getTextBlockElements(),ke=he=>he.dom===Ct.getBody();return!D(fe,"data-mce-bogus")&&co(fe,'table,[data-mce-bogus="all"]',ke).fold(()=>kt(fe,he=>Rt(he)in it&&Ct.dom.isEmpty(he.dom),ke),go)},items:et,position:"line",scope:"editor"})},yo=Ct=>Ct.dom.classList!==void 0,No=(Ct,et)=>yo(Ct)&&Ct.dom.classList.contains(et),_e=Ct=>{const et=he=>Ct.dom.isEditable(he),ye=he=>et(he.parentElement),fe=he=>{const De=he.nodeName==="FIGURE"&&/image/i.test(he.className),at=he.nodeName==="IMG"||De,_t=No(So.fromDom(he),"mce-pagebreak");return at&&ye(he)&&!_t},it=ut(Ct);it.length>0&&Ct.ui.registry.addContextToolbar("imageselection",{predicate:fe,items:it,position:"node"});const ke=Mo(Ct);ke.length>0&&Ct.ui.registry.addContextToolbar("textselection",{predicate:he=>!fe(he)&&!Ct.selection.isCollapsed()&&et(he),items:ke,position:"selection",scope:"editor"})};var Vt=()=>{wo.add("quickbars",Ct=>{gn(Ct),mt(Ct),ao(Ct),_e(Ct)})};Vt()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const $o=(Ae=>ht=>typeof ht===Ae)("function");var sn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Qo=tinymce.util.Tools.resolve("tinymce.util.Tools");const mo=Ae=>ht=>ht.options.get(Ae),Wo=Ae=>{const ht=Ae.options.register;ht("save_enablewhendirty",{processor:"boolean",default:!0}),ht("save_onsavecallback",{processor:"function"}),ht("save_oncancelcallback",{processor:"function"})},jt=mo("save_enablewhendirty"),Co=mo("save_onsavecallback"),Io=mo("save_oncancelcallback"),Go=(Ae,ht)=>{Ae.notificationManager.open({text:ht,type:"error"})},gn=Ae=>{const ht=sn.DOM.getParent(Ae.id,"form");if(jt(Ae)&&!Ae.isDirty())return;Ae.save();const bo=Co(Ae);if($o(bo)){bo.call(Ae,Ae),Ae.nodeChanged();return}ht?(Ae.setDirty(!1),(!ht.onsubmit||ht.onsubmit())&&(typeof ht.submit=="function"?ht.submit():Go(Ae,"Error: Form submit field collision.")),Ae.nodeChanged()):Go(Ae,"Error: No form element found.")},Mo=Ae=>{const ht=Qo.trim(Ae.startContent),bo=Io(Ae);if($o(bo)){bo.call(Ae,Ae);return}Ae.resetContent(ht)},Ve=Ae=>{Ae.addCommand("mceSave",()=>{gn(Ae)}),Ae.addCommand("mceCancel",()=>{Mo(Ae)})},ut=Ae=>ht=>{const bo=()=>{ht.setEnabled(!jt(Ae)||Ae.isDirty())};return bo(),Ae.on("NodeChange dirty",bo),()=>Ae.off("NodeChange dirty",bo)},ho=Ae=>{Ae.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>Ae.execCommand("mceSave"),onSetup:ut(Ae),shortcut:"Meta+S"}),Ae.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>Ae.execCommand("mceCancel"),onSetup:ut(Ae)}),Ae.addShortcut("Meta+S","","mceSave")};var uo=()=>{wo.add("save",Ae=>{Wo(Ae),ho(Ae),Ve(Ae)})};uo()})();(function(){const wo=Ee=>{let Be=Ee;return{get:()=>Be,set:Vo=>{Be=Vo}}};var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager");const $o=(Ee,Be,so)=>{var Lo;return so(Ee,Be.prototype)?!0:((Lo=Ee.constructor)===null||Lo===void 0?void 0:Lo.name)===Be.name},sn=Ee=>{const Be=typeof Ee;return Ee===null?"null":Be==="object"&&Array.isArray(Ee)?"array":Be==="object"&&$o(Ee,String,(so,Lo)=>Lo.isPrototypeOf(so))?"string":Be},Qo=Ee=>Be=>sn(Be)===Ee,mo=Ee=>Be=>typeof Be===Ee,Wo=Qo("string"),jt=Qo("array"),Co=mo("boolean"),Io=Ee=>Ee==null,Go=Ee=>!Io(Ee),gn=mo("number"),Mo=()=>{},Ve=Ee=>()=>Ee,ut=Ve(!0),uo=Ve("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class Ae{constructor(Be,so){this.tag=Be,this.value=so}static some(Be){return new Ae(!0,Be)}static none(){return Ae.singletonNone}fold(Be,so){return this.tag?so(this.value):Be()}isSome(){return this.tag}isNone(){return!this.tag}map(Be){return this.tag?Ae.some(Be(this.value)):Ae.none()}bind(Be){return this.tag?Be(this.value):Ae.none()}exists(Be){return this.tag&&Be(this.value)}forall(Be){return!this.tag||Be(this.value)}filter(Be){return!this.tag||Be(this.value)?this:Ae.none()}getOr(Be){return this.tag?this.value:Be}or(Be){return this.tag?this:Be}getOrThunk(Be){return this.tag?this.value:Be()}orThunk(Be){return this.tag?this:Be()}getOrDie(Be){if(this.tag)return this.value;throw new Error(Be??"Called getOrDie on None")}static from(Be){return Go(Be)?Ae.some(Be):Ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Be){this.tag&&Be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ae.singletonNone=new Ae(!1);const ht=uo;var bo=tinymce.util.Tools.resolve("tinymce.Env"),ue=tinymce.util.Tools.resolve("tinymce.util.Tools");const $e=Array.prototype.slice,ge=Array.prototype.push,mt=(Ee,Be)=>{const so=Ee.length,Lo=new Array(so);for(let Vo=0;Vo<so;Vo++){const qo=Ee[Vo];Lo[Vo]=Be(qo,Vo)}return Lo},Ro=(Ee,Be)=>{for(let so=0,Lo=Ee.length;so<Lo;so++){const Vo=Ee[so];Be(Vo,so)}},go=(Ee,Be)=>{for(let so=Ee.length-1;so>=0;so--){const Lo=Ee[so];Be(Lo,so)}},Ho=(Ee,Be)=>{if(Ee.length===0)return[];{let so=Be(Ee[0]);const Lo=[];let Vo=[];for(let qo=0,rn=Ee.length;qo<rn;qo++){const un=Ee[qo],Nn=Be(un);Nn!==so&&(Lo.push(Vo),Vo=[]),so=Nn,Vo.push(un)}return Vo.length!==0&&Lo.push(Vo),Lo}},Uo=(Ee,Be,so)=>(Ro(Ee,(Lo,Vo)=>{so=Be(so,Lo,Vo)}),so),Rt=Ee=>{const Be=[];for(let so=0,Lo=Ee.length;so<Lo;++so){if(!jt(Ee[so]))throw new Error("Arr.flatten item "+so+" was not an array, input: "+Ee);ge.apply(Be,Ee[so])}return Be},D=(Ee,Be)=>Rt(mt(Ee,Be)),qe=(Ee,Be)=>{const so=$e.call(Ee,0);return so.sort(Be),so},Je=Object.hasOwnProperty,gt=(Ee,Be)=>Je.call(Ee,Be);typeof window<"u"||Function("return this;")();const Bt=9,ct=11,$t=1,So=3,Dt=Ee=>Ee.dom.nodeType,Ot=(Ee=>Be=>Dt(Be)===Ee)(So),kt=(Ee,Be,so)=>{if(Wo(so)||Co(so)||gn(so))Ee.setAttribute(Be,so+"");else throw console.error("Invalid call to Attribute.set. Key ",Be,":: Value ",so,":: Element ",Ee),new Error("Attribute value was not simple")},ro=(Ee,Be,so)=>{kt(Ee.dom,Be,so)},co=(Ee,Be)=>{const Lo=(Be||document).createElement("div");if(Lo.innerHTML=Ee,!Lo.hasChildNodes()||Lo.childNodes.length>1){const Vo="HTML does not have a single root node";throw console.error(Vo,Ee),new Error(Vo)}return No(Lo.childNodes[0])},ao=(Ee,Be)=>{const Lo=(Be||document).createElement(Ee);return No(Lo)},yo=(Ee,Be)=>{const Lo=(Be||document).createTextNode(Ee);return No(Lo)},No=Ee=>{if(Ee==null)throw new Error("Node cannot be null or undefined");return{dom:Ee}},Vt={fromHtml:co,fromTag:ao,fromText:yo,fromDom:No,fromPoint:(Ee,Be,so)=>Ae.from(Ee.dom.elementFromPoint(Be,so)).map(No)},Ct=Ee=>Ee.nodeType!==$t&&Ee.nodeType!==Bt&&Ee.nodeType!==ct||Ee.childElementCount===0,et=(Ee,Be)=>{const so=Be===void 0?document:Be.dom;return Ct(so)?[]:mt(so.querySelectorAll(Ee),Vt.fromDom)},ye=Ee=>Ae.from(Ee.dom.parentNode).map(Vt.fromDom),fe=Ee=>mt(Ee.dom.childNodes,Vt.fromDom),it=(Ee,Be)=>({element:Ee,offset:Be}),ke=(Ee,Be)=>{const so=fe(Ee);return so.length>0&&Be<so.length?it(so[Be],0):it(Ee,Be)},he=(Ee,Be)=>{ye(Ee).each(Lo=>{Lo.dom.insertBefore(Be.dom,Ee.dom)})},De=(Ee,Be)=>{Ee.dom.appendChild(Be.dom)},at=(Ee,Be)=>{he(Ee,Be),De(Be,Ee)},We=((Ee,Be)=>{const so=qo=>{if(!Ee(qo))throw new Error("Can only get "+Be+" value of a "+Be+" node");return Lo(qo).getOr("")},Lo=qo=>Ee(qo)?Ae.from(qo.dom.nodeValue):Ae.none();return{get:so,getOption:Lo,set:(qo,rn)=>{if(!Ee(qo))throw new Error("Can only set raw "+Be+" value of a "+Be+" node");qo.dom.nodeValue=rn}}})(Ot,"text"),dt=Ee=>We.get(Ee),io=(Ee,Be,so)=>(Ee.compareDocumentPosition(Be)&so)!==0,Oo=(Ee,Be)=>io(Ee,Be,Node.DOCUMENT_POSITION_PRECEDING),tt=(Ee,Be)=>et(Be,Ee);var vt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const _o=(Ee,Be)=>Ee.isBlock(Be)||gt(Ee.schema.getVoidElements(),Be.nodeName),Fo=(Ee,Be)=>!Ee.isEditable(Be),on=(Ee,Be)=>Ee.getContentEditable(Be)==="true"&&Be.parentNode&&!Ee.isEditable(Be.parentNode),_n=(Ee,Be)=>!Ee.isBlock(Be)&&gt(Ee.schema.getWhitespaceElements(),Be.nodeName),Zo=(Ee,Be)=>_o(Ee,Be)||Fo(Ee,Be)||_n(Ee,Be)||on(Ee,Be),Yn=Ee=>Ee.nodeType===3,zt=()=>({sOffset:0,fOffset:0,elements:[]}),Xo=(Ee,Be)=>ke(Vt.fromDom(Ee),Be),Kn=(Ee,Be,so,Lo,Vo,qo=!0)=>{let rn=qo?Be(!1):so;for(;rn;){const un=Fo(Ee,rn);if(un||_n(Ee,rn)){if(un?Lo.cef(rn):Lo.boundary(rn))break;rn=Be(!0);continue}else if(_o(Ee,rn)){if(Lo.boundary(rn))break}else Yn(rn)&&Lo.text(rn);if(rn===Vo)break;rn=Be(!1)}},ar=(Ee,Be,so,Lo,Vo)=>{var qo;if(Zo(Ee,so))return;const rn=(qo=Ee.getParent(Lo,Ee.isBlock))!==null&&qo!==void 0?qo:Ee.getRoot(),un=new vt(so,rn),Nn=Vo?un.next.bind(un):un.prev.bind(un);Kn(Ee,Nn,so,{boundary:ut,cef:ut,text:or=>{Vo?Be.fOffset+=or.length:Be.sOffset+=or.length,Be.elements.push(Vt.fromDom(or))}})},Vr=(Ee,Be,so,Lo,Vo,qo=!0)=>{const rn=new vt(so,Be),un=[];let Nn=zt();ar(Ee,Nn,so,Be,!1);const or=()=>(Nn.elements.length>0&&(un.push(Nn),Nn=zt()),!1);return Kn(Ee,rn.next.bind(rn),so,{boundary:or,cef:_r=>(or(),Vo&&un.push(...Vo.cef(_r)),!1),text:_r=>{Nn.elements.push(Vt.fromDom(_r)),Vo&&Vo.text(_r,Nn)}},Lo,qo),Lo&&ar(Ee,Nn,Lo,Be,!0),or(),un},Ft=(Ee,Be)=>{const so=Xo(Be.startContainer,Be.startOffset),Lo=so.element.dom,Vo=Xo(Be.endContainer,Be.endOffset),qo=Vo.element.dom;return Vr(Ee,Be.commonAncestorContainer,Lo,qo,{text:(rn,un)=>{rn===qo?un.fOffset+=rn.length-Vo.offset:rn===Lo&&(un.sOffset+=so.offset)},cef:rn=>{const un=D(tt(Vt.fromDom(rn),"*[contenteditable=true]"),Nn=>{const or=Nn.dom;return Vr(Ee,or,or)});return qe(un,(Nn,or)=>Oo(Nn.elements[0].dom,or.elements[0].dom)?1:-1)}},!1)},Gr=(Ee,Be)=>Be.collapsed?[]:Ft(Ee,Be),Nr=(Ee,Be)=>{const so=Ee.createRng();return so.selectNode(Be),Gr(Ee,so)},yr=(Ee,Be)=>D(Be,so=>Nr(Ee,so)),jo=(Ee,Be,so=0,Lo=Ee.length)=>{const Vo=Be.regex;Vo.lastIndex=so;const qo=[];let rn;for(;rn=Vo.exec(Ee);){const un=rn[Be.matchIndex],Nn=rn.index+rn[0].indexOf(un),or=Nn+un.length;if(or>Lo)break;qo.push({start:Nn,finish:or}),Vo.lastIndex=or}return qo},$r=(Ee,Be)=>{const so=Uo(Ee,(Lo,Vo)=>{const qo=dt(Vo),rn=Lo.last,un=rn+qo.length,Nn=D(Be,(or,_r)=>or.start<un&&or.finish>rn?[{element:Vo,start:Math.max(rn,or.start)-rn,finish:Math.min(un,or.finish)-rn,matchId:_r}]:[]);return{results:Lo.results.concat(Nn),last:un}},{results:[],last:0}).results;return Ho(so,Lo=>Lo.matchId)},ls=(Ee,Be)=>D(Be,so=>{const Lo=so.elements,Vo=mt(Lo,dt).join(""),qo=jo(Vo,Ee,so.sOffset,Vo.length-so.fOffset);return $r(Lo,qo)}),Fa=(Ee,Be)=>{go(Ee,(so,Lo)=>{go(so,Vo=>{const qo=Vt.fromDom(Be.cloneNode(!1));ro(qo,"data-mce-index",Lo);const rn=Vo.element.dom;if(rn.length===Vo.finish&&Vo.start===0)at(Vo.element,qo);else{rn.length!==Vo.finish&&rn.splitText(Vo.finish);const un=rn.splitText(Vo.start);at(Vt.fromDom(un),qo)}})})},cs=(Ee,Be,so,Lo)=>{const Vo=Nr(Ee,so),qo=ls(Be,Vo);return Fa(qo,Lo),qo.length},La=(Ee,Be,so,Lo)=>{const Vo=so.getBookmark(),qo=Ee.select("td[data-mce-selected],th[data-mce-selected]"),rn=qo.length>0?yr(Ee,qo):Gr(Ee,so.getRng()),un=ls(Be,rn);return Fa(un,Lo),so.moveToBookmark(Vo),un.length},es=Ee=>Ee.getAttribute("data-mce-index"),ts=(Ee,Be,so,Lo)=>{const Vo=Ee.dom.create("span",{"data-mce-bogus":1});Vo.className="mce-match-marker";const qo=Ee.getBody();return xr(Ee,Be,!1),Lo?La(Ee.dom,so,Ee.selection,Vo):cs(Ee.dom,so,qo,Vo)},Fs=Ee=>{var Be;const so=Ee.parentNode;Ee.firstChild&&so.insertBefore(Ee.firstChild,Ee),(Be=Ee.parentNode)===null||Be===void 0||Be.removeChild(Ee)},za=(Ee,Be)=>{const so=[],Lo=ue.toArray(Ee.getBody().getElementsByTagName("span"));if(Lo.length)for(let Vo=0;Vo<Lo.length;Vo++){const qo=es(Lo[Vo]);qo===null||!qo.length||qo===Be.toString()&&so.push(Lo[Vo])}return so},nt=(Ee,Be,so)=>{const Lo=Be.get();let Vo=Lo.index;const qo=Ee.dom;so?Vo+1===Lo.count?Vo=0:Vo++:Vo-1===-1?Vo=Lo.count-1:Vo--,qo.removeClass(za(Ee,Lo.index),"mce-match-marker-selected");const rn=za(Ee,Vo);return rn.length?(qo.addClass(za(Ee,Vo),"mce-match-marker-selected"),Ee.selection.scrollIntoView(rn[0]),Vo):-1},At=(Ee,Be)=>{const so=Be.parentNode;Ee.remove(Be),so&&Ee.isEmpty(so)&&Ee.remove(so)},pt=(Ee,Be)=>{const Lo="("+Ee.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return Be?`(?:^|\\s|${ht()})`+Lo+`(?=$|\\s|${ht()})`:Lo},nn=(Ee,Be,so,Lo,Vo,qo)=>{const rn=Ee.selection,un=pt(so,Vo),Nn=rn.isForward(),or={regex:new RegExp(un,Lo?"g":"gi"),matchIndex:1},_r=ts(Ee,Be,or,qo);if(bo.browser.isSafari()&&rn.setRng(rn.getRng(),Nn),_r){const wa=nt(Ee,Be,!0);Be.set({index:wa,count:_r,text:so,matchCase:Lo,wholeWord:Vo,inSelection:qo})}return _r},vr=(Ee,Be)=>{const so=nt(Ee,Be,!0);Be.set({...Be.get(),index:so})},hr=(Ee,Be)=>{const so=nt(Ee,Be,!1);Be.set({...Be.get(),index:so})},Os=Ee=>{const Be=es(Ee);return Be!==null&&Be.length>0},ga=(Ee,Be,so,Lo,Vo)=>{const qo=Be.get(),rn=qo.index;let un,Nn=rn;Lo=Lo!==!1;const or=Ee.getBody(),_r=ue.grep(ue.toArray(or.getElementsByTagName("span")),Os);for(let wa=0;wa<_r.length;wa++){const sa=es(_r[wa]);let Us=un=parseInt(sa,10);if(Vo||Us===qo.index){for(so.length?(_r[wa].innerText=so,Fs(_r[wa])):At(Ee.dom,_r[wa]);_r[++wa];)if(Us=parseInt(es(_r[wa]),10),Us===un)At(Ee.dom,_r[wa]);else{wa--;break}Lo&&Nn--}else un>rn&&_r[wa].setAttribute("data-mce-index",String(un-1))}return Be.set({...qo,count:Vo?0:qo.count-1,index:Nn}),Lo?vr(Ee,Be):hr(Ee,Be),!Vo&&Be.get().count>0},xr=(Ee,Be,so)=>{let Lo,Vo;const qo=Be.get(),rn=ue.toArray(Ee.getBody().getElementsByTagName("span"));for(let un=0;un<rn.length;un++){const Nn=es(rn[un]);Nn!==null&&Nn.length&&(Nn===qo.index.toString()&&(Lo||(Lo=rn[un].firstChild),Vo=rn[un].firstChild),Fs(rn[un]))}if(Be.set({...qo,index:-1,count:0,text:""}),Lo&&Vo){const un=Ee.dom.createRng();return un.setStart(Lo,0),un.setEnd(Vo,Vo.data.length),so!==!1&&Ee.selection.setRng(un),un}else return},Te=(Ee,Be)=>Be.get().count>1,Se=(Ee,Be)=>Be.get().count>1,Nt=(Ee,Be)=>({done:un=>xr(Ee,Be,un),find:(un,Nn,or,_r=!1)=>nn(Ee,Be,un,Nn,or,_r),next:()=>vr(Ee,Be),prev:()=>hr(Ee,Be),replace:(un,Nn,or)=>ga(Ee,Be,un,Nn,or)}),Pt=Ee=>{const Be=wo(Ae.none()),so=()=>Be.get().each(Ee);return{clear:()=>{so(),Be.set(Ae.none())},isSet:()=>Be.get().isSome(),get:()=>Be.get(),set:un=>{so(),Be.set(Ae.some(un))}}},xn=()=>{const Ee=Pt(Mo);return{...Ee,on:so=>Ee.get().each(so)}},Sn=(Ee,Be)=>{const so=xn();Ee.undoManager.add();const Lo=ue.trim(Ee.selection.getContent({format:"text"})),Vo=Cr=>{Cr.setEnabled("next",Te(Ee,Be)),Cr.setEnabled("prev",Se(Ee,Be))},qo=Cr=>{const Pr=Cr.getData(),Un=Be.get();Be.set({...Un,matchCase:Pr.matchcase,wholeWord:Pr.wholewords,inSelection:Pr.inselection})},rn=(Cr,Pr)=>{Ro(["replace","replaceall","prev","next"],os=>Cr.setEnabled(os,!Pr))},un=(Cr,Pr)=>{Pr.redial(ea(Cr,Pr.getData()))},Nn=(Cr,Pr)=>{bo.browser.isSafari()&&bo.deviceType.isTouch()&&(Pr==="find"||Pr==="replace"||Pr==="replaceall")&&Cr.focus(Pr)},or=Cr=>{xr(Ee,Be,!1),rn(Cr,!0),Vo(Cr)},_r=Cr=>{const Pr=Cr.getData(),Un=Be.get();if(!Pr.findtext.length){or(Cr);return}if(Un.text===Pr.findtext&&Un.matchCase===Pr.matchcase&&Un.wholeWord===Pr.wholewords)vr(Ee,Be);else{const Ma=nn(Ee,Be,Pr.findtext,Pr.matchcase,Pr.wholewords,Pr.inselection);Ma<=0&&un(!0,Cr),rn(Cr,Ma===0)}Vo(Cr)},wa=Be.get(),sa={findtext:Lo,replacetext:"",wholewords:wa.wholeWord,matchcase:wa.matchCase,inselection:wa.inSelection},Us=Cr=>{const Pr=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return Cr&&Pr.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),Pr},ea=(Cr,Pr)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:Us(Cr)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:Pr,onChange:(Un,Ma)=>{Cr&&un(!1,Un),Ma.name==="findtext"&&Be.get().count>0&&or(Un)},onAction:(Un,Ma)=>{const os=Un.getData();switch(Ma.name){case"find":_r(Un);break;case"replace":ga(Ee,Be,os.replacetext)?Vo(Un):or(Un);break;case"replaceall":ga(Ee,Be,os.replacetext,!0,!0),or(Un);break;case"prev":hr(Ee,Be),Vo(Un);break;case"next":vr(Ee,Be),Vo(Un);break;case"matchcase":case"wholewords":case"inselection":un(!1,Un),qo(Un),or(Un);break}Nn(Un,Ma.name)},onSubmit:Un=>{_r(Un),Nn(Un,"find")},onClose:()=>{Ee.focus(),xr(Ee,Be),Ee.undoManager.add()}});so.set(Ee.windowManager.open(ea(!1,sa),{inline:"toolbar"}))},Ln=(Ee,Be)=>{Ee.addCommand("SearchReplace",()=>{Sn(Ee,Be)})},Qr=(Ee,Be)=>()=>{Sn(Ee,Be)},wr=(Ee,Be)=>{Ee.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Qr(Ee,Be),icon:"search"}),Ee.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Qr(Ee,Be),icon:"search",shortcut:"Meta+F"}),Ee.shortcuts.add("Meta+F","",Qr(Ee,Be))};var dn=()=>{Jo.add("searchreplace",Ee=>{const Be=wo({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Ln(Ee,Be),wr(Ee,Be),Nt(Ee,Be)})};dn()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const Jo=(C,R,W)=>{var ie;return W(C,R.prototype)?!0:((ie=C.constructor)===null||ie===void 0?void 0:ie.name)===R.name},$o=C=>{const R=typeof C;return C===null?"null":R==="object"&&Array.isArray(C)?"array":R==="object"&&Jo(C,String,(W,ie)=>ie.isPrototypeOf(W))?"string":R},sn=C=>R=>$o(R)===C,Qo=C=>R=>typeof R===C,mo=C=>R=>C===R,Wo=sn("string"),jt=sn("array"),Co=Qo("boolean"),Io=mo(void 0),Go=C=>C==null,gn=C=>!Go(C),Mo=Qo("function"),Ve=Qo("number"),ut=()=>{},ho=(C,R)=>W=>C(R(W)),uo=C=>()=>C,Ae=C=>C,ht=(C,R)=>C===R;function bo(C,...R){return(...W)=>{const ie=R.concat(W);return C.apply(null,ie)}}const ue=C=>{C()},$e=uo(!1),ge=uo(!0);class mt{constructor(R,W){this.tag=R,this.value=W}static some(R){return new mt(!0,R)}static none(){return mt.singletonNone}fold(R,W){return this.tag?W(this.value):R()}isSome(){return this.tag}isNone(){return!this.tag}map(R){return this.tag?mt.some(R(this.value)):mt.none()}bind(R){return this.tag?R(this.value):mt.none()}exists(R){return this.tag&&R(this.value)}forall(R){return!this.tag||R(this.value)}filter(R){return!this.tag||R(this.value)?this:mt.none()}getOr(R){return this.tag?this.value:R}or(R){return this.tag?this:R}getOrThunk(R){return this.tag?this.value:R()}orThunk(R){return this.tag?this:R()}getOrDie(R){if(this.tag)return this.value;throw new Error(R??"Called getOrDie on None")}static from(R){return gn(R)?mt.some(R):mt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(R){this.tag&&R(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}mt.singletonNone=new mt(!1);const Ro=Object.keys,go=Object.hasOwnProperty,Ho=(C,R)=>{const W=Ro(C);for(let ie=0,Ie=W.length;ie<Ie;ie++){const Yt=W[ie],lo=C[Yt];R(lo,Yt)}},Uo=C=>(R,W)=>{C[W]=R},Rt=(C,R,W,ie)=>{Ho(C,(Ie,Yt)=>{(R(Ie,Yt)?W:ie)(Ie,Yt)})},D=(C,R)=>{const W={};return Rt(C,R,Uo(W),ut),W},qe=(C,R)=>{const W=[];return Ho(C,(ie,Ie)=>{W.push(R(ie,Ie))}),W},Je=C=>qe(C,Ae),gt=C=>Ro(C).length,Bt=(C,R)=>ct(C,R)?mt.from(C[R]):mt.none(),ct=(C,R)=>go.call(C,R),$t=(C,R)=>ct(C,R)&&C[R]!==void 0&&C[R]!==null,So=C=>{for(const R in C)if(go.call(C,R))return!1;return!0},Dt=Array.prototype.indexOf,F=Array.prototype.push,Ot=(C,R)=>Dt.call(C,R),kt=(C,R)=>Ot(C,R)>-1,ro=(C,R)=>{for(let W=0,ie=C.length;W<ie;W++){const Ie=C[W];if(R(Ie,W))return!0}return!1},co=(C,R)=>{const W=[];for(let ie=0;ie<C;ie++)W.push(R(ie));return W},ao=(C,R)=>{const W=C.length,ie=new Array(W);for(let Ie=0;Ie<W;Ie++){const Yt=C[Ie];ie[Ie]=R(Yt,Ie)}return ie},yo=(C,R)=>{for(let W=0,ie=C.length;W<ie;W++){const Ie=C[W];R(Ie,W)}},No=(C,R)=>{for(let W=C.length-1;W>=0;W--){const ie=C[W];R(ie,W)}},_e=(C,R)=>{const W=[],ie=[];for(let Ie=0,Yt=C.length;Ie<Yt;Ie++){const lo=C[Ie];(R(lo,Ie)?W:ie).push(lo)}return{pass:W,fail:ie}},Vt=(C,R)=>{const W=[];for(let ie=0,Ie=C.length;ie<Ie;ie++){const Yt=C[ie];R(Yt,ie)&&W.push(Yt)}return W},Ct=(C,R,W)=>(No(C,(ie,Ie)=>{W=R(W,ie,Ie)}),W),et=(C,R,W)=>(yo(C,(ie,Ie)=>{W=R(W,ie,Ie)}),W),ye=(C,R,W)=>{for(let ie=0,Ie=C.length;ie<Ie;ie++){const Yt=C[ie];if(R(Yt,ie))return mt.some(Yt);if(W(Yt,ie))break}return mt.none()},fe=(C,R)=>ye(C,R,$e),it=C=>{const R=[];for(let W=0,ie=C.length;W<ie;++W){if(!jt(C[W]))throw new Error("Arr.flatten item "+W+" was not an array, input: "+C);F.apply(R,C[W])}return R},ke=(C,R)=>it(ao(C,R)),he=(C,R)=>{for(let W=0,ie=C.length;W<ie;++W){const Ie=C[W];if(R(Ie,W)!==!0)return!1}return!0},De=(C,R)=>{const W={};for(let ie=0,Ie=C.length;ie<Ie;ie++){const Yt=C[ie];W[String(Yt)]=R(Yt,ie)}return W},at=(C,R)=>R>=0&&R<C.length?mt.some(C[R]):mt.none(),_t=C=>at(C,0),We=C=>at(C,C.length-1),dt=(C,R)=>{for(let W=0;W<C.length;W++){const ie=R(C[W],W);if(ie.isSome())return ie}return mt.none()},io=8,Oo=9,tt=11,vt=1,_o=3,Fo=(C,R)=>{const ie=(R||document).createElement("div");if(ie.innerHTML=C,!ie.hasChildNodes()||ie.childNodes.length>1){const Ie="HTML does not have a single root node";throw console.error(Ie,C),new Error(Ie)}return Zo(ie.childNodes[0])},on=(C,R)=>{const ie=(R||document).createElement(C);return Zo(ie)},_n=(C,R)=>{const ie=(R||document).createTextNode(C);return Zo(ie)},Zo=C=>{if(C==null)throw new Error("Node cannot be null or undefined");return{dom:C}},zt={fromHtml:Fo,fromTag:on,fromText:_n,fromDom:Zo,fromPoint:(C,R,W)=>mt.from(C.dom.elementFromPoint(R,W)).map(Zo)},Xo=(C,R)=>{const W=C.dom;if(W.nodeType!==vt)return!1;{const ie=W;if(ie.matches!==void 0)return ie.matches(R);if(ie.msMatchesSelector!==void 0)return ie.msMatchesSelector(R);if(ie.webkitMatchesSelector!==void 0)return ie.webkitMatchesSelector(R);if(ie.mozMatchesSelector!==void 0)return ie.mozMatchesSelector(R);throw new Error("Browser lacks native selectors")}},Kn=C=>C.nodeType!==vt&&C.nodeType!==Oo&&C.nodeType!==tt||C.childElementCount===0,ar=(C,R)=>{const W=R===void 0?document:R.dom;return Kn(W)?[]:ao(W.querySelectorAll(C),zt.fromDom)},Vr=(C,R)=>{const W=R===void 0?document:R.dom;return Kn(W)?mt.none():mt.from(W.querySelector(C)).map(zt.fromDom)},Ft=(C,R)=>C.dom===R.dom,Gr=Xo;typeof window<"u"||Function("return this;")();const Nr=C=>C.dom.nodeName.toLowerCase(),yr=C=>C.dom.nodeType,jo=C=>R=>yr(R)===C,$r=C=>yr(C)===io||Nr(C)==="#comment",ls=jo(vt),Fa=jo(_o),cs=jo(Oo),La=jo(tt),es=C=>R=>ls(R)&&Nr(R)===C,ts=C=>zt.fromDom(C.dom.ownerDocument),Fs=C=>cs(C)?C:ts(C),za=C=>mt.from(C.dom.parentNode).map(zt.fromDom),nt=(C,R)=>{const W=Mo(R)?R:$e;let ie=C.dom;const Ie=[];for(;ie.parentNode!==null&&ie.parentNode!==void 0;){const Yt=ie.parentNode,lo=zt.fromDom(Yt);if(Ie.push(lo),W(lo)===!0)break;ie=Yt}return Ie},At=C=>mt.from(C.dom.previousSibling).map(zt.fromDom),pt=C=>mt.from(C.dom.nextSibling).map(zt.fromDom),nn=C=>ao(C.dom.childNodes,zt.fromDom),vr=(C,R)=>{const W=C.dom.childNodes;return mt.from(W[R]).map(zt.fromDom)},hr=C=>vr(C,0),Os=C=>La(C)&&gn(C.dom.host),ga=C=>zt.fromDom(C.dom.getRootNode()),xr=C=>{const R=ga(C);return Os(R)?mt.some(R):mt.none()},Te=C=>zt.fromDom(C.dom.host),Se=C=>{const R=Fa(C)?C.dom.parentNode:C.dom;if(R==null||R.ownerDocument===null)return!1;const W=R.ownerDocument;return xr(zt.fromDom(R)).fold(()=>W.body.contains(R),ho(Se,Te))};var Nt=(C,R,W,ie,Ie)=>C(W,ie)?mt.some(W):Mo(Ie)&&Ie(W)?mt.none():R(W,ie,Ie);const Pt=(C,R,W)=>{let ie=C.dom;const Ie=Mo(W)?W:$e;for(;ie.parentNode;){ie=ie.parentNode;const Yt=zt.fromDom(ie);if(R(Yt))return mt.some(Yt);if(Ie(Yt))break}return mt.none()},xn=(C,R,W)=>Nt((Ie,Yt)=>Yt(Ie),Pt,C,R,W),Sn=(C,R)=>{const W=Ie=>R(zt.fromDom(Ie));return fe(C.dom.childNodes,W).map(zt.fromDom)},Ln=(C,R,W)=>Pt(C,ie=>Xo(ie,R),W),Qr=(C,R)=>Sn(C,W=>Xo(W,R)),wr=(C,R)=>Vr(R,C),dn=(C,R,W)=>Nt((Ie,Yt)=>Xo(Ie,Yt),Ln,C,R,W),Ee=C=>dn(C,"[contenteditable]"),Be=(C,R=!1)=>Se(C)?C.dom.isContentEditable:Ee(C).fold(uo(R),W=>so(W)==="true"),so=C=>C.dom.contentEditable,Lo=C=>C.nodeName.toLowerCase(),Vo=C=>zt.fromDom(C.getBody()),qo=C=>R=>Ft(R,Vo(C)),rn=C=>C?C.replace(/px$/,""):"",un=C=>/^\d+(\.\d+)?$/.test(C)?C+"px":C,Nn=C=>zt.fromDom(C.selection.getStart()),or=C=>zt.fromDom(C.selection.getEnd()),_r=C=>xn(C,es("table")).forall(Be),wa=(C,R)=>Vt(nn(C),R),sa=(C,R)=>{let W=[];return yo(nn(C),ie=>{R(ie)&&(W=W.concat([ie])),W=W.concat(sa(ie,R))}),W},Us=(C,R)=>wa(C,W=>Xo(W,R)),ea=(C,R)=>ar(R,C),Cr=(C,R,W)=>{if(Wo(W)||Co(W)||Ve(W))C.setAttribute(R,W+"");else throw console.error("Invalid call to Attribute.set. Key ",R,":: Value ",W,":: Element ",C),new Error("Attribute value was not simple")},Pr=(C,R,W)=>{Cr(C.dom,R,W)},Un=(C,R)=>{const W=C.dom;Ho(R,(ie,Ie)=>{Cr(W,Ie,ie)})},Ma=(C,R)=>{const W=C.dom.getAttribute(R);return W===null?void 0:W},os=(C,R)=>mt.from(Ma(C,R)),zi=(C,R)=>{C.dom.removeAttribute(R)},jl=C=>et(C.dom.attributes,(R,W)=>(R[W.name]=W.value,R),{}),wn=(C,R,W=ht)=>C.exists(ie=>W(ie,R)),ni=C=>{const R=[],W=ie=>{R.push(ie)};for(let ie=0;ie<C.length;ie++)C[ie].each(W);return R},ia=(C,R,W)=>C.isSome()&&R.isSome()?mt.some(W(C.getOrDie(),R.getOrDie())):mt.none(),Ga=C=>C.bind(Ae),yl=(C,R)=>C?mt.some(R):mt.none(),Mr=(C,R)=>C.substring(R),Xs=(C,R,W)=>R===""||C.length>=R.length&&C.substr(W,W+R.length)===R,da=(C,R)=>Dn(C,R)?Mr(C,R.length):C,Dn=(C,R)=>Xs(C,R,0),Ml=(C=>R=>R.replace(C,""))(/^\s+|\s+$/g),Ua=C=>C.length>0,ri=C=>!Ua(C),to=(C,R=10)=>{const W=parseInt(C,R);return isNaN(W)?mt.none():mt.some(W)},bi=C=>{const R=parseFloat(C);return isNaN(R)?mt.none():mt.some(R)},Ns=C=>C.style!==void 0&&Mo(C.style.getPropertyValue),qn=(C,R,W)=>{if(!Wo(W))throw console.error("Invalid call to CSS.set. Property ",R,":: Value ",W,":: Element ",C),new Error("CSS value must be a string: "+W);Ns(C)&&C.style.setProperty(R,W)},Zs=(C,R)=>{Ns(C)&&C.style.removeProperty(R)},Vl=(C,R,W)=>{const ie=C.dom;qn(ie,R,W)},yi=(C,R)=>{const W=C.dom,Ie=window.getComputedStyle(W).getPropertyValue(R);return Ie===""&&!Se(C)?Da(W,R):Ie},Da=(C,R)=>Ns(C)?C.style.getPropertyValue(R):"",Js=(C,R)=>{const W=C.dom,ie=Da(W,R);return mt.from(ie).filter(Ie=>Ie.length>0)},ur=(C,R)=>{const W=C.dom;Zs(W,R),wn(os(C,"style").map(Ml),"")&&zi(C,"style")},Ur=(C,R,W=0)=>os(C,R).map(ie=>parseInt(ie,10)).getOr(W),ns=(C,R)=>ks(C,R,ge),ks=(C,R,W)=>ke(nn(C),ie=>Xo(ie,R)?W(ie)?[ie]:[]:ks(ie,R,W)),Q=["tfoot","thead","tbody","colgroup"],Ce=C=>kt(Q,C),Xe=(C,R)=>({rows:C,columns:R}),Wt=(C,R,W)=>({element:C,rowspan:R,colspan:W}),xo=(C,R,W,ie,Ie,Yt)=>({element:C,rowspan:R,colspan:W,row:ie,column:Ie,isLocked:Yt}),X=(C,R,W)=>({element:C,cells:R,section:W}),be=(C,R,W,ie)=>({startRow:C,startCol:R,finishRow:W,finishCol:ie}),lt=(C,R,W)=>({element:C,colspan:R,column:W}),Lt=(C,R)=>({element:C,columns:R}),pn=(C,R,W=$e)=>{if(W(R))return mt.none();if(kt(C,Nr(R)))return mt.some(R);const ie=Ie=>Xo(Ie,"table")||W(Ie);return Ln(R,C.join(","),ie)},$=(C,R)=>pn(["td","th"],C,R),ne=C=>ns(C,"th,td"),Re=C=>Xo(C,"colgroup")?Us(C,"col"):ke(nr(C),R=>Us(R,"col")),bt=(C,R)=>dn(C,"table",R),Eo=C=>ns(C,"tr"),nr=C=>bt(C).fold(uo([]),R=>Us(R,"colgroup")),la=(C,R)=>ao(C,W=>{if(Nr(W)==="colgroup"){const ie=ao(Re(W),Ie=>{const Yt=Ur(Ie,"span",1);return Wt(Ie,1,Yt)});return X(W,ie,"colgroup")}else{const ie=ao(ne(W),Ie=>{const Yt=Ur(Ie,"rowspan",1),lo=Ur(Ie,"colspan",1);return Wt(Ie,Yt,lo)});return X(W,ie,R(W))}}),_s=C=>za(C).map(R=>{const W=Nr(R);return Ce(W)?W:"tbody"}).getOr("tbody"),Ls=C=>{const R=Eo(C),ie=[...nr(C),...R];return la(ie,_s)},ai="data-snooker-locked-cols",Cs=C=>os(C,ai).bind(R=>mt.from(R.match(/\d+/g))).map(R=>De(R,ge)),Dl=(C,R)=>C+","+R,Ac=(C,R,W)=>mt.from(C.access[Dl(R,W)]),Rl=(C,R,W)=>{const ie=Is(C,Ie=>W(R,Ie.element));return ie.length>0?mt.some(ie[0]):mt.none()},Is=(C,R)=>{const W=ke(C.all,ie=>ie.cells);return Vt(W,R)},Oc=C=>{const R={};let W=0;return yo(C.cells,ie=>{const Ie=ie.colspan;co(Ie,Yt=>{const lo=W+Yt;R[lo]=lt(ie.element,Ie,lo)}),W+=Ie}),R},Ze=C=>{const R={},W=[],Ie=_t(C).map(oa=>oa.element).bind(bt).bind(Cs).getOr({});let Yt=0,lo=0,tn=0;const{pass:ln,fail:Rn}=_e(C,oa=>oa.section==="colgroup");yo(Rn,oa=>{const sc=[];yo(oa.cells,Yi=>{let Cl=0;for(;R[Dl(tn,Cl)]!==void 0;)Cl++;const Fg=$t(Ie,Cl.toString()),qm=xo(Yi.element,Yi.rowspan,Yi.colspan,tn,Cl,Fg);for(let Fu=0;Fu<Yi.colspan;Fu++)for(let sd=0;sd<Yi.rowspan;sd++){const uu=tn+sd,bc=Cl+Fu,Lu=Dl(uu,bc);R[Lu]=qm,lo=Math.max(lo,bc+1)}sc.push(qm)}),Yt++,W.push(X(oa.element,sc,oa.section)),tn++});const{columns:Zr,colgroups:Or}=We(ln).map(oa=>{const sc=Oc(oa);return{colgroups:[Lt(oa.element,Je(sc))],columns:sc}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Xe(Yt,lo),access:R,all:W,columns:Zr,colgroups:Or}},ci={fromTable:C=>{const R=Ls(C);return Ze(R)},generate:Ze,getAt:Ac,findItem:Rl,filterItems:Is,justCells:C=>ke(C.all,R=>R.cells),justColumns:C=>Je(C.columns),hasColumns:C=>Ro(C.columns).length>0,getColumnAt:(C,R)=>mt.from(C.columns[R])};var Yd=tinymce.util.Tools.resolve("tinymce.util.Tools");const xl=(C,R,W)=>{const ie=C.select("td,th",R);let Ie;for(let Yt=0;Yt<ie.length;Yt++){const lo=C.getStyle(ie[Yt],W);if(Io(Ie)&&(Ie=lo),Ie!==lo)return""}return Ie},Ms=(C,R,W)=>{Yd.each("left center right".split(" "),ie=>{ie!==W&&C.formatter.remove("align"+ie,{},R)}),W&&C.formatter.apply("align"+W,{},R)},vi=(C,R,W)=>{Yd.each("top middle bottom".split(" "),ie=>{ie!==W&&C.formatter.remove("valign"+ie,{},R)}),W&&C.formatter.apply("valign"+W,{},R)},le=(C,R,W)=>{C.dispatch("TableModified",{...W,table:R})},ze=(C,R)=>bi(C).getOr(R),yt=(C,R,W)=>ze(yi(C,R),W),no=(C,R,W,ie)=>{const Ie=yt(C,`padding-${W}`,0),Yt=yt(C,`padding-${ie}`,0),lo=yt(C,`border-${W}-width`,0),tn=yt(C,`border-${ie}-width`,0);return R-Ie-Yt-lo-tn},zn=(C,R)=>{const W=C.dom,ie=W.getBoundingClientRect().width||W.offsetWidth;return R==="border-box"?ie:no(C,ie,"left","right")},Fr=C=>zn(C,"content-box");var Ps=tinymce.util.Tools.resolve("tinymce.Env");const ua="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",ta=co(5,C=>{const R=`${C+1}px`;return{title:R,value:R}}),Ds=ao(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],C=>({title:C,value:C.toLowerCase()})),pa="100%",_i=C=>{var R;const W=C.dom,ie=(R=W.getParent(C.selection.getStart(),W.isBlock))!==null&&R!==void 0?R:C.getBody();return Fr(zt.fromDom(ie))+"px"},wl=(C,R)=>eu(C)||!Tr(C)?R:Im(C)?{...R,width:_i(C)}:{...R,width:pa},Au=(C,R)=>eu(C)||Tr(C)?R:Im(C)?{...R,width:_i(C)}:{...R,width:pa},Rs=C=>R=>R.options.get(C),xi=C=>{const R=C.options.register;R("table_border_widths",{processor:"object[]",default:ta}),R("table_border_styles",{processor:"object[]",default:Ds}),R("table_cell_advtab",{processor:"boolean",default:!0}),R("table_row_advtab",{processor:"boolean",default:!0}),R("table_advtab",{processor:"boolean",default:!0}),R("table_appearance_options",{processor:"boolean",default:!0}),R("table_grid",{processor:"boolean",default:!Ps.deviceType.isTouch()}),R("table_cell_class_list",{processor:"object[]",default:[]}),R("table_row_class_list",{processor:"object[]",default:[]}),R("table_class_list",{processor:"object[]",default:[]}),R("table_toolbar",{processor:"string",default:ua}),R("table_background_color_map",{processor:"object[]",default:[]}),R("table_border_color_map",{processor:"object[]",default:[]})},ka=Rs("table_sizing_mode"),ds=Rs("table_border_widths"),Ia=Rs("table_border_styles"),Bl=Rs("table_cell_advtab"),rs=Rs("table_row_advtab"),yn=Rs("table_advtab"),vd=Rs("table_appearance_options"),$l=Rs("table_grid"),Tr=Rs("table_style_by_css"),Xd=Rs("table_cell_class_list"),Jd=Rs("table_row_class_list"),Qd=Rs("table_class_list"),Dr=Rs("table_toolbar"),Ti=Rs("table_background_color_map"),Fl=Rs("table_border_color_map"),Im=C=>ka(C)==="fixed",eu=C=>ka(C)==="responsive",al=C=>{const R=C.options,W=R.get("table_default_styles");return R.isSet("table_default_styles")?W:wl(C,W)},mc=C=>{const R=C.options,W=R.get("table_default_attributes");return R.isSet("table_default_attributes")?W:Au(C,W)},Ai=(C,R)=>R.column>=C.startCol&&R.column+R.colspan-1<=C.finishCol&&R.row>=C.startRow&&R.row+R.rowspan-1<=C.finishRow,di=(C,R)=>{let W=!0;const ie=bo(Ai,R);for(let Ie=R.startRow;Ie<=R.finishRow;Ie++)for(let Yt=R.startCol;Yt<=R.finishCol;Yt++)W=W&&ci.getAt(C,Ie,Yt).exists(ie);return W?mt.some(R):mt.none()},xd=(C,R)=>be(Math.min(C.row,R.row),Math.min(C.column,R.column),Math.max(C.row+C.rowspan-1,R.row+R.rowspan-1),Math.max(C.column+C.colspan-1,R.column+R.colspan-1)),us=(C,R,W)=>{const ie=ci.findItem(C,R,Ft),Ie=ci.findItem(C,W,Ft);return ie.bind(Yt=>Ie.map(lo=>xd(Yt,lo)))},vs=(C,R,W)=>us(C,R,W).bind(ie=>di(C,ie)),wd=(C,R,W)=>{const ie=Nc(C);return vs(ie,R,W)},Nc=ci.fromTable,ca=(C,R)=>{za(C).each(ie=>{ie.dom.insertBefore(R.dom,C.dom)})},Wi=(C,R)=>{pt(C).fold(()=>{za(C).each(Ie=>{Ll(Ie,R)})},ie=>{ca(ie,R)})},Mc=(C,R)=>{hr(C).fold(()=>{Ll(C,R)},ie=>{C.dom.insertBefore(R.dom,ie.dom)})},Ll=(C,R)=>{C.dom.appendChild(R.dom)},Dc=(C,R)=>{ca(C,R),Ll(R,C)},kd=(C,R)=>{yo(R,(W,ie)=>{const Ie=ie===0?C:R[ie-1];Wi(Ie,W)})},_p=(C,R)=>{yo(R,W=>{Ll(C,W)})},gc=C=>{const R=C.dom;R.parentNode!==null&&R.parentNode.removeChild(R)},Yc=C=>{const R=nn(C);R.length>0&&kd(C,R),gc(C)},Jc=((C,R)=>{const W=Yt=>{if(!C(Yt))throw new Error("Can only get "+R+" value of a "+R+" node");return ie(Yt).getOr("")},ie=Yt=>C(Yt)?mt.from(Yt.dom.nodeValue):mt.none();return{get:W,getOption:ie,set:(Yt,lo)=>{if(!C(Yt))throw new Error("Can only set raw "+R+" value of a "+R+" node");Yt.dom.nodeValue=lo}}})(Fa,"text"),sl=C=>Jc.get(C),Hn=(C,R)=>Jc.set(C,R);var Rc=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ou=()=>{const C=Rn=>zt.fromDom(Rn.dom.cloneNode(!1)),R=Rn=>Fs(Rn).dom,W=Rn=>ls(Rn)?Nr(Rn)==="body"?!0:kt(Rc,Nr(Rn)):!1,ie=Rn=>ls(Rn)?kt(["br","img","hr","input"],Nr(Rn)):!1,Ie=Rn=>ls(Rn)&&Ma(Rn,"contenteditable")==="false",Yt=(Rn,Zr)=>Rn.dom.compareDocumentPosition(Zr.dom),lo=(Rn,Zr)=>{const Or=jl(Rn);Un(Zr,Or)},tn=Rn=>{const Zr=Nr(Rn);return kt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Zr)},ln=Rn=>ls(Rn)?os(Rn,"lang"):mt.none();return{up:uo({selector:Ln,closest:dn,predicate:Pt,all:nt}),down:uo({selector:ea,predicate:sa}),styles:uo({get:yi,getRaw:Js,set:Vl,remove:ur}),attrs:uo({get:Ma,set:Pr,remove:zi,copyTo:lo}),insert:uo({before:ca,after:Wi,afterAll:kd,append:Ll,appendAll:_p,prepend:Mc,wrap:Dc}),remove:uo({unwrap:Yc,remove:gc}),create:uo({nu:zt.fromTag,clone:C,text:zt.fromText}),query:uo({comparePosition:Yt,prevSibling:At,nextSibling:pt}),property:uo({children:nn,name:Nr,parent:za,document:R,isText:Fa,isComment:$r,isElement:ls,isSpecial:tn,getLanguage:ln,getText:sl,setText:Hn,isBoundary:W,isEmptyTag:ie,isNonEditable:Ie}),eq:Ft,is:Gr}};const Cp=(C,R,W,ie)=>{const Ie=W[0],Yt=W.slice(1);return ie(C,R,Ie,Yt)},Pm=(C,R,W)=>W.length>0?Cp(C,R,W,Ss):mt.none(),Ss=(C,R,W,ie)=>{const Ie=R(C,W);return Ct(ie,(Yt,lo)=>{const tn=R(C,lo);return tu(C,Yt,tn)},Ie)},tu=(C,R,W)=>R.bind(ie=>W.filter(bo(C.eq,ie))),ou=Pm,qs=Ou(),Ws=(C,R)=>ou(qs,(W,ie)=>C(ie),R),_d=C=>Ln(C,"table"),ms=(C,R)=>{const W=ea(C,R);return W.length>0?mt.some(W):mt.none()},Ng=(C,R,W)=>wr(C,R).bind(ie=>wr(C,W).bind(Ie=>Ws(_d,[ie,Ie]).map(Yt=>({first:ie,last:Ie,table:Yt})))),Qc=(C,R)=>ms(C,R),tc=(C,R,W)=>Ng(C,R,W).bind(ie=>{const Ie=ln=>Ft(C,ln),Yt="thead,tfoot,tbody,table",lo=Ln(ie.first,Yt,Ie),tn=Ln(ie.last,Yt,Ie);return lo.bind(ln=>tn.bind(Rn=>Ft(ln,Rn)?wd(ie.table,ie.first,ie.last):mt.none()))}),Nu=C=>ao(C,zt.fromDom),Pa="data-mce-selected",Oi="td["+Pa+"],th["+Pa+"]",si="data-mce-first-selected",bn="td["+si+"],th["+si+"]",Hs="data-mce-last-selected",ed="td["+Hs+"],th["+Hs+"]",Sa={selected:Pa,selectedSelector:Oi,firstSelected:si,firstSelectedSelector:bn,lastSelected:Hs,lastSelectedSelector:ed},ui=C=>bt(C).bind(R=>Qc(R,Sa.firstSelectedSelector)).fold(uo(C),R=>R[0]),oc=C=>(R,W)=>{const ie=Nr(R),Ie=ie==="col"||ie==="colgroup"?ui(R):R;return dn(Ie,C,W)},oo=oc("th,td,caption"),Ni=oc("th,td"),xs=C=>Nu(C.model.table.getSelectedCells()),vo=(C,R)=>{const W=Ni(C),ie=W.bind(Ie=>bt(Ie)).map(Ie=>Eo(Ie));return ia(W,ie,(Ie,Yt)=>Vt(Yt,lo=>ro(Nu(lo.dom.cells),tn=>Ma(tn,R)==="1"||Ft(tn,Ie)))).getOr([])},Gi=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],td=C=>({value:fa(C)}),od=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,wi=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Lr=C=>od.test(C)||wi.test(C),fa=C=>da(C,"#").toUpperCase(),nu=C=>Lr(C)?mt.some({value:fa(C)}):mt.none(),_a=C=>{const R=C.toString(16);return(R.length===1?"0"+R:R).toUpperCase()},Kr=C=>{const R=_a(C.red)+_a(C.green)+_a(C.blue);return td(R)},pc=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Mg=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,js=(C,R,W,ie)=>({red:C,green:R,blue:W,alpha:ie}),St=(C,R,W,ie)=>{const Ie=parseInt(C,10),Yt=parseInt(R,10),lo=parseInt(W,10),tn=parseFloat(ie);return js(Ie,Yt,lo,tn)},il=C=>{const R=pc.exec(C);if(R!==null)return mt.some(St(R[1],R[2],R[3],"1"));const W=Mg.exec(C);return W!==null?mt.some(St(W[1],W[2],W[3],W[4])):mt.none()},Dg=C=>nu(C).orThunk(()=>il(C).map(Kr)).getOrThunk(()=>{const R=document.createElement("canvas");R.height=1,R.width=1;const W=R.getContext("2d");W.clearRect(0,0,R.width,R.height),W.fillStyle="#FFFFFF",W.fillStyle=C,W.fillRect(0,0,1,1);const ie=W.getImageData(0,0,1,1).data,Ie=ie[0],Yt=ie[1],lo=ie[2],tn=ie[3];return Kr(js(Ie,Yt,lo,tn))}),gs=C=>il(C).map(Kr).map(R=>"#"+R.value).getOr(C),ll=C=>{let R=C;return{get:()=>R,set:Ie=>{R=Ie}}},mi=C=>{const R=ll(mt.none()),W=()=>R.get().each(C);return{clear:()=>{W(),R.set(mt.none())},isSet:()=>R.get().isSome(),get:()=>R.get(),set:tn=>{W(),R.set(mt.some(tn))}}},ps=()=>mi(C=>C.unbind()),kl=(C,R,W)=>ie=>{const Ie=ps(),Yt=ri(W),lo=()=>{const tn=xs(C),ln=Rn=>C.formatter.match(R,{value:W},Rn.dom,Yt);Yt?(ie.setActive(!ro(tn,ln)),Ie.set(C.formatter.formatChanged(R,Rn=>ie.setActive(!Rn),!0))):(ie.setActive(he(tn,ln)),Ie.set(C.formatter.formatChanged(R,ie.setActive,!1,{value:W})))};return C.initialized?lo():C.on("init",lo),Ie.clear},Qs=C=>$t(C,"menu"),Mi=C=>ao(C,R=>{const W=R.text||R.title||"";return Qs(R)?{text:W,items:Mi(R.menu)}:{text:W,value:R.value}}),as=C=>C.length?mt.some(Mi([{text:"Select...",value:"mce-no-match"},...C])):mt.none(),Di=(C,R,W,ie)=>ao(R,Ie=>{const Yt=Ie.text||Ie.title;return Qs(Ie)?{type:"nestedmenuitem",text:Yt,getSubmenuItems:()=>Di(C,Ie.menu,W,ie)}:{text:Yt,type:"togglemenuitem",onAction:()=>ie(Ie.value),onSetup:kl(C,W,Ie.value)}}),cl=(C,R)=>W=>{C.execCommand("mceTableApplyCellStyle",!1,{[R]:W})},Cd=C=>ke(C,R=>Qs(R)?[{...R,menu:Cd(R.menu)}]:Ua(R.value)?[R]:[]),dl=(C,R,W,ie)=>Ie=>Ie(Di(C,R,W,ie)),Sd=(C,R,W)=>{const ie=ao(R,Ie=>({text:Ie.title,value:"#"+Dg(Ie.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:ie.length>0?ie:void 0,allowCustomColors:!1},onAction:Ie=>{const Yt=Ie.value==="remove"?"":Ie.value;C.execCommand("mceTableApplyCellStyle",!1,{[W]:Yt})}}]},cm=C=>()=>{const W=C.queryCommandValue("mceTableRowType")==="header"?"body":"header";C.execCommand("mceTableRowType",!1,{type:W})},Ed=C=>()=>{const W=C.queryCommandValue("mceTableColType")==="th"?"td":"th";C.execCommand("mceTableColType",!1,{type:W})},Gs=C=>as(Xd(C)).map(R=>({name:"class",type:"listbox",label:"Class",items:R})),T=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Gi}],j=C=>T.concat(Gs(C).toArray()),K=(C,R)=>{const ie=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Mi(Ia(C)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:R==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(ie):ie}},Le={normal:(C,R)=>{const W=C.dom;return{setAttrib:(lo,tn)=>{W.setAttrib(R,lo,tn)},setStyle:(lo,tn)=>{W.setStyle(R,lo,tn)},setFormat:(lo,tn)=>{tn===""?C.formatter.remove(lo,{value:null},R,!0):C.formatter.apply(lo,{value:tn},R)}}}},po=es("th"),In=(C,R)=>C&&R?"sectionCells":C?"section":"cells",cr=C=>{const R=C.section==="thead",W=wn(Zn(C.cells),"th");return C.section==="tfoot"?{type:"footer"}:R||W?{type:"header",subType:In(R,W)}:{type:"body"}},Zn=C=>{const R=Vt(C,W=>po(W.element));return R.length===0?mt.some("td"):R.length===C.length?mt.some("th"):mt.none()},kn=C=>{const R=ao(C,Ie=>cr(Ie).type),W=kt(R,"header"),ie=kt(R,"footer");if(!W&&!ie)return mt.some("body");{const Ie=kt(R,"body");return W&&!Ie&&!ie?mt.some("header"):!W&&!Ie&&ie?mt.some("footer"):mt.none()}},ha=C=>{let R=!1,W;return(...ie)=>(R||(R=!0,W=C.apply(null,ie)),W)},Za=(C,R)=>dt(C.all,W=>fe(W.cells,ie=>Ft(R,ie.element))),Ki=(C,R,W)=>{const ie=ao(R.selection,Yt=>$(Yt).bind(lo=>Za(C,lo)).filter(W)),Ie=ni(ie);return yl(Ie.length>0,Ie)},Ri=(C,R)=>R.mergable,fc=(C,R)=>R.unmergable,Bc=(C,R)=>Ki(C,R,ge),Vf=(C,R)=>Za(C,R).exists(W=>!W.isLocked),Mu=(C,R)=>he(R,W=>Vf(C,W)),$f=(C,R)=>Ri(C,R).filter(W=>Mu(C,W.cells)),vb=(C,R)=>fc(C,R).filter(W=>Mu(C,W));({...{generate:C=>{if(!jt(C))throw new Error("cases must be an array");if(C.length===0)throw new Error("there must be at least one case");const R=[],W={};return yo(C,(ie,Ie)=>{const Yt=Ro(ie);if(Yt.length!==1)throw new Error("one and only one name per case");const lo=Yt[0],tn=ie[lo];if(W[lo]!==void 0)throw new Error("duplicate key detected:"+lo);if(lo==="cata")throw new Error("cannot have a case named cata (sorry)");if(!jt(tn))throw new Error("case arguments must be an array");R.push(lo),W[lo]=(...ln)=>{const Rn=ln.length;if(Rn!==tn.length)throw new Error("Wrong number of arguments to case "+lo+". Expected "+tn.length+" ("+tn+"), got "+Rn);return{fold:(...Or)=>{if(Or.length!==C.length)throw new Error("Wrong number of arguments to fold. Expected "+C.length+", got "+Or.length);return Or[Ie].apply(null,ln)},match:Or=>{const Oa=Ro(Or);if(R.length!==Oa.length)throw new Error("Wrong number of arguments to match. Expected: "+R.join(",")+`
Actual: `+Oa.join(","));if(!he(R,sc=>kt(Oa,sc)))throw new Error("Not all branches were specified when using match. Specified: "+Oa.join(", ")+`
Required: `+R.join(", "));return Or[lo].apply(null,ln)},log:Or=>{console.log(Or,{constructors:R,constructor:lo,params:ln})}}}}),W}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Sp=(C,R)=>{const W=ci.fromTable(C);return Bc(W,R).bind(Ie=>{const Yt=Ie[Ie.length-1],lo=Ie[0].row,tn=Yt.row+Yt.rowspan,ln=W.all.slice(lo,tn);return kn(ln)}).getOr("")},nd=C=>Dn(C,"rgb")?gs(C):C,_l=C=>{const R=zt.fromDom(C);return{borderwidth:Js(R,"border-width").getOr(""),borderstyle:Js(R,"border-style").getOr(""),bordercolor:Js(R,"border-color").map(nd).getOr(""),backgroundcolor:Js(R,"background-color").map(nd).getOr("")}},Fc=C=>{const R=C[0],W=C.slice(1);return yo(W,ie=>{yo(Ro(R),Ie=>{Ho(ie,(Yt,lo)=>{const tn=R[Ie];tn!==""&&Ie===lo&&tn!==Yt&&(R[Ie]=Ie==="class"?"mce-no-match":"")})})}),R},Du=(C,R,W,ie)=>fe(C,Ie=>!Io(W.formatter.matchNode(ie,R+Ie))).getOr(""),um=bo(Du,["left","center","right"],"align"),Hm=bo(Du,["top","middle","bottom"],"valign"),mm=(C,R)=>{const W=al(C),ie=mc(C),Ie=()=>({borderstyle:Bt(W,"border-style").getOr(""),bordercolor:nd(Bt(W,"border-color").getOr("")),backgroundcolor:nd(Bt(W,"background-color").getOr(""))}),Yt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},lo=()=>{const Zr=W["border-width"];return Tr(C)&&Zr?{border:Zr}:Bt(ie,"border").fold(()=>({}),Or=>({border:Or}))},tn=R?Ie():{},ln=()=>{const Zr=Bt(W,"border-spacing").or(Bt(ie,"cellspacing")).fold(()=>({}),Oa=>({cellspacing:Oa})),Or=Bt(W,"border-padding").or(Bt(ie,"cellpadding")).fold(()=>({}),Oa=>({cellpadding:Oa}));return{...Zr,...Or}};return{...Yt,...W,...ie,...tn,...lo(),...ln()}},Rg=C=>bt(zt.fromDom(C)).map(R=>{const W={selection:Nu(C.cells)};return Sp(R,W)}).getOr(""),Uf=(C,R,W)=>{const ie=(tn,ln)=>{const Rn=Js(zt.fromDom(ln),"border-width");return Tr(C)&&Rn.isSome()?Rn.getOr(""):tn.getAttrib(ln,"border")||xl(C.dom,ln,"border-width")||xl(C.dom,ln,"border")||""},Ie=C.dom,Yt=Tr(C)?Ie.getStyle(R,"border-spacing")||Ie.getAttrib(R,"cellspacing"):Ie.getAttrib(R,"cellspacing")||Ie.getStyle(R,"border-spacing"),lo=Tr(C)?xl(Ie,R,"padding")||Ie.getAttrib(R,"cellpadding"):Ie.getAttrib(R,"cellpadding")||xl(Ie,R,"padding");return{width:Ie.getStyle(R,"width")||Ie.getAttrib(R,"width"),height:Ie.getStyle(R,"height")||Ie.getAttrib(R,"height"),cellspacing:Yt??"",cellpadding:lo??"",border:ie(Ie,R),caption:!!Ie.select("caption",R)[0],class:Ie.getAttrib(R,"class",""),align:um(C,R),...W?_l(R):{}}},Ru=(C,R,W)=>{const ie=C.dom;return{height:ie.getStyle(R,"height")||ie.getAttrib(R,"height"),class:ie.getAttrib(R,"class",""),type:Rg(R),align:um(C,R),...W?_l(R):{}}},gi=(C,R,W,ie)=>{const Ie=C.dom,Yt=ie.getOr(R);return{width:((tn,ln)=>Ie.getStyle(tn,ln)||Ie.getAttrib(tn,ln))(Yt,"width"),scope:Ie.getAttrib(R,"scope"),celltype:Lo(R),class:Ie.getAttrib(R,"class",""),halign:um(C,R),valign:Hm(C,R),...W?_l(R):{}}},ru=(C,R)=>{const W=ci.fromTable(C),ie=ci.justCells(W),Ie=Vt(ie,Yt=>ro(R,lo=>Ft(Yt.element,lo)));return ao(Ie,Yt=>({element:Yt.element.dom,column:ci.getColumnAt(W,Yt.column).map(lo=>lo.element.dom)}))},Ul=(C,R,W,ie)=>{ie("scope")&&C.setAttrib("scope",W.scope),ie("class")&&W.class!=="mce-no-match"&&C.setAttrib("class",W.class),ie("width")&&R.setStyle("width",un(W.width))},Lc=(C,R,W)=>{W("backgroundcolor")&&C.setFormat("tablecellbackgroundcolor",R.backgroundcolor),W("bordercolor")&&C.setFormat("tablecellbordercolor",R.bordercolor),W("borderstyle")&&C.setFormat("tablecellborderstyle",R.borderstyle),W("borderwidth")&&C.setFormat("tablecellborderwidth",un(R.borderwidth))},Td=(C,R,W,ie)=>{const Ie=R.length===1;yo(R,Yt=>{const lo=Yt.element,tn=Ie?ge:ie,ln=Le.normal(C,lo),Rn=Yt.column.map(Zr=>Le.normal(C,Zr)).getOr(ln);Ul(ln,Rn,W,tn),Bl(C)&&Lc(ln,W,tn),ie("halign")&&Ms(C,lo,W.halign),ie("valign")&&vi(C,lo,W.valign)})},wb=(C,R)=>{C.execCommand("mceTableCellType",!1,{type:R.celltype,no_events:!0})},jm=(C,R,W,ie)=>{const Ie=D(ie,(Yt,lo)=>W[lo]!==Yt);gt(Ie)>0&&R.length>=1&&bt(R[0]).each(Yt=>{const lo=ru(Yt,R),tn=gt(D(Ie,(Rn,Zr)=>Zr!=="scope"&&Zr!=="celltype"))>0,ln=ct(Ie,"celltype");(tn||ct(Ie,"scope"))&&Td(C,lo,ie,bo(ct,Ie)),ln&&wb(C,ie),le(C,Yt.dom,{structure:ln,style:tn})})},Bg=(C,R,W,ie)=>{const Ie=ie.getData();ie.close(),C.undoManager.transact(()=>{jm(C,R,W,Ie),C.focus()})},Vm=(C,R)=>{const W=bt(R[0]).map(ie=>ao(ru(ie,R),Ie=>gi(C,Ie.element,Bl(C),Ie.column)));return Fc(W.getOrDie())},$m=C=>{const R=xs(C);if(R.length===0)return;const W=Vm(C,R),ie={type:"tabpanel",tabs:[{title:"General",name:"general",items:j(C)},K(C,"cell")]},Ie={type:"panel",items:[{type:"grid",columns:2,items:j(C)}]};C.windowManager.open({title:"Cell Properties",size:"normal",body:Bl(C)?ie:Ie,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:W,onSubmit:bo(Bg,C,R,W)})},Ic=C=>as(Jd(C)).map(R=>({name:"class",type:"listbox",label:"Class",items:R})),gm=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],pm=C=>gm.concat(Ic(C).toArray()),Rr=(C,R,W)=>{W("class")&&R.class!=="mce-no-match"&&C.setAttrib("class",R.class),W("height")&&C.setStyle("height",un(R.height))},An=(C,R,W)=>{W("backgroundcolor")&&C.setStyle("background-color",R.backgroundcolor),W("bordercolor")&&C.setStyle("border-color",R.bordercolor),W("borderstyle")&&C.setStyle("border-style",R.borderstyle)},Zl=(C,R,W,ie)=>{const Yt=R.length===1?ge:ie;yo(R,lo=>{const tn=Us(zt.fromDom(lo),"td,th"),ln=Le.normal(C,lo);Rr(ln,W,Yt),rs(C)&&An(ln,W,Yt),ie("height")&&yo(tn,Rn=>{C.dom.setStyle(Rn.dom,"height",null)}),ie("align")&&Ms(C,lo,W.align)})},hc=(C,R)=>{C.execCommand("mceTableRowType",!1,{type:R.type,no_events:!0})},Um=(C,R,W,ie)=>{const Ie=D(ie,(Yt,lo)=>W[lo]!==Yt);if(gt(Ie)>0){const Yt=ct(Ie,"type"),lo=Yt?gt(Ie)>1:!0;lo&&Zl(C,R,ie,bo(ct,Ie)),Yt&&hc(C,ie),bt(zt.fromDom(R[0])).each(tn=>le(C,tn.dom,{structure:Yt,style:lo}))}},kb=(C,R,W,ie)=>{const Ie=ie.getData();ie.close(),C.undoManager.transact(()=>{Um(C,R,W,Ie),C.focus()})},Ta=C=>{const R=vo(Nn(C),Sa.selected);if(R.length===0)return;const W=ao(R,lo=>Ru(C,lo.dom,rs(C))),ie=Fc(W),Ie={type:"tabpanel",tabs:[{title:"General",name:"general",items:pm(C)},K(C,"row")]},Yt={type:"panel",items:[{type:"grid",columns:2,items:pm(C)}]};C.windowManager.open({title:"Row Properties",size:"normal",body:rs(C)?Ie:Yt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ie,onSubmit:bo(kb,C,ao(R,lo=>lo.dom),ie)})},Pc=(C,R,W)=>{const ie=W?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Ie=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Yt=vd(C)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],lo=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],tn=R.length>0?[{name:"class",type:"listbox",label:"Class",items:R}]:[];return ie.concat(Ie).concat(Yt).concat(lo).concat(tn)},Zf=(C,R,W,ie)=>{if(R.tagName==="TD"||R.tagName==="TH")Wo(W)&&gn(ie)?C.setStyle(R,W,ie):C.setStyles(R,W);else if(R.children)for(let Ie=0;Ie<R.children.length;Ie++)Zf(C,R.children[Ie],W,ie)},Kt=(C,R,W,ie)=>{const Ie=C.dom,Yt={},lo={},tn=Tr(C),ln=yn(C),Rn=parseFloat(W.border)===0;if(!Io(W.class)&&W.class!=="mce-no-match"&&(Yt.class=W.class),lo.height=un(W.height),tn?lo.width=un(W.width):Ie.getAttrib(R,"width")&&(Yt.width=rn(W.width)),tn?(Rn?(Yt.border=0,lo["border-width"]=""):(lo["border-width"]=un(W.border),Yt.border=1),lo["border-spacing"]=un(W.cellspacing)):(Yt.border=Rn?0:W.border,Yt.cellpadding=W.cellpadding,Yt.cellspacing=W.cellspacing),tn&&R.children){const Zr={};if(Rn?Zr["border-width"]="":ie.border&&(Zr["border-width"]=un(W.border)),ie.cellpadding&&(Zr.padding=un(W.cellpadding)),ln&&ie.bordercolor&&(Zr["border-color"]=W.bordercolor),!So(Zr))for(let Or=0;Or<R.children.length;Or++)Zf(Ie,R.children[Or],Zr)}if(ln){const Zr=W;lo["background-color"]=Zr.backgroundcolor,lo["border-color"]=Zr.bordercolor,lo["border-style"]=Zr.borderstyle}Ie.setStyles(R,{...al(C),...lo}),Ie.setAttribs(R,{...mc(C),...Yt})},Ep=(C,R,W,ie)=>{const Ie=C.dom,Yt=ie.getData(),lo=D(Yt,(tn,ln)=>W[ln]!==tn);ie.close(),C.undoManager.transact(()=>{if(!R){const tn=to(Yt.cols).getOr(1),ln=to(Yt.rows).getOr(1);C.execCommand("mceInsertTable",!1,{rows:ln,columns:tn}),R=Ni(Nn(C),qo(C)).bind(Rn=>bt(Rn,qo(C))).map(Rn=>Rn.dom).getOrDie()}if(gt(lo)>0){const tn={border:ct(lo,"border"),bordercolor:ct(lo,"bordercolor"),cellpadding:ct(lo,"cellpadding")};Kt(C,R,Yt,tn);const ln=Ie.select("caption",R)[0];(ln&&!Yt.caption||!ln&&Yt.caption)&&C.execCommand("mceTableToggleCaption"),Ms(C,R,Yt.align)}if(C.focus(),C.addVisual(),gt(lo)>0){const tn=ct(lo,"caption"),ln=tn?gt(lo)>1:!0;le(C,R,{structure:tn,style:ln})}})},Ad=(C,R)=>{const W=C.dom;let ie,Ie=mm(C,yn(C));R?(Ie.cols="1",Ie.rows="1",yn(C)&&(Ie.borderstyle="",Ie.bordercolor="",Ie.backgroundcolor="")):(ie=W.getParent(C.selection.getStart(),"table",C.getBody()),ie?Ie=Uf(C,ie,yn(C)):yn(C)&&(Ie.borderstyle="",Ie.bordercolor="",Ie.backgroundcolor=""));const Yt=as(Qd(C));Yt.isSome()&&Ie.class&&(Ie.class=Ie.class.replace(/\s*mce\-item\-table\s*/g,""));const lo={type:"grid",columns:2,items:Pc(C,Yt.getOr([]),R)},tn=()=>({type:"panel",items:[lo]}),ln=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[lo]},K(C,"table")]}),Rn=yn(C)?ln():tn();C.windowManager.open({title:"Table Properties",size:"normal",body:Rn,onSubmit:bo(Ep,C,ie,Ie),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ie})},au=C=>{const R=W=>{_r(Nn(C))&&W()};Ho({mceTableProps:bo(Ad,C,!1),mceTableRowProps:bo(Ta,C),mceTableCellProps:bo($m,C),mceInsertTableDialog:bo(Ad,C,!0)},(W,ie)=>C.addCommand(ie,()=>R(W)))},qf=(C,R)=>Qr(C,R).isSome(),Bu=Ae,Wf=C=>{const R=(ie,Ie)=>os(ie,Ie).exists(Yt=>parseInt(Yt,10)>1),W=ie=>R(ie,"rowspan")||R(ie,"colspan");return C.length>0&&he(C,W)?mt.some(C):mt.none()},su=(C,R,W)=>R.length<=1?mt.none():tc(C,W.firstSelectedSelector,W.lastSelectedSelector).map(ie=>({bounds:ie,cells:R})),Aa=C=>({element:C,mergable:mt.none(),unmergable:mt.none(),selection:[C]}),nc=(C,R,W)=>({element:W,mergable:su(R,C,Sa),unmergable:Wf(C),selection:Bu(C)}),iu=C=>{const R=ll(mt.none()),W=ll([]);let ie=mt.none();const Ie=es("caption"),Yt=Yr=>ie.forall(Ea=>!Ea[Yr]),lo=()=>oo(Nn(C),qo(C)),tn=()=>oo(or(C),qo(C)),ln=()=>lo().bind(Yr=>Ga(ia(bt(Yr),tn().bind(bt),(Ea,Sl)=>Ft(Ea,Sl)?Ie(Yr)?mt.some(Aa(Yr)):mt.some(nc(xs(C),Ea,Yr)):mt.none()))),Rn=Yr=>bt(Yr.element).map(Sl=>{const Bi=ci.fromTable(Sl),Od=Bc(Bi,Yr).getOr([]),zp=et(Od,(Pu,yc)=>(yc.isLocked&&(Pu.onAny=!0,yc.column===0?Pu.onFirst=!0:yc.column+yc.colspan>=Bi.grid.columns&&(Pu.onLast=!0)),Pu),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:$f(Bi,Yr).isSome(),unmergeable:vb(Bi,Yr).isSome(),locked:zp}}),Zr=()=>{R.set(ha(ln)()),ie=R.get().bind(Rn),yo(W.get(),ue)},Or=Yr=>(Yr(),W.set(W.get().concat([Yr])),()=>{W.set(Vt(W.get(),Ea=>Ea!==Yr))}),Oa=(Yr,Ea)=>Or(()=>R.get().fold(()=>{Yr.setEnabled(!1)},Sl=>{Yr.setEnabled(!Ea(Sl)&&C.selection.isEditable())})),oa=(Yr,Ea,Sl)=>Or(()=>R.get().fold(()=>{Yr.setEnabled(!1),Yr.setActive(!1)},Bi=>{Yr.setEnabled(!Ea(Bi)&&C.selection.isEditable()),Yr.setActive(Sl(Bi))})),sc=Yr=>ie.exists(Ea=>Ea.locked[Yr]),Yi=Yr=>Oa(Yr,Ea=>!1),Cl=Yr=>Oa(Yr,Ea=>Ie(Ea.element)),Fg=Yr=>Ea=>Oa(Ea,Sl=>Ie(Sl.element)||sc(Yr)),qm=Yr=>Ea=>Oa(Ea,Sl=>Ie(Sl.element)||Yr().isNone()),Fu=(Yr,Ea)=>Sl=>Oa(Sl,Bi=>Ie(Bi.element)||Yr().isNone()||sc(Ea)),sd=Yr=>Oa(Yr,Ea=>Yt("mergeable")),uu=Yr=>Oa(Yr,Ea=>Yt("unmergeable")),bc=Yr=>oa(Yr,$e,Ea=>bt(Ea.element,qo(C)).exists(Bi=>qf(Bi,"caption"))),Lu=(Yr,Ea)=>Sl=>oa(Sl,Bi=>Ie(Bi.element),()=>C.queryCommandValue(Yr)===Ea),Wm=Lu("mceTableRowType","header"),Iu=Lu("mceTableColType","th");return C.on("NodeChange ExecCommand TableSelectorChange",Zr),{onSetupTable:Yi,onSetupCellOrRow:Cl,onSetupColumn:Fg,onSetupPasteable:qm,onSetupPasteableColumn:Fu,onSetupMergeable:sd,onSetupUnmergeable:uu,resetTargets:Zr,onSetupTableWithCaption:bc,onSetupTableRowHeaders:Wm,onSetupTableColumnHeaders:Iu,targets:R.get}};var lu=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const rd="x-tinymce/dom-table-",fm=rd+"rows",rc=rd+"columns",cu=C=>{var R;const W=(R=lu.read())!==null&&R!==void 0?R:[];return dt(W,ie=>mt.from(ie.getType(C)))},hm=()=>cu(fm),du=()=>cu(rc),ac=C=>R=>{const W=()=>{R.setEnabled(C.selection.isEditable())};return C.on("NodeChange",W),W(),()=>{C.off("NodeChange",W)}},Ci=(C,R)=>{C.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:ac(C),fetch:tn=>tn("inserttable | cell row column | advtablesort | tableprops deletetable")});const W=tn=>()=>C.execCommand(tn),ie=(tn,ln)=>{C.queryCommandSupported(ln.command)&&C.ui.registry.addButton(tn,{...ln,onAction:Mo(ln.onAction)?ln.onAction:W(ln.command)})},Ie=(tn,ln)=>{C.queryCommandSupported(ln.command)&&C.ui.registry.addToggleButton(tn,{...ln,onAction:Mo(ln.onAction)?ln.onAction:W(ln.command)})};ie("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:R.onSetupTable}),ie("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:R.onSetupTable}),ie("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:R.onSetupCellOrRow}),ie("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:R.onSetupMergeable}),ie("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:R.onSetupUnmergeable}),ie("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:R.onSetupCellOrRow}),ie("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:R.onSetupCellOrRow}),ie("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:R.onSetupCellOrRow}),ie("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:R.onSetupCellOrRow}),ie("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:R.onSetupColumn("onFirst")}),ie("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:R.onSetupColumn("onLast")}),ie("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:R.onSetupColumn("onAny")}),ie("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:R.onSetupCellOrRow}),ie("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:R.onSetupCellOrRow}),ie("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:R.onSetupPasteable(hm)}),ie("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:R.onSetupPasteable(hm)}),ie("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:R.onSetupColumn("onAny")}),ie("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:R.onSetupColumn("onAny")}),ie("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:R.onSetupPasteableColumn(du,"onFirst")}),ie("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:R.onSetupPasteableColumn(du,"onLast")}),ie("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:ac(C)});const Yt=Cd(Qd(C));Yt.length!==0&&C.queryCommandSupported("mceTableToggleClass")&&C.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:dl(C,Yt,"tableclass",tn=>C.execCommand("mceTableToggleClass",!1,tn)),onSetup:R.onSetupTable});const lo=Cd(Xd(C));lo.length!==0&&C.queryCommandSupported("mceTableCellToggleClass")&&C.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:dl(C,lo,"tablecellclass",tn=>C.execCommand("mceTableCellToggleClass",!1,tn)),onSetup:R.onSetupCellOrRow}),C.queryCommandSupported("mceTableApplyCellStyle")&&(C.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:dl(C,Gi,"tablecellverticalalign",cl(C,"vertical-align")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:dl(C,ds(C),"tablecellborderwidth",cl(C,"border-width")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:dl(C,Ia(C),"tablecellborderstyle",cl(C,"border-style")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:tn=>tn(Sd(C,Ti(C),"background-color")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:tn=>tn(Sd(C,Fl(C),"border-color")),onSetup:R.onSetupCellOrRow})),Ie("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:R.onSetupTableWithCaption}),Ie("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:cm(C),onSetup:R.onSetupTableRowHeaders}),Ie("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ed(C),onSetup:R.onSetupTableColumnHeaders})},zo=C=>{const R=ie=>C.dom.is(ie,"table")&&C.getBody().contains(ie)&&C.dom.isEditable(ie.parentNode),W=Dr(C);W.length>0&&C.ui.registry.addContextToolbar("table",{predicate:R,items:W,scope:"node",position:"node"})},Zm=C=>R=>{const W=()=>{R.setEnabled(C.selection.isEditable())};return C.on("NodeChange",W),W(),()=>{C.off("NodeChange",W)}},Ar=(C,R)=>{const W=Or=>()=>C.execCommand(Or),ie=(Or,Oa)=>C.queryCommandSupported(Oa.command)?(C.ui.registry.addMenuItem(Or,{...Oa,onAction:Mo(Oa.onAction)?Oa.onAction:W(Oa.command)}),!0):!1,Ie=(Or,Oa)=>{C.queryCommandSupported(Oa.command)&&C.ui.registry.addToggleMenuItem(Or,{...Oa,onAction:Mo(Oa.onAction)?Oa.onAction:W(Oa.command)})},Yt=Or=>{C.execCommand("mceInsertTable",!1,{rows:Or.numRows,columns:Or.numColumns})},lo=[ie("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:R.onSetupCellOrRow}),ie("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:R.onSetupCellOrRow}),ie("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:R.onSetupCellOrRow}),ie("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:R.onSetupCellOrRow}),ie("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:R.onSetupCellOrRow}),ie("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:R.onSetupCellOrRow}),ie("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:R.onSetupPasteable(hm)}),ie("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:R.onSetupPasteable(hm)})],tn=[ie("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:R.onSetupColumn("onFirst")}),ie("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:R.onSetupColumn("onLast")}),ie("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:R.onSetupColumn("onAny")}),ie("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:R.onSetupColumn("onAny")}),ie("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:R.onSetupColumn("onAny")}),ie("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:R.onSetupPasteableColumn(du,"onFirst")}),ie("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:R.onSetupPasteableColumn(du,"onLast")})],ln=[ie("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:R.onSetupCellOrRow}),ie("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:R.onSetupMergeable}),ie("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:R.onSetupUnmergeable})];$l(C)?C.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Yt}],onSetup:Zm(C)}):C.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:W("mceInsertTableDialog"),onSetup:Zm(C)}),C.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:W("mceInsertTableDialog"),onSetup:Zm(C)}),ie("tableprops",{text:"Table properties",onSetup:R.onSetupTable,command:"mceTableProps"}),ie("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:R.onSetupTable,command:"mceTableDelete"}),kt(lo,!0)&&C.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:uo("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),kt(tn,!0)&&C.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:uo("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),kt(ln,!0)&&C.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:uo("tablecellprops tablemergecells tablesplitcells")}),C.ui.registry.addContextMenu("table",{update:()=>(R.resetTargets(),R.targets().fold(uo(""),Or=>Nr(Or.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Rn=Cd(Qd(C));Rn.length!==0&&C.queryCommandSupported("mceTableToggleClass")&&C.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Di(C,Rn,"tableclass",Or=>C.execCommand("mceTableToggleClass",!1,Or)),onSetup:R.onSetupTable});const Zr=Cd(Xd(C));Zr.length!==0&&C.queryCommandSupported("mceTableCellToggleClass")&&C.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Di(C,Zr,"tablecellclass",Or=>C.execCommand("mceTableCellToggleClass",!1,Or)),onSetup:R.onSetupCellOrRow}),C.queryCommandSupported("mceTableApplyCellStyle")&&(C.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Di(C,Gi,"tablecellverticalalign",cl(C,"vertical-align")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Di(C,ds(C),"tablecellborderwidth",cl(C,"border-width")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Di(C,Ia(C),"tablecellborderstyle",cl(C,"border-style")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Sd(C,Ti(C),"background-color"),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Sd(C,Fl(C),"border-color"),onSetup:R.onSetupCellOrRow})),Ie("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:R.onSetupTableWithCaption}),Ie("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:cm(C),onSetup:R.onSetupTableRowHeaders}),Ie("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Ed(C),onSetup:R.onSetupTableRowHeaders})},_b=C=>{const R=iu(C);xi(C),au(C),Ar(C,R),Ci(C,R),zo(C)};var ad=()=>{wo.add("table",_b)};ad()})();(function(){const wo=Mo=>{let Ve=Mo;return{get:()=>Ve,set:uo=>{Ve=uo}}};var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager");const $o=(Mo,Ve)=>{Mo.dispatch("VisualBlocks",{state:Ve})},sn=(Mo,Ve,ut)=>{Mo.dom.toggleClass(Mo.getBody(),"mce-visualblocks"),ut.set(!ut.get()),$o(Mo,ut.get())},Qo=(Mo,Ve,ut)=>{Mo.addCommand("mceVisualBlocks",()=>{sn(Mo,Ve,ut)})},mo=Mo=>Ve=>Ve.options.get(Mo),Wo=Mo=>{const Ve=Mo.options.register;Ve("visualblocks_default_state",{processor:"boolean",default:!1})},jt=mo("visualblocks_default_state"),Co=(Mo,Ve,ut)=>{Mo.on("PreviewFormats AfterPreviewFormats",ho=>{ut.get()&&Mo.dom.toggleClass(Mo.getBody(),"mce-visualblocks",ho.type==="afterpreviewformats")}),Mo.on("init",()=>{jt(Mo)&&sn(Mo,Ve,ut)})},Io=(Mo,Ve)=>ut=>{ut.setActive(Ve.get());const ho=uo=>ut.setActive(uo.state);return Mo.on("VisualBlocks",ho),()=>Mo.off("VisualBlocks",ho)},Go=(Mo,Ve)=>{const ut=()=>Mo.execCommand("mceVisualBlocks");Mo.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:ut,onSetup:Io(Mo,Ve),context:"any"}),Mo.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:ut,onSetup:Io(Mo,Ve),context:"any"})};var gn=()=>{Jo.add("visualblocks",(Mo,Ve)=>{Wo(Mo);const ut=wo(!1);Qo(Mo,Ve,ut),Go(Mo,ut),Co(Mo,Ve,ut)})};gn()})();(function(){const wo=nt=>{let At=nt;return{get:()=>At,set:vr=>{At=vr}}};var Jo=tinymce.util.Tools.resolve("tinymce.PluginManager");const $o=nt=>({isEnabled:()=>nt.get()}),sn=(nt,At)=>nt.dispatch("VisualChars",{state:At}),Qo=(nt,At,pt)=>{var nn;return pt(nt,At.prototype)?!0:((nn=nt.constructor)===null||nn===void 0?void 0:nn.name)===At.name},mo=nt=>{const At=typeof nt;return nt===null?"null":At==="object"&&Array.isArray(nt)?"array":At==="object"&&Qo(nt,String,(pt,nn)=>nn.isPrototypeOf(pt))?"string":At},Wo=nt=>At=>mo(At)===nt,jt=nt=>At=>typeof At===nt,Co=nt=>At=>nt===At,Io=Wo("string"),Go=Wo("object"),gn=Co(null),Mo=jt("boolean"),Ve=nt=>nt==null,ut=nt=>!Ve(nt),ho=jt("number");class uo{constructor(At,pt){this.tag=At,this.value=pt}static some(At){return new uo(!0,At)}static none(){return uo.singletonNone}fold(At,pt){return this.tag?pt(this.value):At()}isSome(){return this.tag}isNone(){return!this.tag}map(At){return this.tag?uo.some(At(this.value)):uo.none()}bind(At){return this.tag?At(this.value):uo.none()}exists(At){return this.tag&&At(this.value)}forall(At){return!this.tag||At(this.value)}filter(At){return!this.tag||At(this.value)?this:uo.none()}getOr(At){return this.tag?this.value:At}or(At){return this.tag?this:At}getOrThunk(At){return this.tag?this.value:At()}orThunk(At){return this.tag?this:At()}getOrDie(At){if(this.tag)return this.value;throw new Error(At??"Called getOrDie on None")}static from(At){return ut(At)?uo.some(At):uo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(At){this.tag&&At(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}uo.singletonNone=new uo(!1);const Ae=(nt,At)=>{const pt=nt.length,nn=new Array(pt);for(let vr=0;vr<pt;vr++){const hr=nt[vr];nn[vr]=At(hr,vr)}return nn},ht=(nt,At)=>{for(let pt=0,nn=nt.length;pt<nn;pt++){const vr=nt[pt];At(vr,pt)}},bo=(nt,At)=>{const pt=[];for(let nn=0,vr=nt.length;nn<vr;nn++){const hr=nt[nn];At(hr,nn)&&pt.push(hr)}return pt},ue=Object.keys,$e=(nt,At)=>{const pt=ue(nt);for(let nn=0,vr=pt.length;nn<vr;nn++){const hr=pt[nn],Os=nt[hr];At(Os,hr)}},ge=typeof window<"u"?window:Function("return this;")(),mt=(nt,At)=>{let pt=At??ge;for(let nn=0;nn<nt.length&&pt!==void 0&&pt!==null;++nn)pt=pt[nt[nn]];return pt},Ro=(nt,At)=>{const pt=nt.split(".");return mt(pt,At)},go=(nt,At)=>Ro(nt,At),Ho=(nt,At)=>{const pt=go(nt,At);if(pt==null)throw new Error(nt+" not available on this browser");return pt},Uo=Object.getPrototypeOf,Rt=nt=>Ho("HTMLElement",nt),D=nt=>{const At=Ro("ownerDocument.defaultView",nt);return Go(nt)&&(Rt(At).prototype.isPrototypeOf(nt)||/^HTML\w*Element$/.test(Uo(nt).constructor.name))},qe=1,Je=3,gt=nt=>nt.dom.nodeType,Bt=nt=>nt.dom.nodeValue,ct=nt=>At=>gt(At)===nt,$t=nt=>So(nt)&&D(nt.dom),So=ct(qe),Dt=ct(Je),F=(nt,At,pt)=>{if(Io(pt)||Mo(pt)||ho(pt))nt.setAttribute(At,pt+"");else throw console.error("Invalid call to Attribute.set. Key ",At,":: Value ",pt,":: Element ",nt),new Error("Attribute value was not simple")},Ot=(nt,At,pt)=>{F(nt.dom,At,pt)},kt=(nt,At)=>{const pt=nt.dom.getAttribute(At);return pt===null?void 0:pt},ro=(nt,At)=>{nt.dom.removeAttribute(At)},co=(nt,At)=>{const pt=kt(nt,At);return pt===void 0||pt===""?[]:pt.split(" ")},ao=(nt,At,pt)=>{const vr=co(nt,At).concat([pt]);return Ot(nt,At,vr.join(" ")),!0},yo=(nt,At,pt)=>{const nn=bo(co(nt,At),vr=>vr!==pt);return nn.length>0?Ot(nt,At,nn.join(" ")):ro(nt,At),!1},No=nt=>nt.dom.classList!==void 0,_e=nt=>co(nt,"class"),Vt=(nt,At)=>ao(nt,"class",At),Ct=(nt,At)=>yo(nt,"class",At),et=(nt,At)=>{No(nt)?nt.dom.classList.add(At):Vt(nt,At)},ye=nt=>{(No(nt)?nt.dom.classList:_e(nt)).length===0&&ro(nt,"class")},fe=(nt,At)=>{No(nt)?nt.dom.classList.remove(At):Ct(nt,At),ye(nt)},it=(nt,At)=>{const nn=(At||document).createElement("div");if(nn.innerHTML=nt,!nn.hasChildNodes()||nn.childNodes.length>1){const vr="HTML does not have a single root node";throw console.error(vr,nt),new Error(vr)}return De(nn.childNodes[0])},ke=(nt,At)=>{const nn=(At||document).createElement(nt);return De(nn)},he=(nt,At)=>{const nn=(At||document).createTextNode(nt);return De(nn)},De=nt=>{if(nt==null)throw new Error("Node cannot be null or undefined");return{dom:nt}},_t={fromHtml:it,fromTag:ke,fromText:he,fromDom:De,fromPoint:(nt,At,pt)=>uo.from(nt.dom.elementFromPoint(At,pt)).map(De)},We={" ":"nbsp","­":"shy"},dt=(nt,At)=>{let pt="";return $e(nt,(nn,vr)=>{pt+=vr}),new RegExp("["+pt+"]",At?"g":"")},io=nt=>{let At="";return $e(nt,pt=>{At&&(At+=","),At+="span.mce-"+pt}),At},Oo=dt(We),tt=dt(We,!0),vt=io(We),_o="mce-nbsp",Fo=nt=>nt.dom.contentEditable,on=nt=>'<span data-mce-bogus="1" class="mce-'+We[nt]+'">'+nt+"</span>",_n=nt=>nt.nodeName.toLowerCase()==="span"&&nt.classList.contains("mce-nbsp-wrap"),Zo=nt=>{const At=Bt(nt);return Dt(nt)&&Io(At)&&Oo.test(At)},Yn=nt=>$t(nt)&&Fo(nt)==="false",zt=(nt,At)=>{if($t(nt)&&!_n(nt.dom)){const pt=Fo(nt);if(pt==="true")return!0;if(pt==="false")return!1}return At},Xo=(nt,At,pt)=>{let nn=[];const vr=nt.dom,hr=Ae(vr.childNodes,_t.fromDom),Os=ga=>_n(ga.dom)||!Yn(ga);return ht(hr,ga=>{pt&&Os(ga)&&At(ga)&&(nn=nn.concat([ga])),nn=nn.concat(Xo(ga,At,zt(ga,pt)))}),nn},Kn=(nt,At)=>{for(;nt.parentNode;){if(nt.parentNode===At)return At;nt=nt.parentNode}},ar=nt=>nt.replace(tt,on),Vr=(nt,At)=>{const pt=nt.dom,nn=Xo(_t.fromDom(At),Zo,nt.dom.isEditable(At));ht(nn,vr=>{var hr;const Os=vr.dom.parentNode;if(_n(Os))et(_t.fromDom(Os),_o);else{const ga=ar(pt.encode((hr=Bt(vr))!==null&&hr!==void 0?hr:"")),xr=pt.create("div",{},ga);let Te;for(;Te=xr.lastChild;)pt.insertAfter(Te,vr.dom);nt.dom.remove(vr.dom)}})},Ft=(nt,At)=>{const pt=nt.dom.select(vt,At);ht(pt,nn=>{_n(nn)?fe(_t.fromDom(nn),_o):nt.dom.remove(nn,!0)})},Gr=nt=>{const At=nt.getBody(),pt=nt.selection.getBookmark();let nn=Kn(nt.selection.getNode(),At);nn=nn!==void 0?nn:At,Ft(nt,nn),Vr(nt,nn),nt.selection.moveToBookmark(pt)},Nr=(nt,At)=>{sn(nt,At.get());const pt=nt.getBody();At.get()===!0?Vr(nt,pt):Ft(nt,pt)},yr=(nt,At)=>{At.set(!At.get());const pt=nt.selection.getBookmark();Nr(nt,At),nt.selection.moveToBookmark(pt)},jo=(nt,At)=>{nt.addCommand("mceVisualChars",()=>{yr(nt,At)})},$r=nt=>At=>At.options.get(nt),ls=nt=>{const At=nt.options.register;At("visualchars_default_state",{processor:"boolean",default:!1})},Fa=$r("visualchars_default_state"),cs=(nt,At)=>{nt.on("init",()=>{Nr(nt,At)})},La=(nt,At)=>{let pt=null;return{cancel:()=>{gn(pt)||(clearTimeout(pt),pt=null)},throttle:(...hr)=>{gn(pt)&&(pt=setTimeout(()=>{pt=null,nt.apply(null,hr)},At))}}},es=(nt,At)=>{const pt=La(()=>{Gr(nt)},300);nt.on("keydown",nn=>{At.get()===!0&&(nn.keyCode===13?Gr(nt):pt.throttle())}),nt.on("remove",pt.cancel)},ts=(nt,At)=>pt=>{pt.setActive(At.get());const nn=vr=>pt.setActive(vr.state);return nt.on("VisualChars",nn),()=>nt.off("VisualChars",nn)},Fs=(nt,At)=>{const pt=()=>nt.execCommand("mceVisualChars");nt.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:pt,onSetup:ts(nt,At),context:"any"}),nt.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:pt,onSetup:ts(nt,At),context:"any"})};var za=()=>{Jo.add("visualchars",nt=>{ls(nt);const At=wo(Fa(nt));return jo(nt,At),Fs(nt,At),es(nt,At),cs(nt,At),$o(At)})};za()})();(function(){var wo=tinymce.util.Tools.resolve("tinymce.PluginManager");const $o=(ye=>fe=>ye===fe)(null),sn=ye=>ye,Qo=(ye,fe)=>{const it=ye.length,ke=new Array(it);for(let he=0;he<it;he++){const De=ye[he];ke[he]=fe(De,he)}return ke},Wo={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},jt={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Co=[new RegExp(Wo.aletter),new RegExp(Wo.midnumlet),new RegExp(Wo.midletter),new RegExp(Wo.midnum),new RegExp(Wo.numeric),new RegExp(Wo.cr),new RegExp(Wo.lf),new RegExp(Wo.newline),new RegExp(Wo.extend),new RegExp(Wo.format),new RegExp(Wo.katakana),new RegExp(Wo.extendnumlet),new RegExp("@")],Io="",Go=new RegExp("^"+Wo.punctuation+"$"),gn=/^\s+$/,Mo=Co,Ve=jt.OTHER,ut=ye=>{let fe=Ve;const it=Mo.length;for(let ke=0;ke<it;++ke){const he=Mo[ke];if(he&&he.test(ye)){fe=ke;break}}return fe},ho=ye=>{const fe={};return it=>{if(fe[it])return fe[it];{const ke=ye(it);return fe[it]=ke,ke}}},uo=ye=>{const fe=ho(ut);return Qo(ye,fe)},Ae=(ye,fe)=>{const it=ye[fe],ke=ye[fe+1];if(fe<0||fe>ye.length-1&&fe!==0||it===jt.ALETTER&&ke===jt.ALETTER)return!1;const he=ye[fe+2];if(it===jt.ALETTER&&(ke===jt.MIDLETTER||ke===jt.MIDNUMLET||ke===jt.AT)&&he===jt.ALETTER)return!1;const De=ye[fe-1];return(it===jt.MIDLETTER||it===jt.MIDNUMLET||ke===jt.AT)&&ke===jt.ALETTER&&De===jt.ALETTER||(it===jt.NUMERIC||it===jt.ALETTER)&&(ke===jt.NUMERIC||ke===jt.ALETTER)||(it===jt.MIDNUM||it===jt.MIDNUMLET)&&ke===jt.NUMERIC&&De===jt.NUMERIC||it===jt.NUMERIC&&(ke===jt.MIDNUM||ke===jt.MIDNUMLET)&&he===jt.NUMERIC||(it===jt.EXTEND||it===jt.FORMAT)&&(ke===jt.ALETTER||ke===jt.NUMERIC||ke===jt.KATAKANA||ke===jt.EXTEND||ke===jt.FORMAT)||(ke===jt.EXTEND||ke===jt.FORMAT&&(he===jt.ALETTER||he===jt.NUMERIC||he===jt.KATAKANA||he===jt.EXTEND||he===jt.FORMAT))&&(it===jt.ALETTER||it===jt.NUMERIC||it===jt.KATAKANA||it===jt.EXTEND||it===jt.FORMAT)||it===jt.CR&&ke===jt.LF?!1:it===jt.NEWLINE||it===jt.CR||it===jt.LF||ke===jt.NEWLINE||ke===jt.CR||ke===jt.LF?!0:!(it===jt.KATAKANA&&ke===jt.KATAKANA||ke===jt.EXTENDNUMLET&&(it===jt.ALETTER||it===jt.NUMERIC||it===jt.KATAKANA||it===jt.EXTENDNUMLET)||it===jt.EXTENDNUMLET&&(ke===jt.ALETTER||ke===jt.NUMERIC||ke===jt.KATAKANA)||it===jt.AT)},ht=Io,bo=gn,ue=Go,$e=ye=>ye==="http"||ye==="https",ge=(ye,fe)=>{let it;for(it=fe;it<ye.length&&!bo.test(ye[it]);it++);return it},mt=(ye,fe)=>{const it=ge(ye,fe+1);return ye.slice(fe+1,it).join(ht).substr(0,3)==="://"?it:fe},Ro=(ye,fe,it,ke)=>{const he=[],De=[];let at=[];for(let _t=0;_t<it.length;++_t)if(at.push(ye[_t]),Ae(it,_t)){const We=fe[_t];if((ke.includeWhitespace||!bo.test(We))&&(ke.includePunctuation||!ue.test(We))){const dt=_t-at.length+1,io=_t+1,Oo=fe.slice(dt,io).join(ht);if($e(Oo)){const tt=mt(fe,_t),vt=ye.slice(io,tt);Array.prototype.push.apply(at,vt),_t=tt}fe[_t+1]==="."&&/^([a-zA-Z]\.)+$/.test(Oo+".")?(at.push(ye[_t+1]),De.push({start:dt,end:io+1})):De.push({start:dt,end:io}),he.push(at)}at=[]}return{words:he,indices:De}},go=()=>({includeWhitespace:!1,includePunctuation:!1}),Ho=(ye,fe,it)=>{it={...go(),...it};const ke=Qo(ye,fe),he=uo(ke);return Ro(ye,ke,he,it)},Rt=(ye,fe,it)=>Ho(ye,fe,it).words,D=ye=>ye.replace(/\uFEFF/g,"");var qe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Je=(ye,fe)=>{const it=fe.getBlockElements(),ke=fe.getVoidElements(),he=dt=>it[dt.nodeName]||ke[dt.nodeName],De=[];let at="";const _t=new qe(ye,ye);let We;for(;We=_t.next();)We.nodeType===3?at+=D(We.data):he(We)&&at.length&&(De.push(at),at="");return at.length&&De.push(at),De},gt=ye=>ye.replace(/\u200B/g,""),Bt=ye=>ye.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,ct=(ye,fe)=>{const it=gt(Je(ye,fe).join(`
`));return Rt(it.split(""),sn).length},$t=(ye,fe)=>{const it=Je(ye,fe).join("");return Bt(it)},So=(ye,fe)=>{const it=Je(ye,fe).join("").replace(/\s/g,"");return Bt(it)},Dt=(ye,fe)=>()=>fe(ye.getBody(),ye.schema),F=(ye,fe)=>()=>fe(ye.selection.getRng().cloneContents(),ye.schema),Ot=ye=>Dt(ye,ct),kt=ye=>({body:{getWordCount:Ot(ye),getCharacterCount:Dt(ye,$t),getCharacterCountWithoutSpaces:Dt(ye,So)},selection:{getWordCount:F(ye,ct),getCharacterCount:F(ye,$t),getCharacterCountWithoutSpaces:F(ye,So)},getCount:Ot(ye)}),ro=(ye,fe)=>{ye.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(fe.body.getWordCount()),String(fe.selection.getWordCount())],["Characters (no spaces)",String(fe.body.getCharacterCountWithoutSpaces()),String(fe.selection.getCharacterCountWithoutSpaces())],["Characters",String(fe.body.getCharacterCount()),String(fe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},co=(ye,fe)=>{ye.addCommand("mceWordCount",()=>ro(ye,fe))},ao=(ye,fe)=>{let it=null;return{cancel:()=>{$o(it)||(clearTimeout(it),it=null)},throttle:(...De)=>{$o(it)&&(it=setTimeout(()=>{it=null,ye.apply(null,De)},fe))}}};var yo=tinymce.util.Tools.resolve("tinymce.util.Delay");const No=(ye,fe)=>{ye.dispatch("wordCountUpdate",{wordCount:{words:fe.body.getWordCount(),characters:fe.body.getCharacterCount(),charactersWithoutSpaces:fe.body.getCharacterCountWithoutSpaces()}})},_e=(ye,fe)=>{No(ye,fe)},Vt=(ye,fe,it)=>{const ke=ao(()=>_e(ye,fe),it);ye.on("init",()=>{_e(ye,fe),yo.setEditorTimeout(ye,()=>{ye.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",ke.throttle)},0),ye.on("remove",ke.cancel)})},Ct=ye=>{const fe=()=>ye.execCommand("mceWordCount");ye.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:fe,context:"any"}),ye.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:fe,context:"any"})};var et=(ye=300)=>{wo.add("wordcount",fe=>{const it=kt(fe);return co(fe,it),Ct(fe),Vt(fe,it,ye),it})};et()})();tinymce.Resource.add("tinymce.html-i18n.help-keynav.zh_CN",`<h1>开始键盘导航</h1>

<dl>
  <dt>使菜单栏处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F9</dd>
  <dd>macOS：&#x2325;F9</dd>
  <dt>使工具栏处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F10</dd>
  <dd>macOS：&#x2325;F10</dd>
  <dt>使页脚处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F11</dd>
  <dd>macOS：&#x2325;F11</dd>
  <dt>使通知处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F12</dd>
  <dd>macOS：&#x2325;F12</dd>
  <dt>使上下文工具栏处于焦点</dt>
  <dd>Windows、Linux 或 macOS：Ctrl+F9</dd>
</dl>

<p>导航将在第一个 UI 项上开始，其中突出显示该项，或者对于页脚元素路径中的第一项，将为其添加下划线。</p>

<h1>在 UI 部分之间导航</h1>

<p>要从一个 UI 部分移至下一个，请按 <strong>Tab</strong>。</p>

<p>要从一个 UI 部分移至上一个，请按 <strong>Shift+Tab</strong>。</p>

<p>这些 UI 部分的 <strong>Tab</strong> 顺序为：</p>

<ol>
  <li>菜单栏</li>
  <li>每个工具栏组</li>
  <li>边栏</li>
  <li>页脚中的元素路径</li>
  <li>页脚中的字数切换按钮</li>
  <li>页脚中的品牌链接</li>
  <li>页脚中的编辑器调整大小图柄</li>
</ol>

<p>如果不存在某个 UI 部分，则跳过它。</p>

<p>如果键盘导航焦点在页脚，并且没有可见的边栏，则按 <strong>Shift+Tab</strong> 将焦点移至第一个工具栏组而非最后一个。</p>

<h1>在 UI 部分内导航</h1>

<p>要从一个 UI 元素移至下一个，请按相应的<strong>箭头</strong>键。</p>

<p><strong>左</strong>和<strong>右</strong>箭头键</p>

<ul>
  <li>在菜单栏中的菜单之间移动。</li>
  <li>打开菜单中的子菜单。</li>
  <li>在工具栏组中的按钮之间移动。</li>
  <li>在页脚的元素路径中的各项之间移动。</li>
</ul>

<p><strong>下</strong>和<strong>上</strong>箭头键</p>

<ul>
  <li>在菜单中的菜单项之间移动。</li>
  <li>在工具栏弹出菜单中的各项之间移动。</li>
</ul>

<p><strong>箭头</strong>键在具有焦点的 UI 部分内循环。</p>

<p>要关闭打开的菜单、打开的子菜单或打开的弹出菜单，请按 <strong>Esc</strong> 键。</p>

<p>如果当前的焦点在特定 UI 部分的“顶部”，则按 <strong>Esc</strong> 键还将完全退出键盘导航。</p>

<h1>执行菜单项或工具栏按钮</h1>

<p>当突出显示所需的菜单项或工具栏按钮时，按 <strong>Return</strong>、<strong>Enter</strong> 或<strong>空格</strong>以执行该项。</p>

<h1>在非标签页式对话框中导航</h1>

<p>在非标签页式对话框中，当对话框打开时，第一个交互组件获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在交互对话框组件之间导航。</p>

<h1>在标签页式对话框中导航</h1>

<p>在标签页式对话框中，当对话框打开时，标签页菜单中的第一个按钮获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在此对话框的交互组件之间导航。</p>

<p>通过将焦点移至另一对话框标签页的菜单，然后按相应的<strong>箭头</strong>键以在可用的标签页间循环，从而切换到该对话框标签页。</p>
`);tinymce.Resource.add("tinymce.html-i18n.help-keynav.en",`<h1>Begin keyboard navigation</h1>

<dl>
  <dt>Focus the Menu bar</dt>
  <dd>Windows or Linux: Alt+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Focus the Toolbar</dt>
  <dd>Windows or Linux: Alt+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Focus the footer</dt>
  <dd>Windows or Linux: Alt+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Focus the notification</dt>
  <dd>Windows or Linux: Alt+F12</dd>
  <dd>macOS: &#x2325;F12</dd>
  <dt>Focus a contextual toolbar</dt>
  <dd>Windows, Linux or macOS: Ctrl+F9</dd>
</dl>

<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in
  the Footer element path.</p>

<h1>Navigate between UI sections</h1>

<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>

<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>

<p>The <strong>Tab</strong> order of these UI sections is:</p>

<ol>
  <li>Menu bar</li>
  <li>Each toolbar group</li>
  <li>Sidebar</li>
  <li>Element path in the footer</li>
  <li>Word count toggle button in the footer</li>
  <li>Branding link in the footer</li>
  <li>Editor resize handle in the footer</li>
</ol>

<p>If a UI section is not present, it is skipped.</p>

<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>
  moves focus to the first toolbar group, not the last.</p>

<h1>Navigate within UI sections</h1>

<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>

<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>

<ul>
  <li>move between menus in the menu bar.</li>
  <li>open a sub-menu in a menu.</li>
  <li>move between buttons in a toolbar group.</li>
  <li>move between items in the footer’s element path.</li>
</ul>

<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys</p>

<ul>
  <li>move between menu items in a menu.</li>
  <li>move between items in a toolbar pop-up menu.</li>
</ul>

<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>

<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.</p>

<p>If the current focus is at the ‘top’ of a particular UI section, pressing the <strong>Esc</strong> key also exits
  keyboard navigation entirely.</p>

<h1>Execute a menu item or toolbar button</h1>

<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,
  or the <strong>Space bar</strong> to execute the item.</p>

<h1>Navigate non-tabbed dialogs</h1>

<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>

<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>

<h1>Navigate tabbed dialogs</h1>

<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>

<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or
  <strong>Shift+Tab</strong>.</p>

<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>
  key to cycle through the available tabs.</p>
`);const pM="/traffica-vue3/assets/zh_CN-Ds3kJdMY.js",fM=Object.assign({"./zh_CN.js":pM}),hM=Object.entries(fM).reduce((wo,[Jo,$o])=>{const sn=Jo.replace(/\.\/(.+)\.js/,"$1");return wo[sn]=$o,wo},{}),bM=["accordion","advlist","anchor","autolink","autosave","charmap","code","codesample","directionality","emoticons","fullscreen","help","image","importcss","insertdatetime","link","lists","media","nonbreaking","pagebreak","preview","quickbars","save","searchreplace","table","visualblocks","visualchars","wordcount"],yM=["fontsizeselect lineheight searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link  preview anchor pagebreak insertdatetime media  forecolor backcolor fullscreen"],vM={...TN,init:Object,toolbar:{type:Array,default:yM},plugins:{type:Array,default:bM},height:{type:[Number,String],required:!1,default:400},width:{type:[Number,String],required:!1,default:"auto"}},xM=c6({__name:"index",props:P7(vM,{value:{},valueModifiers:{}}),emits:["update:value"],setup(wo){const Jo=wo,$o=H7(wo,"value"),sn=j7(),Qo=r6(()=>{const jt=V7().getLocale.value;return["zh_CN","en"].includes(jt)?jt:"zh_CN"}),mo=r6(()=>sn.getNavTheme==="realDark"?"oxide-dark":"oxide"),Wo=r6(()=>{const{height:jt,init:Co,toolbar:Io,plugins:Go}=Jo,Mo="/tinymce-resource";return{base_url:Mo,license_key:"gpl",height:jt,toolbar:Io,menubar:"file edit insert view format table",plugins:Go,language_url:hM[Qo.value],language:Qo.value,branding:!1,default_link_target:"_blank",link_title:!1,promotion:!1,object_resizing:!1,auto_focus:!0,resize:!0,skin:mo.value,skin_url:`${Mo}/skins/ui/${mo.value}`,...Co}});return(jt,Co)=>(i6(),SN(l6(uM),$7({...jt.$attrs,...Jo},{modelValue:$o.value,"onUpdate:modelValue":Co[0]||(Co[0]=Io=>$o.value=Io),"tinymce-script-src":l6(mM),init:Wo.value}),null,16,["modelValue","tinymce-script-src","init"]))}}),wM={images_upload_handler:async wo=>(await EN.toolsUpload.uploadUpload({file:wo.blob()})).filename},kM=[{field:"subject",component:"Input",label:"邮件标题",required:!0,colProps:{md:18}},{field:"to",component:"Input",label:"收件邮箱",helpMessage:"多个地址英文逗号,隔开",componentProps:{placeholder:"请输入邮箱地址,多个地址英文逗号,隔开"},colProps:{md:18},rules:[{type:"email",required:!0,message:"请输入有效的邮箱地址"}]},{field:"content",component:()=>l3(xM,{init:wM},null),label:"正文",colProps:{md:18}}],lD=c6({name:"ToolsEmail",__name:"index",setup(wo){const Jo=CN(!1),[$o]=G7({labelWidth:120,schemas:kM,submitButtonOptions:{text:"发送邮箱"},actionColOptions:{span:18}}),sn=[{key:"2",name:"发送邮件"}];async function Qo(mo){try{Jo.value=!0,await EN.systemEmail.emailSend(mo,{successMsg:"发送成功"})}finally{Jo.value=!1}}return(mo,Wo)=>{const jt=Y7,Co=K7,Io=X7,Go=W7;return i6(),SN(Go,{spinning:Jo.value,tip:"邮件发送中..."},{default:XA(()=>[l3(Io,{size:"small"},{default:XA(()=>[l3(Co,{"tab-position":"top","tab-bar-style":{marginLeft:"1rem"},"active-key":"2"},{default:XA(()=>[(i6(),U7(q7,null,Z7(sn,gn=>l3(jt,{key:gn.key,tab:gn.name},{default:XA(()=>[l3(l6($o),{onSubmit:Qo})]),_:2},1032,["tab"])),64))]),_:1})]),_:1})]),_:1},8,["spinning"])}}});export{lD as default};
