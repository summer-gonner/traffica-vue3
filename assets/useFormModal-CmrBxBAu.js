import{u as w}from"./useModal-ClPC9oek.js";import"./ApiSelect.vue_vue_type_script_setup_true_lang-CofY2-NC.js";import"./dayjs.min-TeQhONF1.js";import{r as h,bI as F,c as y,Y as M,a3 as b,F as _}from"./index-B8Pm80oX.js";import{_ as C}from"./schema-form.vue_vue_type_script_setup_true_lang-CqVOkWCm.js";function R(){const[i]=w();return[async({modalProps:n,formProps:a})=>{const c=h(),f=t=>{var e;(e=n==null?void 0:n.onCancel)==null||e.call(n,t)},s=async()=>{var t,e;try{const u=await((t=c.value)==null?void 0:t.submit());await r(u)}catch(u){return(e=n==null?void 0:n.onFail)==null||e.call(n,{}),Promise.reject(u)}},r=async t=>{var e;await((e=n==null?void 0:n.onFinish)==null?void 0:e.call(n,t)),i.hide()};return await i.show({destroyOnClose:!0,...F(n,["onFinish","onFail"]),onCancel:f,onOk:s,content:()=>{const t=Object.assign({},{showActionButtonGroup:!1},a);return y(C,M({ref:c},t),null)}}),await b(),[_(c)]},i]}export{R as u};
