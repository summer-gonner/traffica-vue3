import{d as b,Z as y,r as d,n as k,q as z,y as p,c as o,E as a,F as c,G as C,M as F,a9 as M,A as N,C as S,D as q,X as m,N as n,ar as B,aq as T,k as U}from"./index-B8Pm80oX.js";import{_ as V,F as h}from"./index-BT78Vb1q.js";import"./cloneDeep-lQkziu_-.js";import"./useFlexGapSupport-DLL49fC4.js";import"./hasIn-D18GTBYl.js";import"./_arrayIncludesWith-DbV0gfeD.js";import"./debounce-TsE9rPWj.js";import"./QuestionCircleOutlined-DwMKnzgY.js";import"./collapseMotion-Dg6yIgr5.js";import"./_castArrayLikeObject-DUjGHYOU.js";const E={class:"login-box"},I=b({__name:"index",setup(R){const _=S(),f=q(),v=y(),l=d(!1),t=d({account:"admin",password:"123456"}),g=async()=>{const{account:u,password:e}=t.value;if(u.trim()==""||e.trim()=="")return n.warning("用户名或密码不能为空！");n.loading("登录中...",0),l.value=!0,console.log(t.value);const[s]=await B(v.login(t.value));s?T.error({title:()=>"提示",content:()=>s.message}):(n.success("登录成功！"),setTimeout(()=>f.replace(_.query.redirect||"/"))),l.value=!1,n.destroy()};return(u,e)=>{const s=M,r=V,x=N("a-button"),w=h;return k(),z("div",E,[e[3]||(e[3]=p("div",{class:"login-logo"},[p("h1",{class:"mb-0 ml-2 text-3xl font-bold"},"Traffica")],-1)),o(w,{layout:"horizontal",model:t.value,onSubmit:F(g,["prevent"])},{default:a(()=>[o(r,null,{default:a(()=>[o(s,{value:t.value.account,"onUpdate:value":e[0]||(e[0]=i=>t.value.account=i),size:"large",placeholder:"admin"},{prefix:a(()=>[o(c(m),{icon:"ant-design:user-outlined"})]),_:1},8,["value"])]),_:1}),o(r,null,{default:a(()=>[o(s,{value:t.value.password,"onUpdate:value":e[1]||(e[1]=i=>t.value.password=i),size:"large",type:"password",placeholder:"a123456",autocomplete:"new-password"},{prefix:a(()=>[o(c(m),{icon:"ant-design:lock-outlined"})]),_:1},8,["value"])]),_:1}),o(r,null,{default:a(()=>[o(x,{type:"primary","html-type":"submit",size:"large",loading:l.value,block:""},{default:a(()=>e[2]||(e[2]=[C(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}}),L=U(I,[["__scopeId","data-v-9c7a857a"]]);export{L as default};
